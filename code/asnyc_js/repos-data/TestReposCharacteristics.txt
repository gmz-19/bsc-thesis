{
     "language": "js",
     "construct": "test",
     "total_count": 5,
     "time_period": "Start date: 2013-01-01, end date: 2023-01-01",
     "incomplete_results": false,
     "status_code": "200",
     "repositories": [
          {
               "index": 1,
               "repoFullName": "avajs/ava",
               "creationDate": "2014-11-18",
               "languages": {
                    "JavaScript": 573763,
                    "TypeScript": 46895
               },
               "stars": 20208,
               "issues": {
                    "incomplete_results": false,
                    "status_code": "200",
                    "total_bug_issues": 320,
                    "total_issues": 1517,
                    "issues": [
                         {
                              "title": "Invalid execArgv for worker threads causes a subsequent TypeError",
                              "description": "Hi,\r\n\r\nwhen launching ava with `node --disable-proto=throw`, it first produces this error:\r\n```\r\n$ node --disable-proto=throw /usr/bin/ava\r\n\r\nfile:///usr/share/nodejs/ava/lib/api.js:312\r\n                                for (const error_ of error.errors) {\r\n                                                           ^\r\n\r\nTypeError: error.errors is not iterable\r\n    at Api.run (file:///usr/share/nodejs/ava/lib/api.js:312:32)\r\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\r\n    at async loadCli (file:///usr/share/nodejs/ava/lib/cli.js:489:21)\r\n\r\nNode.js v18.10.0\r\n```\r\nWith a little hook, we can see the real error _(which has no `errors` property)_:\r\n```\r\nAggregateError: \r\n    Error [ERR_WORKER_INVALID_EXEC_ARGV]: Initiated Worker with invalid execArgv flags: --disable-proto=throw\r\n        at createWorker (file:///usr/share/nodejs/ava/lib/fork.js:24:12)\r\n        at loadFork (file:///usr/share/nodejs/ava/lib/fork.js:84:39)\r\n        at pMap.concurrency.concurrency (file:///usr/share/nodejs/ava/lib/api.js:289:20)\r\n        at /usr/share/nodejs/p-map/index.js:57:28\r\n    at next (/usr/share/nodejs/p-map/index.js:43:14)\r\n    at /usr/share/nodejs/p-map/index.js:67:7\r\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\r\n```\r\nAva version: 5.0.1",
                              "label": "bug",
                              "createdAt": "2022-10-31T11:17:49Z",
                              "closedAt": "2023-01-02T16:12:46Z",
                              "lastComment": "2022-12-30T01:28:34Z",
                              "commentCount": 6
                         },
                         {
                              "title": "t.log() does not output anything if an async test fails due to time out",
                              "description": "First, thanks for maintaining such a great tool. So far it has addressed most of our javascript unit and integration test running needs.\r\n\r\n**What you're trying to do**\r\nI would like to see important test debug logs even if it times out.\r\n\r\n**What happened**\r\nSimple async test that will timeout because the promise resolves after 20 seconds. The test has a simple `t.log()` invocation.\r\n```js\r\nimport test from 'ava';\r\n\r\ntest('example where logs are not provided by ava when test time out', async (t) => {\r\n  t.log({ message: 'Very important debug statement, that developer would love to see in output after test run' });\r\n\r\n  await new Promise((res) => {\r\n    console.log('start promise that resolves after timeout...');\r\n    setTimeout(res, 20000);\r\n  });\r\n});\r\n```\r\n\r\nSimple test output (note ava is run with timeout=1s configured):\r\n```bash\r\n $ npx ava --timeout=1s --verbose\r\n\r\nstart promise that resolves after timeout...\r\n  \r\n  ✖ Timed out while running tests\r\n\r\n  1 tests were pending in test/example.js\r\n\r\n  ◌ example where logs are not provided by ava when test time out\r\n\r\n  ─\r\n\r\n  1 test remained pending after a timeout\r\n```\r\n\r\n**What you expected to happen**\r\nI expected the output to contain the log: `Very important debug statement, that developer would love to see in output after test run`.\r\nBeing able to see this log will be very helpful in determining why the test timed out.\r\n\r\n**Environment**\r\n`package.json`\r\n```json\r\n{\r\n  \"name\": \"ava-logging-timeout-bug\",\r\n  \"version\": \"1.0.0\",\r\n  \"description\": \"\",\r\n  \"main\": \"index.js\",\r\n  \"type\": \"module\",\r\n  \"scripts\": {\r\n    \"test\": \"echo \\\"Error: no test specified\\\" && exit 1\"\r\n  },\r\n  \"author\": \"\",\r\n  \"license\": \"ISC\",\r\n  \"dependencies\": {\r\n    \"ava\": \"^4.3.3\"\r\n  }\r\n}\r\n```\r\n```bash\r\n$ node -v \r\nv16.16.0\r\n$ npx ava --version\r\n4.3.3\r\n```",
                              "label": "bug",
                              "createdAt": "2022-10-19T22:19:03Z",
                              "closedAt": "2022-11-13T16:40:47Z",
                              "lastComment": "2022-10-25T01:22:04Z",
                              "commentCount": 4
                         },
                         {
                              "title": "AVA Test fails due to timeout, however, exit code 0 is returned",
                              "description": "We sometimes experience that the Github actions to deploy our application fails the test suite, however, it marks it as completed. See:\r\n\r\n<img width=\"693\" alt=\"image\" src=\"https://user-images.githubusercontent.com/3786627/187437545-5927c25f-d28d-4fd6-96b5-ae8d79cadddd.png\">\r\n\r\nShould be (same test, just a few minutes earlier):\r\n\r\n<img width=\"452\" alt=\"image\" src=\"https://user-images.githubusercontent.com/3786627/187437634-70a7fd38-4988-44f4-8e51-0d4618f9cebe.png\">\r\n\r\nWe run the command:\r\n\r\n```bash\r\nava --no-worker-threads -c 1 --verbose --timeout 1m --fail-fast\r\n```\r\n\r\nUsing ava version: `^4.3.1`",
                              "label": "bug",
                              "createdAt": "2022-08-30T12:34:48Z",
                              "closedAt": "2022-09-04T13:54:09Z",
                              "lastComment": "2022-09-04T13:43:38Z",
                              "commentCount": 2
                         },
                         {
                              "title": "Parallel CI runs in GitLab CI break matrix",
                              "description": "<!-- Issuehunt Badges -->\n[<img alt=\"Issuehunt badges\" src=\"https://img.shields.io/badge/IssueHunt-%2425%20Rewarded-%237E24E3.svg\" />](https://issuehunt.io/r/avajs/ava/issues/2994)\n<!-- /Issuehunt Badges -->\n\n\nWhen using a GitLab CI configuration like this:\r\n\r\n```yaml\r\ntest:\r\n    image: node:$NODE_VERSION\r\n    stage: test\r\n    interruptible: true\r\n    script:\r\n        - npm run test\r\n    parallel:\r\n        matrix:\r\n            - NODE_VERSION: [14, 16, lts, latest]\r\n```\r\n\r\nAva assumes that the tests are being run in parallel, and thus splits the tests up into four. It then runs only a part of the tests in each node version, instead of testing everything on all node versions. This is the correct behavior when it is set like this:\r\n\r\n```yaml\r\ntest:\r\n    parallel: 4\r\n```\r\n\r\nBut not when using the `matrix` keyword, since that is used\r\n\r\n> to run a job multiple times in parallel in a single pipeline, but with different variable values for each instance of the job\r\n\r\n(From [**`docs.gitlab.com/ci/yaml`**](https://docs.gitlab.com/ee/ci/yaml/#parallelmatrix))\n\n\n<!-- Issuehunt content -->\n\n---\n\n<details>\n<summary>\n<b>IssueHunt Summary</b>\n</summary>\n\n#### [<img src='https://avatars.githubusercontent.com/u/4337699?v=4' alt='il3ven' width=24 height=24> il3ven](https://issuehunt.io/u/il3ven) has been rewarded.\n\n### Backers (Total: $25.00)\n\n- [<img src='https://avatars.githubusercontent.com/u/19628635?v=4' alt='panascais' width=24 height=24> panascais](https://issuehunt.io/u/panascais) ($25.00)\n\n### Submitted pull Requests\n- [#3001 Allow parallel builds to be disabled](https://issuehunt.io/r/avajs/ava/pull/3001)\n---\n\n### Tips\n\n- Checkout the [Issuehunt explorer](https://issuehunt.io/r/avajs/ava/) to discover more funded issues.\n- Need some help from other developers? [Add your repositories](https://issuehunt.io/r/new) on IssueHunt to raise funds.\n</details>\n<!-- /Issuehunt content-->",
                              "label": "bug",
                              "createdAt": "2022-03-21T10:33:11Z",
                              "closedAt": "2022-04-10T16:37:28Z",
                              "lastComment": "2022-09-02T12:48:39Z",
                              "commentCount": 7
                         },
                         {
                              "title": "\"nonSemVerExperiments.configurableModuleFormat from undefined is not a supported experiment\"",
                              "description": "'Trying to run TS tests, following the instructions at https://github.com/avajs/ava/blob/main/docs/recipes/typescript.md#for-packages-with-type-module.  When I run `ava` I get the titular error.\r\n\r\n'Not really sure what I'm doing wrong here.  Judging by the code, it seems like issue is with my configuration rather than any of the tests, so I haven't bothered including those here.\r\n\r\nHere's my package.json (no \"ava.config.*\" file):\r\n```json\r\n{\r\n  \"type\": \"module\",\r\n  \"scripts\": {\r\n    \"test\": \"ava\",\r\n    \"sh\": \"docker run --entrypoint \\\"sh\\\" -it cplambda-sass\"\r\n  },\r\n  \"dependencies\": {\r\n    \"@broofa/asyncproxy\": \"^1.0.4\",\r\n    \"@types/sass\": \"^1.43.1\",\r\n    \"sass\": \"^1.47.0\"\r\n  },\r\n  \"devDependencies\": {\r\n    \"@ava/typescript\": \"3.0.1\",\r\n    \"ava\": \"^4.0.1\",\r\n    \"esbuild-node-loader\": \"^0.6.3\",\r\n    \"typescript\": \"4.5.4\"\r\n  },\r\n  \"ava\": {\r\n    \"extensions\": {\r\n      \"js\": true,\r\n      \"ts\": \"module\"\r\n    },\r\n    \"nonSemVerExperiments\": {\r\n      \"configurableModuleFormat\": true\r\n    },\r\n    \"nodeArguments\": [\r\n      \"--loader=esbuild-node-loader\",\r\n      \"--experimental-specifier-resolution=node\"\r\n    ],\r\n    \"files\": [\r\n      \"test/**/*.spec.ts\"\r\n    ]\r\n  }\r\n}\r\n```\r\n\r\n... and my environment:\r\n```\r\n$ envinfo\r\nnpx: installed 1 in 0.897s\r\n\r\n  System:\r\n    OS: macOS 12.0.1\r\n    CPU: (8) x64 Apple M1\r\n    Memory: 35.51 MB / 16.00 GB\r\n    Shell: 5.1.8 - /usr/local/bin/bash\r\n  Binaries:\r\n    Node: 14.17.6 - ~/.nvm/versions/node/v14.17.6/bin/node\r\n    Yarn: 1.22.11 - ~/.nvm/versions/node/v14.17.6/bin/yarn\r\n    npm: 6.14.15 - ~/.nvm/versions/node/v14.17.6/bin/npm\r\n    Watchman: 2021.10.18.00 - /usr/local/bin/watchman\r\n  Browsers:\r\n    Chrome: 97.0.4692.71\r\n    Firefox: 95.0.1\r\n    Safari: 15.1\r\n  npmPackages:\r\n    @ava/typescript: 3.0.1 => 3.0.1\r\n    @broofa/asyncproxy: ^1.0.4 => 1.0.4\r\n    @types/sass: ^1.43.1 => 1.43.1\r\n    ava: ^4.0.1 => 4.0.1\r\n    esbuild-node-loader: ^0.6.3 => 0.6.3\r\n    sass: ^1.47.0 => 1.47.0\r\n    typescript: 4.5.4 => 4.5.4\r\n```",
                              "label": "bug",
                              "createdAt": "2022-01-13T22:54:44Z",
                              "closedAt": "2022-02-06T15:04:35Z",
                              "lastComment": "2022-02-06T15:04:35Z",
                              "commentCount": 2
                         },
                         {
                              "title": "`ava --version` returns unknown",
                              "description": "In a nutshell ...\r\n\r\n```\r\n$ npm install -D ava\r\n\r\n$ npm ls ava\r\n/Users/kieffer/codepen/cp/cpcompiler/processors/sass\r\n`-- ava@4.0.1\r\n\r\n$ type ava\r\nava is hashed (./node_modules/.bin/ava)\r\n\r\n$ ava --version\r\nunknown\r\n```",
                              "label": "bug",
                              "createdAt": "2022-01-11T23:26:58Z",
                              "closedAt": "2022-02-06T16:34:46Z",
                              "lastComment": "2022-01-27T04:09:17Z",
                              "commentCount": 2
                         },
                         {
                              "title": "Snapshot encoding broken",
                              "description": "I was not able to update snapshot in AVA4, I don't know what's the problem, but I assume that [decodeSnapshots](https://github.com/avajs/ava/blob/9bc615e2c93b264b98bac009a897c09d59f72bc4/lib/snapshot-manager.js#L201) should be able decode data return from [encodeSnapshots](https://github.com/avajs/ava/blob/9bc615e2c93b264b98bac009a897c09d59f72bc4/lib/snapshot-manager.js#L185)?\r\n\r\nI logged the failed data\r\n\r\n<details>\r\n<summary>Data can't decode</summary>\r\n\r\n```json\r\n{\"blocks\":[{\"title\":\"default-case-last.js\",\"snapshots\":[{\"data\":{\"type\":\"Buffer\",\"data\":[3,0,7,0,0,0,0,0,1,8,1,2,44,0,0,0,50,0,0,0,19,1,6,17,1,5,65,114,114,97,121,1,1,17,1,5,65,114,114,97,121,15,15,15,0,1,10,0,1,1,0,1,11,1,1,60,0,0,0,0,0,1,8,1,7,119,0,0,0,125,0,0,0,159,0,0,0,197,0,0,0,237,0,0,0,23,1,0,0,49,1,0,0,19,1,6,17,1,6,79,98,106,101,99,116,1,2,17,1,6,79,98,106,101,99,116,16,16,16,0,1,13,0,1,6,0,1,15,0,19,1,2,20,1,3,0,1,5,17,1,10,101,114,114,111,114,67,111,117,110,116,20,1,3,0,1,4,1,1,0,1,15,0,19,1,2,20,1,3,0,1,5,17,1,15,102,97,116,97,108,69,114,114,111,114,67,111,117,110,116,20,1,3,0,1,4,0,0,1,15,0,19,1,2,20,1,3,0,1,5,17,1,17,102,105,120,97,98,108,101,69,114,114,111,114,67,111,117,110,116,20,1,3,0,1,4,0,0,1,15,0,19,1,2,20,1,3,0,1,5,17,1,19,102,105,120,97,98,108,101,87,97,114,110,105,110,103,67,111,117,110,116,20,1,3,0,1,4,0,0,1,14,1,1,84,1,0,0,20,1,3,0,1,5,17,1,8,109,101,115,115,97,103,101,115,0,1,15,0,19,1,2,20,1,3,0,1,5,17,1,12,119,97,114,110,105,110,103,67,111,117,110,116,20,1,3,0,1,4,0,0,1,8,1,2,121,1,0,0,127,1,0,0,19,1,6,17,1,5,65,114,114,97,121,1,3,17,1,5,65,114,114,97,121,15,15,15,0,1,10,0,1,1,0,1,11,1,1,137,1,0,0,0,0,1,8,1,10,208,1,0,0,214,1,0,0,244,1,0,0,21,2,0,0,52,2,0,0,80,2,0,0,153,2,0,0,194,2,0,0,237,2,0,0,29,3,0,0,19,1,6,17,1,6,79,98,106,101,99,116,1,4,17,1,6,79,98,106,101,99,116,16,16,16,0,1,13,0,1,9,0,1,15,0,19,1,2,20,1,3,0,1,5,17,1,6,99,111,108,117,109,110,20,1,3,0,1,4,1,3,0,1,15,0,19,1,2,20,1,3,0,1,5,17,1,9,101,110,100,67,111,108,117,109,110,20,1,3,0,1,4,1,10,0,1,15,0,19,1,2,20,1,3,0,1,5,17,1,7,101,110,100,76,105,110,101,20,1,3,0,1,4,1,6,0,1,15,0,19,1,2,20,1,3,0,1,5,17,1,4,108,105,110,101,20,1,3,0,1,4,1,4,0,1,15,0,19,1,2,20,1,3,0,1,5,17,1,7,109,101,115,115,97,103,101,20,1,3,0,1,5,17,1,41,68,101,102,97,117,108,116,32,99,108,97,117,115,101,32,115,104,111,117,108,100,32,98,101,32,116,104,101,32,108,97,115,116,32,99,108,97,117,115,101,46,0,1,15,0,19,1,2,20,1,3,0,1,5,17,1,9,109,101,115,115,97,103,101,73,100,20,1,3,0,1,5,17,1,7,110,111,116,76,97,115,116,0,1,15,0,19,1,2,20,1,3,0,1,5,17,1,8,110,111,100,101,84,121,112,101,20,1,3,0,1,5,17,1,10,83,119,105,116,99,104,67,97,115,101,0,1,15,0,19,1,2,20,1,3,0,1,5,17,1,6,114,117,108,101,73,100,20,1,3,0,1,5,17,1,17,100,101,102,97,117,108,116,45,99,97,115,101,45,108,97,115,116,0,1,15,0,19,1,2,20,1,3,0,1,5,17,1,8,115,101,118,101,114,105,116,121,20,1,3,0,1,4,1,2]}}]},{\"title\":\"default-parameter-last.js\",\"snapshots\":[{\"data\":{\"type\":\"Buffer\",\"data\":[3,0,7,0,0,0,0,0,1,8,1,2,44,0,0,0,50,0,0,0,19,1,6,17,1,5,65,114,114,97,121,1,1,17,1,5,65,114,114,97,121,15,15,15,0,1,10,0,1,1,0,1,11,1,1,60,0,0,0,0,0,1,8,1,7,119,0,0,0,125,0,0,0,159,0,0,0,197,0,0,0,237,0,0,0,23,1,0,0,49,1,0,0,19,1,6,17,1,6,79,98,106,101,99,116,1,2,17,1,6,79,98,106,101,99,116,16,16,16,0,1,13,0,1,6,0,1,15,0,19,1,2,20,1,3,0,1,5,17,1,10,101,114,114,111,114,67,111,117,110,116,20,1,3,0,1,4,1,1,0,1,15,0,19,1,2,20,1,3,0,1,5,17,1,15,102,97,116,97,108,69,114,114,111,114,67,111,117,110,116,20,1,3,0,1,4,0,0,1,15,0,19,1,2,20,1,3,0,1,5,17,1,17,102,105,120,97,98,108,101,69,114,114,111,114,67,111,117,110,116,20,1,3,0,1,4,0,0,1,15,0,19,1,2,20,1,3,0,1,5,17,1,19,102,105,120,97,98,108,101,87,97,114,110,105,110,103,67,111,117,110,116,20,1,3,0,1,4,0,0,1,14,1,1,84,1,0,0,20,1,3,0,1,5,17,1,8,109,101,115,115,97,103,101,115,0,1,15,0,19,1,2,20,1,3,0,1,5,17,1,12,119,97,114,110,105,110,103,67,111,117,110,116,20,1,3,0,1,4,0,0,1,8,1,2,121,1,0,0,127,1,0,0,19,1,6,17,1,5,65,114,114,97,121,1,3,17,1,5,65,114,114,97,121,15,15,15,0,1,10,0,1,1,0,1,11,1,1,137,1,0,0,0,0,1,8,1,10,208,1,0,0,214,1,0,0,244,1,0,0,21,2,0,0,52,2,0,0,80,2,0,0,146,2,0,0,192,2,0,0,242,2,0,0,35,3,0,0,19,1,6,17,1,6,79,98,106,101,99,116,1,4,17,1,6,79,98,106,101,99,116,16,16,16,0,1,13,0,1,9,0,1,15,0,19,1,2,20,1,3,0,1,5,17,1,6,99,111,108,117,109,110,20,1,3,0,1,4,1,12,0,1,15,0,19,1,2,20,1,3,0,1,5,17,1,9,101,110,100,67,111,108,117,109,110,20,1,3,0,1,4,1,17,0,1,15,0,19,1,2,20,1,3,0,1,5,17,1,7,101,110,100,76,105,110,101,20,1,3,0,1,4,1,1,0,1,15,0,19,1,2,20,1,3,0,1,5,17,1,4,108,105,110,101,20,1,3,0,1,4,1,1,0,1,15,0,19,1,2,20,1,3,0,1,5,17,1,7,109,101,115,115,97,103,101,20,1,3,0,1,5,17,1,34,68,101,102,97,117,108,116,32,112,97,114,97,109,101,116,101,114,115,32,115,104,111,117,108,100,32,98,101,32,108,97,115,116,46,0,1,15,0,19,1,2,20,1,3,0,1,5,17,1,9,109,101,115,115,97,103,101,73,100,20,1,3,0,1,5,17,1,12,115,104,111,117,108,100,66,101,76,97,115,116,0,1,15,0,19,1,2,20,1,3,0,1,5,17,1,8,110,111,100,101,84,121,112,101,20,1,3,0,1,5,17,1,17,65,115,115,105,103,110,109,101,110,116,80,97,116,116,101,114,110,0,1,15,0,19,1,2,20,1,3,0,1,5,17,1,6,114,117,108,101,73,100,20,1,3,0,1,5,17,1,18,100,101,102,97,117,108,116,45,112,97,114,97,109,45,108,97,115,116,0,1,15,0,19,1,2,20,1,3,0,1,5,17,1,8,115,101,118,101,114,105,116,121,20,1,3,0,1,4,1,2]}}]},{\"title\":\"grouped-accessor-pairs.js\",\"snapshots\":[{\"data\":{\"type\":\"Buffer\",\"data\":[3,0,7,0,0,0,0,0,1,8,1,2,44,0,0,0,50,0,0,0,19,1,6,17,1,5,65,114,114,97,121,1,1,17,1,5,65,114,114,97,121,15,15,15,0,1,10,0,1,1,0,1,11,1,1,60,0,0,0,0,0,1,8,1,7,119,0,0,0,125,0,0,0,159,0,0,0,197,0,0,0,237,0,0,0,23,1,0,0,49,1,0,0,19,1,6,17,1,6,79,98,106,101,99,116,1,2,17,1,6,79,98,106,101,99,116,16,16,16,0,1,13,0,1,6,0,1,15,0,19,1,2,20,1,3,0,1,5,17,1,10,101,114,114,111,114,67,111,117,110,116,20,1,3,0,1,4,1,1,0,1,15,0,19,1,2,20,1,3,0,1,5,17,1,15,102,97,116,97,108,69,114,114,111,114,67,111,117,110,116,20,1,3,0,1,4,0,0,1,15,0,19,1,2,20,1,3,0,1,5,17,1,17,102,105,120,97,98,108,101,69,114,114,111,114,67,111,117,110,116,20,1,3,0,1,4,0,0,1,15,0,19,1,2,20,1,3,0,1,5,17,1,19,102,105,120,97,98,108,101,87,97,114,110,105,110,103,67,111,117,110,116,20,1,3,0,1,4,0,0,1,14,1,1,84,1,0,0,20,1,3,0,1,5,17,1,8,109,101,115,115,97,103,101,115,0,1,15,0,19,1,2,20,1,3,0,1,5,17,1,12,119,97,114,110,105,110,103,67,111,117,110,116,20,1,3,0,1,4,0,0,1,8,1,2,121,1,0,0,127,1,0,0,19,1,6,17,1,5,65,114,114,97,121,1,3,17,1,5,65,114,114,97,121,15,15,15,0,1,10,0,1,1,0,1,11,1,1,137,1,0,0,0,0,1,8,1,10,208,1,0,0,214,1,0,0,244,1,0,0,21,2,0,0,52,2,0,0,80,2,0,0,170,2,0,0,214,2,0,0,255,2,0,0,52,3,0,0,19,1,6,17,1,6,79,98,106,101,99,116,1,4,17,1,6,79,98,106,101,99,116,16,16,16,0,1,13,0,1,9,0,1,15,0,19,1,2,20,1,3,0,1,5,17,1,6,99,111,108,117,109,110,20,1,3,0,1,4,1,3,0,1,15,0,19,1,2,20,1,3,0,1,5,17,1,9,101,110,100,67,111,108,117,109,110,20,1,3,0,1,4,1,8,0,1,15,0,19,1,2,20,1,3,0,1,5,17,1,7,101,110,100,76,105,110,101,20,1,3,0,1,4,1,6,0,1,15,0,19,1,2,20,1,3,0,1,5,17,1,4,108,105,110,101,20,1,3,0,1,4,1,6,0,1,15,0,19,1,2,20,1,3,0,1,5,17,1,7,109,101,115,115,97,103,101,20,1,3,0,1,5,17,1,58,65,99,99,101,115,115,111,114,32,112,97,105,114,32,103,101,116,116,101,114,32,39,97,39,32,97,110,100,32,115,101,116,116,101,114,32,39,97,39,32,115,104,111,117,108,100,32,98,101,32,103,114,111,117,112,101,100,46,0,1,15,0,19,1,2,20,1,3,0,1,5,17,1,9,109,101,115,115,97,103,101,73,100,20,1,3,0,1,5,17,1,10,110,111,116,71,114,111,117,112,101,100,0,1,15,0,19,1,2,20,1,3,0,1,5,17,1,8,110,111,100,101,84,121,112,101,20,1,3,0,1,5,17,1,8,80,114,111,112,101,114,116,121,0,1,15,0,19,1,2,20,1,3,0,1,5,17,1,6,114,117,108,101,73,100,20,1,3,0,1,5,17,1,22,103,114,111,117,112,101,100,45,97,99,99,101,115,115,111,114,45,112,97,105,114,115,0,1,15,0,19,1,2,20,1,3,0,1,5,17,1,8,115,101,118,101,114,105,116,121,20,1,3,0,1,4,1,2]}}]},{\"title\":\"import.extensions.js\",\"snapshots\":[{\"data\":{\"type\":\"Buffer\",\"data\":[3,0,7,0,0,0,0,0,1,8,1,2,44,0,0,0,50,0,0,0,19,1,6,17,1,5,65,114,114,97,121,1,1,17,1,5,65,114,114,97,121,15,15,15,0,1,10,0,1,1,0,1,11,1,1,60,0,0,0,0,0,1,8,1,7,119,0,0,0,125,0,0,0,159,0,0,0,197,0,0,0,237,0,0,0,24,1,0,0,50,1,0,0,19,1,6,17,1,6,79,98,106,101,99,116,1,2,17,1,6,79,98,106,101,99,116,16,16,16,0,1,13,0,1,6,0,1,15,0,19,1,2,20,1,3,0,1,5,17,1,10,101,114,114,111,114,67,111,117,110,116,20,1,3,0,1,4,1,1,0,1,15,0,19,1,2,20,1,3,0,1,5,17,1,15,102,97,116,97,108,69,114,114,111,114,67,111,117,110,116,20,1,3,0,1,4,0,0,1,15,0,19,1,2,20,1,3,0,1,5,17,1,17,102,105,120,97,98,108,101,69,114,114,111,114,67,111,117,110,116,20,1,3,0,1,4,0,0,1,15,0,19,1,2,20,1,3,0,1,5,17,1,19,102,105,120,97,98,108,101,87,97,114,110,105,110,103,67,111,117,110,116,20,1,3,0,1,4,1,2,0,1,14,1,1,86,1,0,0,20,1,3,0,1,5,17,1,8,109,101,115,115,97,103,101,115,0,1,15,0,19,1,2,20,1,3,0,1,5,17,1,12,119,97,114,110,105,110,103,67,111,117,110,116,20,1,3,0,1,4,1,2,0,1,8,1,4,131,1,0,0,137,1,0,0,147,1,0,0,158,1,0,0,19,1,6,17,1,5,65,114,114,97,121,1,3,17,1,5,65,114,114,97,121,15,15,15,0,1,10,0,1,3,0,1,11,1,1,169,1,0,0,0,0,1,11,1,1,244,1,0,0,1,1,0,1,11,1,1,63,2,0,0,1,2,0,1,8,1,11,130,2,0,0,136,2,0,0,166,2,0,0,199,2,0,0,230,2,0,0,251,2,0,0,23,3,0,0,114,3,0,0,145,3,0,0,209,3,0,0,241,3,0,0,19,1,6,17,1,6,79,98,106,101,99,116,1,4,17,1,6,79,98,106,101,99,116,16,16,16,0,1,8,1,11,14,4,0,0,20,4,0,0,50,4,0,0,83,4,0,0,114,4,0,0,135,4,0,0,163,4,0,0,0,5,0,0,31,5,0,0,95,5,0,0,127,5,0,0,19,1,6,17,1,6,79,98,106,101,99,116,1,8,17,1,6,79,98,106,101,99,116,16,16,16,0,1,8,1,9,156,5,0,0,162,5,0,0,192,5,0,0,225,5,0,0,0,6,0,0,28,6,0,0,99,6,0,0,139,6,0,0,187,6,0,0,19,1,6,17,1,6,79,98,106,101,99,116,1,12,17,1,6,79,98,106,101,99,116,16,16,16,0,1,13,0,1,10,0,1,15,0,19,1,2,20,1,3,0,1,5,17,1,6,99,111,108,117,109,110,20,1,3,0,1,4,1,19,0,1,15,0,19,1,2,20,1,3,0,1,5,17,1,9,101,110,100,67,111,108,117,109,110,20,1,3,0,1,4,1,39,0,1,15,0,19,1,2,20,1,3,0,1,5,17,1,7,101,110,100,76,105,110,101,20,1,3,0,1,4,1,1,0,1,14,1,1,219,6,0,0,20,1,3,0,1,5,17,1,3,102,105,120,0,1,15,0,19,1,2,20,1,3,0,1,5,17,1,4,108,105,110,101,20,1,3,0,1,4,1,1,0,1,15,0,19,1,2,20,1,3,0,1,5,17,1,7,109,101,115,115,97,103,101,20,1,3,0,1,5,17,1,59,39,105,109,112,111,114,116,47,110,111,45,117,110,114,101,115,111,108,118,101,100,39,32,114,117,108,101,32,105,115,32,100,105,115,97,98,108,101,100,32,98,117,116,32,110,101,118,101,114,32,114,101,112,111,114,116,101,100,46,0,1,15,0,19,1,2,20,1,3,0,1,5,17,1,8,110,111,100,101,84,121,112,101,20,1,3,0,1,3,13,0,1,15,0,19,1,2,20,1,3,0,1,5,17,1,6,114,117,108,101,73,100,20,1,3,0,1,5,17,1,33,101,115,108,105,110,116,45,99,111,109,109,101,110,116,115,47,110,111,45,117,110,117,115,101,100,45,100,105,115,97,98,108,101,0,1,15,0,19,1,2,20,1,3,0,1,5,17,1,8,115,101,118,101,114,105,116,121,20,1,3,0,1,4,1,1,0,1,14,1,1,6,7,0,0,20,1,3,0,1,5,17,1,11,115,117,103,103,101,115,116,105,111,110,115,0,1,13,0,1,10,0,1,15,0,19,1,2,20,1,3,0,1,5,17,1,6,99,111,108,117,109,110,20,1,3,0,1,4,1,41,0,1,15,0,19,1,2,20,1,3,0,1,5,17,1,9,101,110,100,67,111,108,117,109,110,20,1,3,0,1,4,1,63,0,1,15,0,19,1,2,20,1,3,0,1,5,17,1,7,101,110,100,76,105,110,101,20,1,3,0,1,4,1,1,0,1,14,1,1,34,7,0,0,20,1,3,0,1,5,17,1,3,102,105,120,0,1,15,0,19,1,2,20,1,3,0,1,5,17,1,4,108,105,110,101,20,1,3,0,1,4,1,1,0,1,15,0,19,1,2,20,1,3,0,1,5,17,1,7,109,101,115,115,97,103,101,20,1,3,0,1,5,17,1,61,39,110,111,100,101,47,110,111,45,109,105,115,115,105,110,103,45,105,109,112,111,114,116,39,32,114,117,108,101,32,105,115,32,100,105,115,97,98,108,101,100,32,98,117,116,32,110,101,118,101,114,32,114,101,112,111,114,116,101,100,46,0,1,15,0,19,1,2,20,1,3,0,1,5,17,1,8,110,111,100,101,84,121,112,101,20,1,3,0,1,3,13,0,1,15,0,19,1,2,20,1,3,0,1,5,17,1,6,114,117,108,101,73,100,20,1,3,0,1,5,17,1,33,101,115,108,105,110,116,45,99,111,109,109,101,110,116,115,47,110,111,45,117,110,117,115,101,100,45,100,105,115,97,98,108,101,0,1,15,0,19,1,2,20,1,3,0,1,5,17,1,8,115,101,118,101,114,105,116,121,20,1,3,0,1,4,1,1,0,1,14,1,1,77,7,0,0,20,1,3,0,1,5,17,1,11,115,117,103,103,101,115,116,105,111,110,115,0,1,13,0,1,8,0,1,15,0,19,1,2,20,1,3,0,1,5,17,1,6,99,111,108,117,109,110,20,1,3,0,1,4,1,17,0,1,15,0,19,1,2,20,1,3,0,1,5,17,1,9,101,110,100,67,111,108,117,109,110,20,1,3,0,1,4,1,24,0,1,15,0,19,1,2,20,1,3,0,1,5,17,1,7,101,110,100,76,105,110,101,20,1,3,0,1,4,1,2,0,1,15,0,19,1,2,20,1,3,0,1,5,17,1,4,108,105,110,101,20,1,3,0,1,4,1,2,0,1,15,0,19,1,2,20,1,3,0,1,5,17,1,7,109,101,115,115,97,103,101,20,1,3,0,1,5,17,1,39,77,105,115,115,105,110,103,32,102,105,108,101,32,101,120,116,101,110,115,105,111,110,32,34,106,115,34,32,102,111,114,32,34,46,46,47,46,46,34,0,1,15,0,19,1,2,20,1,3,0,1,5,17,1,8,110,111,100,101,84,121,112,101,20,1,3,0,1,5,17,1,7,76,105,116,101,114,97,108,0,1,15,0,19,1,2,20,1,3,0,1,5,17,1,6,114,117,108,101,73,100,20,1,3,0,1,5,17,1,17,105,109,112,111,114,116,47,101,120,116,101,110,115,105,111,110,115,0,1,15,0,19,1,2,20,1,3,0,1,5,17,1,8,115,101,118,101,114,105,116,121,20,1,3,0,1,4,1,2,0,1,8,1,3,105,7,0,0,111,7,0,0,134,7,0,0,19,1,6,17,1,6,79,98,106,101,99,116,1,5,17,1,6,79,98,106,101,99,116,16,16,16,0,1,8,0,19,1,6,17,1,5,65,114,114,97,121,1,7,17,1,5,65,114,114,97,121,15,15,15,0,1,8,1,3,162,7,0,0,168,7,0,0,191,7,0,0,19,1,6,17,1,6,79,98,106,101,99,116,1,9,17,1,6,79,98,106,101,99,116,16,16,16,0,1,8,0,19,1,6,17,1,5,65,114,114,97,121,1,11,17,1,5,65,114,114,97,121,15,15,15,0,1,13,0,1,2,0,1,14,1,1,219,7,0,0,20,1,3,0,1,5,17,1,5,114,97,110,103,101,0,1,15,0,19,1,2,20,1,3,0,1,5,17,1,4,116,101,120,116,20,1,3,0,1,5,17,0,0,1,13,0,1,2,0,1,14,1,1,4,8,0,0,20,1,3,0,1,5,17,1,5,114,97,110,103,101,0,1,15,0,19,1,2,20,1,3,0,1,5,17,1,4,116,101,120,116,20,1,3,0,1,5,17,0,0,1,8,1,3,45,8,0,0,51,8,0,0,67,8,0,0,19,1,6,17,1,5,65,114,114,97,121,1,6,17,1,5,65,114,114,97,121,15,15,15,0,1,8,1,3,84,8,0,0,90,8,0,0,106,8,0,0,19,1,6,17,1,5,65,114,114,97,121,1,10,17,1,5,65,114,114,97,121,15,15,15,0,1,10,0,1,2,0,1,12,0,19,1,2,0,20,1,3,0,1,4,1,18,0,1,12,0,19,1,2,1,1,20,1,3,0,1,4,1,40,0,1,10,0,1,2,0,1,12,0,19,1,2,0,20,1,3,0,1,4,1,38,0,1,12,0,19,1,2,1,1,20,1,3,0,1,4,1,62]}}]},{\"title\":\"jsx.js\",\"snapshots\":[{\"data\":{\"type\":\"Buffer\",\"data\":[3,0,7,0,0,0,0,0,1,8,1,2,44,0,0,0,50,0,0,0,19,1,6,17,1,5,65,114,114,97,121,1,1,17,1,5,65,114,114,97,121,15,15,15,0,1,10,0,1,1,0,1,11,1,1,60,0,0,0,0,0,1,8,1,7,119,0,0,0,125,0,0,0,158,0,0,0,196,0,0,0,236,0,0,0,22,1,0,0,48,1,0,0,19,1,6,17,1,6,79,98,106,101,99,116,1,2,17,1,6,79,98,106,101,99,116,16,16,16,0,1,13,0,1,6,0,1,15,0,19,1,2,20,1,3,0,1,5,17,1,10,101,114,114,111,114,67,111,117,110,116,20,1,3,0,1,4,0,0,1,15,0,19,1,2,20,1,3,0,1,5,17,1,15,102,97,116,97,108,69,114,114,111,114,67,111,117,110,116,20,1,3,0,1,4,0,0,1,15,0,19,1,2,20,1,3,0,1,5,17,1,17,102,105,120,97,98,108,101,69,114,114,111,114,67,111,117,110,116,20,1,3,0,1,4,0,0,1,15,0,19,1,2,20,1,3,0,1,5,17,1,19,102,105,120,97,98,108,101,87,97,114,110,105,110,103,67,111,117,110,116,20,1,3,0,1,4,0,0,1,14,1,1,83,1,0,0,20,1,3,0,1,5,17,1,8,109,101,115,115,97,103,101,115,0,1,15,0,19,1,2,20,1,3,0,1,5,17,1,12,119,97,114,110,105,110,103,67,111,117,110,116,20,1,3,0,1,4,0,0,1,8,0,19,1,6,17,1,5,65,114,114,97,121,1,3,17,1,5,65,114,114,97,121,15,15,15]}}]},{\"title\":\"no-async-promise-executor.js\",\"snapshots\":[{\"data\":{\"type\":\"Buffer\",\"data\":[3,0,7,0,0,0,0,0,1,8,1,2,44,0,0,0,50,0,0,0,19,1,6,17,1,5,65,114,114,97,121,1,1,17,1,5,65,114,114,97,121,15,15,15,0,1,10,0,1,1,0,1,11,1,1,60,0,0,0,0,0,1,8,1,7,119,0,0,0,125,0,0,0,159,0,0,0,197,0,0,0,238,0,0,0,24,1,0,0,50,1,0,0,19,1,6,17,1,6,79,98,106,101,99,116,1,2,17,1,6,79,98,106,101,99,116,16,16,16,0,1,13,0,1,6,0,1,15,0,19,1,2,20,1,3,0,1,5,17,1,10,101,114,114,111,114,67,111,117,110,116,20,1,3,0,1,4,1,3,0,1,15,0,19,1,2,20,1,3,0,1,5,17,1,15,102,97,116,97,108,69,114,114,111,114,67,111,117,110,116,20,1,3,0,1,4,0,0,1,15,0,19,1,2,20,1,3,0,1,5,17,1,17,102,105,120,97,98,108,101,69,114,114,111,114,67,111,117,110,116,20,1,3,0,1,4,1,1,0,1,15,0,19,1,2,20,1,3,0,1,5,17,1,19,102,105,120,97,98,108,101,87,97,114,110,105,110,103,67,111,117,110,116,20,1,3,0,1,4,0,0,1,14,1,1,85,1,0,0,20,1,3,0,1,5,17,1,8,109,101,115,115,97,103,101,115,0,1,15,0,19,1,2,20,1,3,0,1,5,17,1,12,119,97,114,110,105,110,103,67,111,117,110,116,20,1,3,0,1,4,0,0,1,8,1,4,130,1,0,0,136,1,0,0,146,1,0,0,157,1,0,0,19,1,6,17,1,5,65,114,114,97,121,1,3,17,1,5,65,114,114,97,121,15,15,15,0,1,10,0,1,3,0,1,11,1,1,168,1,0,0,0,0,1,11,1,1,239,1,0,0,1,1,0,1,11,1,1,58,2,0,0,1,2,0,1,8,1,10,129,2,0,0,135,2,0,0,165,2,0,0,198,2,0,0,229,2,0,0,1,3,0,0,80,3,0,0,119,3,0,0,162,3,0,0,218,3,0,0,19,1,6,17,1,6,79,98,106,101,99,116,1,4,17,1,6,79,98,106,101,99,116,16,16,16,0,1,8,1,11,250,3,0,0,0,4,0,0,30,4,0,0,63,4,0,0,94,4,0,0,115,4,0,0,143,4,0,0,209,4,0,0,250,4,0,0,25,5,0,0,73,5,0,0,19,1,6,17,1,6,79,98,106,101,99,116,1,5,17,1,6,79,98,106,101,99,116,16,16,16,0,1,8,1,10,105,5,0,0,111,5,0,0,141,5,0,0,174,5,0,0,205,5,0,0,233,5,0,0,70,6,0,0,116,6,0,0,163,6,0,0,220,6,0,0,19,1,6,17,1,6,79,98,106,101,99,116,1,8,17,1,6,79,98,106,101,99,116,16,16,16,0,1,13,0,1,9,0,1,15,0,19,1,2,20,1,3,0,1,5,17,1,6,99,111,108,117,109,110,20,1,3,0,1,4,1,25,0,1,15,0,19,1,2,20,1,3,0,1,5,17,1,9,101,110,100,67,111,108,117,109,110,20,1,3,0,1,4,1,30,0,1,15,0,19,1,2,20,1,3,0,1,5,17,1,7,101,110,100,76,105,110,101,20,1,3,0,1,4,1,2,0,1,15,0,19,1,2,20,1,3,0,1,5,17,1,4,108,105,110,101,20,1,3,0,1,4,1,2,0,1,15,0,19,1,2,20,1,3,0,1,5,17,1,7,109,101,115,115,97,103,101,20,1,3,0,1,5,17,1,47,80,114,111,109,105,115,101,32,101,120,101,99,117,116,111,114,32,102,117,110,99,116,105,111,110,115,32,115,104,111,117,108,100,32,110,111,116,32,98,101,32,97,115,121,110,99,46,0,1,15,0,19,1,2,20,1,3,0,1,5,17,1,9,109,101,115,115,97,103,101,73,100,20,1,3,0,1,5,17,1,5,97,115,121,110,99,0,1,15,0,19,1,2,20,1,3,0,1,5,17,1,8,110,111,100,101,84,121,112,101,20,1,3,0,1,5,17,1,10,73,100,101,110,116,105,102,105,101,114,0,1,15,0,19,1,2,20,1,3,0,1,5,17,1,6,114,117,108,101,73,100,20,1,3,0,1,5,17,1,25,110,111,45,97,115,121,110,99,45,112,114,111,109,105,115,101,45,101,120,101,99,117,116,111,114,0,1,15,0,19,1,2,20,1,3,0,1,5,17,1,8,115,101,118,101,114,105,116,121,20,1,3,0,1,4,1,2,0,1,13,0,1,10,0,1,15,0,19,1,2,20,1,3,0,1,5,17,1,6,99,111,108,117,109,110,20,1,3,0,1,4,1,31,0,1,15,0,19,1,2,20,1,3,0,1,5,17,1,9,101,110,100,67,111,108,117,109,110,20,1,3,0,1,4,1,38,0,1,15,0,19,1,2,20,1,3,0,1,5,17,1,7,101,110,100,76,105,110,101,20,1,3,0,1,4,1,2,0,1,14,1,1,252,6,0,0,20,1,3,0,1,5,17,1,3,102,105,120,0,1,15,0,19,1,2,20,1,3,0,1,5,17,1,4,108,105,110,101,20,1,3,0,1,4,1,2,0,1,15,0,19,1,2,20,1,3,0,1,5,17,1,7,109,101,115,115,97,103,101,20,1,3,0,1,5,17,1,34,82,101,112,108,97,99,101,32,96,114,101,115,111,108,118,101,96,32,119,105,116,104,32,96,40,114,101,115,111,108,118,101,41,96,0,1,15,0,19,1,2,20,1,3,0,1,5,17,1,9,109,101,115,115,97,103,101,73,100,20,1,3,0,1,5,17,1,7,114,101,112,108,97,99,101,0,1,15,0,19,1,2,20,1,3,0,1,5,17,1,8,110,111,100,101,84,121,112,101,20,1,3,0,1,3,13,0,1,15,0,19,1,2,20,1,3,0,1,5,17,1,6,114,117,108,101,73,100,20,1,3,0,1,5,17,1,17,112,114,101,116,116,105,101,114,47,112,114,101,116,116,105,101,114,0,1,15,0,19,1,2,20,1,3,0,1,5,17,1,8,115,101,118,101,114,105,116,121,20,1,3,0,1,4,1,2,0,1,13,0,1,9,0,1,15,0,19,1,2,20,1,3,0,1,5,17,1,6,99,111,108,117,109,110,20,1,3,0,1,4,1,42,0,1,15,0,19,1,2,20,1,3,0,1,5,17,1,9,101,110,100,67,111,108,117,109,110,20,1,3,0,1,4,1,58,0,1,15,0,19,1,2,20,1,3,0,1,5,17,1,7,101,110,100,76,105,110,101,20,1,3,0,1,4,1,2,0,1,15,0,19,1,2,20,1,3,0,1,5,17,1,4,108,105,110,101,20,1,3,0,1,4,1,2,0,1,15,0,19,1,2,20,1,3,0,1,5,17,1,7,109,101,115,115,97,103,101,20,1,3,0,1,5,17,1,61,82,101,116,117,114,110,32,118,97,108,117,101,115,32,102,114,111,109,32,112,114,111,109,105,115,101,32,101,120,101,99,117,116,111,114,32,102,117,110,99,116,105,111,110,115,32,99,97,110,110,111,116,32,98,101,32,114,101,97,100,46,0,1,15,0,19,1,2,20,1,3,0,1,5,17,1,9,109,101,115,115,97,103,101,73,100,20,1,3,0,1,5,17,1,12,114,101,116,117,114,110,115,86,97,108,117,101,0,1,15,0,19,1,2,20,1,3,0,1,5,17,1,8,110,111,100,101,84,121,112,101,20,1,3,0,1,5,17,1,14,67,97,108,108,69,120,112,114,101,115,115,105,111,110,0,1,15,0,19,1,2,20,1,3,0,1,5,17,1,6,114,117,108,101,73,100,20,1,3,0,1,5,17,1,26,110,111,45,112,114,111,109,105,115,101,45,101,120,101,99,117,116,111,114,45,114,101,116,117,114,110,0,1,15,0,19,1,2,20,1,3,0,1,5,17,1,8,115,101,118,101,114,105,116,121,20,1,3,0,1,4,1,2,0,1,8,1,3,39,7,0,0,45,7,0,0,68,7,0,0,19,1,6,17,1,6,79,98,106,101,99,116,1,6,17,1,6,79,98,106,101,99,116,16,16,16,0,1,13,0,1,2,0,1,14,1,1,106,7,0,0,20,1,3,0,1,5,17,1,5,114,97,110,103,101,0,1,15,0,19,1,2,20,1,3,0,1,5,17,1,4,116,101,120,116,20,1,3,0,1,5,17,1,9,40,114,101,115,111,108,118,101,41,0,1,8,1,3,147,7,0,0,153,7,0,0,169,7,0,0,19,1,6,17,1,5,65,114,114,97,121,1,7,17,1,5,65,114,114,97,121,15,15,15,0,1,10,0,1,2,0,1,12,0,19,1,2,0,20,1,3,0,1,4,1,73,0,1,12,0,19,1,2,1,1,20,1,3,0,1,4,1,80]}}]},{\"title\":\"no-plusplus.js\",\"snapshots\":[{\"data\":{\"type\":\"Buffer\",\"data\":[3,0,7,0,0,0,0,0,1,8,1,2,44,0,0,0,50,0,0,0,19,1,6,17,1,5,65,114,114,97,121,1,1,17,1,5,65,114,114,97,121,15,15,15,0,1,10,0,1,1,0,1,11,1,1,60,0,0,0,0,0,1,8,1,7,119,0,0,0,125,0,0,0,159,0,0,0,197,0,0,0,238,0,0,0,24,1,0,0,50,1,0,0,19,1,6,17,1,6,79,98,106,101,99,116,1,2,17,1,6,79,98,106,101,99,116,16,16,16,0,1,13,0,1,6,0,1,15,0,19,1,2,20,1,3,0,1,5,17,1,10,101,114,114,111,114,67,111,117,110,116,20,1,3,0,1,4,1,3,0,1,15,0,19,1,2,20,1,3,0,1,5,17,1,15,102,97,116,97,108,69,114,114,111,114,67,111,117,110,116,20,1,3,0,1,4,0,0,1,15,0,19,1,2,20,1,3,0,1,5,17,1,17,102,105,120,97,98,108,101,69,114,114,111,114,67,111,117,110,116,20,1,3,0,1,4,1,2,0,1,15,0,19,1,2,20,1,3,0,1,5,17,1,19,102,105,120,97,98,108,101,87,97,114,110,105,110,103,67,111,117,110,116,20,1,3,0,1,4,0,0,1,14,1,1,85,1,0,0,20,1,3,0,1,5,17,1,8,109,101,115,115,97,103,101,115,0,1,15,0,19,1,2,20,1,3,0,1,5,17,1,12,119,97,114,110,105,110,103,67,111,117,110,116,20,1,3,0,1,4,0,0,1,8,1,4,130,1,0,0,136,1,0,0,146,1,0,0,157,1,0,0,19,1,6,17,1,5,65,114,114,97,121,1,3,17,1,5,65,114,114,97,121,15,15,15,0,1,10,0,1,3,0,1,11,1,1,168,1,0,0,0,0,1,11,1,1,243,1,0,0,1,1,0,1,11,1,1,62,2,0,0,1,2,0,1,8,1,11,133,2,0,0,139,2,0,0,169,2,0,0,202,2,0,0,233,2,0,0,254,2,0,0,26,3,0,0,136,3,0,0,177,3,0,0,220,3,0,0,24,4,0,0,19,1,6,17,1,6,79,98,106,101,99,116,1,4,17,1,6,79,98,106,101,99,116,16,16,16,0,1,8,1,11,56,4,0,0,62,4,0,0,92,4,0,0,125,4,0,0,156,4,0,0,177,4,0,0,205,4,0,0,59,5,0,0,100,5,0,0,143,5,0,0,203,5,0,0,19,1,6,17,1,6,79,98,106,101,99,116,1,7,17,1,6,79,98,106,101,99,116,16,16,16,0,1,8,1,10,235,5,0,0,241,5,0,0,15,6,0,0,48,6,0,0,79,6,0,0,107,6,0,0,164,6,0,0,215,6,0,0,8,7,0,0,50,7,0,0,19,1,6,17,1,6,79,98,106,101,99,116,1,10,17,1,6,79,98,106,101,99,116,16,16,16,0,1,13,0,1,10,0,1,15,0,19,1,2,20,1,3,0,1,5,17,1,6,99,111,108,117,109,110,20,1,3,0,1,4,1,10,0,1,15,0,19,1,2,20,1,3,0,1,5,17,1,9,101,110,100,67,111,108,117,109,110,20,1,3,0,1,4,1,11,0,1,15,0,19,1,2,20,1,3,0,1,5,17,1,7,101,110,100,76,105,110,101,20,1,3,0,1,4,1,1,0,1,14,1,1,82,7,0,0,20,1,3,0,1,5,17,1,3,102,105,120,0,1,15,0,19,1,2,20,1,3,0,1,5,17,1,4,108,105,110,101,20,1,3,0,1,4,1,1,0,1,15,0,19,1,2,20,1,3,0,1,5,17,1,7,109,101,115,115,97,103,101,20,1,3,0,1,5,17,1,78,84,104,101,32,118,97,114,105,97,98,108,101,32,96,105,96,32,115,104,111,117,108,100,32,98,101,32,110,97,109,101,100,32,96,105,110,100,101,120,96,46,32,65,32,109,111,114,101,32,100,101,115,99,114,105,112,116,105,118,101,32,110,97,109,101,32,119,105,108,108,32,100,111,32,116,111,111,46,0,1,15,0,19,1,2,20,1,3,0,1,5,17,1,9,109,101,115,115,97,103,101,73,100,20,1,3,0,1,5,17,1,7,114,101,112,108,97,99,101,0,1,15,0,19,1,2,20,1,3,0,1,5,17,1,8,110,111,100,101,84,121,112,101,20,1,3,0,1,5,17,1,10,73,100,101,110,116,105,102,105,101,114,0,1,15,0,19,1,2,20,1,3,0,1,5,17,1,6,114,117,108,101,73,100,20,1,3,0,1,5,17,1,29,117,110,105,99,111,114,110,47,112,114,101,118,101,110,116,45,97,98,98,114,101,118,105,97,116,105,111,110,115,0,1,15,0,19,1,2,20,1,3,0,1,5,17,1,8,115,101,118,101,114,105,116,121,20,1,3,0,1,4,1,2,0,1,13,0,1,10,0,1,15,0,19,1,2,20,1,3,0,1,5,17,1,6,99,111,108,117,109,110,20,1,3,0,1,4,1,7,0,1,15,0,19,1,2,20,1,3,0,1,5,17,1,9,101,110,100,67,111,108,117,109,110,20,1,3,0,1,4,1,8,0,1,15,0,19,1,2,20,1,3,0,1,5,17,1,7,101,110,100,76,105,110,101,20,1,3,0,1,4,1,2,0,1,14,1,1,125,7,0,0,20,1,3,0,1,5,17,1,3,102,105,120,0,1,15,0,19,1,2,20,1,3,0,1,5,17,1,4,108,105,110,101,20,1,3,0,1,4,1,2,0,1,15,0,19,1,2,20,1,3,0,1,5,17,1,7,109,101,115,115,97,103,101,20,1,3,0,1,5,17,1,78,84,104,101,32,118,97,114,105,97,98,108,101,32,96,106,96,32,115,104,111,117,108,100,32,98,101,32,110,97,109,101,100,32,96,105,110,100,101,120,96,46,32,65,32,109,111,114,101,32,100,101,115,99,114,105,112,116,105,118,101,32,110,97,109,101,32,119,105,108,108,32,100,111,32,116,111,111,46,0,1,15,0,19,1,2,20,1,3,0,1,5,17,1,9,109,101,115,115,97,103,101,73,100,20,1,3,0,1,5,17,1,7,114,101,112,108,97,99,101,0,1,15,0,19,1,2,20,1,3,0,1,5,17,1,8,110,111,100,101,84,121,112,101,20,1,3,0,1,5,17,1,10,73,100,101,110,116,105,102,105,101,114,0,1,15,0,19,1,2,20,1,3,0,1,5,17,1,6,114,117,108,101,73,100,20,1,3,0,1,5,17,1,29,117,110,105,99,111,114,110,47,112,114,101,118,101,110,116,45,97,98,98,114,101,118,105,97,116,105,111,110,115,0,1,15,0,19,1,2,20,1,3,0,1,5,17,1,8,115,101,118,101,114,105,116,121,20,1,3,0,1,4,1,2,0,1,13,0,1,9,0,1,15,0,19,1,2,20,1,3,0,1,5,17,1,6,99,111,108,117,109,110,20,1,3,0,1,4,1,15,0,1,15,0,19,1,2,20,1,3,0,1,5,17,1,9,101,110,100,67,111,108,117,109,110,20,1,3,0,1,4,1,18,0,1,15,0,19,1,2,20,1,3,0,1,5,17,1,7,101,110,100,76,105,110,101,20,1,3,0,1,4,1,3,0,1,15,0,19,1,2,20,1,3,0,1,5,17,1,4,108,105,110,101,20,1,3,0,1,4,1,3,0,1,15,0,19,1,2,20,1,3,0,1,5,17,1,7,109,101,115,115,97,103,101,20,1,3,0,1,5,17,1,25,85,110,97,114,121,32,111,112,101,114,97,116,111,114,32,39,43,43,39,32,117,115,101,100,46,0,1,15,0,19,1,2,20,1,3,0,1,5,17,1,9,109,101,115,115,97,103,101,73,100,20,1,3,0,1,5,17,1,17,117,110,101,120,112,101,99,116,101,100,85,110,97,114,121,79,112,0,1,15,0,19,1,2,20,1,3,0,1,5,17,1,8,110,111,100,101,84,121,112,101,20,1,3,0,1,5,17,1,16,85,112,100,97,116,101,69,120,112,114,101,115,115,105,111,110,0,1,15,0,19,1,2,20,1,3,0,1,5,17,1,6,114,117,108,101,73,100,20,1,3,0,1,5,17,1,11,110,111,45,112,108,117,115,112,108,117,115,0,1,15,0,19,1,2,20,1,3,0,1,5,17,1,8,115,101,118,101,114,105,116,121,20,1,3,0,1,4,1,2,0,1,8,1,3,168,7,0,0,174,7,0,0,197,7,0,0,19,1,6,17,1,6,79,98,106,101,99,116,1,5,17,1,6,79,98,106,101,99,116,16,16,16,0,1,8,1,3,253,7,0,0,3,8,0,0,26,8,0,0,19,1,6,17,1,6,79,98,106,101,99,116,1,8,17,1,6,79,98,106,101,99,116,16,16,16,0,1,13,0,1,2,0,1,14,1,1,84,8,0,0,20,1,3,0,1,5,17,1,5,114,97,110,103,101,0,1,15,0,19,1,2,20,1,3,0,1,5,17,1,4,116,101,120,116,20,1,3,0,1,5,17,1,27,105,110,100,101,120,32,61,32,48,59,32,105,110,100,101,120,32,60,32,51,59,32,105,110,100,101,120,0,1,13,0,1,2,0,1,14,1,1,125,8,0,0,20,1,3,0,1,5,17,1,5,114,97,110,103,101,0,1,15,0,19,1,2,20,1,3,0,1,5,17,1,4,116,101,120,116,20,1,3,0,1,5,17,1,29,105,110,100,101,120,32,61,32,48,10,32,32,99,111,110,115,111,108,101,46,108,111,103,40,105,110,100,101,120,0,1,8,1,3,166,8,0,0,172,8,0,0,188,8,0,0,19,1,6,17,1,5,65,114,114,97,121,1,6,17,1,5,65,114,114,97,121,15,15,15,0,1,8,1,3,205,8,0,0,211,8,0,0,227,8,0,0,19,1,6,17,1,5,65,114,114,97,121,1,9,17,1,5,65,114,114,97,121,15,15,15,0,1,10,0,1,2,0,1,12,0,19,1,2,0,20,1,3,0,1,4,1,9,0,1,12,0,19,1,2,1,1,20,1,3,0,1,4,1,24,0,1,10,0,1,2,0,1,12,0,19,1,2,0,20,1,3,0,1,4,1,36,0,1,12,0,19,1,2,1,1,20,1,3,0,1,4,1,57]}}]},{\"title\":\"no-useless-catch.js\",\"snapshots\":[{\"data\":{\"type\":\"Buffer\",\"data\":[3,0,7,0,0,0,0,0,1,8,1,2,44,0,0,0,50,0,0,0,19,1,6,17,1,5,65,114,114,97,121,1,1,17,1,5,65,114,114,97,121,15,15,15,0,1,10,0,1,1,0,1,11,1,1,60,0,0,0,0,0,1,8,1,7,119,0,0,0,125,0,0,0,159,0,0,0,197,0,0,0,237,0,0,0,23,1,0,0,49,1,0,0,19,1,6,17,1,6,79,98,106,101,99,116,1,2,17,1,6,79,98,106,101,99,116,16,16,16,0,1,13,0,1,6,0,1,15,0,19,1,2,20,1,3,0,1,5,17,1,10,101,114,114,111,114,67,111,117,110,116,20,1,3,0,1,4,1,2,0,1,15,0,19,1,2,20,1,3,0,1,5,17,1,15,102,97,116,97,108,69,114,114,111,114,67,111,117,110,116,20,1,3,0,1,4,0,0,1,15,0,19,1,2,20,1,3,0,1,5,17,1,17,102,105,120,97,98,108,101,69,114,114,111,114,67,111,117,110,116,20,1,3,0,1,4,0,0,1,15,0,19,1,2,20,1,3,0,1,5,17,1,19,102,105,120,97,98,108,101,87,97,114,110,105,110,103,67,111,117,110,116,20,1,3,0,1,4,0,0,1,14,1,1,84,1,0,0,20,1,3,0,1,5,17,1,8,109,101,115,115,97,103,101,115,0,1,15,0,19,1,2,20,1,3,0,1,5,17,1,12,119,97,114,110,105,110,103,67,111,117,110,116,20,1,3,0,1,4,0,0,1,8,1,3,125,1,0,0,131,1,0,0,141,1,0,0,19,1,6,17,1,5,65,114,114,97,121,1,3,17,1,5,65,114,114,97,121,15,15,15,0,1,10,0,1,2,0,1,11,1,1,152,1,0,0,0,0,1,11,1,1,223,1,0,0,1,1,0,1,8,1,10,38,2,0,0,44,2,0,0,74,2,0,0,107,2,0,0,138,2,0,0,166,2,0,0,228,2,0,0,22,3,0,0,67,3,0,0,114,3,0,0,19,1,6,17,1,6,79,98,106,101,99,116,1,4,17,1,6,79,98,106,101,99,116,16,16,16,0,1,8,1,10,146,3,0,0,152,3,0,0,182,3,0,0,215,3,0,0,246,3,0,0,18,4,0,0,137,4,0,0,183,4,0,0,214,4,0,0,13,5,0,0,19,1,6,17,1,6,79,98,106,101,99,116,1,5,17,1,6,79,98,106,101,99,116,16,16,16,0,1,13,0,1,9,0,1,15,0,19,1,2,20,1,3,0,1,5,17,1,6,99,111,108,117,109,110,20,1,3,0,1,4,1,1,0,1,15,0,19,1,2,20,1,3,0,1,5,17,1,9,101,110,100,67,111,108,117,109,110,20,1,3,0,1,4,1,2,0,1,15,0,19,1,2,20,1,3,0,1,5,17,1,7,101,110,100,76,105,110,101,20,1,3,0,1,4,1,6,0,1,15,0,19,1,2,20,1,3,0,1,5,17,1,4,108,105,110,101,20,1,3,0,1,4,1,1,0,1,15,0,19,1,2,20,1,3,0,1,5,17,1,7,109,101,115,115,97,103,101,20,1,3,0,1,5,17,1,30,85,110,110,101,99,101,115,115,97,114,121,32,116,114,121,47,99,97,116,99,104,32,119,114,97,112,112,101,114,46,0,1,15,0,19,1,2,20,1,3,0,1,5,17,1,9,109,101,115,115,97,103,101,73,100,20,1,3,0,1,5,17,1,16,117,110,110,101,99,101,115,115,97,114,121,67,97,116,99,104,0,1,15,0,19,1,2,20,1,3,0,1,5,17,1,8,110,111,100,101,84,121,112,101,20,1,3,0,1,5,17,1,12,84,114,121,83,116,97,116,101,109,101,110,116,0,1,15,0,19,1,2,20,1,3,0,1,5,17,1,6,114,117,108,101,73,100,20,1,3,0,1,5,17,1,16,110,111,45,117,115,101,108,101,115,115,45,99,97,116,99,104,0,1,15,0,19,1,2,20,1,3,0,1,5,17,1,8,115,101,118,101,114,105,116,121,20,1,3,0,1,4,1,2,0,1,13,0,1,9,0,1,15,0,19,1,2,20,1,3,0,1,5,17,1,6,99,111,108,117,109,110,20,1,3,0,1,4,1,3,0,1,15,0,19,1,2,20,1,3,0,1,5,17,1,9,101,110,100,67,111,108,117,109,110,20,1,3,0,1,4,1,8,0,1,15,0,19,1,2,20,1,3,0,1,5,17,1,7,101,110,100,76,105,110,101,20,1,3,0,1,4,1,4,0,1,15,0,19,1,2,20,1,3,0,1,5,17,1,4,108,105,110,101,20,1,3,0,1,4,1,4,0,1,15,0,19,1,2,20,1,3,0,1,5,17,1,7,109,101,115,115,97,103,101,20,1,3,0,1,5,17,1,87,65,100,100,32,108,111,103,105,99,32,116,111,32,116,104,105,115,32,99,97,116,99,104,32,99,108,97,117,115,101,32,111,114,32,101,108,105,109,105,110,97,116,101,32,105,116,32,97,110,100,32,114,101,116,104,114,111,119,32,116,104,101,32,101,120,99,101,112,116,105,111,110,32,97,117,116,111,109,97,116,105,99,97,108,108,121,46,0,1,15,0,19,1,2,20,1,3,0,1,5,17,1,9,109,101,115,115,97,103,101,73,100,20,1,3,0,1,5,17,1,12,117,115,101,108,101,115,115,67,97,116,99,104,0,1,15,0,19,1,2,20,1,3,0,1,5,17,1,8,110,111,100,101,84,121,112,101,20,1,3,0,1,3,13,0,1,15,0,19,1,2,20,1,3,0,1,5,17,1,6,114,117,108,101,73,100,20,1,3,0,1,5,17,1,24,115,111,110,97,114,106,115,47,110,111,45,117,115,101,108,101,115,115,45,99,97,116,99,104,0,1,15,0,19,1,2,20,1,3,0,1,5,17,1,8,115,101,118,101,114,105,116,121,20,1,3,0,1,4,1,2]}}]},{\"title\":\"parser.class-private-methods.js\",\"snapshots\":[{\"data\":{\"type\":\"Buffer\",\"data\":[3,0,7,0,0,0,0,0,1,8,1,2,44,0,0,0,50,0,0,0,19,1,6,17,1,5,65,114,114,97,121,1,1,17,1,5,65,114,114,97,121,15,15,15,0,1,10,0,1,1,0,1,11,1,1,60,0,0,0,0,0,1,8,1,7,119,0,0,0,125,0,0,0,159,0,0,0,197,0,0,0,238,0,0,0,24,1,0,0,50,1,0,0,19,1,6,17,1,6,79,98,106,101,99,116,1,2,17,1,6,79,98,106,101,99,116,16,16,16,0,1,13,0,1,6,0,1,15,0,19,1,2,20,1,3,0,1,5,17,1,10,101,114,114,111,114,67,111,117,110,116,20,1,3,0,1,4,1,3,0,1,15,0,19,1,2,20,1,3,0,1,5,17,1,15,102,97,116,97,108,69,114,114,111,114,67,111,117,110,116,20,1,3,0,1,4,0,0,1,15,0,19,1,2,20,1,3,0,1,5,17,1,17,102,105,120,97,98,108,101,69,114,114,111,114,67,111,117,110,116,20,1,3,0,1,4,1,1,0,1,15,0,19,1,2,20,1,3,0,1,5,17,1,19,102,105,120,97,98,108,101,87,97,114,110,105,110,103,67,111,117,110,116,20,1,3,0,1,4,0,0,1,14,1,1,86,1,0,0,20,1,3,0,1,5,17,1,8,109,101,115,115,97,103,101,115,0,1,15,0,19,1,2,20,1,3,0,1,5,17,1,12,119,97,114,110,105,110,103,67,111,117,110,116,20,1,3,0,1,4,1,1,0,1,8,1,5,135,1,0,0,141,1,0,0,151,1,0,0,162,1,0,0,173,1,0,0,19,1,6,17,1,5,65,114,114,97,121,1,3,17,1,5,65,114,114,97,121,15,15,15,0,1,10,0,1,4,0,1,11,1,1,184,1,0,0,0,0,1,11,1,1,255,1,0,0,1,1,0,1,11,1,1,74,2,0,0,1,2,0,1,11,1,1,145,2,0,0,1,3,0,1,8,1,10,216,2,0,0,222,2,0,0,252,2,0,0,29,3,0,0,60,3,0,0,88,3,0,0,150,3,0,0,193,3,0,0,236,3,0,0,25,4,0,0,19,1,6,17,1,6,79,98,106,101,99,116,1,4,17,1,6,79,98,106,101,99,116,16,16,16,0,1,8,1,11,57,4,0,0,63,4,0,0,93,4,0,0,126,4,0,0,157,4,0,0,178,4,0,0,206,4,0,0,26,5,0,0,67,5,0,0,98,5,0,0,146,5,0,0,19,1,6,17,1,6,79,98,106,101,99,116,1,5,17,1,6,79,98,106,101,99,116,16,16,16,0,1,8,1,10,178,5,0,0,184,5,0,0,214,5,0,0,247,5,0,0,22,6,0,0,50,6,0,0,136,6,0,0,181,6,0,0,232,6,0,0,29,7,0,0,19,1,6,17,1,6,79,98,106,101,99,116,1,8,17,1,6,79,98,106,101,99,116,16,16,16,0,1,8,1,10,61,7,0,0,67,7,0,0,97,7,0,0,130,7,0,0,161,7,0,0,189,7,0,0,252,7,0,0,54,8,0,0,103,8,0,0,165,8,0,0,19,1,6,17,1,6,79,98,106,101,99,116,1,9,17,1,6,79,98,106,101,99,116,16,16,16,0,1,13,0,1,9,0,1,15,0,19,1,2,20,1,3,0,1,5,17,1,6,99,111,108,117,109,110,20,1,3,0,1,4,1,7,0,1,15,0,19,1,2,20,1,3,0,1,5,17,1,9,101,110,100,67,111,108,117,109,110,20,1,3,0,1,4,1,8,0,1,15,0,19,1,2,20,1,3,0,1,5,17,1,7,101,110,100,76,105,110,101,20,1,3,0,1,4,1,1,0,1,15,0,19,1,2,20,1,3,0,1,5,17,1,4,108,105,110,101,20,1,3,0,1,4,1,1,0,1,15,0,19,1,2,20,1,3,0,1,5,17,1,7,109,101,115,115,97,103,101,20,1,3,0,1,5,17,1,30,39,65,39,32,105,115,32,100,101,102,105,110,101,100,32,98,117,116,32,110,101,118,101,114,32,117,115,101,100,46,0,1,15,0,19,1,2,20,1,3,0,1,5,17,1,9,109,101,115,115,97,103,101,73,100,20,1,3,0,1,5,17,1,9,117,110,117,115,101,100,86,97,114,0,1,15,0,19,1,2,20,1,3,0,1,5,17,1,8,110,111,100,101,84,121,112,101,20,1,3,0,1,5,17,1,10,73,100,101,110,116,105,102,105,101,114,0,1,15,0,19,1,2,20,1,3,0,1,5,17,1,6,114,117,108,101,73,100,20,1,3,0,1,5,17,1,14,110,111,45,117,110,117,115,101,100,45,118,97,114,115,0,1,15,0,19,1,2,20,1,3,0,1,5,17,1,8,115,101,118,101,114,105,116,121,20,1,3,0,1,4,1,1,0,1,13,0,1,10,0,1,15,0,19,1,2,20,1,3,0,1,5,17,1,6,99,111,108,117,109,110,20,1,3,0,1,4,1,10,0,1,15,0,19,1,2,20,1,3,0,1,5,17,1,9,101,110,100,67,111,108,117,109,110,20,1,3,0,1,4,1,17,0,1,15,0,19,1,2,20,1,3,0,1,5,17,1,7,101,110,100,76,105,110,101,20,1,3,0,1,4,1,1,0,1,14,1,1,197,8,0,0,20,1,3,0,1,5,17,1,3,102,105,120,0,1,15,0,19,1,2,20,1,3,0,1,5,17,1,4,108,105,110,101,20,1,3,0,1,4,1,1,0,1,15,0,19,1,2,20,1,3,0,1,5,17,1,7,109,101,115,115,97,103,101,20,1,3,0,1,5,17,1,44,82,101,112,108,97,99,101,32,96,35,97,40,41,194,183,123,125,96,32,119,105,116,104,32,96,226,143,142,194,183,194,183,35,97,40,41,194,183,123,125,226,143,142,96,0,1,15,0,19,1,2,20,1,3,0,1,5,17,1,9,109,101,115,115,97,103,101,73,100,20,1,3,0,1,5,17,1,7,114,101,112,108,97,99,101,0,1,15,0,19,1,2,20,1,3,0,1,5,17,1,8,110,111,100,101,84,121,112,101,20,1,3,0,1,3,13,0,1,15,0,19,1,2,20,1,3,0,1,5,17,1,6,114,117,108,101,73,100,20,1,3,0,1,5,17,1,17,112,114,101,116,116,105,101,114,47,112,114,101,116,116,105,101,114,0,1,15,0,19,1,2,20,1,3,0,1,5,17,1,8,115,101,118,101,114,105,116,121,20,1,3,0,1,4,1,2,0,1,13,0,1,9,0,1,15,0,19,1,2,20,1,3,0,1,5,17,1,6,99,111,108,117,109,110,20,1,3,0,1,4,1,10,0,1,15,0,19,1,2,20,1,3,0,1,5,17,1,9,101,110,100,67,111,108,117,109,110,20,1,3,0,1,4,1,12,0,1,15,0,19,1,2,20,1,3,0,1,5,17,1,7,101,110,100,76,105,110,101,20,1,3,0,1,4,1,1,0,1,15,0,19,1,2,20,1,3,0,1,5,17,1,4,108,105,110,101,20,1,3,0,1,4,1,1,0,1,15,0,19,1,2,20,1,3,0,1,5,17,1,7,109,101,115,115,97,103,101,20,1,3,0,1,5,17,1,54,69,120,112,101,99,116,101,100,32,39,116,104,105,115,39,32,116,111,32,98,101,32,117,115,101,100,32,98,121,32,99,108,97,115,115,32,112,114,105,118,97,116,101,32,109,101,116,104,111,100,32,35,97,46,0,1,15,0,19,1,2,20,1,3,0,1,5,17,1,9,109,101,115,115,97,103,101,73,100,20,1,3,0,1,5,17,1,11,109,105,115,115,105,110,103,84,104,105,115,0,1,15,0,19,1,2,20,1,3,0,1,5,17,1,8,110,111,100,101,84,121,112,101,20,1,3,0,1,5,17,1,18,70,117,110,99,116,105,111,110,69,120,112,114,101,115,115,105,111,110,0,1,15,0,19,1,2,20,1,3,0,1,5,17,1,6,114,117,108,101,73,100,20,1,3,0,1,5,17,1,22,99,108,97,115,115,45,109,101,116,104,111,100,115,45,117,115,101,45,116,104,105,115,0,1,15,0,19,1,2,20,1,3,0,1,5,17,1,8,115,101,118,101,114,105,116,121,20,1,3,0,1,4,1,2,0,1,13,0,1,9,0,1,15,0,19,1,2,20,1,3,0,1,5,17,1,6,99,111,108,117,109,110,20,1,3,0,1,4,1,10,0,1,15,0,19,1,2,20,1,3,0,1,5,17,1,9,101,110,100,67,111,108,117,109,110,20,1,3,0,1,4,1,12,0,1,15,0,19,1,2,20,1,3,0,1,5,17,1,7,101,110,100,76,105,110,101,20,1,3,0,1,4,1,1,0,1,15,0,19,1,2,20,1,3,0,1,5,17,1,4,108,105,110,101,20,1,3,0,1,4,1,1,0,1,15,0,19,1,2,20,1,3,0,1,5,17,1,7,109,101,115,115,97,103,101,20,1,3,0,1,5,17,1,31,39,35,97,39,32,105,115,32,100,101,102,105,110,101,100,32,98,117,116,32,110,101,118,101,114,32,117,115,101,100,46,0,1,15,0,19,1,2,20,1,3,0,1,5,17,1,9,109,101,115,115,97,103,101,73,100,20,1,3,0,1,5,17,1,24,117,110,117,115,101,100,80,114,105,118,97,116,101,67,108,97,115,115,77,101,109,98,101,114,0,1,15,0,19,1,2,20,1,3,0,1,5,17,1,8,110,111,100,101,84,121,112,101,20,1,3,0,1,5,17,1,16,77,101,116,104,111,100,68,101,102,105,110,105,116,105,111,110,0,1,15,0,19,1,2,20,1,3,0,1,5,17,1,6,114,117,108,101,73,100,20,1,3,0,1,5,17,1,31,110,111,45,117,110,117,115,101,100,45,112,114,105,118,97,116,101,45,99,108,97,115,115,45,109,101,109,98,101,114,115,0,1,15,0,19,1,2,20,1,3,0,1,5,17,1,8,115,101,118,101,114,105,116,121,20,1,3,0,1,4,1,2,0,1,8,1,3,240,8,0,0,246,8,0,0,13,9,0,0,19,1,6,17,1,6,79,98,106,101,99,116,1,6,17,1,6,79,98,106,101,99,116,16,16,16,0,1,13,0,1,2,0,1,14,1,1,53,9,0,0,20,1,3,0,1,5,17,1,5,114,97,110,103,101,0,1,15,0,19,1,2,20,1,3,0,1,5,17,1,4,116,101,120,116,20,1,3,0,1,5,17,1,11,10,32,32,35,97,40,41,32,123,125,10,0,1,8,1,3,94,9,0,0,100,9,0,0,116,9,0,0,19,1,6,17,1,5,65,114,114,97,121,1,7,17,1,5,65,114,114,97,121,15,15,15,0,1,10,0,1,2,0,1,12,0,19,1,2,0,20,1,3,0,1,4,1,9,0,1,12,0,19,1,2,1,1,20,1,3,0,1,4,1,16]}}]},{\"title\":\"parser.class-private-properties.js\",\"snapshots\":[{\"data\":{\"type\":\"Buffer\",\"data\":[3,0,7,0,0,0,0,0,1,8,1,2,44,0,0,0,50,0,0,0,19,1,6,17,1,5,65,114,114,97,121,1,1,17,1,5,65,114,114,97,121,15,15,15,0,1,10,0,1,1,0,1,11,1,1,60,0,0,0,0,0,1,8,1,7,119,0,0,0,125,0,0,0,159,0,0,0,197,0,0,0,238,0,0,0,24,1,0,0,50,1,0,0,19,1,6,17,1,6,79,98,106,101,99,116,1,2,17,1,6,79,98,106,101,99,116,16,16,16,0,1,13,0,1,6,0,1,15,0,19,1,2,20,1,3,0,1,5,17,1,10,101,114,114,111,114,67,111,117,110,116,20,1,3,0,1,4,1,2,0,1,15,0,19,1,2,20,1,3,0,1,5,17,1,15,102,97,116,97,108,69,114,114,111,114,67,111,117,110,116,20,1,3,0,1,4,0,0,1,15,0,19,1,2,20,1,3,0,1,5,17,1,17,102,105,120,97,98,108,101,69,114,114,111,114,67,111,117,110,116,20,1,3,0,1,4,1,1,0,1,15,0,19,1,2,20,1,3,0,1,5,17,1,19,102,105,120,97,98,108,101,87,97,114,110,105,110,103,67,111,117,110,116,20,1,3,0,1,4,0,0,1,14,1,1,86,1,0,0,20,1,3,0,1,5,17,1,8,109,101,115,115,97,103,101,115,0,1,15,0,19,1,2,20,1,3,0,1,5,17,1,12,119,97,114,110,105,110,103,67,111,117,110,116,20,1,3,0,1,4,1,1,0,1,8,1,4,131,1,0,0,137,1,0,0,147,1,0,0,158,1,0,0,19,1,6,17,1,5,65,114,114,97,121,1,3,17,1,5,65,114,114,97,121,15,15,15,0,1,10,0,1,3,0,1,11,1,1,169,1,0,0,0,0,1,11,1,1,240,1,0,0,1,1,0,1,11,1,1,59,2,0,0,1,2,0,1,8,1,10,130,2,0,0,136,2,0,0,166,2,0,0,199,2,0,0,230,2,0,0,2,3,0,0,64,3,0,0,107,3,0,0,150,3,0,0,195,3,0,0,19,1,6,17,1,6,79,98,106,101,99,116,1,4,17,1,6,79,98,106,101,99,116,16,16,16,0,1,8,1,11,227,3,0,0,233,3,0,0,7,4,0,0,40,4,0,0,71,4,0,0,92,4,0,0,120,4,0,0,196,4,0,0,237,4,0,0,12,5,0,0,60,5,0,0,19,1,6,17,1,6,79,98,106,101,99,116,1,5,17,1,6,79,98,106,101,99,116,16,16,16,0,1,8,1,10,92,5,0,0,98,5,0,0,128,5,0,0,161,5,0,0,192,5,0,0,220,5,0,0,27,6,0,0,85,6,0,0,136,6,0,0,198,6,0,0,19,1,6,17,1,6,79,98,106,101,99,116,1,8,17,1,6,79,98,106,101,99,116,16,16,16,0,1,13,0,1,9,0,1,15,0,19,1,2,20,1,3,0,1,5,17,1,6,99,111,108,117,109,110,20,1,3,0,1,4,1,7,0,1,15,0,19,1,2,20,1,3,0,1,5,17,1,9,101,110,100,67,111,108,117,109,110,20,1,3,0,1,4,1,8,0,1,15,0,19,1,2,20,1,3,0,1,5,17,1,7,101,110,100,76,105,110,101,20,1,3,0,1,4,1,1,0,1,15,0,19,1,2,20,1,3,0,1,5,17,1,4,108,105,110,101,20,1,3,0,1,4,1,1,0,1,15,0,19,1,2,20,1,3,0,1,5,17,1,7,109,101,115,115,97,103,101,20,1,3,0,1,5,17,1,30,39,65,39,32,105,115,32,100,101,102,105,110,101,100,32,98,117,116,32,110,101,118,101,114,32,117,115,101,100,46,0,1,15,0,19,1,2,20,1,3,0,1,5,17,1,9,109,101,115,115,97,103,101,73,100,20,1,3,0,1,5,17,1,9,117,110,117,115,101,100,86,97,114,0,1,15,0,19,1,2,20,1,3,0,1,5,17,1,8,110,111,100,101,84,121,112,101,20,1,3,0,1,5,17,1,10,73,100,101,110,116,105,102,105,101,114,0,1,15,0,19,1,2,20,1,3,0,1,5,17,1,6,114,117,108,101,73,100,20,1,3,0,1,5,17,1,14,110,111,45,117,110,117,115,101,100,45,118,97,114,115,0,1,15,0,19,1,2,20,1,3,0,1,5,17,1,8,115,101,118,101,114,105,116,121,20,1,3,0,1,4,1,1,0,1,13,0,1,10,0,1,15,0,19,1,2,20,1,3,0,1,5,17,1,6,99,111,108,117,109,110,20,1,3,0,1,4,1,10,0,1,15,0,19,1,2,20,1,3,0,1,5,17,1,9,101,110,100,67,111,108,117,109,110,20,1,3,0,1,4,1,16,0,1,15,0,19,1,2,20,1,3,0,1,5,17,1,7,101,110,100,76,105,110,101,20,1,3,0,1,4,1,1,0,1,14,1,1,230,6,0,0,20,1,3,0,1,5,17,1,3,102,105,120,0,1,15,0,19,1,2,20,1,3,0,1,5,17,1,4,108,105,110,101,20,1,3,0,1,4,1,1,0,1,15,0,19,1,2,20,1,3,0,1,5,17,1,7,109,101,115,115,97,103,101,20,1,3,0,1,5,17,1,44,82,101,112,108,97,99,101,32,96,35,97,194,183,61,194,183,49,96,32,119,105,116,104,32,96,226,143,142,194,183,194,183,35,97,194,183,61,194,183,49,226,143,142,96,0,1,15,0,19,1,2,20,1,3,0,1,5,17,1,9,109,101,115,115,97,103,101,73,100,20,1,3,0,1,5,17,1,7,114,101,112,108,97,99,101,0,1,15,0,19,1,2,20,1,3,0,1,5,17,1,8,110,111,100,101,84,121,112,101,20,1,3,0,1,3,13,0,1,15,0,19,1,2,20,1,3,0,1,5,17,1,6,114,117,108,101,73,100,20,1,3,0,1,5,17,1,17,112,114,101,116,116,105,101,114,47,112,114,101,116,116,105,101,114,0,1,15,0,19,1,2,20,1,3,0,1,5,17,1,8,115,101,118,101,114,105,116,121,20,1,3,0,1,4,1,2,0,1,13,0,1,9,0,1,15,0,19,1,2,20,1,3,0,1,5,17,1,6,99,111,108,117,109,110,20,1,3,0,1,4,1,10,0,1,15,0,19,1,2,20,1,3,0,1,5,17,1,9,101,110,100,67,111,108,117,109,110,20,1,3,0,1,4,1,12,0,1,15,0,19,1,2,20,1,3,0,1,5,17,1,7,101,110,100,76,105,110,101,20,1,3,0,1,4,1,1,0,1,15,0,19,1,2,20,1,3,0,1,5,17,1,4,108,105,110,101,20,1,3,0,1,4,1,1,0,1,15,0,19,1,2,20,1,3,0,1,5,17,1,7,109,101,115,115,97,103,101,20,1,3,0,1,5,17,1,31,39,35,97,39,32,105,115,32,100,101,102,105,110,101,100,32,98,117,116,32,110,101,118,101,114,32,117,115,101,100,46,0,1,15,0,19,1,2,20,1,3,0,1,5,17,1,9,109,101,115,115,97,103,101,73,100,20,1,3,0,1,5,17,1,24,117,110,117,115,101,100,80,114,105,118,97,116,101,67,108,97,115,115,77,101,109,98,101,114,0,1,15,0,19,1,2,20,1,3,0,1,5,17,1,8,110,111,100,101,84,121,112,101,20,1,3,0,1,5,17,1,18,80,114,111,112,101,114,116,121,68,101,102,105,110,105,116,105,111,110,0,1,15,0,19,1,2,20,1,3,0,1,5,17,1,6,114,117,108,101,73,100,20,1,3,0,1,5,17,1,31,110,111,45,117,110,117,115,101,100,45,112,114,105,118,97,116,101,45,99,108,97,115,115,45,109,101,109,98,101,114,115,0,1,15,0,19,1,2,20,1,3,0,1,5,17,1,8,115,101,118,101,114,105,116,121,20,1,3,0,1,4,1,2,0,1,8,1,3,17,7,0,0,23,7,0,0,46,7,0,0,19,1,6,17,1,6,79,98,106,101,99,116,1,6,17,1,6,79,98,106,101,99,116,16,16,16,0,1,13,0,1,2,0,1,14,1,1,85,7,0,0,20,1,3,0,1,5,17,1,5,114,97,110,103,101,0,1,15,0,19,1,2,20,1,3,0,1,5,17,1,4,116,101,120,116,20,1,3,0,1,5,17,1,10,10,32,32,35,97,32,61,32,49,10,0,1,8,1,3,126,7,0,0,132,7,0,0,148,7,0,0,19,1,6,17,1,5,65,114,114,97,121,1,7,17,1,5,65,114,114,97,121,15,15,15,0,1,10,0,1,2,0,1,12,0,19,1,2,0,20,1,3,0,1,4,1,9,0,1,12,0,19,1,2,1,1,20,1,3,0,1,4,1,15]}}]},{\"title\":\"parser.class-properties.js\",\"snapshots\":[{\"data\":{\"type\":\"Buffer\",\"data\":[3,0,7,0,0,0,0,0,1,8,1,2,44,0,0,0,50,0,0,0,19,1,6,17,1,5,65,114,114,97,121,1,1,17,1,5,65,114,114,97,121,15,15,15,0,1,10,0,1,1,0,1,11,1,1,60,0,0,0,0,0,1,8,1,7,119,0,0,0,125,0,0,0,159,0,0,0,197,0,0,0,238,0,0,0,24,1,0,0,50,1,0,0,19,1,6,17,1,6,79,98,106,101,99,116,1,2,17,1,6,79,98,106,101,99,116,16,16,16,0,1,13,0,1,6,0,1,15,0,19,1,2,20,1,3,0,1,5,17,1,10,101,114,114,111,114,67,111,117,110,116,20,1,3,0,1,4,1,1,0,1,15,0,19,1,2,20,1,3,0,1,5,17,1,15,102,97,116,97,108,69,114,114,111,114,67,111,117,110,116,20,1,3,0,1,4,0,0,1,15,0,19,1,2,20,1,3,0,1,5,17,1,17,102,105,120,97,98,108,101,69,114,114,111,114,67,111,117,110,116,20,1,3,0,1,4,1,1,0,1,15,0,19,1,2,20,1,3,0,1,5,17,1,19,102,105,120,97,98,108,101,87,97,114,110,105,110,103,67,111,117,110,116,20,1,3,0,1,4,0,0,1,14,1,1,86,1,0,0,20,1,3,0,1,5,17,1,8,109,101,115,115,97,103,101,115,0,1,15,0,19,1,2,20,1,3,0,1,5,17,1,12,119,97,114,110,105,110,103,67,111,117,110,116,20,1,3,0,1,4,1,1,0,1,8,1,3,127,1,0,0,133,1,0,0,143,1,0,0,19,1,6,17,1,5,65,114,114,97,121,1,3,17,1,5,65,114,114,97,121,15,15,15,0,1,10,0,1,2,0,1,11,1,1,154,1,0,0,0,0,1,11,1,1,225,1,0,0,1,1,0,1,8,1,10,44,2,0,0,50,2,0,0,80,2,0,0,113,2,0,0,144,2,0,0,172,2,0,0,234,2,0,0,21,3,0,0,64,3,0,0,109,3,0,0,19,1,6,17,1,6,79,98,106,101,99,116,1,4,17,1,6,79,98,106,101,99,116,16,16,16,0,1,8,1,11,141,3,0,0,147,3,0,0,177,3,0,0,210,3,0,0,241,3,0,0,6,4,0,0,34,4,0,0,108,4,0,0,149,4,0,0,180,4,0,0,228,4,0,0,19,1,6,17,1,6,79,98,106,101,99,116,1,5,17,1,6,79,98,106,101,99,116,16,16,16,0,1,13,0,1,9,0,1,15,0,19,1,2,20,1,3,0,1,5,17,1,6,99,111,108,117,109,110,20,1,3,0,1,4,1,7,0,1,15,0,19,1,2,20,1,3,0,1,5,17,1,9,101,110,100,67,111,108,117,109,110,20,1,3,0,1,4,1,8,0,1,15,0,19,1,2,20,1,3,0,1,5,17,1,7,101,110,100,76,105,110,101,20,1,3,0,1,4,1,1,0,1,15,0,19,1,2,20,1,3,0,1,5,17,1,4,108,105,110,101,20,1,3,0,1,4,1,1,0,1,15,0,19,1,2,20,1,3,0,1,5,17,1,7,109,101,115,115,97,103,101,20,1,3,0,1,5,17,1,30,39,65,39,32,105,115,32,100,101,102,105,110,101,100,32,98,117,116,32,110,101,118,101,114,32,117,115,101,100,46,0,1,15,0,19,1,2,20,1,3,0,1,5,17,1,9,109,101,115,115,97,103,101,73,100,20,1,3,0,1,5,17,1,9,117,110,117,115,101,100,86,97,114,0,1,15,0,19,1,2,20,1,3,0,1,5,17,1,8,110,111,100,101,84,121,112,101,20,1,3,0,1,5,17,1,10,73,100,101,110,116,105,102,105,101,114,0,1,15,0,19,1,2,20,1,3,0,1,5,17,1,6,114,117,108,101,73,100,20,1,3,0,1,5,17,1,14,110,111,45,117,110,117,115,101,100,45,118,97,114,115,0,1,15,0,19,1,2,20,1,3,0,1,5,17,1,8,115,101,118,101,114,105,116,121,20,1,3,0,1,4,1,1,0,1,13,0,1,10,0,1,15,0,19,1,2,20,1,3,0,1,5,17,1,6,99,111,108,117,109,110,20,1,3,0,1,4,1,10,0,1,15,0,19,1,2,20,1,3,0,1,5,17,1,9,101,110,100,67,111,108,117,109,110,20,1,3,0,1,4,1,15,0,1,15,0,19,1,2,20,1,3,0,1,5,17,1,7,101,110,100,76,105,110,101,20,1,3,0,1,4,1,1,0,1,14,1,1,4,5,0,0,20,1,3,0,1,5,17,1,3,102,105,120,0,1,15,0,19,1,2,20,1,3,0,1,5,17,1,4,108,105,110,101,20,1,3,0,1,4,1,1,0,1,15,0,19,1,2,20,1,3,0,1,5,17,1,7,109,101,115,115,97,103,101,20,1,3,0,1,5,17,1,42,82,101,112,108,97,99,101,32,96,97,194,183,61,194,183,49,96,32,119,105,116,104,32,96,226,143,142,194,183,194,183,97,194,183,61,194,183,49,226,143,142,96,0,1,15,0,19,1,2,20,1,3,0,1,5,17,1,9,109,101,115,115,97,103,101,73,100,20,1,3,0,1,5,17,1,7,114,101,112,108,97,99,101,0,1,15,0,19,1,2,20,1,3,0,1,5,17,1,8,110,111,100,101,84,121,112,101,20,1,3,0,1,3,13,0,1,15,0,19,1,2,20,1,3,0,1,5,17,1,6,114,117,108,101,73,100,20,1,3,0,1,5,17,1,17,112,114,101,116,116,105,101,114,47,112,114,101,116,116,105,101,114,0,1,15,0,19,1,2,20,1,3,0,1,5,17,1,8,115,101,118,101,114,105,116,121,20,1,3,0,1,4,1,2,0,1,8,1,3,47,5,0,0,53,5,0,0,76,5,0,0,19,1,6,17,1,6,79,98,106,101,99,116,1,6,17,1,6,79,98,106,101,99,116,16,16,16,0,1,13,0,1,2,0,1,14,1,1,114,5,0,0,20,1,3,0,1,5,17,1,5,114,97,110,103,101,0,1,15,0,19,1,2,20,1,3,0,1,5,17,1,4,116,101,120,116,20,1,3,0,1,5,17,1,9,10,32,32,97,32,61,32,49,10,0,1,8,1,3,155,5,0,0,161,5,0,0,177,5,0,0,19,1,6,17,1,5,65,114,114,97,121,1,7,17,1,5,65,114,114,97,121,15,15,15,0,1,10,0,1,2,0,1,12,0,19,1,2,0,20,1,3,0,1,4,1,9,0,1,12,0,19,1,2,1,1,20,1,3,0,1,4,1,14]}}]},{\"title\":\"parser.import-meta.js\",\"snapshots\":[{\"data\":{\"type\":\"Buffer\",\"data\":[3,0,7,0,0,0,0,0,1,8,1,2,44,0,0,0,50,0,0,0,19,1,6,17,1,5,65,114,114,97,121,1,1,17,1,5,65,114,114,97,121,15,15,15,0,1,10,0,1,1,0,1,11,1,1,60,0,0,0,0,0,1,8,1,7,119,0,0,0,125,0,0,0,158,0,0,0,196,0,0,0,236,0,0,0,22,1,0,0,48,1,0,0,19,1,6,17,1,6,79,98,106,101,99,116,1,2,17,1,6,79,98,106,101,99,116,16,16,16,0,1,13,0,1,6,0,1,15,0,19,1,2,20,1,3,0,1,5,17,1,10,101,114,114,111,114,67,111,117,110,116,20,1,3,0,1,4,0,0,1,15,0,19,1,2,20,1,3,0,1,5,17,1,15,102,97,116,97,108,69,114,114,111,114,67,111,117,110,116,20,1,3,0,1,4,0,0,1,15,0,19,1,2,20,1,3,0,1,5,17,1,17,102,105,120,97,98,108,101,69,114,114,111,114,67,111,117,110,116,20,1,3,0,1,4,0,0,1,15,0,19,1,2,20,1,3,0,1,5,17,1,19,102,105,120,97,98,108,101,87,97,114,110,105,110,103,67,111,117,110,116,20,1,3,0,1,4,0,0,1,14,1,1,84,1,0,0,20,1,3,0,1,5,17,1,8,109,101,115,115,97,103,101,115,0,1,15,0,19,1,2,20,1,3,0,1,5,17,1,12,119,97,114,110,105,110,103,67,111,117,110,116,20,1,3,0,1,4,1,1,0,1,8,1,2,121,1,0,0,127,1,0,0,19,1,6,17,1,5,65,114,114,97,121,1,3,17,1,5,65,114,114,97,121,15,15,15,0,1,10,0,1,1,0,1,11,1,1,137,1,0,0,0,0,1,8,1,10,208,1,0,0,214,1,0,0,244,1,0,0,21,2,0,0,52,2,0,0,80,2,0,0,153,2,0,0,196,2,0,0,239,2,0,0,28,3,0,0,19,1,6,17,1,6,79,98,106,101,99,116,1,4,17,1,6,79,98,106,101,99,116,16,16,16,0,1,13,0,1,9,0,1,15,0,19,1,2,20,1,3,0,1,5,17,1,6,99,111,108,117,109,110,20,1,3,0,1,4,1,7,0,1,15,0,19,1,2,20,1,3,0,1,5,17,1,9,101,110,100,67,111,108,117,109,110,20,1,3,0,1,4,1,10,0,1,15,0,19,1,2,20,1,3,0,1,5,17,1,7,101,110,100,76,105,110,101,20,1,3,0,1,4,1,1,0,1,15,0,19,1,2,20,1,3,0,1,5,17,1,4,108,105,110,101,20,1,3,0,1,4,1,1,0,1,15,0,19,1,2,20,1,3,0,1,5,17,1,7,109,101,115,115,97,103,101,20,1,3,0,1,5,17,1,41,39,102,111,111,39,32,105,115,32,97,115,115,105,103,110,101,100,32,97,32,118,97,108,117,101,32,98,117,116,32,110,101,118,101,114,32,117,115,101,100,46,0,1,15,0,19,1,2,20,1,3,0,1,5,17,1,9,109,101,115,115,97,103,101,73,100,20,1,3,0,1,5,17,1,9,117,110,117,115,101,100,86,97,114,0,1,15,0,19,1,2,20,1,3,0,1,5,17,1,8,110,111,100,101,84,121,112,101,20,1,3,0,1,5,17,1,10,73,100,101,110,116,105,102,105,101,114,0,1,15,0,19,1,2,20,1,3,0,1,5,17,1,6,114,117,108,101,73,100,20,1,3,0,1,5,17,1,14,110,111,45,117,110,117,115,101,100,45,118,97,114,115,0,1,15,0,19,1,2,20,1,3,0,1,5,17,1,8,115,101,118,101,114,105,116,121,20,1,3,0,1,4,1,1]}}]},{\"title\":\"unicorn.prefer-node-append.js\",\"snapshots\":[{\"data\":{\"type\":\"Buffer\",\"data\":[3,0,7,0,0,0,0,0,1,8,1,2,44,0,0,0,50,0,0,0,19,1,6,17,1,5,65,114,114,97,121,1,1,17,1,5,65,114,114,97,121,15,15,15,0,1,10,0,1,1,0,1,11,1,1,60,0,0,0,0,0,1,8,1,7,119,0,0,0,125,0,0,0,158,0,0,0,196,0,0,0,236,0,0,0,22,1,0,0,48,1,0,0,19,1,6,17,1,6,79,98,106,101,99,116,1,2,17,1,6,79,98,106,101,99,116,16,16,16,0,1,13,0,1,6,0,1,15,0,19,1,2,20,1,3,0,1,5,17,1,10,101,114,114,111,114,67,111,117,110,116,20,1,3,0,1,4,0,0,1,15,0,19,1,2,20,1,3,0,1,5,17,1,15,102,97,116,97,108,69,114,114,111,114,67,111,117,110,116,20,1,3,0,1,4,0,0,1,15,0,19,1,2,20,1,3,0,1,5,17,1,17,102,105,120,97,98,108,101,69,114,114,111,114,67,111,117,110,116,20,1,3,0,1,4,0,0,1,15,0,19,1,2,20,1,3,0,1,5,17,1,19,102,105,120,97,98,108,101,87,97,114,110,105,110,103,67,111,117,110,116,20,1,3,0,1,4,0,0,1,14,1,1,83,1,0,0,20,1,3,0,1,5,17,1,8,109,101,115,115,97,103,101,115,0,1,15,0,19,1,2,20,1,3,0,1,5,17,1,12,119,97,114,110,105,110,103,67,111,117,110,116,20,1,3,0,1,4,0,0,1,8,0,19,1,6,17,1,5,65,114,114,97,121,1,3,17,1,5,65,114,114,97,121,15,15,15]}}]},{\"title\":\"unicorn.prevent-abbreviations.js\",\"snapshots\":[{\"data\":{\"type\":\"Buffer\",\"data\":[3,0,7,0,0,0,0,0,1,8,1,2,44,0,0,0,50,0,0,0,19,1,6,17,1,5,65,114,114,97,121,1,1,17,1,5,65,114,114,97,121,15,15,15,0,1,10,0,1,1,0,1,11,1,1,60,0,0,0,0,0,1,8,1,7,119,0,0,0,125,0,0,0,159,0,0,0,197,0,0,0,238,0,0,0,24,1,0,0,50,1,0,0,19,1,6,17,1,6,79,98,106,101,99,116,1,2,17,1,6,79,98,106,101,99,116,16,16,16,0,1,13,0,1,6,0,1,15,0,19,1,2,20,1,3,0,1,5,17,1,10,101,114,114,111,114,67,111,117,110,116,20,1,3,0,1,4,1,1,0,1,15,0,19,1,2,20,1,3,0,1,5,17,1,15,102,97,116,97,108,69,114,114,111,114,67,111,117,110,116,20,1,3,0,1,4,0,0,1,15,0,19,1,2,20,1,3,0,1,5,17,1,17,102,105,120,97,98,108,101,69,114,114,111,114,67,111,117,110,116,20,1,3,0,1,4,1,1,0,1,15,0,19,1,2,20,1,3,0,1,5,17,1,19,102,105,120,97,98,108,101,87,97,114,110,105,110,103,67,111,117,110,116,20,1,3,0,1,4,0,0,1,14,1,1,85,1,0,0,20,1,3,0,1,5,17,1,8,109,101,115,115,97,103,101,115,0,1,15,0,19,1,2,20,1,3,0,1,5,17,1,12,119,97,114,110,105,110,103,67,111,117,110,116,20,1,3,0,1,4,0,0,1,8,1,2,122,1,0,0,128,1,0,0,19,1,6,17,1,5,65,114,114,97,121,1,3,17,1,5,65,114,114,97,121,15,15,15,0,1,10,0,1,1,0,1,11,1,1,138,1,0,0,0,0,1,8,1,11,213,1,0,0,219,1,0,0,249,1,0,0,26,2,0,0,57,2,0,0,78,2,0,0,106,2,0,0,218,2,0,0,3,3,0,0,46,3,0,0,106,3,0,0,19,1,6,17,1,6,79,98,106,101,99,116,1,4,17,1,6,79,98,106,101,99,116,16,16,16,0,1,13,0,1,10,0,1,15,0,19,1,2,20,1,3,0,1,5,17,1,6,99,111,108,117,109,110,20,1,3,0,1,4,1,7,0,1,15,0,19,1,2,20,1,3,0,1,5,17,1,9,101,110,100,67,111,108,117,109,110,20,1,3,0,1,4,1,10,0,1,15,0,19,1,2,20,1,3,0,1,5,17,1,7,101,110,100,76,105,110,101,20,1,3,0,1,4,1,1,0,1,14,1,1,138,3,0,0,20,1,3,0,1,5,17,1,3,102,105,120,0,1,15,0,19,1,2,20,1,3,0,1,5,17,1,4,108,105,110,101,20,1,3,0,1,4,1,1,0,1,15,0,19,1,2,20,1,3,0,1,5,17,1,7,109,101,115,115,97,103,101,20,1,3,0,1,5,17,1,80,84,104,101,32,118,97,114,105,97,98,108,101,32,96,101,114,114,96,32,115,104,111,117,108,100,32,98,101,32,110,97,109,101,100,32,96,101,114,114,111,114,96,46,32,65,32,109,111,114,101,32,100,101,115,99,114,105,112,116,105,118,101,32,110,97,109,101,32,119,105,108,108,32,100,111,32,116,111,111,46,0,1,15,0,19,1,2,20,1,3,0,1,5,17,1,9,109,101,115,115,97,103,101,73,100,20,1,3,0,1,5,17,1,7,114,101,112,108,97,99,101,0,1,15,0,19,1,2,20,1,3,0,1,5,17,1,8,110,111,100,101,84,121,112,101,20,1,3,0,1,5,17,1,10,73,100,101,110,116,105,102,105,101,114,0,1,15,0,19,1,2,20,1,3,0,1,5,17,1,6,114,117,108,101,73,100,20,1,3,0,1,5,17,1,29,117,110,105,99,111,114,110,47,112,114,101,118,101,110,116,45,97,98,98,114,101,118,105,97,116,105,111,110,115,0,1,15,0,19,1,2,20,1,3,0,1,5,17,1,8,115,101,118,101,114,105,116,121,20,1,3,0,1,4,1,2,0,1,8,1,3,181,3,0,0,187,3,0,0,210,3,0,0,19,1,6,17,1,6,79,98,106,101,99,116,1,5,17,1,6,79,98,106,101,99,116,16,16,16,0,1,13,0,1,2,0,1,14,1,1,38,4,0,0,20,1,3,0,1,5,17,1,5,114,97,110,103,101,0,1,15,0,19,1,2,20,1,3,0,1,5,17,1,4,116,101,120,116,20,1,3,0,1,5,17,1,55,101,114,114,111,114,32,61,32,110,101,119,32,84,121,112,101,69,114,114,111,114,40,39,109,121,32,101,114,114,111,114,39,41,10,10,101,120,112,111,114,116,32,100,101,102,97,117,108,116,32,101,114,114,111,114,0,1,8,1,3,79,4,0,0,85,4,0,0,101,4,0,0,19,1,6,17,1,5,65,114,114,97,121,1,6,17,1,5,65,114,114,97,121,15,15,15,0,1,10,0,1,2,0,1,12,0,19,1,2,0,20,1,3,0,1,4,1,6,0,1,12,0,19,1,2,1,1,20,1,3,0,1,4,1,57]}}]}]}\r\n```\r\n\r\n\r\n</details>",
                              "label": "bug",
                              "createdAt": "2022-01-05T04:55:09Z",
                              "closedAt": "2022-01-08T14:12:09Z",
                              "lastComment": "2022-01-08T14:37:09Z",
                              "commentCount": 7
                         },
                         {
                              "title": "Source maps on Windows with Node.js 14.8.1 and ts-node/esm loader return sources that are not file URLs, which causes a crash in the snapshot manager",
                              "description": "I made [this minimal example](https://github.com/antonyfaris/sample-ava-ts).\r\n\r\nYou can see in [this gh workflow](https://github.com/antonyfaris/sample-ava-ts/runs/4119306273?check_suite_focus=true) how it only fails on windows. This error prevents tests from running.\r\n\r\nIt works fine with version 4.0.0-alpha.2\r\n",
                              "label": "bug",
                              "createdAt": "2021-11-05T17:38:20Z",
                              "closedAt": "2021-11-21T17:28:11Z",
                              "lastComment": "2021-11-21T18:33:46Z",
                              "commentCount": 10
                         },
                         {
                              "title": "Ava test output adds 's' to filenames",
                              "description": "(Minor issue)\r\n\r\nHello,\r\n\r\nWhen I have, for example, two test files called `math.tests.ts` and `array.tests.ts`, AVA renames them to `maths.ts` and `arrays.ts` in the terminal output.\r\n\r\nImage:\r\n![image](https://user-images.githubusercontent.com/20048660/126879114-613603a1-ebf1-487a-8727-8b850c75e47d.png)\r\n\r\nI'm guessing it tries to remove the word `test` along with the 2 dots, but fails to remove the `s` after `test` as well.\r\n\r\nAVA version: `3.15.0`\r\nConfig in `package.json`:\r\n```js\r\n{\r\n\t\"ava\": {\r\n\t\t\"extensions\": [\r\n\t\t\t\"ts\"\r\n\t\t],\r\n\t\t\"files\": [\r\n\t\t\t\"tests/**/*.tests.ts\"\r\n\t\t],\r\n\t\t\"require\": [\r\n\t\t\t\"./tests/_setup.js\",\r\n\t\t\t\"ts-node/register\"\r\n\t\t],\r\n\t\t\"verbose\": true\r\n\t}\r\n}\r\n```\r\nThank you for your time and if you need any more info, please let me know.",
                              "label": "bug",
                              "createdAt": "2021-07-24T19:23:04Z",
                              "closedAt": "2021-09-18T15:42:45Z",
                              "lastComment": "2021-09-18T14:34:47Z",
                              "commentCount": 2
                         },
                         {
                              "title": "Trailing slashes break directory matching",
                              "description": "Works:\r\n\r\n```json\r\n{\r\n  \"ava\": {\r\n    \"files\": [\"!src/test\"]\r\n  }\r\n}\r\n```\r\n\r\nDoesn't work:\r\n\r\n```json\r\n{\r\n  \"ava\": {\r\n    \"files\": [\"!src/test/\"]\r\n  }\r\n}\r\n```\r\n\r\nSee https://github.com/prettier/prettier/pull/11000 for similar issue",
                              "label": "bug",
                              "createdAt": "2021-06-27T12:05:07Z",
                              "closedAt": "2021-09-18T18:03:54Z",
                              "lastComment": "2021-06-30T13:53:55Z",
                              "commentCount": 1
                         },
                         {
                              "title": "Gracefully handle linebreaks in test titles",
                              "description": "If test titles include line breaks, the snapshot reports for those tests will look a bit weird since the formatting code does not handle them. Reporter output may be broken too.\r\n\r\nPer discussion in https://github.com/avajs/ava/issues/2769#issuecomment-862664084 we could normalize whitespace in test titles at the point of declaration, which then impacts uniqueness checks, or we could do so when displaying.\r\n\r\nMy preference would actually be to do this at the point of declaration, which should be considered a breaking change given that we identify the test by its title. But that's OK since we're doing pre-releases for AVA 4 at the moment.\r\n\r\n@KillyMXI what do you think?",
                              "label": "bug",
                              "createdAt": "2021-06-19T18:07:36Z",
                              "closedAt": "2021-07-04T12:20:29Z",
                              "lastComment": "2021-06-30T13:28:26Z",
                              "commentCount": 3
                         },
                         {
                              "title": "Unnecessary error in extractSource due to not checking for null",
                              "description": "The line at\r\nhttps://github.com/avajs/ava/blob/e9a69dca44dadb545d4698fb7df5587da2787f7d/lib/serialize-error.js#L31\r\nshould be changed to\r\n```js\r\nif (callsite && callSite.file === normalizedFile) {\r\n```\r\nsince the previous line\r\n```js\r\nconst callSite = stackUtils.parseLine(line);\r\n```\r\nmay, and sometimes does, initialize `callSite` to `null`. Once this is fixed, if the catch at\r\nhttps://github.com/avajs/ava/blob/e9a69dca44dadb545d4698fb7df5587da2787f7d/lib/serialize-error.js#L39\r\nwas there only because of this one error, then this do-nothing catch should be removed.",
                              "label": "bug",
                              "createdAt": "2021-04-27T19:50:12Z",
                              "closedAt": "2021-05-09T18:35:39Z",
                              "lastComment": "2021-05-07T01:46:47Z",
                              "commentCount": 4
                         },
                         {
                              "title": "no-ignored-test-files hangs with ava@4.0.0-alpha.1",
                              "description": "With `ava@4.0.0-alpha.1` installed, running the `no-ignored-test-files` rule on any AVA test file causes `eslint` to hang indefinitely.\r\n\r\nWith `ava@3.x`, or with `\"no-ignored-test-files\": \"off\"`, everything's fine.\r\n\r\n[Minimal reproducible example.](https://github.com/ninevra/ava-next-eslint-hangs-mre)\r\n\r\n",
                              "label": "bug",
                              "createdAt": "2021-04-02T05:55:06Z",
                              "closedAt": "2021-04-02T15:34:37Z",
                              "lastComment": "2021-04-06T16:22:09Z",
                              "commentCount": 2
                         },
                         {
                              "title": "Result of `.snapshot()` assertions in `--update-snapshots` mode is inconsistent",
                              "description": "## What you're trying to do\r\n\r\nRun AVA in `--update-snapshots` mode.\r\n\r\n## What happened\r\n\r\nWhether `t.snapshot()` assertions pass or fail depends on the state of other tests in the same file, and can differ between files.\r\n\r\nSpecifically, `t.snapshot()` assertions always pass in `--update-snapshots` mode, _unless_ any test in their file is `test.skip()`ed, in which case they pass or fail as they would without `--update-snapshots`.\r\n\r\n## What you expected to happen\r\n\r\nI'd expect that, whatever the behavior of `t.snapshot()` assertions is here, it would be consistent, or at least not change as a result of changes to unrelated tests.\r\n\r\nThis isn't a bug, precisely; the documentation doesn't specify whether snapshot assertions will or won't pass in these situations. It's just odd.\r\n\r\n[MRE](https://github.com/ninevra/ava-update-snapshot-inconsistency-reproduction).\r\n\r\nAVA configuration: none.\r\n\r\nAVA version: 3.14.0.\r\n",
                              "label": "bug",
                              "createdAt": "2020-12-27T22:37:26Z",
                              "closedAt": "2021-06-07T19:00:55Z",
                              "lastComment": "2021-06-07T19:00:55Z",
                              "commentCount": 3
                         },
                         {
                              "title": "Allow updating snapshots for individual tests or individual assertions",
                              "description": "## What you're trying to do\r\n\r\nExample use case:\r\n- a developer writes tests using `t.snapshot()` assertions\r\n- a regression or external change causes such a test to begin failing\r\n- the developer marks the test `.failing()`, expecting the issue to remain for some time\r\n- later, the developer makes changes to other tests in the same file, and runs `--update-snapshots` to record the changes\r\n- this incidentally updates the snapshots for the `.failing()` test, causing it to begin passing, even though the underlying issue remains\r\n- developer is now stuck: they have no way to update snapshots for just _part_ of a file (not even manually, because AVA's snapshot format is an implementation detail)\r\n\r\n## Why you can't use AVA for this\r\n\r\nAVA appears to provide no way to select individual tests or assertions for update. Selecting files can be accomplished by passing AVA a glob, but using `--match` or line number selection with `--update-snapshots` throws.\r\n\r\nFundamentally, this is because AVA implements `--update-snapshots` by entirely ignoring and overwriting the snapshot files. If AVA allowed users to select specific tests, then every other test in their files would have its snapshots deleted.\r\n\r\n## And maybe how you think AVA could handle this\r\n\r\nFrom a ui perspective, AVA could handle this by providing an interactive `--review-snapshots` option, like the similar features in [`insta`](https://docs.rs/insta/1.3.0/insta/#snapshot-updating) (implemented as a cli tool, `cargo insta review`) or [`jest`](https://jestjs.io/docs/en/snapshot-testing#interactive-snapshot-mode) (seemingly only available during watch mode).\r\n\r\nAVA could also allow the use of `--match` and other existing forms of selection with `--update-snapshots`, but this would only allow per-test granularity, not per-snapshot.\r\n\r\nFrom an implementation perspective, AVA would probably need to read snapshot files from disk even when run with `--update-snapshots`, so that the unselected tests/assertions could retain their preexisting snapshots.\r\n\r\nIt _might_ be possible to implement this using AVA's currently-unused ability to append updates to `.snap` files:\r\n\r\nhttps://github.com/avajs/ava/blob/3fe4c40f09fd8eef74ea998992a756525fca7b9f/lib/snapshot-manager.js#L184-L186 \r\n\r\nhttps://github.com/avajs/ava/blob/3fe4c40f09fd8eef74ea998992a756525fca7b9f/lib/snapshot-manager.js#L298-L299\r\n\r\nbut I _think_ that would require (backwards-compatible!) changes to the snapshot file format.\r\n",
                              "label": "bug",
                              "createdAt": "2020-12-27T22:00:48Z",
                              "closedAt": "2021-03-13T16:21:53Z",
                              "lastComment": "2020-12-30T08:39:42Z",
                              "commentCount": 1
                         },
                         {
                              "title": "`t.log` entries should start with `#`(without any spaces)",
                              "description": "Jenkins TAP reporter does not parse report correctly when `t.log` statements are present there.\r\nE.g. tap report from ava\r\n```\r\nnot ok 3 - test2.ts › Tomato block is not present 2\r\n  * Log statement 1\r\n  * Log statement 2\r\n  * Log statement 3\r\n  * Log statement 4\r\n  * Log statement 5\r\n  * Log statement 6\r\n  ---\r\n    name: AssertionError\r\n    message: Tomato image still displayed\r\n    assertion: 'true'\r\n    values:\r\n      'Value is not `true`:': 'false'\r\n    at: |-\r\n      e2e/spec/test2.ts:14:9\r\n      initMacro (e2e/macros/initMacro.ts:55:3)\r\n  ...\r\n```\r\n\r\nAnd the result of report is\r\n<img width=\"1041\" alt=\"Screenshot 2020-11-25 at 19 45 29\" src=\"https://user-images.githubusercontent.com/6705391/100263965-d6100880-2f56-11eb-9f65-adfcd2195197.png\">\r\n\r\nSo I created script the replaced `  *` with `#` and it parses it correctly\r\nScript (just in case)\r\n```bash\r\nsed -i 's/  \\*/  #/' report.tap\r\n```\r\nReport \r\n<img width=\"1299\" alt=\"Screenshot 2020-11-25 at 19 49 02\" src=\"https://user-images.githubusercontent.com/6705391/100264466-8bdb5700-2f57-11eb-8347-260bdfa8d3f5.png\">\r\n<img width=\"679\" alt=\"Screenshot 2020-11-25 at 19 49 59\" src=\"https://user-images.githubusercontent.com/6705391/100264483-8f6ede00-2f57-11eb-85f1-6db7982d0de2.png\">\r\n\r\nAccording to [specification](https://testanything.org/tap-version-13-specification.html) it should be diagnostic lines and start with `#`\r\n```text\r\nDiagnostics\r\nAdditional information may be put into the testing output on separate lines. \r\nDiagnostic lines should begin with a #, which the harness must ignore, at least as far as analyzing the test results.\r\n```\r\n```\r\nAnything else\r\nAny output that is not a version, a plan, a test line, a YAML block, \r\na diagnostic or a bail out is incorrect. How a harness handles the incorrect line is undefined. \r\nTest::Harness silently ignores incorrect lines...\r\n```\r\n\r\nSo, of course, there is a problem with Jenkins plugin, but that's another story. Ava should just stick to specification and stream diagnostic info lines starting with `#`.",
                              "label": "bug",
                              "createdAt": "2020-11-25T17:57:30Z",
                              "closedAt": "2020-12-23T14:21:47Z",
                              "lastComment": "2020-12-05T17:13:14Z",
                              "commentCount": 10
                         },
                         {
                              "title": "TAP output does not say which tests (or at least which file) failed after timeout",
                              "description": "So here is the output of timedout test report (there are passed tests as well).\r\n```\r\n# Exited because no new tests completed within the last 180000ms of inactivity\r\nnot ok 51 - Exited because no new tests completed within the last 180000ms of inactivity\r\n```\r\nIt is impossible to figure out which test caused timeout. \r\nWould be nice at least to narrow it down to test file, to understand where to start searching.\r\n",
                              "label": "bug",
                              "createdAt": "2020-11-24T15:58:14Z",
                              "closedAt": "2020-12-31T14:09:35Z",
                              "lastComment": "2020-11-25T18:00:01Z",
                              "commentCount": 8
                         },
                         {
                              "title": "animation spinner fills the console with new lines",
                              "description": "The little animation spinner is cute as the tests are running, however it seems to degrade and then put a newline on every iteration. My test run ends up filling pages of console\r\n\r\n\r\n![image](https://user-images.githubusercontent.com/514002/87484731-cddcaf80-c5eb-11ea-8635-a84b43a82e89.png)\r\n\r\nif the feature is broken, is there a way to at least disable it?\r\n\r\n```\r\n⠙ Actor › game loading\r\n⠹ Actor › game loading\r\n⠸ Actor › game loading\r\n⠼ Actor › game loading\r\n⠴ Actor › game loading\r\n⠦ Actor › game loading\r\n```\r\n",
                              "label": "bug",
                              "createdAt": "2020-07-14T23:06:33Z",
                              "closedAt": "2020-08-01T16:11:07Z",
                              "lastComment": "2020-08-01T16:11:54Z",
                              "commentCount": 6
                         },
                         {
                              "title": "Ava `test()` expression is not callable  / has no call signatures",
                              "description": "I ran `npm ava init` in a project and created a first test as per ava docs.\r\n\r\nImmediately the vscode editor is giving me a typescript warning error.\r\n\r\n```\r\nThis expression is not callable.\r\n  Type 'typeof import(\"/Users/dc/dev/exiteer/xbot/server/node_modules/ava/index\")' has no call signatures.\r\n```\r\n\r\n![image](https://user-images.githubusercontent.com/514002/87449280-d57f6280-c5b1-11ea-8720-585b149888f3.png)\r\n\r\nI did look if there were separate typings but there is a `index.d.ts` as part of the basic module that's installed.\r\n\r\n> We'll also need your AVA configuration (in `package.json` or `ava.config.*` configuration files) and how you're invoking AVA. Share the installed AVA version (get it by running `npx ava --version`).\r\n\r\nAt this point i don't have any config files for ava, the initial install didn't seem to create.\r\n\r\nFWIW this is a `js` file but I am leaving the typescript error checking running, i find it catches a lot of type errors even in plain JS files without type declarations.\r\n",
                              "label": "bug",
                              "createdAt": "2020-07-14T16:09:16Z",
                              "closedAt": "2021-09-18T14:35:52Z",
                              "lastComment": "2021-09-18T14:11:44Z",
                              "commentCount": 16
                         },
                         {
                              "title": "used package micromatch not in `package.json`",
                              "description": "* What you're trying to do\r\nExecute `ava` binary\r\n\r\n* What happened\r\nAva and crashes because it 'Cannot find module micromatch' (see photo below)\r\n\r\n* What you expected to happen\r\nNo crash to occur\r\n\r\n* Steps\r\n```json\r\n// package.json\r\n{\r\n  \"scripts\": {\r\n    \"test\": \"ava\"\r\n  },\r\n  \"devDependencies\": {\r\n    \"ava\": \"^3.8.1\"\r\n  }\r\n}\r\n```\r\n\r\n```js\r\n// test/test.index.js\r\nimport test from 'ava'\r\n// or const test = require('test')\r\n```\r\n\r\n```sh\r\npnpm i\r\nyarn test\r\n```\r\n\r\nhere is the exact error i've received when executing `yarn test` after downloading ava with either pnpm or yarn 2\r\n\r\n![image](https://user-images.githubusercontent.com/24364012/81396641-a0025880-90da-11ea-95cb-928e2867b0b5.png)\r\n\r\nsince [micromatch](https://github.com/avajs/ava/blob/c8f31a39ca7a2b13a5b3c85c5b1467da2ecc5c7a/lib/line-numbers.js#L3) does appear to be used, i can create a pr to add micromatch (latest version 3.0.4, published 3 years ago), to the package.json if you wish.",
                              "label": "bug",
                              "createdAt": "2020-05-08T10:28:24Z",
                              "closedAt": "2020-05-08T11:59:46Z",
                              "lastComment": "2020-05-08T12:15:19Z",
                              "commentCount": 2
                         },
                         {
                              "title": "Crashes with Node 14",
                              "description": "Ava crashes when used with Node 14.\r\n\r\n`test.js`:\r\n\r\n```js\r\nrequire('ava')\r\n```\r\n\r\nCommand line:\r\n\r\n```bash\r\n$ NODE_OPTIONS=--trace-warnings ava test.js \r\n\r\n(node:27751) Warning: Accessing non-existent property 'levels' of module exports inside circular dependency\r\n    at emitCircularRequireWarning (internal/modules/cjs/loader.js:814:11)\r\n    at Object.get (internal/modules/cjs/loader.js:825:5)\r\n    at Object.<anonymous> (/home/ether/Desktop/node_modules/ava/lib/globs.js:7:16)\r\n    at Module._compile (internal/modules/cjs/loader.js:1185:30)\r\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:1205:10)\r\n    at Module.load (internal/modules/cjs/loader.js:1034:32)\r\n    at Function.Module._load (internal/modules/cjs/loader.js:923:14)\r\n    at Module.require (internal/modules/cjs/loader.js:1074:19)\r\n    at require (internal/modules/cjs/helpers.js:72:18)\r\n    at Object.<anonymous> (/home/ehmicky/Desktop/node_modules/ava/lib/provider-manager.js:2:15)\r\n```\r\n\r\nThis is using the default configuration (no configuration file, etc.).\r\n\r\nEnvironment:\r\n  - ava `3.7.1`\r\n  - node `14.0.0` (`13.13.0` does not have this bug)\r\n  - Ubuntu `19.10`",
                              "label": "bug",
                              "createdAt": "2020-04-25T15:04:16Z",
                              "closedAt": "2020-04-26T15:23:18Z",
                              "lastComment": "2020-04-26T15:23:18Z",
                              "commentCount": 4
                         },
                         {
                              "title": "Gitlab CI with ava and mongodb memory server",
                              "description": "Hello there,\r\n\r\nI am using Gitlab CI to execute ava test. Unfortunately, I got an error in pipeline on test execution:\r\n\r\n## Setup\r\n\r\n#### api-authorization.js\r\n\r\n```\r\nimport _ from 'lodash';\r\nimport { MongoMemoryServer } from 'mongodb-memory-server';\r\nimport test from 'ava';\r\nimport { ForbiddenError } from '@casl/ability';\r\nimport errors from '@feathersjs/errors';\r\nimport mongo from '../src/lib/mongo';\r\nimport app from '../src/apps/api';\r\nimport Account from '../src/models/Account';\r\nimport Organization from '../src/models/Organization';\r\n\r\nlet mongoMockServer;\r\n\r\ntest.before(async (t) => {\r\n  t.log('Trying to launch Mock Mongo DB');\r\n  mongoMockServer = new MongoMemoryServer({\r\n    instance: { port: 27017, dbName: 'gowento' },\r\n  });\r\n  const mongoUri = await mongoMockServer.getConnectionString();\r\n  await mongo.start(mongoUri);\r\n  t.log('Mongo Mock Server launched status: true');\r\n\r\n  // load Organization in database\r\n  await Organization.insertMany(fixtures.organizations);\r\n\r\n  // load Account in database\r\n  await Account.insertMany(fixtures.accounts);\r\n});\r\n\r\ntest.after(async () => {\r\n  await Account.remove({ email: { $in: _.map(fixtures.accounts, 'email') } });\r\n  await Organization.remove({\r\n    id: { $in: _.map(fixtures.organizations, 'id') },\r\n  });\r\n});\r\n\r\n```\r\n\r\n#### gitlab-ci.yml\r\n\r\n```\r\nimage: node\r\n\r\nstages:\r\n  - build\r\n  - test\r\n\r\ncache:\r\n  paths:\r\n    - node_modules/\r\n\r\ninstall_dependencies:\r\n  stage: build\r\n  tags:\r\n    - docker\r\n  script:\r\n    - npm run heroku-prebuild --trace-warnings\r\n    - npm install\r\n  artifacts:\r\n    paths:\r\n      - node_modules/\r\n\r\nlint:\r\n  stage: test\r\n  tags:\r\n    - docker\r\n  script:\r\n    - npm run lint\r\n\r\ntest:\r\n  stage: test\r\n  services:\r\n  - redis:latest\r\n  variables:\r\n    REDIS_URL: 'redis://redis:6379'\r\n    MONGODB_URI: 'mongodb://127.0.0.1:27017/gowento'\r\n  tags:\r\n    - docker\r\n  script:\r\n    - ./node_modules/.bin/ava test test/api-authorization.js --verbose\r\n```\r\n\r\n## Expected behaviour\r\n\r\nAll tests passed (works in local with same command from test script)\r\n\r\n## Actual behaviour\r\n\r\n#### pipeline from gitlab container\r\n```66 ℹ info\t[Redis] connected url=redis://redis:6379 enableOfflineQueue=false\r\n67 ℹ info\t[Redis Connection: shared bull client] connect \r\n68 ℹ info\t[Redis Connection: shared bull subscriber] connect \r\n69 ℹ info\t[Redis Connection: shared bull util] connect \r\n70 ℹ info\t[Redis Connection: shared bull client] ready \r\n71 ℹ info\t[Redis Connection: shared bull subscriber] ready \r\n72 ℹ info\t[Redis Connection: shared bull util] ready \r\n73 the options [debug] is not supported\r\n74   Uncaught exception in test/api-authorization.js\r\n75 ℹ info\t[Mongoose] connected uri=mongodb://127.0.0.1:27017/g...\r\n76   ✖ test/api-authorization.js exited with a non-zero exit code: 1\r\n77   1 uncaught exception\r\n81 ERROR: Job failed: exit code 1\r\n```\r\n\r\nIf you have any ideas, maybe a memory limit ...\r\n\r\nthanks you for your advices, even verbose doesn't provide any details :(\r\n\r\nMax.",
                              "label": "unlabeledBug",
                              "createdAt": "2020-04-23T15:08:32Z",
                              "closedAt": "2020-04-25T10:58:42Z",
                              "lastComment": "2020-04-25T10:58:42Z",
                              "commentCount": 1
                         },
                         {
                              "title": "Ava --match glob does not match newlines",
                              "description": "Here is how to reproduce\r\n\r\n```js\r\n// test.js\r\nimport test from 'ava';\r\ntest('test\\nhaha', t => t.pass());\r\n```\r\n\r\nThen\r\n\r\n    ava test.js -m 'test*'\r\n\r\nsays `Couldn’t find any matching tests`.\r\n\r\nBug or feature? My current workaround is to `JSON.stringify` titles.\r\n",
                              "label": "bug",
                              "createdAt": "2020-04-22T08:16:41Z",
                              "closedAt": "2020-04-27T11:47:37Z",
                              "lastComment": "2020-04-27T12:48:15Z",
                              "commentCount": 3
                         },
                         {
                              "title": "Parallel test failing when CI_NODE_TOTAL is strictly greater than total number of test files",
                              "description": "**How to reproduce**\r\n\r\nConsider an app with only 1 test file, `index.spec.ts`:\r\n\r\n```ts\r\nimport test from 'ava';\r\n\r\ntest('pass', t => {\r\n\tt.pass();\r\n});\r\n```\r\nand set the following environment variables\r\n\r\n```\r\nexport CI_NODE_INDEX=0\r\nexport CI_NODE_TOTAL=3\r\nexport AVA_FORCE_CI='ci'\r\n```\r\n\r\nRun the test\r\n\r\n```\r\n$ ava\r\n\r\n  ✔ pass\r\n\r\n  Ran 1 test file out of 1 for job 1 of 3\r\n\r\n  1 test passed\r\n\r\n✨  Done in 1.83s.\r\n```\r\n\r\nThen change the `CI_NODE_INDEX`: `export CI_NODE_INDEX=1`\r\n\r\n**Expected**\r\n\r\nava cannot find any test to run for this index (because there's only 1 test file in total) and **exits with 0**.\r\n\r\n**Current behavior**\r\n\r\nava exits with code 1 because it can't find any test file.\r\n\r\n```\r\n$ ava\r\n\r\n  ✖ Couldn’t find any files to test\r\n\r\nerror Command failed with exit code 1.\r\n```\r\n\r\nThe use case is that I have a monorepo and I activate the parallelisation globally at CI level. Some of the monorepo projects have more than 1 file, some don’t.  ",
                              "label": "bug",
                              "createdAt": "2020-04-18T08:42:32Z",
                              "closedAt": "2020-04-19T13:28:51Z",
                              "lastComment": "2020-07-23T15:16:07Z",
                              "commentCount": 4
                         },
                         {
                              "title": "Manual rerun doesn't work when verbose mode is off",
                              "description": "Hello,   \r\nI'm using AVA with watch mode, and noticed [the manual rerun][1] doesn't work if `verbose` mode is off in the config.\r\n\r\n### Setup\r\n\r\nrelated package.json part:\r\n```jsonc\r\n{\r\n  /* ... */\r\n  \"scripts\": {\r\n    \"test\": \"ava --config ava.config.verbose-off.js\",\r\n    \"test:verbose\": \"ava --config ava.config.verbose-on.js\"\r\n  },\r\n  \"devDependencies\": {\r\n    \"ava\": \"^3.7.0\"\r\n  }\r\n}\r\n```\r\n\r\n**ava.config.verbose-off.js**:\r\n```js\r\nexport default {\r\n        verbose: false,\r\n        watch: true,\r\n}\r\n```\r\n\r\n**ava.config.verbose-on.js**:\r\n```js\r\nexport default {\r\n        verbose: true,\r\n        watch: true,\r\n}\r\n```\r\n\r\n> I made a showcase repository to give a quick example of the problem: https://github.com/pcdevil/ava-verbose-test (after cloning, `npm install` is necessary)\r\n\r\n### Expected behaviour\r\nWhen I run the `npm run test` command the tests can be manually rerun by typing `r + <Enter>`.\r\n\r\n### Actual behaviour\r\nThe documented feature doesn't triggers AVA to rerun the tests, while using the `npm run test:verbose` task works properly.\r\n\r\n### Potential cause\r\nI see AVA uses the [MiniReporter][2] and  [VerboseReporter][3] respectively, and while [Watcher.observeStdin()][4] registers callback for the `\"data\"` event on `stdin`, it will never be called somehow when the MiniReporter is used.\r\n\r\nDue to the lack of domain knowledge I didn't dig deeper, but I see the two reporters have very similar codebase and I suspect a modification was not applied on both classes which made the MiniReporter behave incorrectly.\r\n\r\nThe amount of code duplication and the potential cause leads me to believe a targeted refactor would be beneficial to eliminate future discrepancies.   \r\nWith some guidance from a maintainer I'd happily work on this, but I didn't want to just jump and into and endless pit :)\r\n\r\n[1]: https://github.com/avajs/ava/blob/master/docs/recipes/watch-mode.md#manually-rerunning-all-tests\r\n[2]: https://github.com/avajs/ava/blob/master/lib/reporters/mini.js\r\n[3]: https://github.com/avajs/ava/blob/master/lib/reporters/verbose.js\r\n[4]: https://github.com/avajs/ava/blob/master/lib/watcher.js#L332",
                              "label": "bug",
                              "createdAt": "2020-04-17T12:49:26Z",
                              "closedAt": "2020-04-25T11:25:40Z",
                              "lastComment": "2020-04-23T07:07:48Z",
                              "commentCount": 5
                         },
                         {
                              "title": "JSPM and SystemJS - 404 not found",
                              "description": "Hi, we should fix a link for:\r\n'JSPM and SystemJS' is unfortunately invalid - official docs (recipes): https://github.com/avajs/ava \r\nhere: https://github.com/avajs/ava/blob/master/docs/recipes/jspm-systemjs.md\r\n\"404 not found\"\r\nBest greetings\r\n\r\n",
                              "label": "unlabeledBug",
                              "createdAt": "2020-04-04T13:43:33Z",
                              "closedAt": "2020-04-04T14:42:50Z",
                              "lastComment": "2020-04-04T14:43:03Z",
                              "commentCount": 3
                         },
                         {
                              "title": "Typescript: don't force @types/node to be included",
                              "description": "I've got a browser app, and I'm trying to ensure that `@types/node` aren't included as part of typescript's compilation environment.  I had this working with AVA v2, but AVA v3 is forcing `@types/node`, causing compilation issues.  \r\n\r\nHere's a example:\r\n\r\n```ts\r\n// src/foo.ts\r\nexport default function() {\r\n    // If @types/node is loaded, this errors on compilation \r\n    //   with \"NodeJS.Timeout is not assignable to number\"\r\n    let timeout: number = setTimeout(() => console.log(\"Ping\"), 2000);\r\n}\r\n```\r\n\r\n```ts\r\n// tests/foo.test.ts\r\nimport test from \"ava\";\r\n//...\r\n```\r\n\r\n\r\n```ts\r\n// tsconfig.json\r\n{\r\n    \"compilerOptions\": {\r\n        // Prevent TS from automatically loading ambient definitions from node_modules/@types\r\n        // except those explicitly listed here\r\n        \"types\": [],\r\n    },\r\n    \"include\": [\"src\"],\r\n}\r\n\r\n// tsconfig.test.json\r\n{\r\n    \"extends\": \"./tsconfig\",\r\n    \"include\": [\"src\", \"tests\"]\r\n}\r\n```\r\n\r\nThe project compiles correctly with `tsconfig.json` but fails with `tconfig.test.json`, because @types/node gets pulled in.  The culprit is this line, which was added by #2154:\r\n\r\n```ts\r\n/// <reference types=\"node\"/>\r\n```\r\n\r\nThat causes `@types/node` to be pulled in explicitly, and `foo.ts` fails to compile.  (I've confirmed that removing that line from `node_modules/ava/index.d.ts` fixes the compilation)\r\n\r\n---\r\n\r\nThe only workaround I could come up with from my end, (other than adding @types/node to my non-test code and changing the annotations) would be to move to a [Typecript project references](https://www.typescriptlang.org/docs/handbook/project-references.html) setup, which is non-trivial.",
                              "label": "bug",
                              "createdAt": "2020-02-13T14:53:41Z",
                              "closedAt": "2020-02-16T12:03:50Z",
                              "lastComment": "2020-02-16T11:57:09Z",
                              "commentCount": 1
                         },
                         {
                              "title": "\"Enhancement compilation must be configured in AVA’s Babel options\" error with TypeScript.",
                              "description": "I'm trying to run some unit tests with TypeScript using `ts-node` package as described in official ava's TS [recipe](https://github.com/avajs/ava/blob/master/docs/recipes/typescript.md).\r\n\r\nFacing an error:\r\n```\r\n> node ./node_modules/ava/cli.js\r\n\r\n  ✖ Enhancement compilation must be configured in AVA’s Babel options.\r\nnpm ERR! code ELIFECYCLE\r\nnpm ERR! errno 1\r\nnpm ERR! some_package@0.0.1 test: `node ./node_modules/ava/cli.js`\r\nnpm ERR! Exit status 1\r\n```\r\n\r\nNode version: 13.6.0\r\nAva version: 3.0.0\r\nTypeScript version: 3.7.5\r\nOS: Linux Mint 19.1 (Tessa)\r\nRunning ava both ways leads to same result: \r\n`node ./node_modules/ava/cli.js` as locally installed\r\n`ava` as globally installed.\r\n\r\nMust note that with ava v2.4.0 everything works as expected.\r\nRepository to reproduce: https://github.com/meyve/ava_test\r\n",
                              "label": "bug",
                              "createdAt": "2020-01-20T16:59:14Z",
                              "closedAt": "2020-01-21T11:54:58Z",
                              "lastComment": "2021-04-02T13:34:59Z",
                              "commentCount": 15
                         },
                         {
                              "title": "Update AVA link in Markdown reports",
                              "description": "The URL here is wrong:\r\n\r\nhttps://github.com/avajs/ava/blob/ad27246dd0938a24974eaccc76189fe3ee7a8d18/lib/snapshot-manager.js#L137\r\n\r\nIt should be `https://avajs.dev`.",
                              "label": "bug",
                              "createdAt": "2020-01-17T13:06:15Z",
                              "closedAt": "2020-01-18T14:29:36Z",
                              "lastComment": "",
                              "commentCount": 0
                         },
                         {
                              "title": "Cannot update snapshots",
                              "description": "I am trying out ava@3.0.0-beta.1 and noticed that `update-snapshots` is broken. \r\nThe tests run, but the snapshots are not updated, and it reports a snapshot mismatch failure.\r\n\r\n### Config\r\n\r\nCopy the relevant section from `package.json`:\r\n\r\n```json\r\n\"ava\": {\r\n    \"files\": [\r\n      \"dist/**/test.js\",\r\n      \"dist/**/test/**/*.js\",\r\n      \"!dist/**/test/fixtures/**/*.js\",\r\n      \"!dist/**/helpers/**\"\r\n    ],\r\n    \"serial\": false,\r\n    \"ignoredByWatcher\": [\r\n      \"dist/**/*.js\"\r\n    ]\r\n  }\r\n```\r\n\r\n### Command-Line Arguments\r\n\r\nI upgraded @types/node, per #2332\r\n\r\n```\r\n-    \"@types/node\": \"^12.12.24\",\r\n-    \"ava\": \"^2.4.0\",\r\n+    \"@types/node\": \"^13.1.6\",\r\n+    \"ava\": \"3.0.0-beta.1\",\r\n```\r\n& `\"sources\" -> \"ignoredByWatcher\"` per the warning reported. \r\n\r\n## Environment\r\n\r\n```\r\n$ npx ava --version\r\n3.0.0-beta.1\r\n```\r\n",
                              "label": "bug",
                              "createdAt": "2020-01-10T03:44:05Z",
                              "closedAt": "2020-01-12T13:54:39Z",
                              "lastComment": "2020-01-12T11:53:20Z",
                              "commentCount": 3
                         },
                         {
                              "title": "Globals are no longer available when loading ava.config.js",
                              "description": "This is a regression in the upcoming v3 release.\r\n\r\n`ava.config.js` is given special treatment. Unfortunately I neglected to expose certain globals:\r\n\r\nhttps://github.com/avajs/ava/blob/090884b5040a1d4b02a18939245f7c2305228e00/lib/load-config.js#L27\r\n\r\nWe should add:\r\n\r\n* `process`\r\n* `console`\r\n\r\nAnd that's about all I can think of at this stage.",
                              "label": "bug",
                              "createdAt": "2020-01-09T13:55:34Z",
                              "closedAt": "2020-01-12T14:10:29Z",
                              "lastComment": "2020-01-12T11:43:25Z",
                              "commentCount": 2
                         },
                         {
                              "title": "Passing t.assert() does not count as a passed assertion",
                              "description": "This is a regression in the upcoming v3 release.\r\n\r\nThe `t.assert()` implementation *without* power-assert in broken:\r\n\r\nhttps://github.com/avajs/ava/blob/090884b5040a1d4b02a18939245f7c2305228e00/lib/assert.js#L856\r\n\r\nAfter calling `fail()` we need to `return`. Then outside of that if-condition, we need to call `pass()`.\r\n\r\nSee https://github.com/avajs/ava/blob/090884b5040a1d4b02a18939245f7c2305228e00/lib/assert.js#L837:L840 for an example.\r\n\r\nOur tests don't cover this but that'll be a lot harder to address.",
                              "label": "bug",
                              "createdAt": "2020-01-09T13:08:11Z",
                              "closedAt": "2020-01-12T13:54:02Z",
                              "lastComment": "2020-01-10T09:46:57Z",
                              "commentCount": 2
                         },
                         {
                              "title": "Fix helper & fixture exclusion patterns; unpin picomatch",
                              "description": "In these two patterns, we should be using `,` rather than `|`:\r\n\r\nhttps://github.com/avajs/ava/blob/7c352db5b929ac9e59daf9dd12f6387d38639d1a/lib/globs.js#L65:L66\r\n\r\nOnce resolved, we can unpin `picomatch` and update to its latest version:\r\n\r\nhttps://github.com/avajs/ava/blob/7c352db5b929ac9e59daf9dd12f6387d38639d1a/package.json#L95",
                              "label": "bug",
                              "createdAt": "2020-01-06T08:39:03Z",
                              "closedAt": "2020-01-12T14:07:51Z",
                              "lastComment": "2020-01-12T12:06:56Z",
                              "commentCount": 1
                         },
                         {
                              "title": "`*.snap` files content should be the same regardless of test execution order ",
                              "description": "## Description\r\n\r\nWhen a test file has several parallel async tests and each of those tests call `t.snapshot()`, the resulting `*.snap` file is non-deterministic. The contents of the `*.snap` file depends on the order in which tests finished.\r\n\r\nIn such cases, tests pass correctly. However the `*.snap` files contents keep being updated, which means they are shown as dirty files by `git status` and they result in merge conflicts, especially in PRs.\r\n\r\nMaking `*.snap` file contents independent of test execution order would solve this issue.\r\n\r\n### Test Source\r\n\r\n`test.js`\r\n\r\n```js\r\nconst test = require('ava')\r\n\r\nconst { promisify } = require('util')\r\nconst pSetTimeout = promisify(setTimeout)\r\n\r\ntest('one', async t => {\r\n  await pSetTimeout(Math.random() * 1e3)\r\n  t.snapshot('one')\r\n})\r\n\r\ntest('two', async t => {\r\n  await pSetTimeout(Math.random() * 1e3)\r\n  t.snapshot('two')\r\n})\r\n```\r\n\r\nRunning `ava -u` on this file produces different `*.snap` depending on whether `one` or `two` finishes first.\r\n\r\n```\r\n$ ava -u test.js && sha256sum test.js.snap \r\n\r\n  2 tests passed\r\n\r\n99b2f48bae8ee408643d0885635d18f1373ab17f2d3988160f5d5fc36e525f47  test.js.snap\r\n\r\n$ ava -u test.js && sha256sum test.js.snap \r\n\r\n  2 tests passed\r\n\r\nfbaf5758abca960c7b8e1daf7e06785cabed91c641d7daf595fb6939befd7daa  test.js.snap\r\n\r\n$ ava -u test.js && sha256sum test.js.snap \r\n\r\n  2 tests passed\r\n\r\n99b2f48bae8ee408643d0885635d18f1373ab17f2d3988160f5d5fc36e525f47  test.js.snap\r\n```\r\n\r\n### Command-Line Arguments\r\n\r\nCopy your npm build scripts or the `ava` command used:\r\n\r\n```\r\nava -u test.js\r\n```\r\n\r\n\r\n## Environment\r\n\r\nTell us which operating system you are using, as well as which versions of Node.js, npm, and AVA. Run the following to get it quickly:\r\n\r\n```\r\n$ node -e \"var os=require('os');console.log('Node.js ' + process.version + '\\n' + os.platform() + ' ' + os.release())\"\r\nNode.js v13.3.0\r\nlinux 5.3.0-24-generic\r\n$ ava --version\r\n2.4.0\r\n$ npm --version\r\n6.13.4\r\n```",
                              "label": "bug",
                              "createdAt": "2019-12-13T13:09:48Z",
                              "closedAt": "2020-12-06T17:57:09Z",
                              "lastComment": "2020-12-07T15:23:50Z",
                              "commentCount": 3
                         },
                         {
                              "title": "Surface errors in loading the test file, rather than misleadingly stating there are no tests",
                              "description": "## Description\r\n\r\nCurrently, if anything in the test's dependency tree is missing, AVA gives a message \"no tests found in <test file>\":\r\n\r\n<img width=\"323\" alt=\"Screen Shot 2019-11-07 at 05 45 39\" src=\"https://user-images.githubusercontent.com/8344688/68363188-e8d45700-0121-11ea-8c6d-f8c93ebe4a00.png\">\r\n\r\nLet's make this message more meaningful!\r\n\r\nFrom a user's perspective, it's very frustrating because one has to manually go through all dependencies and often it's a typing error or wrong way the API is consumed which makes it even harder to spot what's missing. ESLint plugins like [no-unresolved](https://github.com/benmosher/eslint-plugin-import/blob/master/docs/rules/no-unresolved.md) don't help either. It's very easy to mis-wire the own API and not to trigger ESLint.\r\n\r\nWhen such error happens, there must be a real error message somewhere deep, probably it is just not \"piped through\" to the end-user though AVA's innards. Maybe it's `esm` or between the AVA and its dependencies?\r\n\r\nOften people encounter this like in #1903 and Support here helps to pinpoint the missing dependency but we should do something at the higher level to make the messages more meaningful so that users could help themselves. And save everybody's time.\r\n\r\n### Test Source\r\n\r\nMake a dependency not to be resolved one way or another.\r\n\r\ntest file:\r\n\r\n```js\r\nimport test from \"ava\";\r\nimport {something} from \"package1\";\r\ntest(\"01\", t => {\r\nt.pass(\"just pass\");\r\n})\r\n```\r\n\r\njust make it so that \"package1\" does not export \"something\", and you'll get this error \"no tests found in <test file>\".\r\n\r\n## Config\r\n\r\nI'm using `esm` and my sources are in ES modules, if it matters.\r\n\r\nFrom package.json:\r\n\r\n```\r\n  \"ava\": {\r\n    \"cache\": false,\r\n    \"compileEnhancements\": false,\r\n    \"require\": [\r\n      \"esm\"\r\n    ],\r\n    \"timeout\": \"99m\",\r\n    \"verbose\": true\r\n  },\r\n  \"esm\": {\r\n    \"await\": true,\r\n    \"cjs\": true\r\n  },\r\n```\r\n\r\n## Environment\r\n\r\nMacOS and ava 2.4.0",
                              "label": "bug",
                              "createdAt": "2019-11-07T06:18:58Z",
                              "closedAt": "2020-05-25T16:58:55Z",
                              "lastComment": "2020-05-25T16:58:55Z",
                              "commentCount": 3
                         },
                         {
                              "title": "Dynamic import fails with \"Error: Not Supported\"",
                              "description": "## Description\r\n\r\nIn a Node lts/dubnium (12.13)-project using Fastify i widely adopt ES-Modules.\r\n\r\nI use Ava for tests and (only during tests) i got the error message `Error: not supported`.\r\n\r\nAfter some research it turned out to be an `import()`-statement in the fastify-service at the given route.\r\n\r\nHowever https://github.com/avajs/babel-preset-stage-4 should already support `import()`.\r\n\r\n~~> I was able to \"fix\" this for now by adding a `.babelrc`-file adding `@babel/plugin-syntax-dynamic-import` and `@babel/present-env`.~~ (False positive)\r\n\r\n### Test Source\r\n\r\n```js\r\n// (Partial) test file\r\nimport {acceptance} from '../_helper'\r\n\r\nacceptance.hook(test) // Things are loaded here\r\n// ... - The test is irrelevant\r\n```\r\n\r\n```js\r\n// (Partial) _helper.js\r\nconst newFastify = require('fastify')\r\nconst fastifyPlugin = require('fastify-plugin')\r\nconst App = require('../app')\r\n// ...\r\nexport const acceptance = {\r\n\thook: test => {\r\n\t\ttest.beforeEach(async t => {\r\n\t\t\tconst fastify = newFastify()\r\n// ...\r\n\t\t\tfastify.register(fastifyPlugin(App))\r\n// ...\r\n```\r\n\r\n```js\r\n// (Partial) login-service (tested endpoint, loaded by the fastify-app)\r\nmodule.exports = async fastify => {\r\n\tconst Password = await import('../models/password.mjs')\r\n// ...\r\n```\r\n\r\n### Error Message & Stack Trace\r\n\r\n```\r\n  ✔ first test\r\nError: Not supported\r\n    at module.exports (<snip>/services/login.js:2:19)\r\n    at Plugin.exec (<snip>/node_modules/avvio/plugin.js:89:17)\r\n    at Boot.loadPlugin (<snip>/node_modules/avvio/plugin.js:175:10)\r\n    at Task.release (<snip>/node_modules/fastq/queue.js:127:16)\r\n    at worked (<snip>/node_modules/fastq/queue.js:169:10)\r\n    at <snip>/node_modules/avvio/plugin.js:178:7\r\n    at done (<snip>/node_modules/avvio/plugin.js:136:5)\r\n    at check (<snip>/node_modules/avvio/plugin.js:147:7)\r\n    at processTicksAndRejections (internal/process/task_queues.js:75:11)\r\n  ✖ tests/features/sign-in.js exited with a non-zero exit code: 1\r\n\r\n  1 test passed\r\n```\r\n\r\n### Config\r\n\r\nCopy the relevant section from `package.json`:\r\n\r\n```json\r\n{\r\n  \"ava\": {\r\n    \"verbose\": true\r\n  }\r\n}\r\n```\r\n\r\n### Command-Line Arguments\r\n\r\n```\r\nava\r\n```\r\n\r\n\r\n## Relevant Links\r\n\r\n- This is similar to #1990 with the difference that the stage-4-support should include the dynamic import\r\n\r\n\r\n## Environment\r\n\r\n```\r\nNode.js v12.13.0\r\nlinux 5.3.0-19-generic (Ubuntu 19.10)\r\nava: 2.4.0\r\nnpm: 6.12.0\r\n```\r\n\r\n# :gift_heart: \r\n\r\nAs always - if there's anything i can do to fix it by creating an PR - please give me a hint!",
                              "label": "unlabeledBug",
                              "createdAt": "2019-10-31T09:09:05Z",
                              "closedAt": "2019-10-31T09:29:41Z",
                              "lastComment": "2019-11-05T10:11:59Z",
                              "commentCount": 10
                         },
                         {
                              "title": "Bug: require does not read environmentVariables properly",
                              "description": "I tried looking for existing issues but couldn't find any that match my exact scenario.\r\n\r\nI'm trying to use `ts-node` with Ava, and everything works fine at first glance.\r\n\r\nHowever, if I then have a declarations (`.d.ts`) file:\r\n\r\n```typescript\r\nvar ENV_TEST: boolean;\r\n```\r\n\r\nAnd I load my tests, TypeScript files referencing that variable will give the error:\r\n\r\n> ReferenceError: ENV_DEV is not defined\r\n\r\nI already set `TS_NODE_FILES` to `true`, and that didn't help.\r\n\r\nDoes anyone have a working sample somewhere using `ava` and `ts-node` that includes declaration (`.d.ts`) files?",
                              "label": "unlabeledBug",
                              "createdAt": "2019-10-08T12:21:57Z",
                              "closedAt": "2019-10-13T13:40:31Z",
                              "lastComment": "2019-10-13T13:40:31Z",
                              "commentCount": 2
                         },
                         {
                              "title": "No output when remote debugging",
                              "description": "I am debugging a program in a Vagrant VM using VSCode's Remote SSH extension. My launch.json looks like this (as explained [here](https://github.com/avajs/ava/blob/master/docs/recipes/debugging-with-vscode.md)). \r\n\r\n\r\n    {\r\n    \"version\": \"0.2.0\",\r\n    \"configurations\": [\r\n        {\r\n            \"type\": \"node\",\r\n            \"request\": \"launch\",\r\n            \"name\": \"Run AVA test\",\r\n            \"program\": \"${workspaceFolder}/node_modules/ava/profile.js\",\r\n            \"args\": [\r\n              \"${file}\"\r\n            ],\r\n            \"skipFiles\": [\r\n                \"<node_internals>/**/*.js\"\r\n            ]\r\n        }\r\n    ]\r\n    }\r\n\r\nWhen I start the debugger, it works well (it stops at `debugger;` breakpoints, VS Code breakpoints don't work) but the only output I have is this : \r\n\r\n    /usr/bin/node --inspect-brk=22173 node_modules/ava/profile.js /home/vagrant/ANNA- \r\n    Backend/src/modules/users/test/users.js \r\n    Debugger listening on ws://127.0.0.1:22173/619dae58-d662-4fa8-a147-a8bce9579192\r\n    Debugger attached.\r\n    Waiting for the debugger to disconnect...\r\n\r\nEDIT : When running in console `node node_modules/ava/profile.js ./src/modules/users/test/users.js`, I have the desired output.\r\n\r\nIs there a way I can have a tests output, to know which tests passed / failed ? \r\nBonus points if there is a solution for VS Code breakpoints \r\n\r\nThanks\r\n\r\nEDIT 2 : Nevermind, I found. Solution is [here](https://stackoverflow.com/questions/51810557/where-is-stdout-for-vs-code) for anyone in the same situation.",
                              "label": "unlabeledBug",
                              "createdAt": "2019-09-27T14:04:58Z",
                              "closedAt": "2019-09-27T14:10:18Z",
                              "lastComment": "",
                              "commentCount": 0
                         },
                         {
                              "title": "TryFn type makes ExecutionContext not covariant",
                              "description": "## Description\r\n\r\nWhen moving some utility initialization into a separate file / module, we sometimes use a base `BaseContext` interface which could be extended as needed by other tests. The issue can be worked around with by not defining functions using the `ExecutionContext` type, but sometimes would just be more verbose and in other cases less type-safe.\r\n\r\n### Test Source\r\n\r\n```typescript\r\nimport anyTest, { TestInterface, ExecutionContext } from 'ava';\r\n\r\ninterface BaseContext  { a: string; }\r\ninterface Context extends BaseContext { b: string; }\r\n\r\nconst test = anyTest as TestInterface<Context>;\r\nfunction baseBefore(t: ExecutionContext<BaseContext>){ }\r\ntest.beforeEach(baseBefore);\r\n```\r\n\r\n### Error Message & Stack Trace\r\n\r\n```\r\nTS2345: Argument of type '(t: ExecutionContext<BaseContext>) => void' is not assignable to parameter of type 'OneOrMoreMacros<[], Context>'.\r\n  Type '(t: ExecutionContext<BaseContext>) => void' is not assignable to type 'UntitledMacro<[], Context>'.\r\n    Types of parameters 't' and 't' are incompatible.\r\n      Type 'ExecutionContext<Context>' is not assignable to type 'ExecutionContext<BaseContext>'.\r\n        Types of property 'try' are incompatible.\r\n          Type 'TryFn<Context>' is not assignable to type 'TryFn<BaseContext>'.\r\n            Types of parameters 'fn' and 'fn' are incompatible.\r\n              Type 'EitherMacro<any, BaseContext>' is not assignable to type 'EitherMacro<any, Context>'.\r\n                Type 'UntitledMacro<any, BaseContext>' is not assignable to type 'EitherMacro<any, Context>'.\r\n                  Type 'UntitledMacro<any, BaseContext>' is not assignable to type 'UntitledMacro<any, Context>'.\r\n                    Type 'BaseContext' is not assignable to type 'Context'.\r\n```\r\n\r\n### Config\r\n\r\nDefault\r\n\r\n### Command-Line Arguments\r\n\r\n```\r\ntsc\r\n```\r\n\r\n## Environment\r\n\r\nTypeScript 3.6.3, AVA 2.4.0\r\n\r\n",
                              "label": "bug",
                              "createdAt": "2019-09-19T15:07:41Z",
                              "closedAt": "2021-07-10T13:41:20Z",
                              "lastComment": "2019-09-24T19:18:12Z",
                              "commentCount": 3
                         },
                         {
                              "title": "Can't debug on windows with vscode",
                              "description": "## Description\r\n\r\nDebugging immediately fails with\r\n```\r\nTypeError: require(...).getRunner is not a function\r\n```\r\n\r\n```json\r\n{\r\n  \"version\": \"0.2.0\",\r\n  \"configurations\": [\r\n    {\r\n      \"type\": \"node\",\r\n      \"request\": \"launch\",\r\n      \"name\": \"Run AVA Current File\",\r\n      \"program\": \"${workspaceFolder}/src/node_modules/ava/profile.js\",\r\n      \"cwd\": \"${workspaceFolder}/src/packages/lca\",\r\n      \"internalConsoleOptions\": \"neverOpen\",\r\n      \"autoAttachChildProcesses\": true,\r\n      \"outputCapture\": \"std\",\r\n      \"env\": {\r\n        \"NODE_ENV\": \"test\"\r\n      },\r\n      \"args\": [\"${file}\"],\r\n      \"skipFiles\": [\"<node_internals>/**/*.js\"]\r\n    }\r\n  ]\r\n}\r\n```\r\n\r\n### Test Source\r\n\r\n```js\r\ntest.serial('Should...', async t => {\r\nconst a = 1;\r\n});\r\n\r\n```\r\n\r\n### Error Message & Stack Trace\r\n\r\n```\r\nException has occurred: TypeError\r\nTypeError: require(...).getRunner is not a function\r\n    at Object.<anonymous> (c:\\Users\\denni\\test-web\\src\\node_modules\\ava\\lib\\worker\\main.js:2:40)\r\n    at Module._compile (internal/modules/cjs/loader.js:778:30)\r\n    at Module._extensions..js (internal/modules/cjs/loader.js:789:10)\r\n    at extensions.(anonymous function) (C:\\Users\\denni\\test-web\\src\\node_modules\\require-precompiled\\index.js:16:3)\r\n    at Object.require.extensions.(anonymous function) [as .js] (C:\\Users\\denni\\test-web\\src\\node_modules\\ava\\lib\\worker\\dependency-tracker.js:42:4)\r\n    at Module.load (internal/modules/cjs/loader.js:653:32)\r\n    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)\r\n    at Function.Module._load (internal/modules/cjs/loader.js:585:3)\r\n    at Module.require (internal/modules/cjs/loader.js:692:17)\r\n    at require (internal/modules/cjs/helpers.js:25:18)\r\n    at Object.<anonymous> (c:\\Users\\denni\\test-web\\src\\node_modules\\ava\\index.js:7:19)\r\n    at Module._compile (internal/modules/cjs/loader.js:778:30)\r\n    at Module._extensions..js (internal/modules/cjs/loader.js:789:10)\r\n    at extensions.(anonymous function) (C:\\Users\\denni\\test-web\\src\\node_modules\\require-precompiled\\index.js:16:3)\r\n    at Object.require.extensions.(anonymous function) [as .js] (C:\\Users\\denni\\test-web\\src\\node_modules\\ava\\lib\\worker\\dependency-tracker.js:42:4)\r\n    at Module.load (internal/modules/cjs/loader.js:653:32)\r\n```\r\n\r\n### Config\r\n\r\nCopy the relevant section from `package.json`:\r\n\r\n```json\r\nexport default {\r\n  cache: true,\r\n  concurrency: 5,\r\n  failFast: true,\r\n  failWithoutAssertions: false,\r\n  tap: true,\r\n  verbose: true,\r\n  compileEnhancements: false,\r\n  babel: false,\r\n  environmentVariables: {\r\n    NODE_ICU_DATA: '../../node_modules/full-icu'\r\n  },\r\n  sources: ['server/**/*']\r\n};\r\n```\r\n\r\n### Command-Line Arguments\r\n\r\nCopy your npm build scripts or the `ava` command used:\r\n\r\n```\r\ncd 'C:\\Users\\denni\\test-web/src/packages/lca'; ${env:NODE_ENV}='test'; & 'C:\\Program Files\\nodejs\\node.exe' '--inspect-brk=22640' '..\\..\\node_modules\\ava\\profile.js' 'c:\\Users\\denni\\test-web\\src\\packages\\lca\\server\\test\\digest-auth.spec.int.js'\r\n```\r\n\r\n\r\n## Relevant Links\r\n\r\n- If your project is public, link to the repo so we can investigate directly.\r\n- **BONUS POINTS:** Create a [minimal reproduction](http://stackoverflow.com/help/mcve) and upload it to GitHub. This will get you the fastest support.\r\n\r\n\r\n## Environment\r\n\r\nTell us which operating system you are using, as well as which versions of Node.js, npm, and AVA. Run the following to get it quickly:\r\n\r\n```\r\nNode.js v10.16.3\r\nwin32 10.0.17763\r\nava --version\r\n2.3.0\r\nnpm --version\r\n6.9.0\r\n```\r\n",
                              "label": "bug",
                              "createdAt": "2019-09-11T15:55:20Z",
                              "closedAt": "2020-05-24T16:02:20Z",
                              "lastComment": "2020-05-24T16:02:20Z",
                              "commentCount": 4
                         },
                         {
                              "title": "Test should be reported as failed if hook failed",
                              "description": "\r\n## Description\r\n\r\nThe tap reporter swallows failures which occur within the hooks:\r\nhttps://github.com/avajs/ava/blob/v2.3.0/lib/reporters/tap.js#L144\r\n\r\nThe failure is being recorded as a comment, which will be ignored by a tap parser.  This means that after parsing it the run will be considered a pass if there was a problem in the hooks that prevented a test from running.\r\n\r\nIn our use case tests need to setup accounts before executing.  When a PR is made and the tests run, we don't want the test to pass if it can't be executed, it should be marked as a failure for us to look into.\r\n\r\n\r\n### Test Source\r\n\r\n```js\r\ntest.serial.beforeEach('Auto failure in hook', () => {throw new Error('Simulated failure');});\r\n```\r\n\r\n### Error Message & Stack Trace\r\n\r\n```\r\n# Failed hook: Setup accounts for The test name\r\n```\r\n\r\n### Config\r\n\r\nCopy the relevant section from `package.json`:\r\n\r\n```json\r\n{\r\n  \"ava\": {\r\n        \"compileEnhancements\": false,\r\n        \"extensions\": [\r\n            \"ts\"\r\n        ],\r\n        \"require\": [\r\n            \"ts-node/register\"\r\n        ]\r\n    }\r\n}\r\n```\r\n\r\n### Command-Line Arguments\r\n\r\nCopy your npm build scripts or the `ava` command used:\r\n\r\n```\r\n$(npm bin)/ava --tap --timeout=3m -c 8 -t dist/test/*.js\r\n```\r\n\r\n\r\n## Relevant Links\r\n\r\n- If your project is public, link to the repo so we can investigate directly.\r\n- **BONUS POINTS:** Create a [minimal reproduction](http://stackoverflow.com/help/mcve) and upload it to GitHub. This will get you the fastest support.\r\n\r\n\r\n## Environment\r\n\r\nTell us which operating system you are using, as well as which versions of Node.js, npm, and AVA. Run the following to get it quickly:\r\n\r\n```\r\nnode -e \"var os=require('os');console.log('Node.js ' + process.version + '\\n' + os.platform() + ' ' + os.release())\"\r\nlocal: darwin 18.6.0\r\nSame issue in other linux based environments\r\nava --version\r\nv2.3.0\r\nnpm --version\r\n6.4.1\r\n```\r\n",
                              "label": "bug",
                              "createdAt": "2019-09-04T18:25:54Z",
                              "closedAt": "2019-11-10T15:33:53Z",
                              "lastComment": "2019-10-28T17:08:47Z",
                              "commentCount": 11
                         },
                         {
                              "title": "Pronunciation file can not be played",
                              "description": "In the readme, the [link to pronunciation](https://github.com/avajs/ava/blob/master/media/pronunciation.m4a?raw=true) won't play the pronunciation because it violates content Security Policy directive.\r\n\r\n```text\r\nRefused to load media from 'https://raw.githubusercontent.com/avajs/ava/master/media/pronunciation.m4a' because it violates the following Content Security Policy directive: \"default-src 'none'\". Note that 'media-src' was not explicitly set, so 'default-src' is used as a fallback.\r\nBlocked script execution in 'https://raw.githubusercontent.com/avajs/ava/master/media/pronunciation.m4a' because the document's frame is sandboxed and the 'allow-scripts' permission is not set.\r\n```",
                              "label": "bug",
                              "createdAt": "2019-08-26T10:07:43Z",
                              "closedAt": "2020-05-19T06:49:47Z",
                              "lastComment": "2020-05-19T06:49:47Z",
                              "commentCount": 3
                         },
                         {
                              "title": "Adding additional information to tap output",
                              "description": "In my tap output I get this:\r\n```\r\n# test › Make test\r\nnot ok 22 - test › Make test\r\n  ---\r\n    name: AssertionError\r\n    assertion: assert\r\n    operator: '!!'\r\n    values:\r\n      'Value is not truthy:': 'false'\r\n    at: |-\r\n      assert (test/services/test/test.js:47:7)\r\n      t (test/services/test.js:40:14)\r\n  ...\r\n```\r\n\r\nBut what I want is additional information that I can parse later to a JSON.\r\nI tried it with test.log() but it always prefixes an asterisk (*) so the default tap-parser ignores it =/\r\n\r\n```\r\n# test › Make test\r\nnot ok 22 - test › Make test\r\n  * ---\r\n  * lala: lolo\r\n  * ...\r\n  ---\r\n    name: AssertionError\r\n    assertion: assert\r\n    operator: '!!'\r\n    values:\r\n      'Value is not truthy:': 'false'\r\n    at: |-\r\n      assert (test/services/test/test.js:47:7)\r\n      t (test/services/test.js:40:14)\r\n  ...\r\n```\r\n\r\nIs it impossible to add just some payload to the tap output? This is so inflexible...",
                              "label": "unlabeledBug",
                              "createdAt": "2019-08-20T08:34:14Z",
                              "closedAt": "2019-08-21T07:27:51Z",
                              "lastComment": "2019-08-21T07:27:51Z",
                              "commentCount": 3
                         },
                         {
                              "title": "Issues with .only - tests double run and tests do not recover",
                              "description": "## Description\r\n\r\nI've been experiencing 2 issues with `.only` since 2.0.0 (or maybe earlier, I can't remember for sure). I believe the issues persisted in 2.1.0 and 2.2.0.\r\n\r\nMy typical workflow is:\r\n\r\n1. Run tests in a specific file, e.g. `ava test/test-tiny-atom.js -vw`\r\n2. Pick one test and add `.only`\r\n3. Once I'm done with that test, remove .only\r\n\r\n**Expected behaviour**:\r\n1. All tests run in the file\r\n2. Only the one tests with .only runs\r\n3. All tests run in the file OR I can hit r+enter to rerun all.\r\n\r\n**Actual behaviour**:\r\n1. All tests run in the file\r\n2. Only the one tests with .only runs the first time, and then that test starts running twice on each rerun.\r\n3. No tests are run after removing .only, r+enter doesn't do anything.\r\n\r\n### Test Source\r\n\r\nReproducable tests in the following repo: https://github.com/KidkArolis/tiny-atom. But I've been experiencing this issue with all of my repos using ava.\r\n\r\n### Error Message & Stack Trace\r\n\r\n* See how `does not mutate the state object` test runs twice\r\n* See how r+enter doesn't do anything\r\n\r\n![image](https://user-images.githubusercontent.com/324440/62687708-3e805280-b9bf-11e9-9795-41316afec22e.png)\r\n\r\n\r\n### Config\r\n\r\nCopy the relevant section from `package.json`:\r\n\r\n```json\r\n  \"ava\": {\r\n    \"files\": [\r\n      \"test/test-*.js\"\r\n    ],\r\n    \"require\": [\r\n      \"@babel/register\",\r\n      \"./test/helpers/setup.js\"\r\n    ]\r\n  },\r\n```\r\n\r\n### Command-Line Arguments\r\n\r\n```\r\nava test/test-tiny-atom.js -vw\r\n```\r\n\r\n## Environment\r\n\r\n```\r\nos darwin 18.7.0\r\nnode 10.15.3\r\nava 2.1.0\r\nnpm 6.10.0\r\n```\r\n",
                              "label": "bug",
                              "createdAt": "2019-08-08T08:34:47Z",
                              "closedAt": "2019-08-18T13:59:55Z",
                              "lastComment": "2019-08-19T09:38:59Z",
                              "commentCount": 8
                         },
                         {
                              "title": "Reporters shouldn't assume the only error when `--match` is used is that it didn't match any tests",
                              "description": "Steps to reproduce (AVA: 2.2.0, macOS Mojave, Node.js 12.6):\r\n\r\n* Download and unzip https://exploringjs.com/impatient-js/downloads/impatient-js-preview-code.zip\r\n* Edit `package.json` and remove `--verbose`:\r\n  * BEFORE: `\"test\": \"ava --verbose --match \\\"!*#bonus\\\"\",`\r\n  * AFTER: `\"test\": \"ava --match \\\"!*#bonus\\\"\",`\r\n* `npm install`\r\n* `npm t installation_test.mjs` [works properly]\r\n\r\nInteraction 1: bug (error output is hidden)\r\n\r\n```\r\n$ npm t ./exercises/strings/remove_extension_test.mjs\r\n\r\n  ✖ Couldn't find any matching tests\r\n```\r\n\r\nInteraction 2: desired output\r\n\r\n```\r\n$ npm t ./exercises/strings/remove_extension_test.mjs  -- -v\r\n\r\n  Uncaught exception in exercises/strings/remove_extension_test.mjs\r\n\r\n  Error: Cannot find module './remove_extension.mjs'\r\n  Require stack:\r\n  - /Users/rauschma/tmp/impatient-js-preview-code/exercises/strings/remove_extension_test.mjs\r\n  - /Users/rauschma/tmp/impatient-js-preview-code/node_modules/ava/lib/worker/subprocess.js\r\n\r\n  ✖ exercises/strings/remove_extension_test.mjs exited with a non-zero exit code: 1\r\n  ✖ Couldn't find any matching tests\r\n```",
                              "label": "bug",
                              "createdAt": "2019-07-21T19:33:16Z",
                              "closedAt": "2020-05-25T16:59:01Z",
                              "lastComment": "2020-05-25T16:59:00Z",
                              "commentCount": 6
                         },
                         {
                              "title": "Vulnerabilities?",
                              "description": "## Description\r\nBug: The currently used \"lodash\": \"^4.17.11\" is reported as vulnerable:\r\nhttps://snyk.io/vuln/npm:lodash\r\n\r\n### Command-Line Arguments\r\n\r\nRunning `npm audit fix` and `snyk test` uncovers multiple vulnerabilities.\r\n\r\n\r\n## Relevant Links\r\n\r\nGetting vulnerability warning by Github in my project https://github.com/dmitriz/cpsfy/network/alerts\r\ndue to the use of the older `lodash` by `ava`.\r\n",
                              "label": "unlabeledBug",
                              "createdAt": "2019-07-15T09:40:27Z",
                              "closedAt": "2019-07-15T12:50:36Z",
                              "lastComment": "2019-07-18T08:51:45Z",
                              "commentCount": 7
                         },
                         {
                              "title": "can't work in Lerna monorepo",
                              "description": "## Description\r\n\r\nAVA not working as expected.\r\n\r\nI've created a minimal repo, to reproduce this issue.\r\n\r\nthe repo for reproduction: https://github.com/fisker/ava-bug-with-lerna\r\nci ran result: https://travis-ci.org/fisker/ava-bug-with-lerna/builds/558815154\r\n\r\nIn this Lerna monorepo, I use yarn to install `AVA` at root dir, put a `test.js`(https://github.com/fisker/ava-bug-with-lerna/blob/master/packages/package1/test.js) file in `packages/package1/`, and `test` script(https://github.com/fisker/ava-bug-with-lerna/blob/c76aa131d3e4539150308a45ee0ae811a08f2c46/packages/package1/package.json#L10) add in `packages/package1/package.json`, when I run `lerna run test`, test should fail, but it's not.\r\n\r\nI've tried to locate the problem, seems It's because this importLocal here\r\n\r\nhttps://github.com/avajs/ava/blob/245148417817ffeaf1754cbb22ccf0adc83f8d1b/cli.js#L7\r\n\r\nreturns an empty object.\r\n\r\nIf this is not a bug, what is the right way to do this?",
                              "label": "bug",
                              "createdAt": "2019-07-15T09:27:58Z",
                              "closedAt": "2019-08-27T16:32:20Z",
                              "lastComment": "2019-08-27T16:25:07Z",
                              "commentCount": 8
                         },
                         {
                              "title": "ExecutionContext wrong typings",
                              "description": "## Description\r\nWhen using AVA with TypeScript, the key `context` to pass anything to tests before running tests, may be wrongly typed.\r\n\r\n![image](https://user-images.githubusercontent.com/26366184/60688542-2431f100-9eb6-11e9-8de9-31a658df99a9.png)\r\n\r\n### Test Source\r\n```ts\r\nimport test from 'ava'\r\n\r\ntest.beforeEach(t => {\r\n  t.context.someKey = 'some str'\r\n})\r\n```\r\n\r\n### Error Message & Stack Trace\r\n```\r\nProperty 'someKey' does not exist on type '{}'.ts(2339)\r\n```\r\n\r\n### Config\r\n```json\r\n{\r\n  \"ava\": {\r\n    \"compileEnhancements\": false,\r\n    \"extensions\": [\r\n\t  \"ts\"\r\n\t],\r\n\t\"require\": [\r\n\t  \"ts-node/register\"\r\n\t]\r\n  },\r\n}\r\n```\r\n\r\n### Command-Line Arguments\r\n```\r\nava\r\n```\r\n\r\n## Relevant Links\r\nhttps://github.com/avajs/ava/blob/533ee4bc54cbcd1c2b6ab5c67f3ec8a699965269/index.d.ts#L355-L366\r\n\r\n## Environment\r\n - AVA 2.1.0\r\n - ts-node 8.3.0\r\n - typescript 3.5.2\r\n - Node.js 12.4\r\n\r\n\r\n## Proposed fix\r\nI think that it may work. I can do a PR.\r\n```ts\r\n/** The `t` value passed to test & hook implementations. */\r\nexport interface ExecutionContext<Context = { [key: string]: any }> extends Assertions {\r\n\t/** Test context, shared with hooks. */\r\n\tcontext: Context;\r\n\r\n\t/** Title of the test or hook. */\r\n\treadonly title: string;\r\n\r\n\tlog: LogFn;\r\n\tplan: PlanFn;\r\n\ttimeout: TimeoutFn;\r\n}\r\n```",
                              "label": "unlabeledBug",
                              "createdAt": "2019-07-04T21:54:19Z",
                              "closedAt": "2019-07-04T22:02:13Z",
                              "lastComment": "2019-07-04T22:02:13Z",
                              "commentCount": 1
                         },
                         {
                              "title": "Node.js 12.5: process.stderr.hasColors is not a function",
                              "description": "## Description\r\n\r\nIf I run a minimal test, I get:\r\n\r\n```\r\n  Error thrown in test:\r\n\r\n  TypeError {\r\n    message: 'process.stderr.hasColors is not a function',\r\n  }\r\n```\r\n\r\nI think it is an issue with Node.js 12.5, because downgrading to 12.4 fixes it.\r\n\r\n### Test Source\r\n\r\n`test.mjs`:\r\n\r\n```js\r\nimport test from 'ava';\r\nimport {strict as assert} from 'assert';\r\n\r\ntest('T', t => {\r\n  assert.equal('a', '');\r\n});\r\n```\r\n\r\n### Error Message & Stack Trace\r\n\r\nThere is no stack trace:\r\n\r\n```\r\n  Error thrown in test:\r\n\r\n  TypeError {\r\n    message: 'process.stderr.hasColors is not a function',\r\n  }\r\n```\r\n\r\n### Config\r\n\r\nAll of `package.json` is relevant in this case (due to how I use `esm`):\r\n\r\n```json\r\n{\r\n  \"private\": true,\r\n  \"scripts\": {\r\n    \"test\": \"ava\"\r\n  },\r\n  \"dependencies\": {\r\n    \"ava\": \"^2.1.0\",\r\n    \"esm\": \"^3.2.25\"\r\n  },\r\n  \"// ava\": [\r\n    \"failWithoutAssertions must be false, because assert.* is not tracked by AVA\",\r\n    \"esm completely replaces Babel, which is switched off via babel:false and compileEnhancements:false\"\r\n  ],\r\n  \"ava\": {\r\n    \"babel\": false,\r\n    \"compileEnhancements\": false,\r\n    \"extensions\": [\r\n      \"mjs\"\r\n    ],\r\n    \"require\": [\r\n      \"esm\"\r\n    ],\r\n    \"failWithoutAssertions\": false\r\n  }\r\n}\r\n```\r\n\r\n### Command-Line Arguments\r\n\r\nI run AVA without any command line arguments.\r\n\r\n## Environment\r\n\r\n* Node.js v12.5.0\r\n* macOS: darwin 18.6.0\r\n* AVA: 2.1.0\r\n* npm: 6.9.0\r\n",
                              "label": "unlabeledBug",
                              "createdAt": "2019-07-02T19:50:26Z",
                              "closedAt": "2019-07-02T20:12:46Z",
                              "lastComment": "2019-07-02T20:12:46Z",
                              "commentCount": 1
                         },
                         {
                              "title": "Internal errors should always be verbose",
                              "description": "## Description\r\n\r\nI upgraded AVA in a project from v1 to v2 and got this error:\r\n\r\n```\r\n❯ ava\r\n\r\n  ✖ Couldn't find any files to test\r\n\r\n  ✖ Internal error\r\n```\r\n\r\nWhich is not very useful.\r\n\r\nThen I tried verbose mode and got:\r\n\r\n```\r\n❯ ava --verbose\r\n\r\n  ✖ Couldn't find any files to test\r\n\r\n  ✖ Internal error\r\n  SyntaxError: /Users/sindresorhus/dev/oss/generator-nm/app/templates/test.js: Unexpected token, expected \"{\" (2:7)\r\n\r\n    1 | import test from 'ava';\r\n  > 2 | import <%= camelModuleName %> from '.';\r\n      |        ^\r\n    3 |\r\n    4 | test('title', t => {\r\n    5 | \tt.throws(() => {\r\n  SyntaxError: /Users/sindresorhus/dev/oss/generator-nm/app/templates/test.js: Unexpected token, expected \"{\" (2:7)\r\n\r\n    1 | import test from 'ava';\r\n  > 2 | import <%= camelModuleName %> from '.';\r\n      |        ^\r\n    3 |\r\n    4 | test('title', t => {\r\n    5 | \tt.throws(() => {\r\n      at Parser.raise (/Users/sindresorhus/dev/oss/generator-nm/node_modules/@babel/parser/lib/index.js:6344:17)\r\n      at Parser.unexpected (/Users/sindresorhus/dev/oss/generator-nm/node_modules/@babel/parser/lib/index.js:7659:16)\r\n      at Parser.expect (/Users/sindresorhus/dev/oss/generator-nm/node_modules/@babel/parser/lib/index.js:7645:28)\r\n      at Parser.parseNamedImportSpecifiers (/Users/sindresorhus/dev/oss/generator-nm/node_modules/@babel/parser/lib/index.js:11177:10)\r\n      at Parser.parseImport (/Users/sindresorhus/dev/oss/generator-nm/node_modules/@babel/parser/lib/index.js:11130:39)\r\n      at Parser.parseStatementContent (/Users/sindresorhus/dev/oss/generator-nm/node_modules/@babel/parser/lib/index.js:9886:27)\r\n      at Parser.parseStatement (/Users/sindresorhus/dev/oss/generator-nm/node_modules/@babel/parser/lib/index.js:9788:17)\r\n      at Parser.parseBlockOrModuleBlockBody (/Users/sindresorhus/dev/oss/generator-nm/node_modules/@babel/parser/lib/index.js:10364:25)\r\n      at Parser.parseBlockBody (/Users/sindresorhus/dev/oss/generator-nm/node_modules/@babel/parser/lib/index.js:10351:10)\r\n      at Parser.parseTopLevel (/Users/sindresorhus/dev/oss/generator-nm/node_modules/@babel/parser/lib/index.js:9717:10)\r\n      at Parser.parse (/Users/sindresorhus/dev/oss/generator-nm/node_modules/@babel/parser/lib/index.js:11233:17)\r\n      at parse (/Users/sindresorhus/dev/oss/generator-nm/node_modules/@babel/parser/lib/index.js:11269:38)\r\n      at parser (/Users/sindresorhus/dev/oss/generator-nm/node_modules/@babel/core/lib/transformation/normalize-file.js:170:34)\r\n      at normalizeFile (/Users/sindresorhus/dev/oss/generator-nm/node_modules/@babel/core/lib/transformation/normalize-file.js:138:11)\r\n      at runSync (/Users/sindresorhus/dev/oss/generator-nm/node_modules/@babel/core/lib/transformation/index.js:44:43)\r\n      at Object.transformSync (/Users/sindresorhus/dev/oss/generator-nm/node_modules/@babel/core/lib/transform.js:43:38)\r\n```\r\n\r\nMy mistake is that the testing patterns got looser.\r\n\r\nHowever:\r\n1. Errors should always be verbose, not just with `--verbose`.\r\n2. The message `Couldn't find any files to test` is not really correct. It could find test files, it's just that one of them had a syntax error.\r\n\r\n### Error Message & Stack Trace\r\n\r\n```\r\n❯ ava\r\n\r\n  ✖ Couldn't find any files to test\r\n\r\n  ✖ Internal error\r\n```\r\n\r\n### Config\r\n\r\nNone\r\n\r\n### Command-Line Arguments\r\n\r\n```\r\nava\r\n```\r\n\r\n\r\n## Environment\r\n\r\nTell us which operating system you are using, as well as which versions of Node.js, npm, and AVA. Run the following to get it quickly:\r\n\r\n```\r\nNode.js v10.16.0\r\ndarwin 18.6.0\r\nAVA 2.1.0\r\nnpm 6.9.0\r\n```\r\n",
                              "label": "bug",
                              "createdAt": "2019-07-01T17:33:34Z",
                              "closedAt": "2020-05-25T16:59:41Z",
                              "lastComment": "2020-05-25T16:59:41Z",
                              "commentCount": 1
                         },
                         {
                              "title": "In Node.js 12 or newer, add hasColors to the fake TTY methods",
                              "description": "<!-- Issuehunt Badges -->\n[<img alt=\"Issuehunt badges\" src=\"https://img.shields.io/badge/IssueHunt-%2440%20Funded-%2300A156.svg\" />](https://issuehunt.io/r/avajs/ava/issues/2170)\n<!-- /Issuehunt Badges -->\n\n\nWe're missing [`hasColors()`](https://nodejs.org/api/tty.html#tty_writestream_hascolors_count_env) in our fake TTY implementation: https://github.com/avajs/ava/blob/533ee4bc54cbcd1c2b6ab5c67f3ec8a699965269/lib/worker/fake-tty.js\r\n\r\nIt was introduced in Node.js 11, so we should check if the worker is running in Node.js 12 before adding it (Node.js 11 is end of life, see https://github.com/avajs/ava/issues/2169). We should be able to piggy-back off of the `colorDepth` value that's already available. I don't think we can make it work with arbitrary `env` variables though. We can deal with that as a follow-up.\r\n\r\nCurrently this is causing CI to fail with Node.js 12.5.0: https://travis-ci.org/avajs/ava/jobs/552425902\n\n\n<!-- Issuehunt content -->\n\n---\n\n<details>\n<summary>\n<b>IssueHunt Summary</b>\n</summary>\n\n\n### Backers (Total: $40.00)\n\n- [<img src='https://avatars3.githubusercontent.com/u/44827199?v=4' alt='issuehunt' width=24 height=24> issuehunt](https://issuehunt.io/u/issuehunt) ($40.00)\n\n#### [Become a backer now!](https://issuehunt.io/r/avajs/ava/issues/2170)\n#### [Or submit a pull request to get the deposits!](https://issuehunt.io/r/avajs/ava/issues/2170)\n### Tips\n\n- Checkout the [Issuehunt explorer](https://issuehunt.io/r/avajs/ava/) to discover more funded issues.\n- Need some help from other developers? [Add your repositories](https://issuehunt.io/r/new) on IssueHunt to raise funds.\n---\nIssueHunt has been backed by the following sponsors. [Become a sponsor](https://issuehunt.io/membership/members)\n</details>\n<!-- /Issuehunt content-->",
                              "label": "bug",
                              "createdAt": "2019-06-30T19:08:56Z",
                              "closedAt": "2019-07-07T14:33:04Z",
                              "lastComment": "2019-07-03T02:33:04Z",
                              "commentCount": 3
                         },
                         {
                              "title": "TypeError: Cannot read property 'emitStateChange' of undefined",
                              "description": "<!-- Issuehunt Badges -->\n[<img alt=\"Issuehunt badges\" src=\"https://img.shields.io/badge/IssueHunt-%2480%20Rewarded-%237E24E3.svg\" />](https://issuehunt.io/r/avajs/ava/issues/2163)\n<!-- /Issuehunt Badges -->\n\n\n## Description\r\n\r\nWhile running `ava` on a directory where node_modules does not have the proper permissions for the current user to write, ava gives the following error:\r\n\r\n```\r\nTypeError: Cannot read property 'emitStateChange' of undefined\r\n    at Api.run (/usr/src/app/backend/node_modules/ava/lib/api.js:278:17)\r\n    at Object.exports.run (/usr/src/app/backend/node_modules/ava/lib/cli.js:274:31)\r\n    at Object.<anonymous> (/usr/src/app/backend/node_modules/ava/cli.js:10:23)\r\n    at Module._compile (internal/modules/cjs/loader.js:774:30)\r\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:785:10)\r\n    at Module.load (internal/modules/cjs/loader.js:641:32)\r\n    at Function.Module._load (internal/modules/cjs/loader.js:556:12)\r\n    at Function.Module.runMain (internal/modules/cjs/loader.js:837:10)\r\n    at internal/main/run_main_module.js:17:11\r\n```\r\n\r\nAfter adding a console.log the ava code I found the actual error:\r\n\r\n```\r\nError: ENOENT: no such file or directory, mkdir '/usr/src/app/backend/node_modules/.cache/ava'\r\n    at Object.mkdirSync (fs.js:764:3)\r\n    at AsyncFunction.module.exports.sync (/usr/src/app/backend/node_modules/make-dir/index.js:108:6)\r\n    at Api._setupPrecompiler (/usr/src/app/backend/node_modules/ava/lib/api.js:299:13)\r\n    at Api.run (/usr/src/app/backend/node_modules/ava/lib/api.js:114:38)\r\n    at Object.exports.run (/usr/src/app/backend/node_modules/ava/lib/cli.js:274:31)\r\n    at Object.<anonymous> (/usr/src/app/backend/node_modules/ava/cli.js:10:23)\r\n    at Module._compile (internal/modules/cjs/loader.js:774:30)\r\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:785:10)\r\n    at Module.load (internal/modules/cjs/loader.js:641:32)\r\n    at Function.Module._load (internal/modules/cjs/loader.js:556:12)\r\n    at Function.Module.runMain (internal/modules/cjs/loader.js:837:10)\r\n    at internal/main/run_main_module.js:17:11 {\r\n  errno: -2,\r\n  syscall: 'mkdir',\r\n  code: 'ENOENT',\r\n  path: '/usr/src/app/backend/node_modules/.cache/ava'\r\n}\r\n```\r\n\r\nAfter making a slight code change to api.js at line 251\r\n\r\n```js\r\n} catch (error) {\r\n    // The code errored before RunStatus was created. I added this here to see what was expected.\r\n    if (!runStatus) {\r\n        runStatus = new RunStatus(files.length, null);\r\n    }\r\n    \r\n    runStatus.emitStateChange({type: 'internal-error', err: serializeError('Internal error', false, error)});\r\n}\r\n```\r\n\r\nI now get to the following error:\r\n\r\n```\r\n> ava\r\n\r\n  ✖ Couldn't find any files to test\r\n```\r\n\r\nOnce I fix the permissions I receive no errors.\r\n\r\nWhat's happening:\r\n\r\nIn lib/api.js line 110 `api._setupPrecompiler` is throwing an error before `runStatus` is set. The error is because mkdir fails due to permissions issues. In the catch block on line 252, runStatus has not been set yet, so it cannot emit an error.  \r\n\r\n### Test Source\r\n\r\n```js\r\n// Literally any test will reproduce. test/index.test.js\r\n\r\nconst test = require('ava')\r\n\r\ntest('foo', function (t) {\r\n  t.true(true)\r\n})\r\n```\r\n\r\n### Error Message & Stack Trace\r\n\r\nSee above.\r\n\r\n### Config\r\n\r\nCopy the relevant section from `package.json`:\r\n\r\nNo custom config. Running ava out of the box. No babel or anything.\r\n\r\n### Command-Line Arguments\r\n\r\nCopy your npm build scripts or the `ava` command used:\r\n\r\n```\r\nava\r\n```\r\n\r\n## Environment\r\n\r\nTell us which operating system you are using, as well as which versions of Node.js, npm, and AVA. Run the following to get it quickly:\r\n\r\n```\r\n> node -e \"var os=require('os');console.log('Node.js ' + process.version + '\\n' + os.platform() + ' ' + os.release())\"\r\nNode.js v12.4.0\r\nlinux 4.9.125-linuxkit\r\n> ./node_modules/.bin/ava --version\r\n2.1.0\r\n> npm --version\r\n6.9.0\r\n```\r\n\r\nProject structure:\r\n```\r\n> ls -la\r\ndrwxr-xr-x  465 root     root         20480 Jun 20 15:13 node_modules\r\n-rw-r--r--    1 root     root        226376 Jun 20 11:58 package-lock.json\r\n-rw-r--r--    1 root     root          1339 Jun 20 15:21 package.json\r\ndrwxr-xr-x    4 root     root          4096 Jun 20 11:54 src\r\ndrwxr-xr-x    6 root     root          4096 Jun 16 01:59 test\r\n \r\n```\r\nTest dir structure\r\n```\r\n> ls -la test\r\n-rw-r--r--    1 root     root           182 Jun 16 01:59 index.test.js\r\n```\n\n\n<!-- Issuehunt content -->\n\n---\n\n<details>\n<summary>\n<b>IssueHunt Summary</b>\n</summary>\n\n#### [<img src='https://avatars1.githubusercontent.com/u/3578401?v=4' alt='yovasx2' width=24 height=24> yovasx2](https://issuehunt.io/u/yovasx2) has been rewarded.\n\n### Backers (Total: $80.00)\n\n- [<img src='https://avatars3.githubusercontent.com/u/44827199?v=4' alt='issuehunt' width=24 height=24> issuehunt](https://issuehunt.io/u/issuehunt) ($80.00)\n### Submitted pull Requests\n- [#2202 Print internal errors when precompiler setup or globbing fails](https://issuehunt.io/r/avajs/ava/pull/2202)\n---\n\n### Tips\n\n- Checkout the [Issuehunt explorer](https://issuehunt.io/r/avajs/ava/) to discover more funded issues.\n- Need some help from other developers? [Add your repositories](https://issuehunt.io/r/new) on IssueHunt to raise funds.\n---\nIssueHunt has been backed by the following sponsors. [Become a sponsor](https://issuehunt.io/membership/members)\n</details>\n<!-- /Issuehunt content-->",
                              "label": "bug",
                              "createdAt": "2019-06-20T19:43:31Z",
                              "closedAt": "2019-08-11T14:25:59Z",
                              "lastComment": "2019-08-11T23:18:53Z",
                              "commentCount": 5
                         },
                         {
                              "title": "Ensure files passed through CLI exist, and are files, before precompiling",
                              "description": "<!-- Issuehunt Badges -->\n[<img alt=\"Issuehunt badges\" src=\"https://img.shields.io/badge/IssueHunt-%2440%20Rewarded-%237E24E3.svg\" />](https://issuehunt.io/r/avajs/ava/issues/2158)\n<!-- /Issuehunt Badges -->\n\n\nSee #2156, where AVA was called with a test directory as its CLI argument (`ava test`). Precompilation fails because the \"file\" cannot be read. We should catch this and throw a more appropriate error.\n\n\n<!-- Issuehunt content -->\n\n---\n\n<details>\n<summary>\n<b>IssueHunt Summary</b>\n</summary>\n\n#### [<img src='https://avatars1.githubusercontent.com/u/40798653?v=4' alt='marchworks' width=24 height=24> marchworks](https://issuehunt.io/u/marchworks) has been rewarded.\n\n### Backers (Total: $40.00)\n\n- [<img src='https://avatars3.githubusercontent.com/u/44827199?v=4' alt='issuehunt' width=24 height=24> issuehunt](https://issuehunt.io/u/issuehunt) ($40.00)\n\n### Submitted pull Requests\n- [#2184 Fixes #2158: Ensure files passed through CLI exist, and are files](https://issuehunt.io/r/avajs/ava/pull/2184)\n---\n\n### Tips\n\n- Checkout the [Issuehunt explorer](https://issuehunt.io/r/avajs/ava/) to discover more funded issues.\n- Need some help from other developers? [Add your repositories](https://issuehunt.io/r/new) on IssueHunt to raise funds.\n---\nIssueHunt has been backed by the following sponsors. [Become a sponsor](https://issuehunt.io/membership/members)\n</details>\n<!-- /Issuehunt content-->",
                              "label": "bug",
                              "createdAt": "2019-06-10T09:03:12Z",
                              "closedAt": "2019-07-30T07:21:47Z",
                              "lastComment": "2019-11-13T05:54:24Z",
                              "commentCount": 2
                         },
                         {
                              "title": "BeforeEach doesn't work if all tests are run with asyc/await",
                              "description": "test.beforeEach doesn't run before each test (and doesn't reset variables for each test) if tests are run with async. Example:\r\n\r\n```\r\ntest.beforeEach(t => {\r\n  // reset env variables\r\n  // defaultEnv.PRIVATE_KEY = 'VALID KEY';\r\n  process.env = {...process.env, ...defaultEnv};\r\n});\r\n\r\ntest('getResult returns error if invalid JWT', async t => {\r\n  process.env.PRIVATE_KEY = 'some wrong key';\r\n\r\n  // more setup here and then do some tests here like \r\n  await getResult(mockRequest, mockResponse);\r\n\r\n  // Give the query time to complete\r\n  await new Promise(resolve => {\r\n    setTimeout(resolve, 1500);\r\n  });\r\n\r\n  const responseStatus = mockResponse.status.firstCall.args[0];\r\n  t.is(responseStatus, 500)\r\n});\r\n\r\ntest('getResult returns 200 response if JWT is valid', async t => {\r\n  await getResult(mockRequest, mockResponse);\r\n\r\n  // Give the query time to complete\r\n  await new Promise(resolve => {\r\n    setTimeout(resolve, 1500);\r\n  });\r\n\r\n  const responseStatus = mockResponse.status.firstCall.args[0];\r\n  t.is(responseStatus, 200)\r\n});\r\n```\r\n\r\nbasically, I have to manually call beforeEach() function to reset data as a quick fix.\r\n\r\n- versions: Node 8.16, \"ava\": \"^2.0.0\",\r\n",
                              "label": "unlabeledBug",
                              "createdAt": "2019-06-10T06:30:29Z",
                              "closedAt": "2019-06-10T08:52:31Z",
                              "lastComment": "2019-06-10T08:52:31Z",
                              "commentCount": 2
                         },
                         {
                              "title": "ava 2.0.0 upgrade \"Error: Cannot apply enhancement-only precompilation, possible bad usage\"",
                              "description": "## Description\r\n\r\nAfter upgrading from ava 1.4.1 to 2.0.0, our existing tests fail with:\r\n\r\n> Error: Cannot apply enhancement-only precompilation, possible bad usage\r\n\r\nI tried looking at the ava 2.0.0 release notes to see if there was a change we should have made to make our project compatible with it, however there's nothing listed, so this instead seems like a bug. If it's an intentional change, then it would be good to document it and make the error message clearer :-)\r\n\r\n### Test Source\r\n\r\nThe error message doesn't say which test caused the issue. The directory containing our tests is here:\r\nhttps://github.com/neutrinojs/webpack-chain/tree/master/test\r\n\r\n### Error Message & Stack Trace\r\n\r\n```\r\n$ yarn test\r\nyarn run v1.16.0\r\n$ ava test\r\n  ✖ Internal error\r\n  Error: Cannot apply enhancement-only precompilation, possible bad usage: /home/travis/build/neutrinojs/webpack-chain/test\r\n  Error: Cannot apply enhancement-only precompilation, possible bad usage: /home/travis/build/neutrinojs/webpack-chain/test\r\n      at Object.precompileEnhancementsOnly.options.extensions.enhancementsOnly.length.filename [as precompileEnhancementsOnly] (/home/travis/build/neutrinojs/webpack-chain/node_modules/ava/lib/api.js:284:12)\r\n      at precompilation.map.reduce (/home/travis/build/neutrinojs/webpack-chain/node_modules/ava/lib/api.js:190:21)\r\n      at Array.reduce (<anonymous>)\r\n      at Api.run (/home/travis/build/neutrinojs/webpack-chain/node_modules/ava/lib/api.js:184:34)\r\n      at <anonymous>\r\n      at process._tickDomainCallback (internal/process/next_tick.js:229:7)\r\n```\r\n(from https://travis-ci.org/neutrinojs/webpack-chain/jobs/543377793#L254)\r\n\r\n### Config\r\n\r\nWe don't have an `ava` key listed in `package.json`.\r\n\r\n### Command-Line Arguments\r\n\r\n```\r\n  \"scripts\": {\r\n    \"test\": \"ava test\",\r\n    ...\r\n  },\r\n```\r\n\r\n## Relevant Links\r\n\r\nExample failing Travis run:\r\nhttps://travis-ci.org/neutrinojs/webpack-chain/jobs/543377793#L254\r\n\r\nProject source:\r\nhttps://github.com/neutrinojs/webpack-chain\r\n\r\n## Environment\r\n\r\nFails under all versions of Node.js that we use (8, 10, 12).\r\n\r\nWe're using ava 2.0.0 and yarn 1.15.2.\r\n",
                              "label": "unlabeledBug",
                              "createdAt": "2019-06-09T13:15:18Z",
                              "closedAt": "2019-06-10T09:04:16Z",
                              "lastComment": "2019-06-11T08:21:22Z",
                              "commentCount": 3
                         },
                         {
                              "title": "Hooks are counted as tests",
                              "description": "<!-- Issuehunt Badges -->\n[<img alt=\"Issuehunt badges\" src=\"https://img.shields.io/badge/IssueHunt-%2450%20Rewarded-%237E24E3.svg\" />](https://issuehunt.io/r/avajs/ava/issues/2142)\n<!-- /Issuehunt Badges -->\n\n\nWhen a hook fails it increases the count of tests:\r\n```\r\nnot ok 23 - api › users › createUser › [C806006, monitoring, validation] Verify a user is created\r\nnot ok 25 - api › users › createUser › Delete test user for [C806006, monitoring, validation] Verify a user is created\r\n```\r\n**Delete test user** is a hook and it counted as a test, the current number of tests is 24, not 25\r\n\r\nthis is happening for verbose and tap formats\n\n\n<!-- Issuehunt content -->\n\n---\n\n<details>\n<summary>\n<b>IssueHunt Summary</b>\n</summary>\n\n#### [<img src='https://avatars1.githubusercontent.com/u/3578401?v=4' alt='yovasx2' width=24 height=24> yovasx2](https://issuehunt.io/u/yovasx2) has been rewarded.\n\n### Backers (Total: $50.00)\n\n- [<img src='https://avatars3.githubusercontent.com/u/44827199?v=4' alt='issuehunt' width=24 height=24> issuehunt](https://issuehunt.io/u/issuehunt) ($50.00)\n### Submitted pull Requests\n- [#2193 Not count hooks as tests](https://issuehunt.io/r/avajs/ava/pull/2193)\n---\n\n### Tips\n\n- Checkout the [Issuehunt explorer](https://issuehunt.io/r/avajs/ava/) to discover more funded issues.\n- Need some help from other developers? [Add your repositories](https://issuehunt.io/r/new) on IssueHunt to raise funds.\n---\nIssueHunt has been backed by the following sponsors. [Become a sponsor](https://issuehunt.io/membership/members)\n</details>\n<!-- /Issuehunt content-->",
                              "label": "bug",
                              "createdAt": "2019-05-27T17:09:34Z",
                              "closedAt": "2019-07-30T07:25:46Z",
                              "lastComment": "2019-08-01T08:49:09Z",
                              "commentCount": 12
                         },
                         {
                              "title": "Ava rerunning all tests when changing single test file, when using .ts files.",
                              "description": "## Description\r\n\r\nAva rerunning all tests when changing single test file, when using `.ts` files.\r\n\r\n### Error Message & Stack Trace\r\n\r\n```\r\nava:watcher Detected change of path/to/testFile.ts +0ms\r\nava:watcher Sources remain that cannot be traced to specific tests: [ 'path/to/testFile.ts' ] +103ms\r\nava:watcher Rerunning all tests +1ms\r\n```\r\n\r\n### Config\r\n\r\nCopy the relevant section from `package.json`:\r\n\r\n```json\r\n{\r\n  \"ava\": {\r\n    \"compileEnhancements\": false,\r\n    \"extensions\": [\r\n      \"ts\"\r\n    ],\r\n    \"require\": [\r\n      \"ts-node/register\"\r\n    ],\r\n    \"files\": [\r\n      \"path/to/testFile.ts\",\r\n    ],\r\n    \"verbose\": true\r\n  }\r\n}\r\n```\r\n\r\n### Command-Line Arguments\r\n\r\n```\r\nDEBUG=ava:watcher npm test -- --watch --verbose\r\n```\r\n\r\n\r\n## The cause (I believe)\r\n\r\n`node_modules/ava/lib/watcher.js:370` filters `dirtyTests` using the `isTest` function (`node_modules/ava/lib/ava-files.js:208`) which requires files to have a `.js` extension to resolve.\r\n\r\n## Environment\r\n\r\nTell us which operating system you are using, as well as which versions of Node.js, npm, and AVA. Run the following to get it quickly:\r\n\r\n```\r\nNode.js v11.4.0\r\ndarwin 18.2.0\r\nava: 1.4.0\r\nnpm: 6.4.1\r\n```\r\n",
                              "label": "bug",
                              "createdAt": "2019-03-27T08:59:20Z",
                              "closedAt": "2019-04-28T16:00:44Z",
                              "lastComment": "2019-03-31T14:44:17Z",
                              "commentCount": 1
                         },
                         {
                              "title": "Debug AVA with VS Code into a Lerna project",
                              "description": "Thank you for your awesome test runner! I've only a problem using a Lerna monorepo. I use `lerna bootstrap --hoist` to avoid a lot of duplicated modules into every single project inside the monorepo. If I try to debug a test using VSCode configured following your [guide](https://github.com/avajs/ava/blob/master/docs/recipes/debugging-with-vscode.md), I'm not able to debug because the program `${workspaceFolder}/node_modules/ava/profile.js` is outside the workspace.\r\nThere is some workaround or another VSCode config to do this?\r\nThank you!",
                              "label": "unlabeledBug",
                              "createdAt": "2019-03-16T16:46:31Z",
                              "closedAt": "2019-03-17T17:14:37Z",
                              "lastComment": "2019-03-18T22:37:02Z",
                              "commentCount": 2
                         },
                         {
                              "title": "\"Previous failure in test files that were not rerun\" persists even though the failing test file was rerun",
                              "description": "<!-- Issuehunt Badges -->\n[<img alt=\"Issuehunt badges\" src=\"https://img.shields.io/badge/IssueHunt-%2440%20Funded-%2300A156.svg\" />](https://issuehunt.io/r/avajs/ava/issues/2069)\n<!-- /Issuehunt Badges -->\n\n\n## Description\r\nThe output of the watch mode is very confusing and more often than not unhelpful. I usually have to rerun the whole command since I'm never sure if the tests passed or not.\r\n\r\nI was getting 2 failed tests. So I went ahead and fixed one but the other error was showing only a previously failed so I quit the command and rerun it since I didn't want to scroll to when it first failed (I think this could also be improved).\r\n\r\nI got the error and fixed it, after which the output was a weird number of passed tests and 1 previous failure that was not rerun (even though there wasn't else failing to my knowledge).\r\n![DeepinScreenshot_select-area_20190315120700](https://user-images.githubusercontent.com/6438760/54427817-e00abd00-471b-11e9-9bd5-699067beeb48.png)\r\n\r\nI rerun the whole command again and finally got the correct number of passing tests with no failures.\r\n![DeepinScreenshot_select-area_20190315121039](https://user-images.githubusercontent.com/6438760/54427826-e6009e00-471b-11e9-970c-f1e4271ee1f4.png)\r\n\r\nI'm not sure if this is intended or if I'm just thinking about the numbers incorrectly.\r\n\r\n### Config\r\nCopy the relevant section from `package.json`:\r\n\r\n```json\r\n{\r\n  \"ava\": {\r\n     \"require\": [\r\n         \"esm\",\r\n         \"./setup-test-env.js\"\r\n     ]\r\n  }\r\n}\r\n```\r\n\r\n`setup-test-env.js`\r\n```js\r\nimport browserEnv from 'browser-env';\r\nbrowserEnv(['window', 'document']);\r\n```\r\n\r\n## Environment\r\n\r\nNode.js v10.5.0\r\nlinux 4.20.13-arch1-1-ARCH\r\nava 1.3.1\n\n\n<!-- Issuehunt content -->\n\n---\n\n<details>\n<summary>\n<b>IssueHunt Summary</b>\n</summary>\n\n### Sponsors (Total: $40.00)\n\n- [<img src='https://avatars3.githubusercontent.com/u/44827199?v=4' alt='issuehunt' width=24 height=24> issuehunt](https://issuehunt.io/u/issuehunt) ($40.00)\n\n#### [Become a sponsor now!](https://issuehunt.io/r/avajs/ava/issues/2069)\n#### [Or submit a pull request to get the deposits!](https://issuehunt.io/r/avajs/ava/issues/2069)\n\n### Tips\n\n- Checkout the [Issuehunt explorer](https://issuehunt.io/r/avajs/ava/) to discover more funded issues.\n- Need some help from other developers? [Add your repositories](https://issuehunt.io/r/new) on IssueHunt to raise funds.\n</details>\n<!-- /Issuehunt content-->",
                              "label": "bug",
                              "createdAt": "2019-03-15T11:27:42Z",
                              "closedAt": "2019-08-11T15:28:53Z",
                              "lastComment": "2019-08-11T15:28:53Z",
                              "commentCount": 6
                         },
                         {
                              "title": "watch error: JavaScript heap out of memory",
                              "description": "## Description\r\n\r\nAfter about an hour or so of development after executing `ava --watch`, the program hangs for a few seconds, followed by the given error message & stack trace. I just have to restart the watch process and I can go on my merry way for the next hour or so, until it crashes again.\r\n\r\nNote that the program is computing through nearly 2 megabytes of example data in order to test. It's not a huge deal, just takes a minute or two out of my work flow.\r\n\r\n### Test Source\r\n\r\n```js\r\n/* see src\\reportcard\\reportcard.test.js in https://github.com/Kaelinator/skyward-rest */\r\n```\r\n\r\n### Error Message & Stack Trace\r\n\r\n```\r\n─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────\r\n\r\n\r\n  4 tests passed [13:54:05]\r\n\r\nr\r\n\r\n<--- Last few GCs --->\r\n\r\n[1288:0000014D5E010E40]  5248708 ms: Mark-sweep 1399.2 (1447.6) -> 1399.2 (1447.6) MB, 591.5 / 3.8 ms  allocation failure GC in old space requested\r\n[1288:0000014D5E010E40]  5249290 ms: Mark-sweep 1399.2 (1447.6) -> 1399.2 (1431.6) MB, 581.7 / 3.9 ms  last resort GC in old space requested\r\n[1288:0000014D5E010E40]  5249869 ms: Mark-sweep 1399.2 (1431.6) -> 1399.2 (1431.6) MB, 579.0 / 3.9 ms  last resort GC in old space requested\r\n\r\n\r\n<--- JS stacktrace --->\r\n\r\n==== JS stack trace =========================================\r\n\r\n    0: ExitFrame [pc: 000000B06B184281]\r\nSecurity context: 00000129608206A9 <JSObject>\r\n    1: /* anonymous */(aka /* anonymous */) [D:\\Code\\Projects\\Personal\\skyward-rest\\node_modules\\readdirp\\readdirp.js:~159] [pc=000000B06CA31FF5](this=00000143D3C022E1 <undefined>,err=00000143D3C02201 <null>,realCurrentDir=0000003A47A23609 <String[51]: D:\\Code\\Projects\\Personal\\skyward-rest\\node_modules>)\r\n    2: LOOP(aka LOOP) [fs.js:~1809] [pc=000000B06...\r\n\r\nFATAL ERROR: CALL_AND_RETRY_LAST Allocation failed - JavaScript heap out of memory\r\n 1: node::DecodeWrite\r\n 2: node_module_register\r\n 3: v8::internal::FatalProcessOutOfMemory\r\n 4: v8::internal::FatalProcessOutOfMemory\r\n 5: v8::internal::Heap::MaxHeapGrowingFactor\r\n 6: v8::internal::Factory::NewJSPromise\r\n 7: v8::internal::interpreter::operator<<\r\n 8: v8::internal::NativesCollection<0>::GetScriptsSource\r\n 9: v8::internal::NativesCollection<0>::GetScriptsSource\r\n10: v8::internal::NativesCollection<0>::GetScriptsSource\r\n11: v8::internal::NativesCollection<0>::GetScriptsSource\r\n12: 000000B06B184281\r\nnpm ERR! code ELIFECYCLE\r\nnpm ERR! errno 134\r\nnpm ERR! skyward-rest@1.0.0 watch: `npx ava --watch`\r\nnpm ERR! Exit status 134\r\nnpm ERR!\r\nnpm ERR! Failed at the skyward-rest@1.0.0 watch script.\r\nnpm ERR! This is probably not a problem with npm. There is likely additional logging output above.\r\n\r\nnpm ERR! A complete log of this run can be found in:\r\nnpm ERR!     C:\\Users\\Owner\\AppData\\Roaming\\npm-cache\\_logs\\2019-03-14T18_55_27_647Z-debug.log\r\n```\r\n\r\n### Config\r\n\r\n```json\r\n{\r\n  \"ava\": {}\r\n}\r\n```\r\n\r\n### Command-Line Arguments\r\n\r\n```\r\nava --watch\r\n```\r\n\r\n\r\n## Relevant Links\r\n\r\nThe project I was testing in: [skyward-rest](https://github.com/Kaelinator/skyward-rest)\r\n#1350 and #1056 seem to have relevant issues\r\n\r\n\r\n## Environment\r\n\r\n```\r\nNode.js v10.1.0\r\nwin32 10.0.17134\r\nava --version 1.3.1\r\nnpm --version 6.8.0\r\n```\r\n",
                              "label": "bug",
                              "createdAt": "2019-03-14T19:22:16Z",
                              "closedAt": "2020-05-25T11:55:58Z",
                              "lastComment": "2020-01-26T02:09:15Z",
                              "commentCount": 6
                         },
                         {
                              "title": "Don't report filtered tests as pending",
                              "description": "## Description\r\n\r\nWhen tests fail when using a `-m` title matching filter, Ava says that some tests are pending, even if they are not matched. For example:\r\n\r\n```\r\n$ ava --concurrency=8 --timeout=2m -m='!remote*' -m='*aws*'\r\n...\r\n✖ Timed out while running tests\r\n 5 tests were pending in [...]build/test/basic.test.js\r\n ◌ basic › remote aws basic calls { mode: 'queue', childProcess: true }\r\n ◌ basic › remote google basic calls { mode: 'https', childProcess: false }\r\n ◌ basic › remote google basic calls { mode: 'https', childProcess: true }\r\n ◌ basic › remote google basic calls { mode: 'queue', childProcess: false }\r\n ◌ basic › remote google basic calls { mode: 'queue', childProcess: true }\r\n\r\n```\r\n\r\nThe match criteria is the union of all non-remote tests with all tests matching `*aws*`. The tests matching `remote google` should be filtered out (and indeed are not executed), however they are reported as pending. This is confusing because:\r\n\r\n(1) It's hard to tell which test timed out, especially if there are many tests being filtered out.\r\n(2) It makes it seem that the matching filter isn't working even though it is.\r\n\r\nProposed behavior: filter the pending test report before printing, so the output above would be:\r\n\r\n```\r\n✖ Timed out while running tests\r\n 1 tests were pending in [...]build/test/basic.test.js\r\n ◌ basic › remote aws basic calls { mode: 'queue', childProcess: true }\r\n```\r\n\r\nThis would pinpoint the test that is actually timing out.\r\n\r\n### Config\r\n\r\nCopy the relevant section from `package.json`:\r\n\r\n```json\r\n{\r\n \"ava\": {\r\n        \"files\": [\r\n            \"build/test/*.test.js\"\r\n        ]\r\n    }\r\n}\r\n```\r\n\r\n### Command-Line Arguments\r\n\r\n```\r\n$ ava --concurrency=8 --timeout=2m -m='!remote*' -m='*aws*'\r\n```\r\n\r\n## Environment\r\n\r\nTell us which operating system you are using, as well as which versions of Node.js, npm, and AVA. Run the following to get it quickly:\r\n\r\n```\r\nnode -e \"var os=require('os');console.log('Node.js ' + process.version + '\\n' + os.platform() + ' ' + os.release())\"\r\nNode.js v8.14.0\r\ndarwin 18.2.0\r\n$ ava --version\r\n1.2.1\r\n$ npm --version\r\n6.4.1\r\n```\r\n",
                              "label": "bug",
                              "createdAt": "2019-02-28T17:40:52Z",
                              "closedAt": "2019-03-17T16:57:32Z",
                              "lastComment": "2019-03-06T22:05:05Z",
                              "commentCount": 4
                         },
                         {
                              "title": "Update dependency tracking after modules are loaded from AVA's \"require\" configuration",
                              "description": "See next steps at https://github.com/avajs/ava/issues/2049#issuecomment-469029767.\r\n\r\nOriginal issue description follows.\r\n\r\n---\r\n\r\nAccording to the [watch-mode documentation](https://github.com/avajs/ava/blob/master/docs/recipes/watch-mode.md#dependency-tracking) dependency tracking should work when custom extensions/transpilers are configured directly in `ava.config.js` or in the package.json. The linked documentation (06-configuration.md) doesn’t really explain how this should be done. In the [babel recipe](https://github.com/avajs/ava/blob/master/docs/recipes/babel.md) however it is explained how to utilize babel transpiling for source files, the recommendation is to use the `require` option to load e.g. `@babel/register`. The problem with that is, that dependency tracking is [installed **before**](https://github.com/avajs/ava/blob/7d10446e91706e65e5fc6b6286b2279c29ef9615/lib/worker/subprocess.js#L104-L106) the `require` option is executed.\r\n\r\nI followed the instructions in the babel recipe to transpile typescript source files with `@babel/register` and `@babel/preset-typescript` via the ava `require` option. Since the dependency tracking is installed before this step, it is unaware of the additional file extensions like `ts` and `tsx` that `@babel/register` adds.\r\n\r\nI’m a little bit confused right now, because the documentation says it should work somehow, but it doesn’t explain how.",
                              "label": "bug",
                              "createdAt": "2019-02-22T18:15:54Z",
                              "closedAt": "2019-05-12T12:49:07Z",
                              "lastComment": "2019-03-03T15:25:53Z",
                              "commentCount": 3
                         },
                         {
                              "title": "The `fake-tty.js` implementation should shim all the methods",
                              "description": "AVA [fakes TTY](https://github.com/avajs/ava/blob/7b6e578dce32a6561e61ed6e2be6de8237b37800/lib/worker/fake-tty.js), but it doesn't implement all the methods. This can cause packages to crash because when `.isTTY === true`, they expect to be able to use certain methods.\r\n\r\nRelated issue: https://github.com/avajs/ava/pull/1885\r\n\r\nMissing methods:\r\n\r\n- `.clearLine(dir)`\r\n- `.clearScreenDown()`\r\n- `.cursorTo(x, y)`\r\n- `.getWindowSize()`\r\n- `.moveCursor(dx, dy)`\r\n\r\nMore info: https://nodejs.org/api/tty.html#tty_writestream_clearline_dir\r\n\r\n---\r\n\r\nI got the following crash with AVA 1.2.1:\r\n\r\n```\r\n  Uncaught exception in test/api.js\r\n\r\n  /Users/sindresorhus/dev/oss/awesome-lint/node_modules/ora/index.js:116\r\n\r\n  TypeError: this.stream.clearLine is not a function\r\n\r\n  Ora.clear (node_modules/ora/index.js:116:16)\r\n  Ora.render (node_modules/ora/index.js:126:8)\r\n```",
                              "label": "bug",
                              "createdAt": "2019-02-13T08:11:55Z",
                              "closedAt": "2019-03-18T07:47:24Z",
                              "lastComment": "2019-03-12T09:02:08Z",
                              "commentCount": 4
                         },
                         {
                              "title": "\"previous failure in test files that were not rerun\" not always true with ava --watch",
                              "description": "<!-- Issuehunt Badges -->\n[<img alt=\"Issuehunt badges\" src=\"https://img.shields.io/badge/IssueHunt-%2460%20Rewarded-%237E24E3.svg\" />](https://issuehunt.io/r/avajs/ava/issues/2040)\n<!-- /Issuehunt Badges -->\n\n\n## Description\r\n\r\nIf you have a failing test, and you change it to passing, ava --watch will report tests passed, but also `1 previous failure in test files that were not rerun`\r\n\r\n### Test Source\r\n```js\r\n'use strict';\r\nconst test = require('ava');\r\ntest('Tests run', async t => {\r\n    t.fail();\r\n});\r\n\r\n```\r\n\r\n### Steps to reproduce\r\n* Make a new dir.\r\n* Put the test source in test/test.js\r\n* Run\r\n```\r\nnpm i ava\r\n./node_modules/.bin/ava test/** --watch\r\n```\r\n* Edit the test to be `t.pass()`\r\n\r\nThe output will be \r\n```\r\n  1 test passed [15:55:38]\r\n  1 previous failure in test files that were not rerun\r\n```\r\n\r\n\r\n### Steps to reproduce\r\n\r\nExpected output:\r\n```\r\n  1 test passed [15:55:38]\r\n```\r\nAs there is only one test, and it is now passing, there should be no previous failures that aren't re-run.\r\n\r\n## Environment\r\n```\r\nmark@boethiah(s):/tmp/ava-testing-test$ node -e \"var os=require('os');console.log('Node.js ' + process.version + '\\n' + os.platform() + ' ' + os.release())\"\r\nNode.js v10.15.1\r\nlinux 4.9.0-8-amd64\r\nmark@boethiah(s):/tmp/ava-testing-test$ ./node_modules/.bin/ava --version\r\n1.2.1\r\nmark@boethiah(s):/tmp/ava-testing-test$ npm --version\r\n6.4.1\r\n\r\n```\n\n\n<!-- Issuehunt content -->\n\n---\n\n<details>\n<summary>\n<b>IssueHunt Summary</b>\n</summary>\n\n#### [<img src='https://avatars2.githubusercontent.com/u/332141?v=4' alt='bobthekingofegypt' width=24 height=24> bobthekingofegypt](https://issuehunt.io/u/bobthekingofegypt) has been rewarded.\n\n### Backers (Total: $60.00)\n\n- [<img src='https://avatars3.githubusercontent.com/u/44827199?v=4' alt='issuehunt' width=24 height=24> issuehunt](https://issuehunt.io/u/issuehunt) ($60.00)\n\n### Submitted pull Requests\n- [#2192 Consistent paths in watcher](https://issuehunt.io/r/avajs/ava/pull/2192)\n---\n\n### Tips\n\n- Checkout the [Issuehunt explorer](https://issuehunt.io/r/avajs/ava/) to discover more funded issues.\n- Need some help from other developers? [Add your repositories](https://issuehunt.io/r/new) on IssueHunt to raise funds.\n---\nIssueHunt has been backed by the following sponsors. [Become a sponsor](https://issuehunt.io/membership/members)\n</details>\n<!-- /Issuehunt content-->",
                              "label": "bug",
                              "createdAt": "2019-02-12T20:55:43Z",
                              "closedAt": "2019-08-11T15:29:27Z",
                              "lastComment": "2021-10-01T14:28:34Z",
                              "commentCount": 17
                         },
                         {
                              "title": "Error: spawn E2BIG when running AVA on many test files",
                              "description": "<!-- CLICK \"Preview\" FOR INSTRUCTIONS IN A MORE READABLE FORMAT -->\r\n\r\n## Description\r\nI use to run tests inside a monorepo with AVA, each module has its own tests.\r\nAfter upgrading from version _0.22.0_ to _1.2.0_ , I receive the error **spawn E2BIG**.\r\n\r\nThe error occurs if I run AVA on all monorepo test files.\r\nIf I run AVA on single modules this does not occurs.\r\n\r\n\r\n### Error Message & Stack Trace\r\n\r\n```\r\n  ✖ Internal error\r\n  Error: spawn E2BIG\r\n  Error: spawn E2BIG\r\n      at _errnoException (util.js:1024:11)\r\n      at ChildProcess.spawn (internal/child_process.js:323:11)\r\n      at exports.spawn (child_process.js:502:9)\r\n      at Object.exports.fork (child_process.js:103:10)\r\n      at module.exports (/Users/ebianchi/dev/monorepo/node_modules/ava/lib/fork.js:55:34)\r\n      at _computeForkExecArgv.then.execArgv (/Users/ebianchi/dev/monorepo/node_modules/ava/api.js:232:24)\r\n      at <anonymous>\r\n  From previous event:\r\n      at runCallback (timers.js:789:20)\r\n      at tryOnImmediate (timers.js:751:5)\r\n      at processImmediate [as _immediateCallback] (timers.js:722:5)\r\n  From previous event:\r\n      at emittedRun.then.then.then.precompilation (/Users/ebianchi/dev/monorepo/node_modules/ava/api.js:208:23)\r\n      at <anonymous>\r\n      at process._tickDomainCallback (internal/process/next_tick.js:228:7)\r\n```\r\n\r\n### Config\r\n\r\nCopy the relevant section from `package.json`:\r\n\r\n```json\r\n{\r\n  \"ava\": {\r\n       \"require\": [\r\n             \"./runtime-helpers\"\r\n        ]\r\n  }\r\n}\r\n```\r\n\r\n### Command-Line Arguments\r\n\r\n```\r\nnpx ava modules/*/test/**/*-spec.js\r\n```\r\n\r\n## Environment\r\n\r\n```\r\nNode.js v8.9.1\r\ndarwin 16.7.0\r\nava 1.2.0\r\nnpm 5.5.1\r\n```\r\n",
                              "label": "bug",
                              "createdAt": "2019-01-30T16:37:48Z",
                              "closedAt": "2019-02-05T08:24:00Z",
                              "lastComment": "2019-02-05T08:57:03Z",
                              "commentCount": 4
                         },
                         {
                              "title": "Nyc breaking ava?",
                              "description": "## Description\r\nI'm hoping someone here can point me to where this issue may be coming from. It seems `nyc` is having an issue with my code but even weirder is that after running `nyc` `ava` no longer runs properly.\r\n\r\nI did find if I did a `git reset --hard` which shouldn't affect anything fixed `ava`?\r\n\r\nI've also tried this with `nyc@12.0.2` and `nyc@13.1.0` with the same results.\r\n\r\n\r\n### Error Message & Stack Trace\r\n\r\n<details>\r\n\t<summary>Click to open</summary>\r\n\r\n```console\r\nroot@Devon:/mnt/disks/code/api# yarn ava --verbose\r\nyarn run v1.13.0\r\n$ /mnt/disks/code/api/node_modules/.bin/ava --verbose\r\n\r\n  ✔ disks › get-disks › should return no disks\r\n  ✔ shares › get-shares › should return no shares\r\n  ✔ disks › id › get-disk › should return 404 when no disk found\r\n  ✔ disks › id › get-disk › should return disk based on id\r\n  ✔ users › get-users › should return root user\r\n  ✔ vars › get-vars › should return all vars\r\n  ✔ vms › get-vms › should return no vms\r\n  ✔ info › get-info › should return all info (libvirt enabled) (4.5s)\r\n\r\n  7 tests passed\r\n  1 known failure\r\n\r\n  vms › get-vms › should return no vms\r\n\r\nDone in 12.68s.\r\nroot@Devon:/mnt/disks/code/api# yarn ava --verbose\r\nyarn run v1.13.0\r\n$ /mnt/disks/code/api/node_modules/.bin/ava --verbose\r\n\r\n  ✔ disks › get-disks › should return no disks\r\n  ✔ disks › id › get-disk › should return 404 when no disk found\r\n  ✔ disks › id › get-disk › should return disk based on id\r\n  ✔ shares › get-shares › should return no shares\r\n  ✔ users › get-users › should return root user\r\n  ✔ vars › get-vars › should return all vars\r\n  ✔ vms › get-vms › should return no vms\r\n  ✔ info › get-info › should return all info (libvirt enabled) (4.5s)\r\n\r\n  7 tests passed\r\n  1 known failure\r\n\r\n  vms › get-vms › should return no vms\r\n\r\nDone in 12.70s.\r\nroot@Devon:/mnt/disks/code/api# yarn nyc ava --verbose\r\nyarn run v1.13.0\r\n$ /mnt/disks/code/api/node_modules/.bin/nyc ava --verbose\r\n\r\n  ✔ disks › get-disks › should return no disks\r\n  ✔ disks › id › get-disk › should return 404 when no disk found\r\n  ✔ disks › id › get-disk › should return disk based on id\r\n  ✔ shares › get-shares › should return no shares\r\n  ✔ vars › get-vars › should return all vars\r\n  ✔ users › get-users › should return root user\r\n\r\n  Uncaught exception in test/specs/routes/api/v1/info/get-info.spec.js\r\n\r\n  /mnt/disks/code/api/app/states/index.js:45\r\n\r\n   44:   states = newStates;\r\n   45:   logger.debug('States updated', newStates);\r\n   46:\r\n\r\n  TypeError: Cannot read property 'debug' of undefined\r\n\r\n  getStates (app/states/index.js:45:9)\r\n  Object.<anonymous> (app/operations-manager.js:13:46)\r\n\r\n  ✖ test/specs/routes/api/v1/info/get-info.spec.js exited with a non-zero exit code: 1\r\n\r\n  Uncaught exception in test/specs/routes/api/v1/vms/get-vms.spec.js\r\n\r\n  /mnt/disks/code/api/app/states/index.js:45\r\n\r\n   44:   states = newStates;\r\n   45:   logger.debug('States updated', newStates);\r\n   46:\r\n\r\n  TypeError: Cannot read property 'debug' of undefined\r\n\r\n  getStates (app/states/index.js:45:9)\r\n  Object.<anonymous> (app/operations-manager.js:13:46)\r\n\r\n  ✖ test/specs/routes/api/v1/vms/get-vms.spec.js exited with a non-zero exit code: 1\r\n\r\n  6 tests passed\r\n  2 uncaught exceptions\r\n\r\n----------|----------|----------|----------|----------|-------------------|\r\nFile      |  % Stmts | % Branch |  % Funcs |  % Lines | Uncovered Line #s |\r\n----------|----------|----------|----------|----------|-------------------|\r\nAll files |        0 |        0 |        0 |        0 |                   |\r\n----------|----------|----------|----------|----------|-------------------|\r\nerror Command failed with exit code 1.\r\ninfo Visit https://yarnpkg.com/en/docs/cli/run for documentation about this command.\r\nroot@Devon:/mnt/disks/code/api# yarn ava --verbose\r\nyarn run v1.13.0\r\n$ /mnt/disks/code/api/node_modules/.bin/ava --verbose\r\n\r\n  Uncaught exception in test/specs/routes/api/v1/disks/get-disks.spec.js\r\n\r\n  /mnt/disks/code/api/test/specs/routes/api/v1/disks/get-disks.spec.js:8\r\n\r\n   7:   // Empty request\r\n   8:   const request = {};\r\n   9:   const req = mockReq(request);\r\n\r\n  TypeError: Cannot read property 'beforeEach' of undefined\r\n\r\n  ✖ test/specs/routes/api/v1/disks/get-disks.spec.js exited with a non-zero exit code: 1\r\n\r\n  Uncaught exception in test/specs/routes/api/v1/shares/get-shares.spec.js\r\n\r\n  /mnt/disks/code/api/test/specs/routes/api/v1/shares/get-shares.spec.js:8\r\n\r\n   7:   // Empty request\r\n   8:   const request = {};\r\n   9:   const req = mockReq(request);\r\n\r\n  TypeError: Cannot read property 'beforeEach' of undefined\r\n\r\n  Uncaught exception in test/specs/routes/api/v1/disks/id/get-disk.spec.js\r\n\r\n  /mnt/disks/code/api/test/specs/routes/api/v1/disks/id/get-disk.spec.js:8\r\n\r\n   7:   // Empty request\r\n   8:   const request = {};\r\n   9:   const req = mockReq(request);\r\n\r\n  TypeError: Cannot read property 'beforeEach' of undefined\r\n\r\n  ✖ test/specs/routes/api/v1/shares/get-shares.spec.js exited with a non-zero exit code: 1\r\n\r\n  Uncaught exception in test/specs/routes/api/v1/vars/get-vars.spec.js\r\n\r\n  /mnt/disks/code/api/test/specs/routes/api/v1/vars/get-vars.spec.js:9\r\n\r\n   8:   // Empty request\r\n   9:   const request = {};\r\n   10:   const req = mockReq(request);\r\n\r\n  TypeError: Cannot read property 'beforeEach' of undefined\r\n\r\n  Uncaught exception in test/specs/routes/api/v1/users/get-users.spec.js\r\n\r\n  /mnt/disks/code/api/test/specs/routes/api/v1/users/get-users.spec.js:8\r\n\r\n   7: test.beforeEach(t => {\r\n   8:   // Empty request\r\n   9:   const request = {};\r\n\r\n  TypeError: Cannot read property 'beforeEach' of undefined\r\n\r\n  ✖ test/specs/routes/api/v1/disks/id/get-disk.spec.js exited with a non-zero exit code: 1\r\n  ✖ test/specs/routes/api/v1/vars/get-vars.spec.js exited with a non-zero exit code: 1\r\n  ✖ test/specs/routes/api/v1/users/get-users.spec.js exited with a non-zero exit code: 1\r\n\r\n  Uncaught exception in test/specs/routes/api/v1/info/get-info.spec.js\r\n\r\n  /mnt/disks/code/api/test/specs/routes/api/v1/info/get-info.spec.js:111\r\n\r\n   110: test.beforeEach(t => {\r\n   111:   // Empty request\r\n   112:   const request = {};\r\n\r\n  TypeError: Cannot read property 'beforeEach' of undefined\r\n\r\n  Uncaught exception in test/specs/routes/api/v1/vms/get-vms.spec.js\r\n\r\n  /mnt/disks/code/api/test/specs/routes/api/v1/vms/get-vms.spec.js:8\r\n\r\n   7:   // Empty request\r\n   8:   const request = {};\r\n   9:   const req = mockReq(request);\r\n\r\n  TypeError: Cannot read property 'beforeEach' of undefined\r\n\r\n  ✖ test/specs/routes/api/v1/info/get-info.spec.js exited with a non-zero exit code: 1\r\n  ✖ test/specs/routes/api/v1/vms/get-vms.spec.js exited with a non-zero exit code: 1\r\n\r\n  7 uncaught exceptions\r\n\r\nerror Command failed with exit code 1.\r\ninfo Visit https://yarnpkg.com/en/docs/cli/run for documentation about this command.\r\nroot@Devon:/mnt/disks/code/api# git status\r\nOn branch master\r\nYour branch is up to date with 'origin/master'.\r\n\r\nnothing to commit, working tree clean\r\nroot@Devon:/mnt/disks/code/api# git reset --hard\r\nHEAD is now at e42ba6f console -> logger\r\nroot@Devon:/mnt/disks/code/api# yarn ava --verbose\r\nyarn run v1.13.0\r\n$ /mnt/disks/code/api/node_modules/.bin/ava --verbose\r\n\r\n  ✔ disks › get-disks › should return no disks\r\n  ✔ shares › get-shares › should return no shares\r\n  ✔ disks › id › get-disk › should return 404 when no disk found\r\n  ✔ disks › id › get-disk › should return disk based on id\r\n  ✔ users › get-users › should return root user\r\n  ✔ vars › get-vars › should return all vars\r\n  ✔ vms › get-vms › should return no vms\r\n  ✔ info › get-info › should return all info (libvirt enabled) (4.7s)\r\n\r\n  7 tests passed\r\n  1 known failure\r\n\r\n  vms › get-vms › should return no vms\r\n\r\nDone in 14.09s.\r\n```\r\n</details>\r\n\r\n\r\n### Config\r\n\r\nCopy the relevant section from `package.json`:\r\n\r\n```json\r\n{\r\n \"ava\": {\r\n  \"require\": [\r\n   \"esm\"\r\n  ],\r\n  \"sources\": [\r\n   \"./index.js\",\r\n   \"./app/**/*.js\"\r\n  ],\r\n  \"files\": [\r\n   \"test/specs/**/*.spec.js\"\r\n  ],\r\n  \"rules\": {\r\n   \"ava/no-todo-test\": \"off\"\r\n  },\r\n  \"babel\": false\r\n },\r\n \"nyc\": {\r\n  \"require\": [\r\n   \"esm\"\r\n  ]\r\n }\r\n}\r\n```\r\n\r\n## Environment\r\n\r\n```\r\nNode.js v10.13.0\r\nlinux 4.19.16-unRAID\r\nava v1.2.0\r\nnpm v6.4.1\r\n```\r\n",
                              "label": "unlabeledBug",
                              "createdAt": "2019-01-28T10:36:13Z",
                              "closedAt": "2019-01-29T09:39:24Z",
                              "lastComment": "2019-01-31T05:27:20Z",
                              "commentCount": 4
                         },
                         {
                              "title": "Allow excludePatterns to be overwritten",
                              "description": "Ava is a great library and enjoy using it. I would love to be able to overwrite the `excludePatterns` property of the `lib/ava-files.js` script as it currently always set to the default of `[ '!**/node_modules/**', '!**/fixtures/**', '!**/helpers/**' ]` at line 118. Because I use the helpers directory name in my library and would like my test directory to follow a similar structure. As a result the directories becomes easier to navigate and allowing me to prepend an underscore to the actual test helpers would help it stand out and pin it to the top of the test directory.\r\n\r\nCurrently what my project directory looks like:\r\n\r\n```\r\n...\r\n├── examples/\r\n├── library/\r\n│   ├── helpers/\r\n│   └── index.js\r\n└── test/\r\n     ├── examples/\r\n     ├── helpers/\r\n     └── library/\r\n         ├── _helpers/\r\n         └── index.js\r\n```\r\n\r\nWhat I would to be able to make my project directory look like:\r\n\r\n```\r\n...\r\n├── examples/\r\n├── library/\r\n│   ├── helpers/\r\n│   └── index.js\r\n└── test/\r\n     ├── _helpers/\r\n     ├── examples/\r\n     └── library/\r\n         ├── helpers/\r\n         └── index.js\r\n```",
                              "label": "unlabeledBug",
                              "createdAt": "2019-01-17T11:11:35Z",
                              "closedAt": "2019-01-18T08:16:14Z",
                              "lastComment": "2019-01-18T08:16:14Z",
                              "commentCount": 1
                         },
                         {
                              "title": "Inaccurate link to docs for error thrown",
                              "description": "```\r\n  Try wrapping the first argument to `t.throws()` in a function:\r\n\r\n    t.throws(() => { /* your code here */ })\r\n\r\n  Visit the following URL for more details:\r\n\r\n    https://github.com/avajs/ava/blob/v1.0.1/readme.md#throwsthrower-expected-message\r\n```\r\n\r\nThis link does not work: <https://github.com/avajs/ava/blob/v1.0.1/readme.md#throwsthrower-expected-message>",
                              "label": "bug",
                              "createdAt": "2019-01-06T21:41:45Z",
                              "closedAt": "2019-01-11T15:22:45Z",
                              "lastComment": "",
                              "commentCount": 0
                         },
                         {
                              "title": "Calling t.true or t.false with spread operator causes \"Unexpected token\" error",
                              "description": "## Description\r\n\r\nIf you call `t.true` or `t.false` with a spread operator instead of specifying the arguments manually, and the assertion fails, you get the following error instead of the failure that should occur:\r\n\r\n```\r\n  SyntaxError {\r\n    message: 'Unexpected token u in JSON at position 0',\r\n  }\r\n```\r\n\r\nI assume this is because the magic assert gets confused when it sees the way in which `t.true` is called.\r\n\r\nOther assertions don't have this problem.\r\n\r\n### Test Source\r\n\r\n```js\r\nconst test = require(\"ava\").default;\r\n\r\ntest(\"example1\", t => {\r\n  t.true(...[false, \"bad!\"]);\r\n}); // the assertion throws an unexpected error\r\n\r\ntest(\"example2\", t => {\r\n  t.false(...[true, \"bad!\"]);\r\n}) // the assertion throws an unexpected error\r\n\r\ntest(\"example3\", t => {\r\n  t.is(...[1, 0, \"bad!\"]);\r\n}) // this doesn't\r\n```\r\n\r\n### Use-case\r\nI was using this to get around the fact ava doesn't support custom assertions. Basically a had a function like this:\r\n\r\n```\r\nfunction checkSomething(x) {\r\n    return [PASS, \"reason for the failure];\r\n}\r\n\r\ntest(\"test\", t => {\r\n    t.true(...checkSomething(1));\r\n});\r\n```\r\n\r\nSo I would get a human-readable reason for the failure together with `t.true`'s regular printout. \r\n\r\n### System, config, etc\r\nIt always happens.\r\n",
                              "label": "bug",
                              "createdAt": "2018-12-30T21:00:35Z",
                              "closedAt": "2019-01-11T15:21:52Z",
                              "lastComment": "2019-01-11T15:21:52Z",
                              "commentCount": 3
                         },
                         {
                              "title": "Incompatibility between 1.0.0 and import-fresh",
                              "description": "I'm testing a module that keeps a state, so I need to import it fresh (bypassing `require` cache) for each test.\r\nIn `ava@0.25` I was doing the following:\r\n```js\r\ntest.beforeEach(t => {\r\n  clearModule('..');\r\n  t.context.m = require('..');\r\n});\r\n\r\ntest('Test 1', async t => {\r\n  t.is(await t.context.m.something(), expectation);\r\n});\r\n\r\ntest('Test 2', async t => {\r\n  t.is(await t.context.m.something(), expectation);\r\n});\r\n```\r\n\r\nHowever with `ava@1.0.1` the module in `t.context.m` is not imported fresh and contains the state set by other tests.\r\n\r\nI tried different approaches to solve this issue, but unsuccessfully so far:\r\n\r\n**Call `clear-module` in each test**\r\n\r\n```js\r\ntest('Test 1', async t => {\r\n  clearModule('..');\r\n  t.is(await require('..').something(), expectation);\r\n});\r\n\r\ntest('Test 2', async t => {\r\n  clearModule('..');\r\n  t.is(await require('..').something(), expectation);\r\n});\r\n```\r\nThe result is the same, the module is not imported fresh and has the state set by other test.\r\n\r\n**Use `import-fresh` in `beforeEach`**\r\n\r\n```js\r\ntest.beforeEach(t => {\r\n  t.context.m = importFresh('..')();\r\n});\r\n\r\ntest('Test 1', async t => {\r\n  t.is(await t.context.m.something(), expectation);\r\n});\r\n\r\ntest('Test 2', async t => {\r\n  t.is(await t.context.m.something(), expectation);\r\n});\r\n```\r\n\r\nWith this config the `beforeEach` of each test throws the error `All tests and hooks must be declared synchronously in your test file, and cannot be nested within other tests or hooks.`\r\n\r\n**Use `import-fresh` in each test**\r\n\r\n```js\r\ntest('Test 1', async t => {\r\n  t.is(await importFresh('..')().something(), expectation);\r\n});\r\n\r\ntest('Test 2', async t => {\r\n  t.is(awaitimportFresh('..')().something(), expectation);\r\n});\r\n```\r\nWith this config each test throw the error `Cannot read property \\'getFileName\\' of undefined` with the stack trace:\r\n```\r\n<redacted>/node_modules/caller-path/index.js:4\r\nmodule.exports (node_modules/caller-path/index.js:4:40)\r\nmodule.exports.moduleId (node_modules/import-fresh/index.js:11:44)\r\n```\r\n\r\n**Question / bug report**\r\n\r\nIs it something intentional/expected in `ava@1.0.1`? Or is it a bug?\r\nIf it's intentional or expected what is the proper way to to have each test provided with freshly imported module instance?\r\n",
                              "label": "unlabeledBug",
                              "createdAt": "2018-12-16T19:45:54Z",
                              "closedAt": "2018-12-26T22:31:18Z",
                              "lastComment": "2018-12-26T22:13:08Z",
                              "commentCount": 6
                         },
                         {
                              "title": "Errors thrown outside of tests have truncated message",
                              "description": "## Description\r\n\r\nAVA is truncating multline error messages before displaying the error in the console when that error is thrown outside of a test (e.g. inside of a helper that is being imported). This doesn't seem to happen if the error is thrown in the test itself.\r\n\r\nIn the minimal example below, where AVA shows the source code lines with a hardcoded message, this may not seem like a big deal. But in practice, I stumbled upon this with some argument validation logic in a helper. The output in the terminal was super confusing and vague because the actual and exepected values were not on the first line (it was a [joi](https://github.com/hapijs/joi) error) and basically all it said was `ValidationError: {`.\r\n\r\n### Test Source\r\n\r\n```js\r\n// test/hello-world.js\r\nimport test from 'ava';\r\n\r\nthrow new Error('I will be seen\\nBut I will not be seen');\r\n\r\ntest('hello', () => {\r\n    t.true(true);\r\n});\r\n```\r\n\r\n### Error Message & Stack Trace\r\n\r\n```\r\n❯ npx ava test/hello-world.js\r\n\r\n\r\n  ✖ No tests found in test/hello-world.js\r\n\r\n  1 uncaught exception\r\n\r\n  Uncaught exception in test/hello-world.js\r\n\r\n  /Users/sholladay/Code/noirdoor/chords/test/hello-world.js:3\r\n\r\n   2:\r\n   3: throw new Error('I will be seen\\nBut I will not be seen');\r\n   4:\r\n\r\n  Error: I will be seen\r\n```\r\n\r\n### Config\r\n\r\nN/A\r\n\r\n### Command-Line Arguments\r\n\r\n```\r\nnpx ava\r\n```\r\n\r\n## Environment\r\n\r\n```\r\nNode.js v8.14.0\r\ndarwin 17.7.0\r\nava 1.0.0-rc.2\r\nnpm 6.4.1\r\n```\r\n",
                              "label": "bug",
                              "createdAt": "2018-12-06T21:44:29Z",
                              "closedAt": "2019-01-18T08:13:40Z",
                              "lastComment": "2018-12-08T17:13:40Z",
                              "commentCount": 1
                         },
                         {
                              "title": "Wrong line number shown for failing assert",
                              "description": "<!-- Issuehunt Badges -->\n\n[<img alt=\"Issuehunt badges\" src=\"https://issuehunt.io/r/avajs/ava/issues/1980/badge.svg\" />](https://issuehunt.io/r/avajs/ava/issues/1980)\n\n<!-- /Issuehunt Badges -->\n\n## Description\r\nAVA reports the wrong line number on failing tests. It seems that sourcemaps aren't working, as the line number is greater than the size of the test file. When the line number falls within the source file, a snippet is displayed, but it does not correspond with the failing assertion.\r\n\r\n### Test Source\r\n\r\n```js\r\nimport test from 'ava'\r\nimport * as convert from './parameter_convert.js'\r\n\r\ntest('int converter', t => {\r\n  let converted = convert.to.int('foo')\r\n  t.is(converted, 'foo')\r\n})\r\n\r\n```\r\n\r\n### Error Message & Stack Trace\r\nThe test file is only 7 lines long, yet the line 40 is indicated in the message below:\r\n```\r\nmiddleware › test_parameter_convert › int converter\r\n\r\ntest_parameter_convert.js:40\r\n\r\n  Difference:\r\n\r\n  - NaN\r\n  + 'foo'\r\n\r\n```\r\n\r\n### Config\r\nI am using ava.config.js:\r\n\r\n```js\r\nexport default {\r\n  files: ['src/**/test_*.js'],\r\n  sources: ['src/**/*.js'],\r\n  color: true,\r\n  compileEnhancements: false,\r\n  require: ['./babel_register.js'],\r\n  verbose: true,\r\n}\r\n```\r\n.babelrc\r\n```\r\nmodule.exports = function(api) {\r\n  let config = {\r\n    sourceMaps: 'inline',\r\n    presets: [\r\n      '@babel/preset-flow',\r\n      [\r\n        '@babel/preset-env',\r\n        {\r\n          targets: {\r\n            node: 'current',\r\n          },\r\n          modules: 'commonjs',\r\n        },\r\n      ],\r\n    ],\r\n  api.cache.forever()\r\n  return config\r\n}\r\n```\r\n### Command-Line Arguments\r\n\r\n```\r\nava\r\n```\r\n\r\n\r\n## Relevant Links\r\n[Minimal reproduction](https://github.com/ratiotile/ava-bug-1980)\r\nparameter_convert.js\r\n```js\r\n// @flow\r\n/**\r\n * Conversion functions\r\n */\r\nexport const to = {\r\n  string: (raw: any) => String(raw),\r\n  date: (raw: any) => new Date(raw),\r\n  int: (raw: any) => {\r\n    const converted = Number(raw)\r\n    return converted === undefined ? raw : converted\r\n  },\r\n}\r\n```\r\n\r\n\r\n## Environment\r\n```\r\ndarwin 17.7.0\r\nava 1.0.0-rc.2\r\nnpm 6.4.1\r\n```\n<!-- Issuehunt content -->\n\n\n\n> There is a $60.00 open bounty on this issue. Add more on [Issuehunt](https://issuehunt.io/r/avajs/ava/issues/1980).\n> - Checkout the [Issuehunt explorer](https://issuehunt.io/r/avajs/ava/) to discover more funded issues.\n> - Need some help from other developers? [Add your repositories](https://issuehunt.io/r/new) on Issuehunt to raise funds.\n\n\n<!-- /Issuehunt content-->",
                              "label": "bug",
                              "createdAt": "2018-11-14T18:56:41Z",
                              "closedAt": "2020-05-24T16:03:56Z",
                              "lastComment": "2020-05-24T16:03:56Z",
                              "commentCount": 11
                         },
                         {
                              "title": "Mini reporter clobbers stdout",
                              "description": "<!-- Issuehunt Badges -->\n\n[<img alt=\"Issuehunt badges\" src=\"https://issuehunt.io/r/avajs/ava/issues/1953/badge.svg\" />](https://issuehunt.io/r/avajs/ava/issues/1953)\n\n<!-- /Issuehunt Badges -->\n\nAva: \"^1.0.0-beta.8\",\r\n\r\nI'm trying a simple wait function:\r\n```js\r\nfunction wait (sec) {\r\n  const ms = (sec) ? sec * 1000 : 1000\r\n  return new Promise((resolve, reject) => {\r\n    return setTimeout(resolve, ms)\r\n  })\r\n}\r\n\r\ntest('test wait', async t => {\r\n  let a\r\n  console.log('_0')\r\n  a = await wait()\r\n  console.log('_1')\r\n  a = await wait(2)\r\n  console.log('_2')\r\n  t.pass()\r\n})\r\n```\r\nIt will pass but not `console.log` anything after `_0`\n<!-- Issuehunt content -->\n\n\n\n> There is a $60.00 open bounty on this issue. Add more on [Issuehunt](https://issuehunt.io/r/avajs/ava/issues/1953).\n> - Checkout the [Issuehunt explorer](https://issuehunt.io/r/avajs/ava/) to discover more funded issues.\n> - Need some help from other developers? [Add your repositories](https://issuehunt.io/r/new) on Issuehunt to raise funds.\n\n\n<!-- /Issuehunt content-->",
                              "label": "bug",
                              "createdAt": "2018-10-13T06:32:10Z",
                              "closedAt": "2020-05-25T16:59:44Z",
                              "lastComment": "2020-05-25T16:59:44Z",
                              "commentCount": 9
                         },
                         {
                              "title": "faulty assertion for React component with React.Fragment causes concordance to crash",
                              "description": "<!-- CLICK \"Preview\" FOR INSTRUCTIONS IN A MORE READABLE FORMAT -->\r\n\r\n## Description\r\n\r\n### Test Source\r\n\r\nThis one works correctly\r\n\r\n```js\r\nimport React from 'react';\r\nimport { shallow } from 'enzyme';\r\nimport test from 'ava';\r\n\r\nconst ConcordanceBugDemoOkay = () => <div />;\r\ntest('demo okay', t => {\r\n  const wrapper = shallow(<ConcordanceBugDemoOkay />);\r\n  t.falsy(wrapper);\r\n});\r\n```\r\n\r\nthis one does not work correctly:\r\n\r\n```js\r\nimport React from 'react';\r\nimport { shallow } from 'enzyme';\r\nimport test from 'ava';\r\n\r\nconst ConcordanceBugDemoNotOkay = () => <React.Fragment />;\r\ntest('demo', t => {\r\n  const wrapper = shallow(<ConcordanceBugDemoNotOkay />);\r\n  t.falsy(wrapper);\r\n});\r\n```\r\n\r\nand causes concordance to crash because it tries to concatenate string with Symbol.\r\n\r\n\r\n### Error Message & Stack Trace\r\n\r\n```\r\n/Users/iamstarkov/projects/project/node_modules/concordance/lib/formatUtils.js:6\r\n\r\nError thrown in test:\r\n\r\nTypeError {\r\n  message: 'Cannot convert a Symbol value to a string',\r\n}\r\n\r\nObject.wrap [as wrapFromTheme] (node_modules/concordance/lib/formatUtils.js:6:25)\r\nObject.formatName (node_modules/@concordance/react/lib/elementFactory.js:109:29)\r\nObject.finalize (node_modules/@concordance/react/lib/elementFactory.js:133:29)\r\nformatDescriptor (node_modules/concordance/lib/format.js:85:42)\r\nObject.format (node_modules/concordance/lib/format.js:99:10)\r\n```\r\n\r\n### Config\r\n\r\nN/A\r\n\r\n### Command-Line Arguments\r\n\r\nN/A\r\n\r\n## Environment\r\n\r\n```\r\nNode.js v8.12.0\r\ndarwin 17.7.0\r\nava --version # 1.0.0-beta.8\r\nnpm --version # 6.4.1\r\nyarn --version # 1.9.4\r\n```",
                              "label": "bug",
                              "createdAt": "2018-09-18T12:34:27Z",
                              "closedAt": "2018-10-13T13:07:06Z",
                              "lastComment": "2018-10-01T10:16:58Z",
                              "commentCount": 13
                         },
                         {
                              "title": "Update debug package to version 4.0.0",
                              "description": "<!-- CLICK \"Preview\" FOR INSTRUCTIONS IN A MORE READABLE FORMAT -->\r\n\r\n## Description\r\n\r\nI am getting warnings in my CI due to updated debug package:\r\n\r\n- https://github.com/visionmedia/debug/issues/603#issuecomment-420237335\r\n\r\n- https://github.com/visionmedia/debug/releases/tag/4.0.0\r\n\r\n### Test Source\r\n\r\n`npm install`\r\n\r\n### Error Message & Stack Trace\r\n\r\n```\r\nwarning ava > debug@3.2.4: `debug` versions 3.2.0-3.2.2 break Node 4. Users of node LTS and onward (modern Node versions): please upgrade to `debug@4` or above as soon as possible. Node 4 users: please pin to `debug@>=3.2.3 <4` as it will be the last version range that supports Node@4.\r\n```\r\n\r\n### Config\r\n\r\nNot applicable.\r\n\r\n### Command-Line Arguments\r\n\r\nNot applicable.\r\n\r\n## Relevant Links\r\n\r\nOn the descriptions section.\r\n\r\n## Environment\r\n\r\nNode.js v10.9.0\r\nwin32 10.0.17134\r\n\r\nAVA version: `1.0.0-beta.8`",
                              "label": "unlabeledBug",
                              "createdAt": "2018-09-11T13:06:37Z",
                              "closedAt": "2018-10-14T15:08:09Z",
                              "lastComment": "2018-09-12T08:23:31Z",
                              "commentCount": 1
                         },
                         {
                              "title": "How to \"prefix\" tests?",
                              "description": "I'm aware that sub-tests don't exist in AVA but the documentation hints that it's possible to prefix tests like in the following gif:\r\n\r\n![documentation gif](https://github.com/avajs/ava/raw/master/media/mini-reporter.gif)\r\n\r\nTest named \"accept header with JSON option\" is prefixed with \"headers\" for example.\r\n\r\nI'm used to prefix my tests this way to make them much clearer to read:\r\n\r\nFoo class\r\n> constructor\r\n>> Accepts 2 parameter\r\n>> Accepts 3 parameters\r\n>\r\n> getBar\r\n>> Returns expected value\r\n>> Throws an exception\r\n\r\nWith tape it's just a matter of creating sub-tests. But sub-tests are not a thing with AVA so how was the Gif posted above possible?\r\n\r\n",
                              "label": "unlabeledBug",
                              "createdAt": "2018-08-26T08:06:43Z",
                              "closedAt": "2018-08-26T15:10:00Z",
                              "lastComment": "2018-08-26T15:25:18Z",
                              "commentCount": 4
                         },
                         {
                              "title": "Update Babel to rc.2",
                              "description": "## Problem\r\n\r\n```\r\n  TypeError: programPath.hub.addHelper is not a function\r\n  TypeError: programPath.hub.addHelper is not a function\r\n      at wrapInterop (/home/travis/build/gajus/roarr/node_modules/@babel/helper-module-transforms/lib/index.js:165:45)\r\n      at PluginPass.exit (/home/travis/build/gajus/roarr/node_modules/@babel/plugin-transform-modules-commonjs/lib/index.js:174:70)\r\n      at newFn (/home/travis/build/gajus/roarr/node_modules/ava/node_modules/@babel/traverse/lib/visitors.js:193:21)\r\n      at NodePath._call (/home/travis/build/gajus/roarr/node_modules/ava/node_modules/@babel/traverse/lib/path/context.js:53:20)\r\n      at NodePath.call (/home/travis/build/gajus/roarr/node_modules/ava/node_modules/@babel/traverse/lib/path/context.js:40:17)\r\n      at NodePath.visit (/home/travis/build/gajus/roarr/node_modules/ava/node_modules/@babel/traverse/lib/path/context.js:97:8)\r\n      at TraversalContext.visitQueue (/home/travis/build/gajus/roarr/node_modules/ava/node_modules/@babel/traverse/lib/context.js:118:16)\r\n      at TraversalContext.visitSingle (/home/travis/build/gajus/roarr/node_modules/ava/node_modules/@babel/traverse/lib/context.js:90:19)\r\n      at TraversalContext.visit (/home/travis/build/gajus/roarr/node_modules/ava/node_modules/@babel/traverse/lib/context.js:146:19)\r\n      at Function.traverse.node (/home/travis/build/gajus/roarr/node_modules/ava/node_modules/@babel/traverse/lib/index.js:94:17)\r\n      at traverse (/home/travis/build/gajus/roarr/node_modules/ava/node_modules/@babel/traverse/lib/index.js:76:12)\r\n      at transformFile (/home/travis/build/gajus/roarr/node_modules/ava/node_modules/@babel/core/lib/transformation/index.js:88:29)\r\n      at runSync (/home/travis/build/gajus/roarr/node_modules/ava/node_modules/@babel/core/lib/transformation/index.js:45:3)\r\n      at Object.transformSync (/home/travis/build/gajus/roarr/node_modules/ava/node_modules/@babel/core/lib/transform.js:43:38)\r\n      at Object.filename [as precompileFull] (/home/travis/build/gajus/roarr/node_modules/ava/lib/babel-pipeline.js:201:29)\r\n      at map.reduce (/home/travis/build/gajus/roarr/node_modules/ava/api.js:161:28)\r\n  From previous event:\r\n      at emittedRun.then.then.precompilation (/home/travis/build/gajus/roarr/node_modules/ava/api.js:153:27)\r\n\r\n```\r\n\r\nhttps://travis-ci.org/gajus/roarr/jobs/419084579#L3317\r\n\r\n## Fix\r\n\r\nUpdate:\r\n\r\nhttps://github.com/avajs/ava/blob/0ecd0be849b2cb1b01db8e0834827f4b411b3ea0/package.json#L64-L68\r\n\r\nto version 7.0.0-rc.2.\r\n\r\n## Context\r\n\r\nRefer to:\r\n\r\nhttps://github.com/babel/babel/issues/8508",
                              "label": "unlabeledBug",
                              "createdAt": "2018-08-22T09:36:39Z",
                              "closedAt": "2018-08-23T08:17:17Z",
                              "lastComment": "2018-08-30T09:24:22Z",
                              "commentCount": 5
                         },
                         {
                              "title": "Running tests with snapshots using profile.js throws exception",
                              "description": "## Description\r\n\r\nRunning the following test normally using `ava test.js` works fine.\r\nHowever, running the same file using `profile.js` (`node node_modules/ava/profile.js test.js`) produces an error.\r\nI checked the code and the reason seems to be that `projectDir` is `undefined` here:\r\nhttps://github.com/avajs/ava/blob/f7fce6a81cf8ee77d0e4823e4ff8961d5097da17/lib/runner.js#L172\r\n\r\n### Test Source\r\n\r\n```js\r\n// test.js\r\nimport test from 'ava';\r\n\r\ntest('reproducible snapshot bug', t => {\r\n    try {\r\n        t.snapshot('foo');\r\n    } catch (error) {\r\n        console.error(error);\r\n    }\r\n});\r\n```\r\n\r\n### Error Message & Stack Trace\r\n\r\n```\r\nTypeError [ERR_INVALID_ARG_TYPE]: The \"path\" argument must be of type string. Received type undefined\r\n    at assertPath (path.js:39:11)\r\n    at Object.relative (path.js:499:5)\r\n    at Runner.compareTestSnapshot (C:\\Dev\\ava-profile-snapshot-bug\\node_modules\\ava\\lib\\runner.js:172:19)\r\n    at Test.compareWithSnapshot.assertionOptions [as compareWithSnapshot] (C:\\Dev\\ava-profile-snapshot-bug\\node_modules\\ava\\lib\\test.js:123:19)\r\n    at Test.snapshot (C:\\Dev\\ava-profile-snapshot-bug\\node_modules\\ava\\lib\\assert.js:536:19)\r\n    at snapshot (C:\\Dev\\ava-profile-snapshot-bug\\test.js:5:11)\r\n    at Test.callFn (C:\\Dev\\ava-profile-snapshot-bug\\node_modules\\ava\\lib\\test.js:313:21)\r\n    at Test.run (C:\\Dev\\ava-profile-snapshot-bug\\node_modules\\ava\\lib\\test.js:326:23)\r\n    at Runner.runSingle (C:\\Dev\\ava-profile-snapshot-bug\\node_modules\\ava\\lib\\runner.js:257:19)\r\n    at runHooks.then.hooksOk (C:\\Dev\\ava-profile-snapshot-bug\\node_modules\\ava\\lib\\runner.js:317:16)\r\n    at process._tickCallback (internal/process/next_tick.js:68:7)\r\n\r\n  × reproducible snapshot bug Test finished without running any assertions\r\n\r\n  1 test failed\r\n\r\n  reproducible snapshot bug\r\n\r\n\r\n  Error: Test finished without running any assertions\r\n```\r\n\r\n### Config\r\n\r\nUsing default configuration\r\n\r\n### Command-Line Arguments\r\n\r\n```shell\r\nnode node_modules/ava/profile.js test.js\r\n```\r\n\r\n## Relevant Links\r\n\r\nMinimal reproduction: ~https://github.com/sharkykh/ava-profile-snapshot-bug~\r\nRun `yarn profile` to reproduce the bug.\r\n**Seems like there's another bug though**, so you may need to run `yarn test` first to populate the cache folder.\r\n\r\n## Environment\r\n\r\n**OS:** Windows 7 SP1 6.1.7601 x64\r\n**Node.js:** 10.7.0\r\n**yarn:** 1.9.4\r\n**AVA:** 1.0.0-beta.7 (FWIW, bug is also present on version 0.25.0)\r\n",
                              "label": "bug",
                              "createdAt": "2018-08-18T05:44:33Z",
                              "closedAt": "2018-08-19T14:03:28Z",
                              "lastComment": "2018-08-19T11:58:35Z",
                              "commentCount": 3
                         },
                         {
                              "title": "Ensure exceptions in workers, occurring before tests are declared, are reported",
                              "description": "E.g. using `import { test } from 'ava';` causes an exception, because `test` will be `undefined`. This is not reported, and instead AVA says it can't find any test files.\r\n\r\nSee also https://github.com/avajs/ava/issues/1903.",
                              "label": "bug",
                              "createdAt": "2018-08-14T18:10:50Z",
                              "closedAt": "2018-08-28T10:56:16Z",
                              "lastComment": "2018-08-27T15:09:23Z",
                              "commentCount": 1
                         },
                         {
                              "title": "Fresh AVA 7.0.0-rc.1 install displays \"SyntaxError: Unexpected token import\" on any ES6 import source",
                              "description": "## Description\r\nyarn init\r\nyarn add ava\r\n\r\n### source files:\r\n\r\n#### obj.js:\r\n```js\r\nexport default value => 1\r\n```\r\n\r\n#### main.js:\r\n```js\r\nimport value from './obj.js'\r\nexport default value\r\n```\r\n\r\n### Test Source\r\n```js\r\nimport test from 'ava'\r\nimport obj from './main.js'\r\ntest('This will fail in AVA', t => {\r\n    t.is(1+1, 2)\r\n})\r\n```\r\n\r\n### Error Message & Stack Trace\r\n\r\n```\r\n  1 uncaught exception\r\n\r\n  Uncaught exception in main.js\r\n\r\n\r\n  c:\\ava\\main.js:1\r\nimport value from './obj.js'\r\n  ^^^^^^\r\n\r\n  SyntaxError: Unexpected token import\r\n\r\nnpm ERR! code ELIFECYCLE\r\nnpm ERR! errno 1\r\nnpm ERR! microservice-template@1.0.0 test:watch: `ava -- --watch --verbose`\r\nnpm ERR! Exit status 1\r\nnpm ERR!\r\nnpm ERR! Failed at the test@1.0.0 test:watch script.\r\nnpm ERR! This is probably not a problem with npm. There is likely additional logging output above.\r\n\r\nnpm ERR! A complete log of this run can be found in:\r\nnpm ERR!     C:\\Users\\failure\\AppData\\Roaming\\npm-cache\\_logs\\2018-08-14T17_06_25_188Z-debug.log\r\n```\r\n\r\n### Config\r\n```json\r\n{\r\n  \"name\": \"test\",\r\n  \"version\": \"1.0.0\",\r\n  \"scripts\": {\r\n    \"test\": \"ava --verbose\",\r\n    \"test:watch\": \"ava -- --watch --verbose\"\r\n  },\r\n  \"dependencies\": {\r\n  },\r\n  \"devDependencies\": {\r\n    \"ava\": \"1.0.0-beta.7\"\r\n  }\r\n}\r\n```\r\n\r\n### Command-Line Arguments\r\n```\r\nnpm run test:watch\r\n```\r\n\r\n## Environment\r\nWindows 10, Node 8.11.3 LTS, Ava 1.0.0-beta.7, npm 5.6.0\r\n",
                              "label": "unlabeledBug",
                              "createdAt": "2018-08-14T17:27:10Z",
                              "closedAt": "2018-09-30T15:55:55Z",
                              "lastComment": "2018-08-15T09:23:25Z",
                              "commentCount": 6
                         },
                         {
                              "title": "nyc + ava 1.0.0 beta = ReferenceError: require is not defined ",
                              "description": "## Description\r\n\r\nRecently, ava 1.0.0 stopped working with nyc.  This is what I'm seeing:\r\n\r\nThis is with nyc v12 and v13, and all of the ava 1.0.0-beta family.  Tested on node 10 and 8.\r\n\r\nThe pre-1.0.0 nyc + ava still work together fine, but I really need some of the newer features in 1.0.0 so it would be great to get this fixed.  Rolling recent ava and nyc versions around didn't fix the issue, so this could be a transient dep issue.  Let me know if you have any ideas and I can dig deeper.\r\n\r\n### Test Source\r\n\r\nNA, throws before loading tests.\r\n\r\n### Error Message & Stack Trace\r\n\r\n```console\r\n$ npm test\r\n\r\n> netlify-cli@0.0.0 test /Users/bret/netlify/cli\r\n> run-s test:*\r\n\r\n\r\n> netlify-cli@0.0.0 test:ava /Users/bret/netlify/cli\r\n> nyc --reporter=lcov ava --verbose && nyc report\r\n\r\nfile:///Users/bret/netlify/cli/node_modules/chalk/index.js:2\r\nconst escapeStringRegexp = require('escape-string-regexp');\r\n\r\nReferenceError: require is not defined\r\n    at file:///Users/bret/netlify/cli/node_modules/chalk/index.js:2:34\r\n    at Generator.next (<anonymous>)\r\n    at Module._extensions..js (module.js:663:10)\r\n    at file:///Users/bret/netlify/cli/node_modules/nyc/node_modules/append-transform/index.js:62:4\r\nnpm ERR! code ELIFECYCLE\r\nnpm ERR! errno 1\r\nnpm ERR! netlify-cli@0.0.0 test:ava: `nyc --reporter=lcov ava --verbose && nyc report`\r\nnpm ERR! Exit status 1\r\nnpm ERR! \r\nnpm ERR! Failed at the netlify-cli@0.0.0 test:ava script.\r\nnpm ERR! This is probably not a problem with npm. There is likely additional logging output above.\r\n\r\nnpm ERR! A complete log of this run can be found in:\r\nnpm ERR!     /Users/bret/.npm/_logs/2018-08-13T23_29_41_455Z-debug.log\r\nERROR: \"test:ava\" exited with 1.\r\nnpm ERR! Test failed.  See above for more details.\r\n```\r\n\r\n### Config\r\n\r\nCopy the relevant section from `package.json`:\r\n\r\n```json\r\n\"ava\": {\r\n    \"files\": [\r\n      \"src/**/*.test.js\"\r\n    ]\r\n  },\r\n```\r\n\r\n### Command-Line Arguments\r\n\r\nCopy your npm build scripts or the `ava` command used:\r\n\r\n```\r\n$ nyc --reporter=lcov ava --verbose && nyc report\r\n```\r\n\r\n\r\n## Relevant Links\r\n\r\nExample\r\nhttps://gist.github.com/bcomnes/82bbd4d6c686c7ca8dcee7f4e333c722\r\n\r\n## Environment\r\n\r\nTell us which operating system you are using, as well as which versions of Node.js, npm, and AVA. Run the following to get it quickly:\r\n\r\nMac os 10.13.6\r\nNode v8.11.3 & 10.8.0\r\nAva 1.0.0-beta.7\r\n\"nyc\": \"^12.0.2\" and 13 beta\r\n",
                              "label": "unlabeledBug",
                              "createdAt": "2018-08-13T23:42:21Z",
                              "closedAt": "2018-08-14T18:48:50Z",
                              "lastComment": "2018-08-14T18:48:50Z",
                              "commentCount": 9
                         },
                         {
                              "title": "I have tests that passed - now I get: Couldn't find any files to test",
                              "description": "Hi,\r\n\r\nI have tests in a project that passed.\r\nNo changes to them, same location etc.\r\n\r\nBut when I run test now I get: 1 error \"Couldn't find any files to test\"\r\n\r\nHow can I resolve this? the test files are still where they have always been",
                              "label": "bug",
                              "createdAt": "2018-08-13T23:00:33Z",
                              "closedAt": "2018-09-30T16:21:48Z",
                              "lastComment": "2018-09-30T16:21:48Z",
                              "commentCount": 22
                         },
                         {
                              "title": "Add missing implementations of test.serial.failing.{only|skip}",
                              "description": "As [discovered](https://github.com/avajs/ava/pull/1875#pullrequestreview-143416755) by @godu we're missing implementations of `test.serial.failing.only()` and `test.serial.failing.skip()`. They need to be declared in https://github.com/avajs/ava/blob/76a8ce8ff44ca7df1e9767b8170c890ef8dbd9a9/lib/create-chain.js#L61:L89.\r\n\r\nThis is a great issue to tackle for newcomers. I don't think we need to add tests for this either.",
                              "label": "bug",
                              "createdAt": "2018-08-12T16:31:43Z",
                              "closedAt": "2018-08-21T08:24:08Z",
                              "lastComment": "",
                              "commentCount": 0
                         },
                         {
                              "title": "Incorrect file path reported when using @babel/register",
                              "description": "## Description\r\n\r\nWhen using `@babel/register`, the source file path reported in the case of exceptions is missing all components between the project directory and the test file.  That is, rather than reporting, say:\r\n\r\n```\r\n /projects/my-project/test/path/to-the/test-file.js:3\r\n```\r\n\r\nInstead it reports incorrectly:\r\n\r\n```\r\n/projects/my-project/test-file.js:3\r\n```\r\n### Test Source\r\n\r\nFor illustration, put this test source a few subdirectories down, in `test/path/to-the/test-file.js`:\r\n\r\n```js\r\nimport test from 'ava'\r\ntest('test-name', t => {\r\n  \"foo\".bar() // throws a TypeError\r\n})\r\n```\r\n\r\n### Error Message & Stack Trace\r\n\r\nRunning ava without `@babel/register` works as expected, reporting:\r\n\r\n```\r\n  1 test failed\r\n\r\n  test-name\r\n\r\n  /projects/my-project/test/path/to-the/test-file.js:4\r\n\r\n   3: test('test-name', t => {\r\n   4:   \"foo\".bar() // throws a TypeError\r\n   5: })\r\n\r\n  Error thrown in test:\r\n\r\n  TypeError {\r\n    message: '\"foo\".bar is not a function',\r\n  }\r\n```\r\n\r\nbut with `@babel/register` required, the reporter outputs the incorrect file path:\r\n\r\n```\r\n  1 test failed\r\n\r\n  test-name\r\n\r\n  /projects/my-project/test-file.js:3\r\n\r\n  Error thrown in test:\r\n\r\n  TypeError {\r\n    message: '\"foo\".bar is not a function',\r\n  }\r\n```\r\n\r\n### Config\r\n\r\nHere's `package.json` in its entirety for the failing case:\r\n\r\n```json\r\n{\r\n  \"ava\":{\r\n    \"require\": [\r\n      \"@babel/register\"\r\n    ]\r\n  },\r\n  \"devDependencies\": {\r\n    \"@babel/register\": \"^7.0.0-beta.55\",\r\n    \"ava\": \"^1.0.0-beta.6\"\r\n  }\r\n}\r\n```\r\n\r\n### Command-Line Arguments\r\n\r\nNo command line arguments.  Just\r\n\r\n```\r\n$ npx ava\r\n```\r\n\r\n## Relevant Links\r\n\r\nMinimal reproduction here:  https://github.com/ronen/ava-filepath-issue\r\n\r\n## Environment\r\n\r\n```\r\n$ node -e \"var os=require('os');console.log('Node.js ' + process.version + '\\n' + os.platform() + ' ' + os.release())\"\r\nNode.js v10.7.0\r\ndarwin 17.7.0\r\n$ npx ava --version\r\n1.0.0-beta.6\r\n$ npm --version\r\n6.2.0\r\n```\r\n",
                              "label": "bug",
                              "createdAt": "2018-08-01T19:44:00Z",
                              "closedAt": "2018-08-12T14:39:14Z",
                              "lastComment": "2018-08-13T00:54:34Z",
                              "commentCount": 8
                         },
                         {
                              "title": "--watch not working with typescript recipe ",
                              "description": "Im new to ava so I followed the generic setup and then the typescript recipe.\r\n\r\nrunning `ava` finds the `test.ts`  file nicely. but `--watch` doesn't work then.. whut?!\r\n\r\nwhen renaming `test.ts` to `test.js` it does work;\r\nwhen running `ava --watch test.ts`  it also does work.\r\n\r\n",
                              "label": "bug",
                              "createdAt": "2018-07-31T13:30:08Z",
                              "closedAt": "2018-08-12T14:39:45Z",
                              "lastComment": "2022-03-01T18:48:42Z",
                              "commentCount": 10
                         },
                         {
                              "title": "after and after.always don't run in 1.0.0-beta.6",
                              "description": "after and after.always don't run in 1.0.0-beta.6\r\nThey're simply skipped, whether the test is successful or not.\r\n\r\nIt works totally fine in 0.25.0",
                              "label": "bug",
                              "createdAt": "2018-07-17T13:04:17Z",
                              "closedAt": "2018-07-21T15:38:47Z",
                              "lastComment": "2018-07-21T15:38:47Z",
                              "commentCount": 2
                         },
                         {
                              "title": "Object diffs are not always useful",
                              "description": "<!-- Issuehunt Badges -->\n[<img alt=\"Issuehunt badges\" src=\"https://img.shields.io/badge/IssueHunt-%2480%20Rewarded-%237E24E3.svg\" />](https://issuehunt.io/r/avajs/ava/issues/1850)\n<!-- /Issuehunt Badges -->\n\n\n## Description\r\nThe built-in assertion diff is not always useful, and I find myself `console.log`ing random values to understand my test failure.\r\n\r\n### Test Source\r\n\r\n```js\r\n  const actual = [{id: 'second'}];\r\n  const expected = [{\r\n    id: 'first'\r\n  }, {\r\n    id: 'second'\r\n  }];\r\n\r\n  t.deepEqual(\r\n    actual,\r\n    expected\r\n  );\r\n```\r\n\r\n### Error Message & Stack Trace\r\n\r\nThis gives me the following diff, which is not very useful:\r\n\r\n```\r\n  Difference:\r\n\r\n    [\r\n  +   Object { … },\r\n      Object { … },\r\n    ]\r\n\r\n```\r\n\r\nInterestingly, if I just `console.log(concordance.diff(a, b))`, I get a much more readable result:\r\n\r\n```\r\n  [\r\n+   {\r\n+     id: 'first',\r\n+   },\r\n    {\r\n      id: 'second',\r\n    },\r\n  ]\r\n```\r\n\r\n### Config\r\nI did not use any config or command line arguments to get this result.\r\n\r\n## Relevant Links\r\nMy project: https://github.com/NickHeiner/local-dev-scratch/commit/101cfedf36bea7f00e6e884c680e39b126f0b6bc\r\n\r\n## Environment\r\n```\r\nNode.js v10.5.0\r\nDarwin 17.6.0\r\nava@0.25.0\r\nnpm@6.1.0\r\n```\n\n\n<!-- Issuehunt content -->\n\n---\n\n<details>\n<summary>\n<b>IssueHunt Summary</b>\n</summary>\n\n#### [<img src='https://avatars3.githubusercontent.com/u/53788417?v=4' alt='bunysae' width=24 height=24> bunysae](https://issuehunt.io/u/bunysae) has been rewarded.\n\n### Backers (Total: $80.00)\n\n- [<img src='https://avatars3.githubusercontent.com/u/44827199?v=4' alt='issuehunt' width=24 height=24> issuehunt](https://issuehunt.io/u/issuehunt) ($80.00)\n\n### Submitted pull Requests\n- [#2479 Fix: depth-limit for nested objects](https://issuehunt.io/r/avajs/ava/pull/2479)\n---\n\n### Tips\n\n- Checkout the [Issuehunt explorer](https://issuehunt.io/r/avajs/ava/) to discover more funded issues.\n- Need some help from other developers? [Add your repositories](https://issuehunt.io/r/new) on IssueHunt to raise funds.\n</details>\n<!-- /Issuehunt content-->",
                              "label": "bug",
                              "createdAt": "2018-06-25T20:26:28Z",
                              "closedAt": "2020-05-02T10:29:13Z",
                              "lastComment": "2020-05-02T10:29:44Z",
                              "commentCount": 5
                         },
                         {
                              "title": "Snapshot md files become malformed when new tests with t.snapshot are added.",
                              "description": "## Description\r\n\r\nWhen test.js.md is updated by addition of t.snapshot in a new test the md output has missing characters.\r\n\r\n### Test Source\r\n\r\nSee https://github.com/coreyfarrell/ava-snapshot-md-error for smallest possible demo.  First commit shows test.js.md after running only one test, second commit shows the updated result from running both tests.  In the second commit you can see test.js.md was generated without the last character of the first test, plus the file does not end with a line-feed.\r\n\r\n### Config\r\n\r\nNone\r\n\r\n### Command-Line Arguments\r\n\r\nNone\r\n\r\n## Environment\r\n\r\n```\r\nNode.js v10.4.1\r\nlinux 4.16.14-300.fc28.x86_64\r\nava 1.0.0-beta.6\r\nnpm 6.1.0\r\n```\r\n",
                              "label": "bug",
                              "createdAt": "2018-06-24T23:45:13Z",
                              "closedAt": "2018-07-13T15:42:59Z",
                              "lastComment": "2018-07-13T15:43:10Z",
                              "commentCount": 4
                         },
                         {
                              "title": "No log output",
                              "description": "## Description\r\n\r\nI try to log values for debugging with `t.log` and `console.log`, but they're not showing up in the terminal.\r\n\r\n### Test Source\r\n\r\n```js\r\n'use strict'\r\n\r\nconst test = require('ava')\r\n\r\ntest('something', (t) => {\r\n\r\n\tt.log('1')\r\n\tt.log('2')\r\n\tconsole.log('3')\r\n\t\r\n\tt.pass()\r\n\r\n})\r\n```\r\n\r\n### Error Message & Stack Trace\r\n\r\n```\r\n$ ava\r\n\r\n\r\n  1 tests passed\r\n\r\n```\r\n\r\nSometimes:\r\n\r\n```\r\n$ ava\r\n\r\n⠸ 3\r\n\r\n  1 tests passed\r\n```\r\n\r\n### Config\r\n\r\nCopy the relevant section from `package.json`:\r\n\r\n```json\r\n{\r\n  \"ava\": {\r\n    \"babel\": false,\r\n    \"compileEnhancements\": false\r\n  }\r\n}\r\n```\r\n\r\n### Command-Line Arguments\r\n\r\n```\r\nava\r\n```\r\n\r\n## Environment\r\n\r\n```\r\nNode.js v10.4.0\r\ndarwin 17.6.0\r\nava 1.0.0-beta.5.1\r\nnpm 6.1.0\r\n```",
                              "label": "unlabeledBug",
                              "createdAt": "2018-06-16T21:09:37Z",
                              "closedAt": "2018-06-28T03:19:02Z",
                              "lastComment": "2019-07-10T09:56:54Z",
                              "commentCount": 3
                         },
                         {
                              "title": "Crash when using custom extensions outside of Babel pipeline with enhancement compilation disabled",
                              "description": "From https://github.com/avajs/ava/issues/1822#issuecomment-394446632:\r\n\r\n```json\r\n  \"ava\": {\r\n    \"compileEnhancements\": false,\r\n    \"extensions\": [\r\n      \"ts\"\r\n    ],\r\n    \"require\": [\r\n      \"ts-node/register\",\r\n      \"tsconfig-paths/register\"\r\n    ]\r\n  },\r\n```\r\n\r\nBecause of how `ts` is specified, AVA won't apply its Babel pipeline to it. However, note that the `babel` option is not disabled.\r\n\r\nThe logic in [these lines](https://github.com/avajs/ava/blob/b6a95b14099df88d33b12b998f41fa9bb2bbc60d/api.js#L228:L246) is broken: \r\n\r\n```js\r\nconst {projectDir, babelConfig} = this.options;\r\nconst compileEnhancements = this.options.compileEnhancements !== false;\r\nconst precompileFull = babelConfig ?\r\n  babelPipeline.build(projectDir, cacheDir, babelConfig, compileEnhancements) :\r\n  filename => {\r\n    throw new Error(`Cannot apply full precompilation, possible bad usage: ${filename}`);\r\n  };\r\nconst precompileEnhancementsOnly = compileEnhancements && this.options.extensions.enhancementsOnly.length > 0 ?\r\n  babelPipeline.build(projectDir, cacheDir, null, compileEnhancements) :\r\n  filename => {\r\n    throw new Error(`Cannot apply enhancement-only precompilation, possible bad usage: ${filename}`);\r\n  };\r\n\r\n\r\nthis._precompiler = {\r\n  cacheDir,\r\n  enabled: babelConfig || compileEnhancements,\r\n  precompileEnhancementsOnly,\r\n  precompileFull\r\n};\r\n```\r\n\r\nNote how `this._precompiler.enabled` ends up being `true`. However `precompileEnhancementsOnly` is set to a function that always throws. Consequently, [when compiling](https://github.com/avajs/ava/blob/b6a95b14099df88d33b12b998f41fa9bb2bbc60d/api.js#L144:L146) TypeScript files, `precompileEnhancementsOnly` is called and AVA crashes.\r\n\r\nI think the logic should be such that a `() => null` function is when `compileEnhancements` is `false`, and the error-throwing function is used when it's not and `this.options.extensions.enhancementsOnly.length` is `0`.",
                              "label": "bug",
                              "createdAt": "2018-06-11T16:32:36Z",
                              "closedAt": "2018-06-13T09:05:29Z",
                              "lastComment": "",
                              "commentCount": 0
                         },
                         {
                              "title": "Ava runs twice when using with Parcel",
                              "description": "## Description\r\n\r\nWhen I'm using Ava in `watch mode` with Parcel, it runs twice\r\n\r\n### Test Source\r\n\r\nhttps://github.com/minhchu/ava-parcel-bug\r\n\r\n## Environment\r\n\r\nNode.js v6.14.2\r\nlinux 4.13.0-43-generic\r\nava 0.25.0\r\nnpm 3.10.10\r\n\r\n",
                              "label": "unlabeledBug",
                              "createdAt": "2018-06-08T10:06:09Z",
                              "closedAt": "2018-06-11T15:54:19Z",
                              "lastComment": "2018-06-13T05:39:10Z",
                              "commentCount": 2
                         },
                         {
                              "title": "Babel config cached incorrectly, throwing duplicate plugin error",
                              "description": "## Description\r\n\r\nBabel configuration is misbehaving, throwing an error on startup before any tests are run.\r\n\r\nMy team has been using the configuration below with AVA `1.0.0-beta.4` for a while without trouble. However, it breaks on `1.0.0-beta.5`. This seems to be a regression where the Babel configuration is somehow processed or cached incorrectly.\r\n\r\nThere is one super weird part about this bug. If I remove `babel.plugins` from package.json, then run AVA, then put the plugins back and run AVA again, it somehow makes things work (no error is thrown and tests run as expected). Running `npx ava --reset-cache` and then running AVA again causes the issue to reappear. So this really appears to be cache related, albeit it's broken when there is _no_ cache.\r\n\r\n### Test Source\r\n\r\nAnything.\r\n\r\n### Error Message & Stack Trace\r\n\r\n```\r\n✖ Internal error\r\n  Error: Duplicate plugin/preset detected.\r\n  Error: Duplicate plugin/preset detected.\r\n  If you'd like to use two separate instances of a plugin,\r\n  they need separate names, e.g.\r\n\r\n    plugins: [\r\n      ['some-plugin', {}],\r\n      ['some-plugin', {}, 'some unique name'],\r\n    ]\r\n      at assertNoDuplicates (/Users/sholladay/Code/my-company/client/node_modules/@babel/core/lib/config/config-descriptors.js:165:13)\r\n      at createDescriptors (/Users/sholladay/Code/my-company/client/node_modules/@babel/core/lib/config/config-descriptors.js:74:3)\r\n      at createPluginDescriptors (/Users/sholladay/Code/my-company/client/node_modules/@babel/core/lib/config/config-descriptors.js:65:10)\r\n      at alias (/Users/sholladay/Code/my-company/client/node_modules/@babel/core/lib/config/config-descriptors.js:57:49)\r\n      at cachedFunction (/Users/sholladay/Code/my-company/client/node_modules/@babel/core/lib/config/caching.js:32:19)\r\n      at plugins.plugins (/Users/sholladay/Code/my-company/client/node_modules/@babel/core/lib/config/config-descriptors.js:24:77)\r\n      at mergeChainOpts (/Users/sholladay/Code/my-company/client/node_modules/@babel/core/lib/config/config-chain.js:303:26)\r\n      at /Users/sholladay/Code/my-company/client/node_modules/@babel/core/lib/config/config-chain.js:267:7\r\n      at buildRootChain (/Users/sholladay/Code/my-company/client/node_modules/@babel/core/lib/config/config-chain.js:64:29)\r\n      at loadPrivatePartialConfig (/Users/sholladay/Code/my-company/client/node_modules/@babel/core/lib/config/partial.js:55:55)\r\n      at loadFullConfig (/Users/sholladay/Code/my-company/client/node_modules/@babel/core/lib/config/full.js:43:39)\r\n      at Object.loadOptions (/Users/sholladay/Code/my-company/client/node_modules/@babel/core/lib/config/index.js:27:36)\r\n      at loadOptions (/Users/sholladay/Code/my-company/client/node_modules/ava/lib/babel-pipeline.js:178:16)\r\n      at Object.filename [as precompileFull] (/Users/sholladay/Code/my-company/client/node_modules/ava/lib/babel-pipeline.js:193:19)\r\n      at map.reduce (/Users/sholladay/Code/my-company/client/node_modules/ava/api.js:145:28)\r\n      at Array.reduce (<anonymous>)\r\n  From previous event:\r\n      at emittedRun.then.then.precompilation (/Users/sholladay/Code/my-company/client/node_modules/ava/api.js:137:27)\r\n```\r\n\r\n### Config\r\n\r\n```json\r\n{\r\n    \"ava\": {\r\n        \"require\": [\r\n            \"@babel/register\"\r\n        ]\r\n    },\r\n    \"babel\": {\r\n        \"presets\": [\r\n            \"@babel/preset-react\"\r\n        ],\r\n        \"plugins\": [\r\n            \"@babel/plugin-transform-modules-commonjs\",\r\n            \"@babel/plugin-syntax-object-rest-spread\"\r\n        ]\r\n    }\r\n}\r\n```\r\n\r\n### Command-Line Arguments\r\n\r\n```\r\nava\r\n```\r\n\r\n## Relevant Links\r\n\r\nPossibly related to https://github.com/avajs/ava/issues/1817.\r\n\r\n## Environment\r\n\r\nNode.js v10.1.0\r\ndarwin 17.5.0\r\nava 1.0.0-beta.5.1\r\nnpm 6.0.1\r\n",
                              "label": "bug",
                              "createdAt": "2018-06-02T07:58:20Z",
                              "closedAt": "2018-08-27T13:25:39Z",
                              "lastComment": "2018-08-19T14:34:16Z",
                              "commentCount": 8
                         },
                         {
                              "title": "stream.clearLine is not a function",
                              "description": "When upgrading to the beta5 I started hitting [this error](https://github.com/avajs/ava/commit/2609494f530aea1a8b7321dc8b24d4e67f3e7b90#commitcomment-29203814). It looks like it's erroring out in an Ora dep but may be related to the commit _(linked in the previous sentence)_.\r\n\r\nI'm on MacOS 10.13.4 using iTerm 3 with oh-my-zsh.",
                              "label": "bug",
                              "createdAt": "2018-06-01T18:54:54Z",
                              "closedAt": "2018-06-13T09:05:29Z",
                              "lastComment": "2018-06-12T17:15:30Z",
                              "commentCount": 7
                         },
                         {
                              "title": "profile.js script does not respect extension configuration",
                              "description": "The `profile.js` script will apply the Babel configuration to whatever file it's called with, regardless of `extensions` configuration.\r\n\r\nThis shouldn't be too dreadful to fix, but we'd rather do #1505.",
                              "label": "bug",
                              "createdAt": "2018-05-30T13:39:59Z",
                              "closedAt": "2018-09-15T17:15:32Z",
                              "lastComment": "2018-09-13T10:53:27Z",
                              "commentCount": 3
                         },
                         {
                              "title": "Check whether Babel returned a source map",
                              "description": "<!-- CLICK \"Preview\" FOR INSTRUCTIONS IN A MORE READABLE FORMAT -->\r\n\r\n## Prerequisites\r\n\r\ninstalled Source Map Support\r\n\r\n## Description\r\nWith installed Source Map Support tests in async function won't show errors correctly\r\n[Screenshot WITH installed source maps support](https://user-images.githubusercontent.com/1788245/40121313-f112e7a2-5929-11e8-9880-6fdcc8ac2efb.png)\r\n[Screenshot WITHOUT installed source maps support](https://user-images.githubusercontent.com/1788245/40121371-16e5b022-592a-11e8-81dd-499ffd7836ef.png)\r\n\r\n\r\n### Test Source\r\n\r\n```js\r\nt.falsy(1, 'List of nearby stores should not be empty')\r\n```\r\n\r\n### Error Message & Stack Trace\r\n\r\n```\r\n  ✔ 02_NearbyStoreList › Nearby Store List (1.5s)\r\nUncaught Exception: __tests__/scenarios/07_StoreTabView.test.js\r\n  TypeError: Cannot read property 'sections' of null\r\n  new SourceMapConsumer (node_modules/ava/node_modules/source-map/lib/source-map-consumer.js:20:20)\r\nmapSourcePosition (node_modules/ava/node_modules/source-map-support/source-map-support.js:191:14)\r\nwrapCallSite (node_modules/ava/node_modules/source-map-support/source-map-support.js:359:20)\r\nnode_modules/ava/node_modules/source-map-support/source-map-support.js:394:26\r\nFunction.prepareStackTrace (node_modules/ava/node_modules/source-map-support/source-map-support.js:393:24)\r\n\r\n\r\n  ✖ Test results were not received from __tests__/scenarios/07_StoreTabView.test.js\r\n\r\n  1 test passed [16:49:31]\r\n  2 uncaught exceptions\r\n```\r\n\r\n### Config\r\n\r\nCopy the relevant section from `package.json`:\r\n\r\n```json\r\n{\r\n  \"files\": [\r\n    \"__tests__/scenarios/*.test.js\"\r\n  ],\r\n  \"sources\": [\r\n    \"web/index.js\"\r\n  ],\r\n  \"require\": [\r\n    \"./__tests__/setup/tape.js\"\r\n  ],\r\n  \"failFast\": true,\r\n  \"failWithoutAssertions\": true,\r\n  \"compileEnhancements\": false,\r\n  \"babel\": \"inherit\"\r\n}\r\n```\r\n\r\n### Command-Line Arguments\r\n\r\nCopy your npm build scripts or the `ava` command used:\r\n\r\n```\r\nava --vebose --watch\r\n```\r\n\r\n## Environment\r\n\r\nTell us which operating system you are using, as well as which versions of Node.js, npm, and AVA. Run the following to get it quickly:\r\n```\r\nNode.js v9.4.0\r\ndarwin 17.5.0\r\nava --version 0.25.0\r\nnpm --version 6.0.1\r\n```\r\n",
                              "label": "bug",
                              "createdAt": "2018-05-16T13:57:37Z",
                              "closedAt": "2018-05-27T16:52:20Z",
                              "lastComment": "2018-05-27T07:09:30Z",
                              "commentCount": 8
                         },
                         {
                              "title": "'nyc ava' report error lines incorrectly",
                              "description": "## Description\r\n\r\n- sys: MAC OS 10.12\r\n- node version: v8.8.1\r\n- ava version: 0.18.2\r\n- nyc version: 10.3.2\r\n\r\nIf there is an error in code, use `nyc ava` will report the error stack with wrong lines.I have saw some issues about `nyc ava` report error numbers in stack traces, but I don't know how to fix this.I have tried `nyc --eager --cache false` or use `source-map-support` package, but it's Helpless.\r\n\r\n### Config\r\n\r\n```json\r\n{\r\n\"ava\": {\r\n    \"serial\": false,\r\n    \"failFast\": true,\r\n    \"concurrency\": 10,\r\n    \"files\": [\r\n      \"test/unit/**/*.test.js\",\r\n      \"test/integration/*.js\"\r\n    ],\r\n    \"backupFiles\": [\r\n      \"test/unit/**/*.test.js\",\r\n      \"test/integration/*.js\"\r\n    ],\r\n    \"require\": [\r\n      \"babel-register\",\r\n      \"source-map-support/register\"\r\n    ]\r\n  },\r\n}\r\n```\r\n\r\n### Command-Line Arguments\r\n\r\n```\r\nnyc --eager --cache false ava -v\r\n```\r\n",
                              "label": "unlabeledBug",
                              "createdAt": "2018-05-14T02:59:36Z",
                              "closedAt": "2018-05-15T08:18:59Z",
                              "lastComment": "2018-05-15T20:14:47Z",
                              "commentCount": 3
                         },
                         {
                              "title": "Scan for test helpers causes error when non-accessible folders present",
                              "description": "## Description\r\n\r\nWhen there is a directory in your project that is unaccessible by the user runnig the tests, ava runs into an error during startup and exits.\r\n\r\nIn my case this is a volume created by the postgresql docker image and it resets the directory permissions on every start.\r\n\r\nThe problem is that the defaultHelperPatterns are set in a way that tries to read all directories and cannot be changed afaict.\r\n\r\n### Error Message & Stack Trace\r\n\r\n```\r\nglob error { Error: EACCES: permission denied, scandir '/home/maritz/{redacted}/db-volume/test'\r\n  errno: -13,\r\n  code: 'EACCES',\r\n  syscall: 'scandir',\r\n  path: '/home/maritz/{redacted}/db-volume/test' }\r\n/home/maritz/{redacted}/node_modules/ava/lib/cli.js:206\r\n\t\t\t\t\tthrow err;\r\n\t\t\t\t\t^\r\n\r\nError: EACCES: permission denied, scandir '/home/maritz/{redacted}/db-volume/__tests__/helpers'\r\n    at handlePaths (/home/maritz/{redacted}node_modules/ava/lib/ava-files.js:14:18)\r\n    at AvaFiles.findTestHelpers (/home/maritz/{redacted}/node_modules/ava/lib/ava-files.js:140:10)\r\n    at Api._precompileHelpers (/home/maritz/{redacted}node_modules/ava/api.js:140:5)\r\n    at _setupPrecompiler.then (/home/maritz/{redacted}/node_modules/ava/api.js:167:21)\r\n    at <anonymous>\r\n\r\n```\r\n\r\n### Making it work locally\r\n\r\nWhen going manually into https://github.com/avajs/ava/blob/a84c96f5da36635cbc5fb942e0c26607ad00b570/lib/ava-files.js#L90 and changing the defaultHelperPatterns to only scan my src folder it works fine.\r\n\r\n```javascript\r\nconst defaultHelperPatterns = () => [\r\n  'src/**/__tests__/helpers/**/*.js',\r\n  'src/**/__tests__/**/_*.js',\r\n  'src/**/test/helpers/**/*.js',\r\n  'src/**/test/**/_*.js',\r\n];\r\n```\r\n\r\n## Fix options?\r\n\r\nI see two ways to properly fix this (aside from removing inaccessible directories):\r\n\r\n1. Add an option to change the defaultHelperPattern (related to https://github.com/avajs/ava/issues/1418#issuecomment-327771126)\r\nor\r\n2. Catch EACCES errors and print out a warning and continue",
                              "label": "bug",
                              "createdAt": "2018-05-11T11:48:23Z",
                              "closedAt": "2019-04-28T16:00:45Z",
                              "lastComment": "2018-05-13T09:59:06Z",
                              "commentCount": 6
                         },
                         {
                              "title": "Simple t.throws check results in Flow error; ambiguous annotation ",
                              "description": "## Description\r\n\r\nFlow version 0.71.0.\r\n\r\n### Test Source\r\n\r\n```js\r\ntest('throws an error when given unrecognized data', (t) => {\r\n  t.throws(() => {\r\n    validateVenue({});\r\n  }, SchemaValidationError);\r\n});\r\n\r\n```\r\n\r\n### Error Message & Stack Trace\r\n\r\n```\r\nError ┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈ test/validators.js:12:3\r\n\r\nCould not decide which case to select. Since case 2 [1] may work but if it doesn't case 7 [2] looks promising too. To\r\nfix add a type annotation to return [3].\r\n\r\n     test/validators.js\r\n       9│ } from '../src/errors';\r\n      10│\r\n      11│ test('throws an error when given unrecognized data', (t): void => {\r\n [3]  12│   t.throws(() => {\r\n      13│     validateVenue({});\r\n      14│   }, SchemaValidationError);\r\n      15│ });\r\n      16│\r\n      17│ test('error describes input data', (t): void => {\r\n\r\n     node_modules/ava/index.js.flow\r\n [1] 231│ \t(fn: () => ObservableLike, constructor: Constructor, message?: string): Promise<any>;\r\n        :\r\n [2] 263│ \t(fn: () => PromiseLike<any>, constructor: Constructor, message?: string): Promise<any>;\r\n\r\n```\r\n\r\n### Config\r\n\r\nN/A\r\n\r\n### Command-Line Arguments\r\n\r\nN/A\r\n\r\n## Relevant Links\r\n\r\nN/A\r\n\r\n## Environment\r\n\r\n```\r\nNode.js v10.1.0\r\ndarwin 17.4.0\r\n1.0.0-beta.4\r\n5.6.0\r\n\r\n```\r\n",
                              "label": "unlabeledBug",
                              "createdAt": "2018-05-09T13:08:11Z",
                              "closedAt": "2018-05-11T15:51:45Z",
                              "lastComment": "2018-05-11T15:51:44Z",
                              "commentCount": 2
                         },
                         {
                              "title": "Running snapshot tests with -u on different platforms modifies paths",
                              "description": "## Description\r\nWhen a project has snapshots created on Linux, all the paths in the markdown files (and presumably somewhere in the `.snap` file) contain forward slashes. When you rerun the exact same tests on Windows with `-u`, e.g. to update a single changed snapshot, every `.md` and `.snap` file in the project gets modified so the paths contain backslashes instead. This makes it difficult to review commit diffs, because it looks at first glance like every snapshot file in the entire project has somehow been affected by the change.\r\n\r\nRunning tests with `-u` shouldn't touch the separators in the file paths at all, and in fact ideally the paths should be normalized (e.g. to always use forward slashes regardless of platform).\r\n\r\n### Test Source\r\nN/A. You can run the following on Windows to reproduce the issue:\r\n\r\n```\r\ngit clone https://github.com/masaeedu/fp\r\ncd fp\r\ngit checkout 33ef555\r\nyarn\r\nyarn test -u\r\ngit status\r\n```\r\n\r\nEvery markdown and snap file is modified, whereas nothing should be modified.\r\n\r\n### Error Message & Stack Trace\r\nN/A\r\n\r\n### Config\r\nNot relevant to the issue, although you can take a look at the config in the repo linked above.\r\n\r\n### Command-Line Arguments\r\n\r\n```\r\nava -u\r\n```\r\n\r\n## Relevant Links\r\n\r\n- https://github.com/masaeedu/fp\r\n\r\n## Environment\r\n\r\nTell us which operating system you are using, as well as which versions of Node.js, npm, and AVA. Run the following to get it quickly:\r\n\r\n```\r\nnode -e \"var os=require('os');console.log('Node.js ' + process.version + '\\n' + os.platform() + ' ' + os.release())\"\r\nNode.js v10.0.0\r\nwin32 10.0.15063\r\n\r\nava --version\r\n0.25.0\r\n\r\nnpm --version\r\n1.6.0\r\n```\r\n",
                              "label": "bug",
                              "createdAt": "2018-05-03T17:25:48Z",
                              "closedAt": "2018-08-27T11:17:33Z",
                              "lastComment": "2018-05-22T08:32:52Z",
                              "commentCount": 11
                         },
                         {
                              "title": "Don't update snapshots when a subset of tests are run",
                              "description": "<!-- Issuehunt Badges -->\n[<img alt=\"Issuehunt badges\" src=\"https://img.shields.io/badge/IssueHunt-%2460%20Rewarded-%237E24E3.svg\" />](https://issuehunt.io/r/avajs/ava/issues/1784)\n<!-- /Issuehunt Badges -->\n\n\nIf `.only()`, `.skip()` or `--match` is used, refuse to update snapshots for a file if tests have been excluded. Since AVA rewrites the snapshot for the entire file this will remove snapshots for tests that were (presumably temporarily) excluded.\r\n\r\n~I'm not sure whether this should apply to `.skip()` as well. Perhaps it should?~\r\n\r\nPrompted by https://spectrum.chat/thread/2f71dc71-39ec-4b0d-8174-67dfad1f9c4f.\n\n\n<!-- Issuehunt content -->\n\n---\n\n<details>\n<summary>\n<b>IssueHunt Summary</b>\n</summary>\n\n#### [<img src='https://avatars3.githubusercontent.com/u/53788417?v=4' alt='bunysae' width=24 height=24> bunysae](https://issuehunt.io/u/bunysae) has been rewarded.\n\n### Backers (Total: $60.00)\n\n- [<img src='https://avatars3.githubusercontent.com/u/44827199?v=4' alt='issuehunt' width=24 height=24> issuehunt](https://issuehunt.io/u/issuehunt) ($60.00)\n\n### Submitted pull Requests\n- [#2503 Block updating snapshots when a subset of tests executed.](https://issuehunt.io/r/avajs/ava/pull/2503)\n---\n\n### Tips\n\n- Checkout the [Issuehunt explorer](https://issuehunt.io/r/avajs/ava/) to discover more funded issues.\n- Need some help from other developers? [Add your repositories](https://issuehunt.io/r/new) on IssueHunt to raise funds.\n</details>\n<!-- /Issuehunt content-->",
                              "label": "bug",
                              "createdAt": "2018-04-30T08:28:32Z",
                              "closedAt": "2020-06-28T14:18:47Z",
                              "lastComment": "2020-06-28T14:19:17Z",
                              "commentCount": 7
                         },
                         {
                              "title": "ava ignore tests in nested folders",
                              "description": "## Description\r\n\r\nHello ava, maybe I'm not using ava correctly.\r\nI want to run all my tests in src directory.\r\nSo I configured in my package.json with blob pattern  `\"test\": \"ava src/**/*.test.js\"`\r\n\r\nI expected ava to run all tests even in sub directories. Look's like ava ignore some tests.\r\n\r\n### Test Source\r\n\r\nI created a repo to reproduce the bug: https://github.com/guillaumevincent/ava-kua\r\n\r\n### Command-Line Arguments\r\n\r\n```\r\nava src/**/*.test.js\r\n```\r\n\r\n`npm test` return `1 passed`. I expected `3 passed`\r\n\r\n## Environment\r\n```\r\nNode.js v8.11.1\r\nlinux 4.15.15-300.fc27.x86_64\r\n$ ava --version\r\n0.25.0\r\n$ npm --version\r\n5.6.0\r\n```\r\n\r\nAny idea, it's me? or a real issue?\r\nThank you",
                              "label": "unlabeledBug",
                              "createdAt": "2018-04-16T13:30:33Z",
                              "closedAt": "2018-04-19T14:37:20Z",
                              "lastComment": "2018-04-19T14:37:19Z",
                              "commentCount": 3
                         },
                         {
                              "title": "Is it possible to use winston logging for AVA's test assertion output?",
                              "description": "Hello, this is an information request, rather than an issue.\r\n\r\nContext: I am using AVA as test runner for nodejs automation framework.\r\nI have created a winston-based logger module which I use throughout the framework for debugging info. \r\nI have made the logging in a way where there is a boolean condition whether or not to write in external file.\r\n\r\nSo I made some googling but without success: Is it possible to write the assertion lines from AVA's CL assertion in external file in any way?\r\n\r\nThank you in advance!",
                              "label": "unlabeledBug",
                              "createdAt": "2018-04-15T20:11:17Z",
                              "closedAt": "2018-04-16T08:22:22Z",
                              "lastComment": "2018-04-18T09:42:08Z",
                              "commentCount": 5
                         },
                         {
                              "title": "Problem running benchmarks",
                              "description": "As Per The `maintaining.md`, I ran \r\n\r\n```bash\r\n$ node bench/run && node bench/compare\r\n```\r\n\r\nBut, the result was\r\n\r\n```\r\nfs.js:928\r\n  return binding.readdir(pathModule.toNamespacedPath(path), options.encoding);\r\n                 ^\r\n\r\nError: ENOENT: no such file or directory, scandir 'E:\\Workspace\\ava\\bench\\.results'\r\n    at Object.fs.readdirSync (fs.js:928:18)\r\n    at Object.<anonymous> (E:\\Workspace\\ava\\bench\\compare.js:7:16)\r\n    at Module._compile (module.js:649:30)\r\n    at Object.Module._extensions..js (module.js:660:10)\r\n    at Module.load (module.js:561:32)\r\n    at tryModuleLoad (module.js:501:12)\r\n    at Function.Module._load (module.js:493:3)\r\n    at Function.Module.runMain (module.js:690:10)\r\n    at startup (bootstrap_node.js:194:16)\r\n    at bootstrap_node.js:666:3\r\n```",
                              "label": "bug",
                              "createdAt": "2018-03-31T07:38:21Z",
                              "closedAt": "2020-01-19T13:01:55Z",
                              "lastComment": "2019-06-06T17:15:32Z",
                              "commentCount": 8
                         },
                         {
                              "title": "Ava showing only last failing test, everything marked as green",
                              "description": "## Description\r\n\r\nWhen running the ava tests, ava shows only one failing tests and everything else passing even though some of them should fail as well. Once the failing test is fixed, one of the other (before passing) now failing test shows up. This is with serial tests.\r\n\r\n### Config\r\n\r\nCopy the relevant section from `package.json`:\r\n\r\n```\r\n\"test\": \"nyc ava\"\r\n```\r\n## Environment\r\n```Mac OS\r\nnpm 5.x\r\nava 0.25\r\nnode 8.x\r\n```",
                              "label": "unlabeledBug",
                              "createdAt": "2018-03-09T15:54:11Z",
                              "closedAt": "2018-03-17T17:06:38Z",
                              "lastComment": "2018-03-17T17:06:38Z",
                              "commentCount": 2
                         },
                         {
                              "title": "AVA should apply its Babel presets/plugins after user presets/plugins",
                              "description": "## Description\r\n\r\nWhen AVA@next (by default) merges its own Babel config with that of the user's, it seems to put its own config in front of the user's.\r\n\r\nThis is problematic in the context of ESM/CJS. AVA automatically injects a ESM->CJS transform plugin, seemingly in front of any user plugins. If the user includes a plugin which, for example, _adds_ an ESM import to a file, that import won't be transpiled to CJS.\r\n\r\nIt's especially odd if the user's config _already_ includes the ESM->CJS transform (in the correct order wrt other plugins). AVA seems to still reorder that transform, so a build that works when run through Babel will break when run through AVA.\r\n\r\n### Test Source\r\n\r\n[Here](https://github.com/billyjanitsch/ava-plugin-order)'s a repo demonstrating the latter case. After an `npm install`:\r\n- `npm run build` will correctly transpile `test.js`, outputting `lib/test.js` for inspection\r\n- `npm test` will incorrectly transpile `test.js` and output a syntax error:\r\n\r\n```\r\n  import React from \"react\";\r\n  ^^^^^^\r\n  \r\n  SyntaxError: Unexpected token import\r\n```\r\n\r\n## Environment\r\n\r\nmacOS 10.13.3\r\nnode 8.9.4\r\nnpm 5.7.1\r\n",
                              "label": "bug",
                              "createdAt": "2018-02-28T20:26:28Z",
                              "closedAt": "2018-05-27T14:52:08Z",
                              "lastComment": "2018-05-13T16:45:20Z",
                              "commentCount": 4
                         },
                         {
                              "title": "`t.context` is not available in before tests",
                              "description": "## Description\r\nFollowing the readme, this test should work:\r\n\r\n```js\r\ntest.before(t => {\r\n\tt.context = 'unicorn';\r\n});\r\n```\r\n\r\nbut it gives back: \r\n`t.context is not available in before tests`\r\n\r\n\r\n### Error Message & Stack Trace\r\n\r\n```\r\nt.context is not available in before tests`\r\n```\r\n\r\n### Config\r\n\r\n\r\n```json\r\n{\r\n\"ava\": {\r\n      \"version\": \"0.25.0\",\r\n      \"resolved\": \"https://registry.npmjs.org/ava/-/ava-0.25.0.tgz\",\r\n      \"integrity\": \"sha512-4lGNJCf6xL8SvsKVEKxEE46se7JAUIAZoKHw9itTQuwcsydhpAMkBs5gOOiWiwt0JKNIuXWc2/r4r8ZdcNrBEw==\",\r\n      \"dev\": true,\r\n      \"requires\": {\r\n        \"@ava/babel-preset-stage-4\": \"1.1.0\",\r\n        \"@ava/babel-preset-transform-test-files\": \"3.0.0\",\r\n        \"@ava/write-file-atomic\": \"2.2.0\",\r\n        \"@concordance/react\": \"1.0.0\",\r\n        \"@ladjs/time-require\": \"0.1.4\",\r\n        \"ansi-escapes\": \"3.0.0\",\r\n        \"ansi-styles\": \"3.2.0\",\r\n        \"arr-flatten\": \"1.1.0\",\r\n        \"array-union\": \"1.0.2\",\r\n        \"array-uniq\": \"1.0.3\",\r\n        \"arrify\": \"1.0.1\",\r\n        \"auto-bind\": \"1.2.0\",\r\n        \"ava-init\": \"0.2.1\",\r\n        \"babel-core\": \"6.26.0\",\r\n        \"babel-generator\": \"6.26.0\",\r\n        \"babel-plugin-syntax-object-rest-spread\": \"6.13.0\",\r\n        \"bluebird\": \"3.5.0\",\r\n        \"caching-transform\": \"1.0.1\",\r\n        \"chalk\": \"2.3.0\",\r\n        \"chokidar\": \"1.7.0\",\r\n        \"clean-stack\": \"1.3.0\",\r\n        \"clean-yaml-object\": \"0.1.0\",\r\n        \"cli-cursor\": \"2.1.0\",\r\n        \"cli-spinners\": \"1.1.0\",\r\n        \"cli-truncate\": \"1.1.0\",\r\n        \"co-with-promise\": \"4.6.0\",\r\n        \"code-excerpt\": \"2.1.1\",\r\n        \"common-path-prefix\": \"1.0.0\",\r\n        \"concordance\": \"3.0.0\",\r\n        \"convert-source-map\": \"1.5.1\",\r\n        \"core-assert\": \"0.2.1\",\r\n        \"currently-unhandled\": \"0.4.1\",\r\n        \"debug\": \"3.1.0\",\r\n        \"dot-prop\": \"4.2.0\",\r\n        \"empower-core\": \"0.6.2\",\r\n        \"equal-length\": \"1.0.1\",\r\n        \"figures\": \"2.0.0\",\r\n        \"find-cache-dir\": \"1.0.0\",\r\n        \"fn-name\": \"2.0.1\",\r\n        \"get-port\": \"3.2.0\",\r\n        \"globby\": \"6.1.0\",\r\n        \"has-flag\": \"2.0.0\",\r\n        \"hullabaloo-config-manager\": \"1.1.1\",\r\n        \"ignore-by-default\": \"1.0.1\",\r\n        \"import-local\": \"0.1.1\",\r\n        \"indent-string\": \"3.2.0\",\r\n        \"is-ci\": \"1.1.0\",\r\n        \"is-generator-fn\": \"1.0.0\",\r\n        \"is-obj\": \"1.0.1\",\r\n        \"is-observable\": \"1.1.0\",\r\n        \"is-promise\": \"2.1.0\",\r\n        \"last-line-stream\": \"1.0.0\",\r\n        \"lodash.clonedeepwith\": \"4.5.0\",\r\n        \"lodash.debounce\": \"4.0.8\",\r\n        \"lodash.difference\": \"4.5.0\",\r\n        \"lodash.flatten\": \"4.4.0\",\r\n        \"loud-rejection\": \"1.6.0\",\r\n        \"make-dir\": \"1.1.0\",\r\n        \"matcher\": \"1.1.0\",\r\n        \"md5-hex\": \"2.0.0\",\r\n        \"meow\": \"3.7.0\",\r\n        \"ms\": \"2.0.0\",\r\n        \"multimatch\": \"2.1.0\",\r\n        \"observable-to-promise\": \"0.5.0\",\r\n        \"option-chain\": \"1.0.0\",\r\n        \"package-hash\": \"2.0.0\",\r\n        \"pkg-conf\": \"2.1.0\",\r\n        \"plur\": \"2.1.2\",\r\n        \"pretty-ms\": \"3.1.0\",\r\n        \"require-precompiled\": \"0.1.0\",\r\n        \"resolve-cwd\": \"2.0.0\",\r\n        \"safe-buffer\": \"5.1.1\",\r\n        \"semver\": \"5.5.0\",\r\n        \"slash\": \"1.0.0\",\r\n        \"source-map-support\": \"0.5.2\",\r\n        \"stack-utils\": \"1.0.1\",\r\n        \"strip-ansi\": \"4.0.0\",\r\n        \"strip-bom-buf\": \"1.0.0\",\r\n        \"supertap\": \"1.0.0\",\r\n        \"supports-color\": \"5.2.0\",\r\n        \"trim-off-newlines\": \"1.0.1\",\r\n        \"unique-temp-dir\": \"1.0.0\",\r\n        \"update-notifier\": \"2.3.0\"\r\n      },\r\n      \"dependencies\": {\r\n        \"anymatch\": {\r\n          \"version\": \"1.3.2\",\r\n          \"resolved\": \"https://registry.npmjs.org/anymatch/-/anymatch-1.3.2.tgz\",\r\n          \"integrity\": \"sha512-0XNayC8lTHQ2OI8aljNCN3sSx6hsr/1+rlcDAotXJR7C1oZZHCNsfpbKwMjRA3Uqb5tF1Rae2oloTr4xpq+WjA==\",\r\n          \"dev\": true,\r\n          \"requires\": {\r\n            \"micromatch\": \"2.3.11\",\r\n            \"normalize-path\": \"2.1.1\"\r\n          }\r\n        },\r\n        \"arr-diff\": {\r\n          \"version\": \"2.0.0\",\r\n          \"resolved\": \"https://registry.npmjs.org/arr-diff/-/arr-diff-2.0.0.tgz\",\r\n          \"integrity\": \"sha1-jzuCf5Vai9ZpaX5KQlasPOrjVs8=\",\r\n          \"dev\": true,\r\n          \"requires\": {\r\n            \"arr-flatten\": \"1.1.0\"\r\n          }\r\n        },\r\n        \"array-unique\": {\r\n          \"version\": \"0.2.1\",\r\n          \"resolved\": \"https://registry.npmjs.org/array-unique/-/array-unique-0.2.1.tgz\",\r\n          \"integrity\": \"sha1-odl8yvy8JiXMcPrc6zalDFiwGlM=\",\r\n          \"dev\": true\r\n        },\r\n        \"braces\": {\r\n          \"version\": \"1.8.5\",\r\n          \"resolved\": \"https://registry.npmjs.org/braces/-/braces-1.8.5.tgz\",\r\n          \"integrity\": \"sha1-uneWLhLf+WnWt2cR6RS3N4V79qc=\",\r\n          \"dev\": true,\r\n          \"requires\": {\r\n            \"expand-range\": \"1.8.2\",\r\n            \"preserve\": \"0.2.0\",\r\n            \"repeat-element\": \"1.1.2\"\r\n          }\r\n        },\r\n        \"chokidar\": {\r\n          \"version\": \"1.7.0\",\r\n          \"resolved\": \"https://registry.npmjs.org/chokidar/-/chokidar-1.7.0.tgz\",\r\n          \"integrity\": \"sha1-eY5ol3gVHIB2tLNg5e3SjNortGg=\",\r\n          \"dev\": true,\r\n          \"requires\": {\r\n            \"anymatch\": \"1.3.2\",\r\n            \"async-each\": \"1.0.1\",\r\n            \"fsevents\": \"1.1.3\",\r\n            \"glob-parent\": \"2.0.0\",\r\n            \"inherits\": \"2.0.3\",\r\n            \"is-binary-path\": \"1.0.1\",\r\n            \"is-glob\": \"2.0.1\",\r\n            \"path-is-absolute\": \"1.0.1\",\r\n            \"readdirp\": \"2.1.0\"\r\n          }\r\n        },\r\n        \"debug\": {\r\n          \"version\": \"3.1.0\",\r\n          \"resolved\": \"https://registry.npmjs.org/debug/-/debug-3.1.0.tgz\",\r\n          \"integrity\": \"sha512-OX8XqP7/1a9cqkxYw2yXss15f26NKWBpDXQd0/uK/KPqdQhxbPa994hnzjcE2VqQpDslf55723cKPUOGSmMY3g==\",\r\n          \"dev\": true,\r\n          \"requires\": {\r\n            \"ms\": \"2.0.0\"\r\n          }\r\n        },\r\n        \"expand-brackets\": {\r\n          \"version\": \"0.1.5\",\r\n          \"resolved\": \"https://registry.npmjs.org/expand-brackets/-/expand-brackets-0.1.5.tgz\",\r\n          \"integrity\": \"sha1-3wcoTjQqgHzXM6xa9yQR5YHRF3s=\",\r\n          \"dev\": true,\r\n          \"requires\": {\r\n            \"is-posix-bracket\": \"0.1.1\"\r\n          }\r\n        },\r\n        \"extglob\": {\r\n          \"version\": \"0.3.2\",\r\n          \"resolved\": \"https://registry.npmjs.org/extglob/-/extglob-0.3.2.tgz\",\r\n          \"integrity\": \"sha1-Lhj/PS9JqydlzskCPwEdqo2DSaE=\",\r\n          \"dev\": true,\r\n          \"requires\": {\r\n            \"is-extglob\": \"1.0.0\"\r\n          }\r\n        },\r\n        \"glob-parent\": {\r\n          \"version\": \"2.0.0\",\r\n          \"resolved\": \"https://registry.npmjs.org/glob-parent/-/glob-parent-2.0.0.tgz\",\r\n          \"integrity\": \"sha1-gTg9ctsFT8zPUzbaqQLxgvbtuyg=\",\r\n          \"dev\": true,\r\n          \"requires\": {\r\n            \"is-glob\": \"2.0.1\"\r\n          }\r\n        },\r\n        \"is-extglob\": {\r\n          \"version\": \"1.0.0\",\r\n          \"resolved\": \"https://registry.npmjs.org/is-extglob/-/is-extglob-1.0.0.tgz\",\r\n          \"integrity\": \"sha1-rEaBd8SUNAWgkvyPKXYMb/xiBsA=\",\r\n          \"dev\": true\r\n        },\r\n        \"is-glob\": {\r\n          \"version\": \"2.0.1\",\r\n          \"resolved\": \"https://registry.npmjs.org/is-glob/-/is-glob-2.0.1.tgz\",\r\n          \"integrity\": \"sha1-0Jb5JqPe1WAPP9/ZEZjLCIjC2GM=\",\r\n          \"dev\": true,\r\n          \"requires\": {\r\n            \"is-extglob\": \"1.0.0\"\r\n          }\r\n        },\r\n        \"kind-of\": {\r\n          \"version\": \"3.2.2\",\r\n          \"resolved\": \"https://registry.npmjs.org/kind-of/-/kind-of-3.2.2.tgz\",\r\n          \"integrity\": \"sha1-MeohpzS6ubuw8yRm2JOupR5KPGQ=\",\r\n          \"dev\": true,\r\n          \"requires\": {\r\n            \"is-buffer\": \"1.1.6\"\r\n          }\r\n        },\r\n        \"micromatch\": {\r\n          \"version\": \"2.3.11\",\r\n          \"resolved\": \"https://registry.npmjs.org/micromatch/-/micromatch-2.3.11.tgz\",\r\n          \"integrity\": \"sha1-hmd8l9FyCzY0MdBNDRUpO9OMFWU=\",\r\n          \"dev\": true,\r\n          \"requires\": {\r\n            \"arr-diff\": \"2.0.0\",\r\n            \"array-unique\": \"0.2.1\",\r\n            \"braces\": \"1.8.5\",\r\n            \"expand-brackets\": \"0.1.5\",\r\n            \"extglob\": \"0.3.2\",\r\n            \"filename-regex\": \"2.0.1\",\r\n            \"is-extglob\": \"1.0.0\",\r\n            \"is-glob\": \"2.0.1\",\r\n            \"kind-of\": \"3.2.2\",\r\n            \"normalize-path\": \"2.1.1\",\r\n            \"object.omit\": \"2.0.1\",\r\n            \"parse-glob\": \"3.0.4\",\r\n            \"regex-cache\": \"0.4.4\"\r\n          }\r\n        },\r\n        \"supports-color\": {\r\n          \"version\": \"5.2.0\",\r\n          \"resolved\": \"https://registry.npmjs.org/supports-color/-/supports-color-5.2.0.tgz\",\r\n          \"integrity\": \"sha512-F39vS48la4YvTZUPVeTqsjsFNrvcMwrV3RLZINsmHo+7djCvuUzSIeXOnZ5hmjef4bajL1dNccN+tg5XAliO5Q==\",\r\n          \"dev\": true,\r\n          \"requires\": {\r\n            \"has-flag\": \"3.0.0\"\r\n          },\r\n          \"dependencies\": {\r\n            \"has-flag\": {\r\n              \"version\": \"3.0.0\",\r\n              \"resolved\": \"https://registry.npmjs.org/has-flag/-/has-flag-3.0.0.tgz\",\r\n              \"integrity\": \"sha1-tdRU3CGZriJWmfNGfloH87lVuv0=\",\r\n              \"dev\": true\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\n## Environment\r\n\r\nNode.js v8.9.1\r\ndarwin 17.4.0\r\nava --version 0.25\r\nnpm --version 5.6\r\n\r\n",
                              "label": "unlabeledBug",
                              "createdAt": "2018-02-22T11:33:13Z",
                              "closedAt": "2018-02-22T11:59:45Z",
                              "lastComment": "2018-02-22T15:12:50Z",
                              "commentCount": 2
                         },
                         {
                              "title": "Requiring @std/esm unexpectedly disables Babel pipeline",
                              "description": "## Description\r\n\r\nAdding `\"require\": \"@std/esm\"` to an AVA config causes AVA to disable its Babel pipeline. \r\n\r\nThis is a pretty limiting restriction because aside from the fact that it can be used to transpile ESM imports/exports, Babel is orthogonal to std/esm. For example, if using std/esm, one can't use JSX in test files.\r\n\r\nIt's also quite surprising, since std/esm is the _only_ thing you can add to `require` that will cause this behavior. e.g. imagine running node 6 and adding `\"require\": \"@std/esm\"` to find that it breaks async functions in your test files (???)\r\n\r\nHow difficult do you think this would be to fix? If it's not likely to be addressed for awhile, I am happy to PR a caveat in the docs.\r\n\r\ncc @jdalton\r\n\r\n## Relevant Links\r\n\r\n[Here's](https://github.com/billyjanitsch/ava-esm) a small repo -- run `npm it` to reproduce.",
                              "label": "unlabeledBug",
                              "createdAt": "2018-02-13T02:27:24Z",
                              "closedAt": "2018-02-13T11:48:22Z",
                              "lastComment": "2018-02-28T20:52:53Z",
                              "commentCount": 14
                         },
                         {
                              "title": "Ensure workers inherit color level from main process",
                              "description": "Workers don't inherit the correct color level from the main process. @nowells raised this in #1455. This got entangled with a solution for #1393, by @kevva in #1401. I'm now fixing that with #1700.\r\n\r\nAs of #1700 workers remove AVA's internal flags from `process.argv`. We could apply the solution from #1455 so workers correctly inherit the color level.\r\n\r\nI'm concerned that `chalk` / `supports-color` will behave inconsistently in the test processes. If the user code shares its `chalk` / `supports-color` dependencies with AVA, they'll inherit the color level from the main process. Otherwise the color level is detected afresh. I don't think AVA should foist the `--color` / `--no-color` flags onto the worker process. We could solve this inconsistency by bundling `chalk`. That way we can be sure to only configure *our* copy and leave user code unaffected. Users can still manipulate color levels in their test processes through environment variables or additional command line arguments.\r\n\r\n@nowells, @kevva, @sindresorhus, what do you think?",
                              "label": "bug",
                              "createdAt": "2018-02-12T14:06:00Z",
                              "closedAt": "2020-05-25T11:41:55Z",
                              "lastComment": "2020-05-25T11:41:54Z",
                              "commentCount": 6
                         },
                         {
                              "title": "Improve `Observable` typing in TS and Flow definitions",
                              "description": "We currently type `Observable` like so:\r\n\r\n```ts\r\nexport interface ObservableLike {\r\n\tsubscribe(observer: (value: any) => void): void;\r\n}\r\n```\r\n\r\nI think we should include a more complete type definition. See the `index.d.ts` and `index.js.flow` files.",
                              "label": "bug",
                              "createdAt": "2018-02-04T18:02:09Z",
                              "closedAt": "2019-05-05T14:13:20Z",
                              "lastComment": "2019-08-14T12:32:08Z",
                              "commentCount": 6
                         },
                         {
                              "title": "profile.js script does not compile helpers",
                              "description": "Unlike AVA itself, the `profile.js` script, which can be used for debugging, does not compile helpers.\r\n\r\nI'm not sure whether we ought to make `profile.js` behave more like regular AVA, or whether we should focus on a built-in debug mode: #1505. Probably the latter.",
                              "label": "bug",
                              "createdAt": "2018-01-31T16:17:47Z",
                              "closedAt": "2019-12-29T16:31:46Z",
                              "lastComment": "2018-02-01T03:44:04Z",
                              "commentCount": 1
                         },
                         {
                              "title": "`t.throws` passes with false, undefined, and null",
                              "description": "## Description\r\n\r\n`t.throws()` will pass if provided the arguments `false`, `undefined` and `null`. I would expect these tests to fail since, according to the docs:\r\n\r\n> `error` can be an error constructor, error message, regex matched against the error message, or validation function.\r\n\r\nFor my particular use case, I wanted to test that the error thrown was an instance of a custom error. However, the custom error was not implemented and so `undefined` was passed into `t.throws()`. The test still succeeded, which is not the desired behavior.\r\n\r\n### Test Source\r\n\r\nThe following tests will incorrectly pass\r\n\r\n```js\r\ntest('false', t => {\r\n  t.throws(() => { throw new Error('foo') }, false)\r\n})\r\n\r\ntest('undefined', t => {\r\n  t.throws(() => { throw new Error('foo') }, undefined)\r\n})\r\n\r\ntest('null', t => {\r\n  t.throws(() => { throw new Error('foo') }, null)\r\n})\r\n```\r\n\r\n### Error Message & Stack Trace\r\n\r\n```\r\n▶ node_modules/.bin/ava -v\r\n\r\n  ✔ false\r\n  ✔ undefined\r\n  ✔ null\r\n\r\n  3 tests passed\r\n```\r\n\r\n### Config\r\n\r\nUsing vanilla `ava`—no config\r\n\r\n### Command-Line Arguments\r\n\r\n```\r\nava -v\r\n```\r\n\r\n## Environment\r\n\r\n```\r\n▶ node -e \"var os=require('os');console.log('Node.js ' + process.version + '\\n' + os.platform() + ' ' + os.release())\"\r\nNode.js v8.9.4\r\nlinux 4.13.0-32-generic\r\n\r\n▶ node_modules/.bin/ava --version\r\n0.25.0\r\n\r\n▶ npm --version\r\n5.6.0\r\n```\r\n",
                              "label": "bug",
                              "createdAt": "2018-01-31T15:46:36Z",
                              "closedAt": "2018-02-13T18:31:07Z",
                              "lastComment": "2018-02-12T16:58:16Z",
                              "commentCount": 2
                         },
                         {
                              "title": "Collecting and running tests needs some cleanup",
                              "description": "As raised in #1672 our requirement that tests must be declared synchronously is no longer properly enforced. I think this broke when we switched to limited concurrency (#1467).\r\n\r\nOriginally all workers sent their tests to the main process, and once all workers were ready did we start running the tests. Any test declared after this point would [throw an error at the point of declaration](https://github.com/avajs/ava/blob/d42865be9f9484a6a3ab7e90a91283ec50c0d405/lib/runner.js#L71:L730). We still have the code logic for this, and a unit test, but the unit test is at the `runner` level rather than an integration test. It doesn't seem to have an effect in #1672.\r\n\r\nFurther, despite us saying that tests should be declared synchronously, the [\"start running your tests\" instruction](https://github.com/avajs/ava/blob/d42865be9f9484a6a3ab7e90a91283ec50c0d405/api.js#L274) is sent over IPC which is inherently asynchronous.\r\n\r\nWe also don't detect later `test()` calls [when we're looking to only run exclusive tests](https://github.com/avajs/ava/blob/d42865be9f9484a6a3ab7e90a91283ec50c0d405/lib/runner.js#L216).\r\n\r\nWe need to update our test running logic:\r\n\r\n* When `test()` is first called, schedule running them using `process.nextTick()`. This should happen in `lib/runner.js` itself to avoid any other asynchronicity from being introduced.\r\n* Any `test()` call in a subsequent tick should cause that test to be marked as failing with an appropriate reason. The test should never run.\r\n* Workers should run tests in the tick after the first one has been registered. There should be no need to wait for IPC with the main process.\r\n* There is no requirement that `test()` is called immediately. This allows for asynchronous module loading and top-level `await`.\r\n\r\nIt's important that no new tests are registered once tests start running. Allowing it makes it hard to know when all tests are finished, or to tell when a test might be stuck. I think the above approach should work since presumably the worker process doesn't exit whilst there is something going on that will end up registering a new test, and once that completes we'll immediately fail that test without ever running it.",
                              "label": "bug",
                              "createdAt": "2018-01-31T14:59:39Z",
                              "closedAt": "2018-02-11T16:12:30Z",
                              "lastComment": "2018-02-01T05:10:26Z",
                              "commentCount": 1
                         },
                         {
                              "title": "Inconsistent behavior defining tests dynamically inside (nested and top level) async functions",
                              "description": "## Description\r\nI'm not sure if what I'm describing is a bug or just a request for support.  I'm experiencing unexpected behavior when trying to create test cases dynamically inside of an async function (or sometimes nested async functions).  In most cases, no tests are detected by AVA at runtime.  In some cases, test cases are inconsistently detected, making me think it might be a race condition problem.  In some cases, test cases are consistently detected when using the `ava` executable, but not when using the debugging procedure explained in your README.\r\n\r\n## Relevant Links\r\nI've made a reasonably comprehensive repository to minimally recreate what I'm experiencing.  There are more details in my README file.\r\n\r\nhttps://github.com/JayAndCatchFire/ava-async-issue-example\r\n\r\n## Environment\r\nlinux 4.13.0-32-generic (Ubuntu 16.04 AMD64)\r\nNode.js v8.9.4\r\nAVA 0.25.0\r\nyarn version v1.3.2\r\nnpm 5.6.0\r\n\r\nThat's the environment in which I set up my example repository.  I'm also able to reproduce the results on macOS 10.13.3 with the rest of the versions being the same.",
                              "label": "unlabeledBug",
                              "createdAt": "2018-01-31T08:06:48Z",
                              "closedAt": "2018-01-31T15:00:51Z",
                              "lastComment": "2018-01-31T15:00:51Z",
                              "commentCount": 1
                         },
                         {
                              "title": "Handle compilation of files ignored by Babel",
                              "description": "Babel can be configured to ignore test and helper files. When AVA compiles those files it'll [receive `null` instead of the expected result object](https://github.com/avajs/ava/blob/7be7fe80234af9008700502f84e7b7439c3ed82c/lib/caching-precompiler.js#L57).\r\n\r\nWe need to bail out if this is the case, by [returning `null` before attempting to use the result object](https://github.com/avajs/ava/blob/7be7fe80234af9008700502f84e7b7439c3ed82c/lib/caching-precompiler.js#L69).\r\n\r\nThis needs to be handled upstream, to [avoid writing `null` to disk](https://github.com/avajs/caching-transform/blob/50cc9935bad0465bc1da6505e25576b59477a14e/index.js#L83).\r\n\r\nAdditionally we [must not return a file hash](https://github.com/avajs/ava/blob/7be7fe80234af9008700502f84e7b7439c3ed82c/lib/caching-precompiler.js#L39) to the API, and the API must check for the lack of the file hash when compiling [tests](https://github.com/avajs/ava/blob/7be7fe80234af9008700502f84e7b7439c3ed82c/api.js#L65) and [helpers](https://github.com/avajs/ava/blob/7be7fe80234af9008700502f84e7b7439c3ed82c/api.js#L150).",
                              "label": "bug",
                              "createdAt": "2018-01-28T17:44:06Z",
                              "closedAt": "2018-05-27T14:52:08Z",
                              "lastComment": "2018-04-07T17:56:00Z",
                              "commentCount": 7
                         },
                         {
                              "title": "Windows Line Feed Code Excerpt Display Bug",
                              "description": "## Description\r\n\r\nThere seems to be a small display bug when printing the code-excerpt for an assertion failure into the console for CRLF encoded files due to windows **\\r\\n** line feed.\r\nThe code-excerpt node module returns lines with **\\r** at the end for CRLF encoded files.\r\nava/lib/code-excerpt.js line 29: \r\n```js\r\nconst excerpt = codeExcerpt(contents, line, {around: 1});\r\n//[ { line: 14, value: '  1 + 1 + 1 + 1;\\r' },\r\n//  { line: 15, value: '  t.is(1,2)\\r' },\r\n//  { line: 16, value: '  1;\\r' } ]\r\n```\r\nThese are then joined with **\\n** and sent to the equal-length module which re-splits the lines on **\\n** and adds trailing spaces to equalize the length of each line:\r\n```js\r\n[ '  1 + 1 + 1 + 1;\\r',\r\n  '  t.is(1,2)\\r     ',\r\n  '  1;\\r            ' ]\r\n```\r\nDue to the **\\r**, the trailing spaces override the preceding string, resulting in blanked out characters:\r\n![image](https://user-images.githubusercontent.com/17567279/34902627-5befd07c-f817-11e7-8b2c-32bd8731af79.png)\r\nWhen it should show:\r\n![image](https://user-images.githubusercontent.com/17567279/34902637-7986a0c0-f817-11e7-8f19-7128e7d4415b.png)\r\n\r\n### Ava Source\r\nava/lib/code-excerpt.js lines 29 to 56:\r\n```js\r\nconst excerpt = codeExcerpt(contents, line, {around: 1});\r\nif (!excerpt) {\r\n\treturn null;\r\n}\r\n\r\nconst lines = excerpt.map(item => ({\r\n\tline: item.line,\r\n\tvalue: truncate(item.value, maxWidth - String(line).length - 5)\r\n}));\r\n\r\nconst joinedLines = lines.map(line => line.value).join('\\n');\r\nconst extendedLines = equalLength(joinedLines).split('\\n');\r\n\r\nreturn lines\r\n\t.map((item, index) => ({\r\n\t\tline: item.line,\r\n\t\tvalue: extendedLines[index]\r\n\t}))\r\n\t.map(item => {\r\n\t\tconst isErrorSource = item.line === line;\r\n\r\n\t\tconst lineNumber = formatLineNumber(item.line, line) + ':';\r\n\t\tconst coloredLineNumber = isErrorSource ? lineNumber : chalk.grey(lineNumber);\r\n\t\tconst result = ` ${coloredLineNumber} ${item.value}`;\r\n\r\n\t\treturn isErrorSource ? chalk.bgRed(result) : result;\r\n\t})\r\n\t.join('\\n');\r\n```\r\n\r\n### Equal Length Source\r\nequal-length/index.js line 8:\r\n```js\r\nconst lines = input.split('\\n');\r\n```\r\n\r\n### Code Excerpt Source\r\ncode-excerpt/index.js line 27:\r\n```js\r\nsource = tabsToSpaces(source).split('\\n');\r\n```\r\n## Solutions\r\n### 1 Avoid Equalizing Length\r\nRemove lines 43 to 46 of ava/lib/code-excerpt.js and remove call to equal-length library:\r\n\r\n```js\r\nconst excerpt = codeExcerpt(contents, line, {around: 1});\r\nif (!excerpt) {\r\n\treturn null;\r\n}\r\n\r\nconst lines = excerpt.map(item => ({\r\n\tline: item.line,\r\n\tvalue: truncate(item.value, maxWidth - String(line).length - 5)\r\n}));\r\n\r\nreturn lines\r\n\t.map(item => {\r\n\t\tconst isErrorSource = item.line === line;\r\n\r\n\t\tconst lineNumber = formatLineNumber(item.line, line) + ':';\r\n\t\tconst coloredLineNumber = isErrorSource ? lineNumber : chalk.grey(lineNumber);\r\n\t\tconst result = ` ${coloredLineNumber} ${item.value}`;\r\n\r\n\t\treturn isErrorSource ? chalk.bgRed(result) : result;\r\n\t})\r\n\t.join('\\n');\r\n```\r\n\r\nThis fixes the display bug, as after the final join each **\\r** is properly matched with a **\\n** to create a valid newline. I'm not too sure why the lines need to be equalized personally, so I think this makes things a little simpler.\r\n\r\n### 2 Tweak Code-Excerpt Library - (my preference if both can't be implemented)\r\nReplacing code-excerpt/index.js line 27:\r\n```js\r\nsource = tabsToSpaces(source).split(/\\r?\\n/);\r\n```\r\nfixes the problem as the data being passed into the line equalizer is free of any **\\r**.\r\nhttps://stackoverflow.com/questions/21895233/how-in-node-to-split-string-by-newline-n\r\n\r\n## Finally\r\nThank you in advance for any work you do on this as it took me ages to puzzle it out, hope it is helpful :).\r\n\r\n\r\n",
                              "label": "bug",
                              "createdAt": "2018-01-13T05:25:32Z",
                              "closedAt": "2018-01-20T16:05:17Z",
                              "lastComment": "2018-01-20T13:09:16Z",
                              "commentCount": 4
                         },
                         {
                              "title": "Make t.log() behave like console.log()",
                              "description": "## Description\r\n\r\nWhen using `--tap` output, trying to log an object results in an error.  Worse, the stack trace points to ava internals, not to my test code.\r\n\r\nIf `t.log` is given an object:\r\n\r\n* Minimum expected behavior: Throw immediately\r\n* Preferred expected behavior: Pass through `JSON.stringify(arg, null, 2)`\r\n\r\nI do a lot of `t.log(JSON.stringify(resp.body, null, 2));` and it would be great to just say `t.log(resp.body);` instead.\r\n\r\n### Test Source\r\n\r\n```js\r\nimport { serial as test } from 'ava';\r\n\r\ntest('Log an object', (t) => {\r\n  const myObject = { a: 1 };\r\n  t.log(myObject);\r\n  t.is(true, true);\r\n});\r\n```\r\n\r\n### Error Message & Stack Trace\r\n\r\n```\r\n^^/d/o/b/ava >>> ava --tap test.js \r\n\r\n/Users/redacted/dev/oss/bug-reports/ava/node_modules/indent-string/index.js:9\r\n\t\tthrow new TypeError(`Expected \\`input\\` to be a \\`string\\`, got \\`${typeof str}\\``);\r\n\t\t^\r\n\r\nTypeError: Expected `input` to be a `string`, got `object`\r\n    at module.exports (/Users/redacted/dev/oss/bug-reports/ava/node_modules/indent-string/index.js:9:9)\r\n    at test.logs.forEach.log (/Users/redacted/dev/oss/bug-reports/ava/node_modules/ava/lib/reporters/tap.js:64:23)\r\n    at Array.forEach (<anonymous>)\r\n    at appendLogs (/Users/redacted/dev/oss/bug-reports/ava/node_modules/ava/lib/reporters/tap.js:63:15)\r\n    at TapReporter.test (/Users/redacted/dev/oss/bug-reports/ava/node_modules/ava/lib/reporters/tap.js:83:4)\r\n    at Logger.test (/Users/redacted/dev/oss/bug-reports/ava/node_modules/ava/lib/logger.js:27:28)\r\n    at emitTwo (events.js:126:13)\r\n    at RunStatus.emit (events.js:214:7)\r\n    at RunStatus.handleTest (/Users/redacted/dev/oss/bug-reports/ava/node_modules/ava/lib/run-status.js:105:8)\r\n    at emitOne (events.js:121:20)\r\n    at ChildProcess.emit (events.js:211:7)\r\n    at ChildProcess.ps.on.event (/Users/redacted/dev/oss/bug-reports/ava/node_modules/ava/lib/fork.js:79:7)\r\n    at emitTwo (events.js:126:13)\r\n    at ChildProcess.emit (events.js:214:7)\r\n    at emit (internal/child_process.js:772:12)\r\n    at _combinedTickCallback (internal/process/next_tick.js:141:11)\r\n```\r\n\r\n### Config\r\n\r\nN/A.  Here's my test package.json:\r\n\r\n```json\r\n{\r\n  \"name\": \"ava-bug-report\",\r\n  \"version\": \"1.0.0\",\r\n  \"description\": \"Reporting an issue in ava\",\r\n  \"main\": \"test.js\",\r\n  \"author\": \"Ed Brannin\",\r\n  \"license\": \"MIT\",\r\n  \"private\": true,\r\n  \"dependencies\": {\r\n    \"ava\": \"^0.24.0\"\r\n  }\r\n}\r\n```\r\n\r\n### Command-Line Arguments\r\n\r\nCopy your npm build scripts or the `ava` command used:\r\n\r\n```\r\nava --tap test.js\r\n```\r\n\r\n\r\n## Relevant Links\r\n\r\nhttps://github.com/edbrannin/ava-issue-1635\r\n\r\n## Environment\r\n\r\nTell us which operating system you are using, as well as which versions of Node.js, npm, and AVA. Run the following to get it quickly:\r\n\r\n```\r\nNode.js v8.9.0\r\ndarwin 16.7.0\r\n0.24.0\r\n5.6.0\r\n```\r\n",
                              "label": "bug",
                              "createdAt": "2018-01-11T20:49:29Z",
                              "closedAt": "2018-01-25T16:03:09Z",
                              "lastComment": "2018-01-24T16:20:01Z",
                              "commentCount": 9
                         },
                         {
                              "title": "Run AVA as a REPL",
                              "description": "<!-- CLICK \"Preview\" FOR INSTRUCTIONS IN A MORE READABLE FORMAT -->\r\n\r\n## Description\r\n\r\nI believe this is a feature request (or documentation)\r\n\r\nI need to run node with the same environment as ava has for simple debugging of my test files. \r\n\r\nCurrently I believe I have to simply `ava test/FooTests`. But these sometimes fail and I need to know why by actually being in the node repl with the ava environment.\r\n\r\n### Test Source\r\n\r\nNone\r\n\r\n### Error Message & Stack Trace\r\n\r\nNone\r\n\r\n### Config\r\n\r\nCopy the relevant section from `package.json`:\r\n\r\nNone\r\n\r\n### Command-Line Arguments\r\n\r\nCopy your npm build scripts or the `ava` command used:\r\n\r\n```\r\n    \"test\": \"ava\"\r\n```\r\n\r\n\r\n## Relevant Links\r\n\r\nhttps://github.com/backspaces/as-core\r\n\r\n\r\n## Environment\r\n\r\n git 2.15.0\r\n node v8.9.3\r\n npm 5.5.1\r\n yarn 1.3.2\r\n eslint v4.14.0\r\n ava 0.24.0\r\n",
                              "label": "unlabeledBug",
                              "createdAt": "2018-01-09T20:10:38Z",
                              "closedAt": "2018-01-10T16:43:38Z",
                              "lastComment": "2018-01-11T12:49:16Z",
                              "commentCount": 5
                         },
                         {
                              "title": "Doc Issue// precompiling-with-webpack // Test against precompiled sources",
                              "description": "Doc Issue\r\nIn Precompiling-with-webpack // Test against precompiled sources,  the last webpack configuration file is presented as being webpack.config.js, but it's seem it's fact it's the webpack.config.test.js.\r\nOr does i misunderstood something ? \r\n\r\nhttps://github.com/avajs/ava/blob/master/docs/recipes/precompiling-with-webpack.md#webpackconfigjs-3\r\n",
                              "label": "bug",
                              "createdAt": "2017-12-14T16:19:38Z",
                              "closedAt": "2018-01-03T23:52:02Z",
                              "lastComment": "2018-01-03T17:05:33Z",
                              "commentCount": 3
                         },
                         {
                              "title": "Execute node js marked as failure ",
                              "description": "Commit message: \"add a nodejs project\"\r\n > git rev-list 33fb6dde7f466e5b032e8aaabf6c6bc136330e1c # timeout=10\r\n[nodejs-test] $ /var/lib/jenkins/tools/jenkins.plugins.nodejs.tools.NodeJSInstallation/node_9.2.0_/bin/node /tmp/jenkins7545313931568951294.js\r\n/tmp/jenkins7545313931568951294.js:1\r\n(function (exports, require, module, __filename, __dirname) { node bin/www\r\n                                                                   ^^^\r\n\r\nSyntaxError: Unexpected identifier\r\n    at createScript (vm.js:80:10)\r\n    at Object.runInThisContext (vm.js:152:10)\r\n    at Module._compile (module.js:605:28)\r\n    at Object.Module._extensions..js (module.js:652:10)\r\n    at Module.load (module.js:560:32)\r\n    at tryModuleLoad (module.js:503:12)\r\n    at Function.Module._load (module.js:495:3)\r\n    at Function.Module.runMain (module.js:682:10)\r\n    at startup (bootstrap_node.js:191:16)\r\n    at bootstrap_node.js:613:3\r\nBuild step 'Execute NodeJS script' marked build as failure\r\nFinished: FAILURE\r\n\r\nI am getting above  error in Jenkins while i am executing.\r\nCan someone help me to fix this  issue",
                              "label": "unlabeledBug",
                              "createdAt": "2017-12-12T07:55:15Z",
                              "closedAt": "2017-12-12T12:37:25Z",
                              "lastComment": "2017-12-12T12:37:25Z",
                              "commentCount": 1
                         },
                         {
                              "title": "fix: string `//# sourceMappingURL=` breaking tests",
                              "description": "## Description\r\nApparently, there's a bug on AVA when used with `nyc` for testing where files containing a string with the initial part of a sourcemap instruction, i.e:` //# sourceMappingURL=`, will fail to generate code coverage as well as being tested.\r\n\r\nFor bug reports, please provide as much *relevant* info as possible.\r\n\r\n### Test Source\r\n\r\n__index.js__\r\n```js\r\nfunction someFn(src) {\r\n  const ref = `//# sourceMappingURL=${src}`;\r\n  console.log(ref);\r\n}\r\nmodule.exports = someFn;\r\n```\r\n\r\n__test/index.js__\r\n```js\r\nconst {test} = require('ava'),\r\n      someFn = require('../');\r\n\r\ntest.todo('some fn with hardcoded the sourcemap string');\r\n```\r\n\r\n\r\n\r\n### Error Message & Stack Trace\r\n\r\n```\r\n$ nyc ava -v\r\n\r\nTransformation error for /Users/zanona/Desktop/ava-sourcemaps-fail/index.js ; return original code\r\nAn error occurred while trying to read the map file at /Users/zanona/Desktop/ava-sourcemaps-fail/${src}\\n`;\r\nError: ENOENT: no such file or directory, open '/Users/zanona/Desktop/ava-sourcemaps-fail/${src}\\n`;'\r\n  - some fn with hardcoded the sourcemap string\r\n\r\n  0 tests passed\r\n  1 test todo\r\n\r\n----------|----------|----------|----------|----------|----------------|\r\nFile      |  % Stmts | % Branch |  % Funcs |  % Lines |Uncovered Lines |\r\n----------|----------|----------|----------|----------|----------------|\r\nAll files |  Unknown |  Unknown |  Unknown |  Unknown |                |\r\n----------|----------|----------|----------|----------|----------------|\r\n✨  Done in 1.56s.\r\n```\r\n\r\n\r\n### Command-Line Arguments\r\n\r\nCopy your npm build scripts or the `ava` command used:\r\n\r\n```\r\nnyc ava\r\n```\r\n\r\n\r\n## Relevant Links\r\n\r\n- Repro: https://github.com/zanona/ava-sourcemap-fail\r\n\r\n\r\n## Environment\r\n\r\nTell us which operating system you are using, as well as which versions of Node.js, npm, and AVA. Run the following to get it quickly:\r\n\r\n```\r\nnode -e \"var os=require('os');console.log('Node.js ' + process.version + '\\n' + os.platform() + ' ' + os.release())\"\r\nNode.js v8.7.0\r\ndarwin 16.7.0\r\nava --version > 0.23.0\r\nnpm --version > 5.5.1\r\n```\r\n",
                              "label": "unlabeledBug",
                              "createdAt": "2017-11-19T15:42:29Z",
                              "closedAt": "2017-11-19T16:04:13Z",
                              "lastComment": "2017-11-19T16:04:13Z",
                              "commentCount": 1
                         },
                         {
                              "title": "snapshotLocation 100% not working",
                              "description": "## Description\r\n\r\nThe `snapshotLocation` option appears to NOT be working at all. The snapshot and markdown files appear right next to the source files, regardless of my `snapshotLocation` value.\r\n\r\n### Test Source\r\n\r\n```ts\r\ntest('parses a section', t => {\r\n    t.snapshot(Section.parse('[s]'))\r\n})\r\n```\r\n\r\n### Config\r\n\r\n```json\r\n{\r\n  \"ava\": {\r\n    \"files\": [\r\n      \"dist/**/*.test.js\"\r\n    ],\r\n    \"snapshotLocation\": \"snapshots\",\r\n    \"source\": [\r\n      \"dist/**/*.js\",\r\n      \"src/fixtures/**\"\r\n    ]\r\n  }\r\n}\r\n```\r\n\r\n### Command-Line Arguments\r\n\r\n```json\r\n{\r\n  \"scripts\": {\r\n    \"build:watch\": \"tsc -p tsconfig.test.json --watch\",\r\n    \"watch\": \"ava --watch\"\r\n  }\r\n}\r\n```\r\n\r\n## Relevant Links\r\n- https://github.com/jedmao/ini-parser/blob/ava/src/Section.test.ts\r\n\r\n## Environment\r\n- Windows 10 (win32 10.0.16299)\r\n- Node.js v9.0.0\r\n- npm 5.5.1\r\n- ava 0.23.0",
                              "label": "unlabeledBug",
                              "createdAt": "2017-11-07T15:51:56Z",
                              "closedAt": "2017-11-08T10:27:33Z",
                              "lastComment": "",
                              "commentCount": 0
                         },
                         {
                              "title": "`t.deepEqual` doesn't work with Proxy objects",
                              "description": "## Description\r\n\r\nAVA can't handle `t.deepEqual` on Proxy objects. It eventually crashes the Node.js process. Seems to be an issue with Concordance.\r\n\r\n### Test Source\r\n\r\nUncomment the code in https://github.com/sindresorhus/negative-array/blob/9a13a27cc9bd18101998e924d5afc4eeee0ab7c2/test.js#L36-L46 and run AVA.\r\n\r\n### Error Message & Stack Trace\r\n\r\n```\r\n<--- Last few GCs --->\r\n\r\n   14971 ms: Mark-sweep 1240.2 (1437.0) -> 1239.6 (1437.0) MB, 1614.0 / 0.0 ms [allocation failure] [GC in old space requested].\r\n   16362 ms: Mark-sweep 1239.6 (1437.0) -> 1239.6 (1437.0) MB, 1390.3 / 0.0 ms [allocation failure] [GC in old space requested].\r\n   17762 ms: Mark-sweep 1239.6 (1437.0) -> 1244.4 (1417.0) MB, 1399.8 / 0.0 ms [last resort gc].\r\n   19141 ms: Mark-sweep 1244.4 (1417.0) -> 1249.0 (1417.0) MB, 1379.1 / 0.0 ms [last resort gc].\r\n\r\n\r\n<--- JS stacktrace --->\r\n\r\n==== JS stack trace =========================================\r\n\r\nSecurity context: 0x35b5456cfb39 <JS Object>\r\n    2: formatDeep [/Users/sindresorhus/dev/oss/negative-array/node_modules/concordance/lib/primitiveValues/undefined.js:~27] [pc=0x36297783c88] (this=0x42727fed8d1 <an UndefinedValue with map 0x2d3829bdc371>,theme=0xbf8a79b4e19 <an Object with map 0x2d3829bdb4a9>)\r\n    3: arguments adaptor frame: 2->1\r\n    4: format(aka format) [/Users/sindresorhus/dev/oss/negative-array/node_modules/concordance/...\r\n\r\nFATAL ERROR: CALL_AND_RETRY_LAST Allocation failed - JavaScript heap out of memory\r\n 1: node::Abort() [/Users/sindresorhus/n/bin/node]\r\n 2: node::FatalException(v8::Isolate*, v8::Local<v8::Value>, v8::Local<v8::Message>) [/Users/sindresorhus/n/bin/node]\r\n 3: v8::internal::V8::FatalProcessOutOfMemory(char const*, bool) [/Users/sindresorhus/n/bin/node]\r\n 4: v8::internal::Factory::NewFillerObject(int, bool, v8::internal::AllocationSpace) [/Users/sindresorhus/n/bin/node]\r\n 5: v8::internal::Runtime_AllocateInTargetSpace(int, v8::internal::Object**, v8::internal::Isolate*) [/Users/sindresorhus/n/bin/node]\r\n 6: 0x362973079a7\r\n```\r\n\r\n\r\n## Environment\r\n\r\n```\r\nNode.js v6.11.0\r\ndarwin 17.2.0\r\nAVA 0.23.0\r\nnpm 4.6.1\r\n```\r\n",
                              "label": "bug",
                              "createdAt": "2017-11-06T07:16:37Z",
                              "closedAt": "2017-11-06T16:55:16Z",
                              "lastComment": "2017-11-06T16:55:16Z",
                              "commentCount": 3
                         },
                         {
                              "title": "Make test-worker process independent",
                              "description": "ava@0.23\r\n\r\nI am trying to work on a vscode extension to support debugging with AVA+TypeScript.\r\n\r\nI looked at `profile.js` and IMO it hacks around to fool `test-worker` that it is working on a child process.\r\n\r\nWould you take a PR to make `test-worker` communicates using events and the current consuming code have an adapter between the event emitter and the process?\r\n",
                              "label": "unlabeledBug",
                              "createdAt": "2017-11-01T22:52:33Z",
                              "closedAt": "2017-11-02T16:36:13Z",
                              "lastComment": "2017-11-03T19:00:53Z",
                              "commentCount": 4
                         },
                         {
                              "title": "Problem with ava --init",
                              "description": "When I run ```ava --init```, my empty object of dependencies in package.json is removed.",
                              "label": "bug",
                              "createdAt": "2017-10-25T10:00:06Z",
                              "closedAt": "2018-06-11T17:18:41Z",
                              "lastComment": "2017-10-25T11:40:37Z",
                              "commentCount": 1
                         },
                         {
                              "title": "Error serialization must handle non-errors better",
                              "description": "[`serialize-error`](https://github.com/avajs/ava/blob/c72f4f24bc68b1e0595ff83597e9072d8c886949/lib/serialize-error.js#L49) currently does not guard against being called with a `null` or `undefined` value.\r\n\r\n```js\r\nimport test from 'ava'\r\n\r\ntest.cb(t => {\r\n  setImmediate(() => {throw null})\r\n  setImmediate(t.end)\r\n})\r\n```\r\n\r\nresults in:\r\n\r\n```console\r\n❯ npx ava\r\n\r\n  1 passed\r\n  1 exception\r\n\r\n  Uncaught Exception\r\n  Error: Failed to serialize uncaught exception\r\n    at process.on.exception (/private/var/folders/2_/qczp184x76b2nl034sq5hvxw0000gn/T/tmp.dcvW5BUyA5/node_modules/ava/lib/test-worker.js:93:15)\r\n    at emitOne (events.js:115:13)\r\n    at process.emit (events.js:210:7)\r\n    at process._fatalException (bootstrap_node.js:374:26)\r\n```\r\n\r\nSimilarly, if a primitive is thrown, the output is terrible:\r\n\r\n```js\r\nimport test from 'ava'\r\n\r\ntest.cb(t => {\r\n  setImmediate(() => {throw 5})\r\n  setImmediate(t.end)\r\n})\r\n```\r\n\r\n```console\r\n❯ npx ava\r\n\r\n  1 passed\r\n  1 exception\r\n\r\n  Uncaught Exception\r\n  Threw non-error: {\"avaAssertionError\":false,\"source\":null,\"object\":5,\"type\":\"exception\",\"file\":\"test.js\"}\r\n```\r\n\r\nThe same goes when throwing objects:\r\n\r\n```js\r\nimport test from 'ava'\r\n\r\ntest.cb(t => {\r\n  setImmediate(() => {throw new Date()})\r\n  setImmediate(t.end)\r\n})\r\n```\r\n\r\n```console\r\n❯ npx ava\r\n\r\n  1 passed\r\n  1 exception\r\n\r\n  Uncaught Exception\r\n  Threw non-error: {\"avaAssertionError\":false,\"source\":null,\"object\":{},\"type\":\"exception\",\"file\":\"test.js\"}\r\n```\r\n\r\nIf the error doesn't seem to be an error we should [format it](https://github.com/avajs/ava/blob/c72f4f24bc68b1e0595ff83597e9072d8c886949/lib/assert.js#L20-L29) and print that instead.",
                              "label": "bug",
                              "createdAt": "2017-10-23T15:38:12Z",
                              "closedAt": "2018-08-11T16:55:05Z",
                              "lastComment": "2018-08-11T16:55:05Z",
                              "commentCount": 4
                         },
                         {
                              "title": "Improve t.is output when objects are different references",
                              "description": "## Description\r\n\r\nThe output for a failed `t.is()` assertion should be clearer when the `actual` and `expected` arguments are identical objects but not the same reference.\r\n\r\nObject diffing works well when their properties are different, but not when the references are different. Specifically, the issue is that there is nothing useful in the diff and no additional message explaining the actual error.\r\n\r\nSince equality in JavaScript is a frequent source of confusion for beginners, I think fixing this will be particularly helpful for those users.\r\n\r\nIn my case, I changed an API from modifying its input to returning a copy. So I know the solution is `t.deepEqual()`, but I only know that because I understand what is happening under the covers.\r\n\r\n### Test Source\r\n\r\n```js\r\ntest(() => {\r\n    t.is({ hi : 'bye' }, { hi : 'bye' });\r\n});\r\n```\r\n\r\n### Output\r\n\r\n```\r\n  Difference:\r\n\r\n    {\r\n      hi: 'bye',\r\n    }\r\n```\r\n\r\n### Config\r\n\r\nEverything default.\r\n\r\n## Environment\r\n\r\nNode 8.6.0\r\nnpm 5.4.2\r\nava 0.22.0\r\ndarwin 17.0.0",
                              "label": "bug",
                              "createdAt": "2017-10-17T03:24:43Z",
                              "closedAt": "2017-10-30T14:09:57Z",
                              "lastComment": "2017-10-25T20:19:18Z",
                              "commentCount": 2
                         },
                         {
                              "title": "t.context is `null` (not an object `{}`) in `test.cb.before`",
                              "description": "@sindresorhus I think there is a bug with `t.context` being set to `null` as opposed to `{}` in `test.cb.before` scope.\r\n\r\n```js\r\ntest.cb.before(t => {\r\n  console.log(t.context); // outputs `null`\r\n});\r\n```\r\n\r\nNot sure if this is related <https://github.com/avajs/ava/issues/1340>",
                              "label": "unlabeledBug",
                              "createdAt": "2017-10-05T04:31:15Z",
                              "closedAt": "2017-10-05T04:46:24Z",
                              "lastComment": "2017-10-05T04:46:24Z",
                              "commentCount": 2
                         },
                         {
                              "title": "`t.log()` does not work in before/after hooks",
                              "description": "<!-- Issuehunt Badges -->\n\n[<img alt=\"Issuehunt badges\" src=\"https://issuehunt.io/r/avajs/ava/issues/1536/badge.svg\" />](https://issuehunt.io/r/avajs/ava/issues/1536)\n\n<!-- /Issuehunt Badges -->\n\n## Bug Description\r\n\r\nAva logging with `t.log` only work inside a test function, but not during setup (`before`, `beforeEach`) or teardown (`after.*`) functions.\r\n\r\nThis means that meaningful setup / teardown data, which is very useful for debugging and reproducing, is lost. This happens both for successful and failed tests, and with and without the `--verbose` flag.\r\n\r\n## Steps to reproduce\r\nI've created a small git repo exemplifying the problem:\r\n\r\n```bash\r\ngit clone git@github.com:adamatan/ava-logging-bug.git\r\ncd ava-logging-bug\r\nnpm install\r\nava run.js --verbose\r\n```\r\n\r\n\r\n### Test Source\r\n\r\n```js\r\nimport test from 'ava';\r\n\r\ntest.before((t) => {\r\n  // This runs before all tests\r\n  t.log('before - 1');\r\n});\r\n\r\ntest.before((t) => {\r\n  // This runs after the above, but before tests\r\n  t.log('before - 2');\r\n});\r\n\r\ntest.after('cleanup', (t) => {\r\n  // This runs after all tests\r\n  t.log('after');\r\n});\r\n\r\ntest.after.always('guaranteed cleanup', (t) => {\r\n  // This will always run, regardless of earlier failures\r\n  t.log('after always');\r\n});\r\n\r\ntest.beforeEach((t) => {\r\n  // This runs before each test\r\n  t.log('beforeEach');\r\n});\r\n\r\ntest.afterEach((t) => {\r\n  // This runs after each test\r\n  t.log('afterEach');\r\n});\r\n\r\ntest.afterEach.always((t) => {\r\n  // This runs after each test and other test hooks, even if they failed\r\n  t.log('afterEachAlways');\r\n});\r\n\r\ntest('Passing test', (t) => {\r\n  t.log('Log from the passing test');\r\n  t.pass();\r\n});\r\n\r\n\r\ntest('Failing test', (t) => {\r\n  t.log('Log from the failing test');\r\n  t.fail();\r\n});\r\n```\r\n\r\n### Error Message & Stack Trace\r\n\r\nOnly the log output from the `test` function appear:\r\n\r\n```\r\n  ✔ Passing test\r\n    ℹ Log from the passing test\r\n  ✖ Failing test Test failed via `t.fail()`\r\n    ℹ Log from the failing test\r\n\r\n  1 test failed [14:00:40]\r\n\r\n  Failing test\r\n    ℹ Log from the failing test\r\n\r\n  /Users/adam/Personal/tmp/ava-bug-log-in-before-each/run.js:46\r\n\r\n   45:     t.log('Log from the failing test');\r\n   46:     t.fail();\r\n   47: });\r\n\r\n  Test failed via `t.fail()`\r\n```\r\n\r\n### Command-Line Arguments\r\n\r\n```bash\r\nava run.js --verbose\r\n```\r\n\r\n### Relevant Links\r\n\r\n- [Original SO question for reference](https://stackoverflow.com/q/46395020/51197).\r\n- [Minimal reproduction github example](https://github.com/adamatan/ava-logging-bug).\r\n\r\n\r\n### Environment\r\n\r\n```\r\nNode.js v8.1.2\r\ndarwin 16.7.0\r\n0.22.0 // ava\r\n5.4.2 . // npm\r\n```\n<!-- Issuehunt content -->\n\n\n\n> [dflupu](https://issuehunt.io/u/dflupu) earned $100.00 by resolving this issue!\n> - Checkout the [Issuehunt explorer](https://issuehunt.io/r/avajs/ava/) to discover more funded issues.\n> - Need some help from other developers? [Add your repositories](https://issuehunt.io/r/new) on Issuehunt to raise funds.\n\n\n<!-- /Issuehunt content-->",
                              "label": "bug",
                              "createdAt": "2017-09-25T11:10:51Z",
                              "closedAt": "2019-01-13T11:28:59Z",
                              "lastComment": "2019-01-14T05:04:17Z",
                              "commentCount": 12
                         },
                         {
                              "title": "Debug ava with typesript directly",
                              "description": "Currently ,I can debug ava test file by compiling them to js first(using gulp),and then set breakpoint in vscode ,and setting in `launch.json` like:\r\n```json\r\n\"program\": \"${workspaceRoot}/node_modules/ava/profile.js\",\r\n```\r\nthat can be hit.\r\n\r\nI wonder a way to set breakpoint in  ava typescript file directly, but failed with some attempts.\r\nAny suggestion for that?",
                              "label": "unlabeledBug",
                              "createdAt": "2017-09-12T01:54:47Z",
                              "closedAt": "2017-09-17T13:10:43Z",
                              "lastComment": "2017-09-17T13:10:43Z",
                              "commentCount": 2
                         },
                         {
                              "title": "Missing space between var1 instanceof var2 in output",
                              "description": "## Description\r\n\r\nWhen a test fails while using `test.true(var1 instanceof var2)` the output removes the spaces.\r\n\r\n### Test Source\r\n\r\n```js\r\ntest('returns itself', t => {                \r\n    t.true(t.context.script instanceof Script);\r\n});\r\n```\r\n\r\n### Error Message & Stack Trace\r\n\r\n```\r\n  1 failed\r\n  1 rejection\r\n\r\n  returns itself\r\n\r\n  /Users/xo/code/@lad/mongoose/test/test.js:10\r\n\r\n    9: test('returns itself', t => {                \r\n   10:   t.true(t.context.script instanceof Script);\r\n   11: });                                          \r\n\r\n  Value is not `true`:\r\n\r\n  false\r\n\r\n  t.context.scriptinstanceofScript\r\n  => false\r\n```\r\n\r\n### Config\r\n\r\nCopy the relevant section from `package.json`:\r\n\r\n```json\r\n{\r\n  \"ava\": {\r\n  ...\r\n  }\r\n}\r\n```\r\n\r\n### Command-Line Arguments\r\n\r\nCopy your npm build scripts or the `ava` command used:\r\n\r\n```\r\nava\r\n```\r\n\r\n\r\n## Environment\r\n\r\nTell us which operating system you are using, as well as which versions of Node.js, npm, and AVA. Run the following to get it quickly:\r\n\r\n```\r\nNode.js v8.4.0\r\ndarwin 16.7.0\r\nava 0.22.0\r\nnpm 5.3.0\r\n```\r\n",
                              "label": "bug",
                              "createdAt": "2017-09-10T00:43:20Z",
                              "closedAt": "2017-10-26T16:04:21Z",
                              "lastComment": "2017-10-27T00:08:20Z",
                              "commentCount": 3
                         },
                         {
                              "title": "Deleting a snap file runs all tests",
                              "description": "<!-- Issuehunt Badges -->\n\n[<img alt=\"Issuehunt badges\" src=\"https://issuehunt.io/r/avajs/ava/issues/1511/badge.svg\" />](https://issuehunt.io/r/avajs/ava/issues/1511)\n\n<!-- /Issuehunt Badges -->\n\n## Description\r\n\r\nI think this is a nice workflow:\r\n* write complex data processing code\r\n* feed it example data in tests with `t.snapshot()`\r\n* inspect result `.md` file in editor tab\r\n* if snapshot is no longer good, remove .snap file so it gets regenerated\r\n\r\n👉  this runs all the tests again, instead of just the test using the snap file 😢 \r\n\r\nava v0.22\n<!-- Issuehunt content -->\n\n\n\n> [itaisteinherz](https://issuehunt.io/u/itaisteinherz) earned $30.00 by resolving this issue!\n> - Checkout the [Issuehunt explorer](https://issuehunt.io/r/avajs/ava/) to discover more funded issues.\n> - Need some help from other developers? [Add your repositories](https://issuehunt.io/r/new) on Issuehunt to raise funds.\n\n\n<!-- /Issuehunt content-->",
                              "label": "bug",
                              "createdAt": "2017-09-07T12:06:06Z",
                              "closedAt": "2019-02-10T16:42:36Z",
                              "lastComment": "2019-02-10T16:54:28Z",
                              "commentCount": 12
                         },
                         {
                              "title": "\"require\" option doesn't load precompiled helpers",
                              "description": "From https://github.com/avajs/ava/issues/1187#issuecomment-315526027, when test helpers are specified in the `\"require\"` option, AVA does not load the precompiled file.\r\n\r\nThe problem seems to be that we install our loader too late: https://github.com/avajs/ava/blob/9c9dfefb548dc5b18b4d72b15ed18ef1e8084e9f/lib/test-worker.js#L33\r\n\r\nI suspect that it might be OK if we move that line up before:\r\nhttps://github.com/avajs/ava/blob/9c9dfefb548dc5b18b4d72b15ed18ef1e8084e9f/lib/test-worker.js#L30\r\n\r\nWe need to test how this interacts with `babel-register`, and add an integration test to verify we require the precompiled helpers.",
                              "label": "bug",
                              "createdAt": "2017-09-03T12:38:16Z",
                              "closedAt": "2018-01-30T14:10:17Z",
                              "lastComment": "2019-06-01T08:14:05Z",
                              "commentCount": 7
                         },
                         {
                              "title": "Ava does not ignore nested node modules directory",
                              "description": "## Description\r\n**Edit:** I found what is causing the issue. Ava does not ignore `node_modules` directories that are nested but the README seems to state it does:\r\n> Directories named fixtures, helpers and node_modules are always ignored.\r\n\r\nThe project structure is a monorepo with `modules/<module-name>/node_modules` directories, to make Ava ignore them appending a glob is needed: `ava test/*.js !modules/*/node_modules`.\r\n\r\n*Original description for people searching at ENOSPC:*\r\n> On Linux running Ava in a directory with more than the [inotify limit](https://github.com/guard/listen/wiki/Increasing-the-amount-of-inotify-watchers#the-technical-details) causes Ava to stop with an unhandled error event `ENOSPC`. It looks like it tries to watch files in `node_modules` because the error comes from a different file in the node modules directory.\r\n\r\n### Error Message & Stack Trace\r\n```bash\r\nError: watch <random-file-in-node-modules> ENOSPC\r\n    at _errnoException (util.js:1041:11)\r\n    at FSWatcher.start (fs.js:1382:19)\r\n    at Object.fs.watch (fs.js:1408:11)\r\n    at createFsWatchInstance (/home/siilwyn/myproject/node_modules/chokidar/lib/nodefs-handler.js:37:15)\r\n    at setFsWatchListener (/home/siilwyn/myproject/node_modules/chokidar/lib/nodefs-handler.js:80:15)\r\n    at FSWatcher.NodeFsHandler._watchWithNodeFs (/home/siilwyn/myproject/node_modules/chokidar/lib/nodefs-handler.js:228:14)\r\n    at FSWatcher.NodeFsHandler._handleFile (/home/siilwyn/myproject/node_modules/chokidar/lib/nodefs-handler.js:255:21)\r\n    at FSWatcher.<anonymous> (/home/siilwyn/myproject/node_modules/chokidar/lib/nodefs-handler.js:473:21)\r\n    at FSReqWrap.oncomplete (fs.js:153:5)\r\n```\r\n\r\n### Command-Line Arguments\r\n\r\n```\r\nava test.js --watch\r\n```\r\n\r\n\r\n## Environment\r\n\r\n```\r\nNode.js v8.4.0\r\nlinux 4.4.0-93-generic\r\n```\r\n",
                              "label": "bug",
                              "createdAt": "2017-08-31T13:52:34Z",
                              "closedAt": "2019-04-28T16:00:45Z",
                              "lastComment": "2018-01-31T07:44:07Z",
                              "commentCount": 4
                         },
                         {
                              "title": "Function `t.log()` is not defined in TypeScript and Flow type definitions",
                              "description": "## Description\r\n\r\nI'm getting the following typescript compilation error when using latest version 0.22.0 and the new `t.log()`.\r\n\r\n`error TS2339: Property 'log' does not exist on type 'GenericTestContext<Context<any>>'`\r\n\r\nI think this new function is missing from your typings generation.  I didn't see it in `./types/generated.d.ts`.  I did add it to my local copy to get around the build errors (by adding it to interface TestContext)\r\n\r\n## Environment\r\nnode v7.8.0\r\nava 0.22.0\r\nyarn 0.28.4\r\ntypescript 2.4.1\r\n",
                              "label": "bug",
                              "createdAt": "2017-08-27T22:51:10Z",
                              "closedAt": "2017-10-01T15:46:39Z",
                              "lastComment": "2017-08-27T23:40:09Z",
                              "commentCount": 1
                         },
                         {
                              "title": "Correctly proxy TTY for stderr",
                              "description": "See https://github.com/avajs/ava/issues/1494#issuecomment-325351227\r\n\r\n---\r\n\r\n## Description\r\n\r\nWhen using [visionmedia's debug](https://github.com/visionmedia/debug) with AVA the colourized output is lost. I desire to turn on debug when running my tests to observe the code paths taken. I believe it is not working because the `process.stderr.isTTY` property is `undefined` when running under AVA. I'd like to make a feature request to support colorized output of the `debug` module by setting `process.stderr.isTTY` to `true` when the initiating `ava` process has `process.stderr.isTTY` set to `true`;\r\n\r\n### Test Source\r\n\r\n```js\r\n// place this code in colorize-test.js\r\n\r\nprocess.env.DEBUG='worker'\r\nconst debug = require('debug')('worker')\r\n\r\ndebug('doing lots of uninteresting work');\r\n\r\nconsole.log(`stderr is tty? ${process.stderr.isTTY}`);\r\n\r\n// if we are running in AVA create a test to avoid 'No tests found' exception\r\nif (process.env.AVA_PATH) {\r\n    const test = require('ava');\r\n    test('exit', async (t) => t.is(true, true));\r\n}\r\n```\r\n\r\n### Command-Line Arguments\r\n\r\n```\r\n$ node colorize-test.js # has colored output as stderr is tty\r\n  worker doing lots of uninteresting work +0ms\r\nstderr is tty? true\r\n\r\n$ ava colorize-test.js # does not have colored output as stderr is not a tty\r\n2017-08-24T10:57:04.500Z worker doing lots of uninteresting work\r\nstderr is tty? undefined\r\n\r\n  1 passed\r\n```\r\n\r\n## Relevant Links\r\n\r\nThe [pull request](https://github.com/visionmedia/debug/pull/2) that requires `process.stderr.isTTY` to be `true` in order to print colored output.\r\n\r\n## Environment\r\n\r\n```\r\nNode.js v8.4.0\r\nUbuntu 16.04.2 4.10.0-32-generic\r\nAVA 0.22.0\r\n```\r\n",
                              "label": "bug",
                              "createdAt": "2017-08-24T11:05:44Z",
                              "closedAt": "2018-08-14T08:42:24Z",
                              "lastComment": "2017-10-16T21:27:04Z",
                              "commentCount": 7
                         },
                         {
                              "title": "t.throws is not matching errors properly by Prototype",
                              "description": "## Description\r\n\r\nFor few custom errors the `t.throws` weren't detecting the error type I passed to `t.throws` to assert with. The problem occurs because **core-assert** isn't giving the right match response on checking the error type based in the prototype. I have fixed that locally and now my tests are passing. Please accept my PR https://github.com/sindresorhus/core-assert/pull/2 and bump it up on ava dependencies.\r\n\r\n### Test Source\r\n\r\n```js\r\n  t.throws(\r\n    () => deleteItem(initialState, operation),\r\n    NotFoundObject\r\n  );\r\n```\r\n\r\n### Error Message & Stack Trace\r\n\r\n![bildschirmfoto 2017-08-23 um 10 52 28](https://user-images.githubusercontent.com/680356/29619360-52ec51d0-87f1-11e7-84a1-18222dc0b2e8.png)\r\n\r\n## Environment\r\n\r\n**Node.js** v7.10.0\r\n**darwin** 16.6.0\r\n**ava** 0.22.0\r\n**npm** 4.2.0\r\n",
                              "label": "unlabeledBug",
                              "createdAt": "2017-08-23T13:57:00Z",
                              "closedAt": "2017-08-28T13:30:41Z",
                              "lastComment": "2017-08-27T16:51:21Z",
                              "commentCount": 1
                         },
                         {
                              "title": "Cannot install with npm on Debian Sid",
                              "description": "```\r\n|> npm install -g ava\r\nnpm ERR! 404 Not Found\r\nnpm ERR! 404 \r\nnpm ERR! 404 'concordance/react' is not in the npm registry.\r\nnpm ERR! 404 You should bug the author to publish it\r\nnpm ERR! 404 It was specified as a dependency of 'ava'\r\nnpm ERR! 404 \r\nnpm ERR! 404 Note that you can also install from a\r\nnpm ERR! 404 tarball, folder, or http url, or git url.\r\n\r\nnpm ERR! System Linux 4.11.0-2-amd64\r\nnpm ERR! command \"/usr/bin/nodejs\" \"/usr/bin/npm\" \"install\" \"-g\" \"ava\"\r\nnpm ERR! cwd /home/users/russel\r\nnpm ERR! node -v v6.11.1\r\nnpm ERR! npm -v 1.4.21\r\nnpm ERR! code E404\r\n```",
                              "label": "unlabeledBug",
                              "createdAt": "2017-08-01T17:59:42Z",
                              "closedAt": "2017-08-01T18:05:19Z",
                              "lastComment": "2017-08-06T16:06:12Z",
                              "commentCount": 10
                         },
                         {
                              "title": "Snapshot fixture location with transpiled tests",
                              "description": "When writing tests with something like the Typescript, tests can be transpiled to an output folder and run there. This is problematic when you need to keep the generated snapshots  `*.snap` and `*.md` fixtures in version control and not the build folder.\r\n\r\nA lot of build processes will clean the build directory all together with a `rmraf` or similar along with the fixtures. Currently there does not seem to be an api to have a custom location for the [generated snapshot fixtures](https://github.com/avajs/ava/commit/ebd572a02debe8e17802f795e6cd618073c8d787). \r\n\r\nGot any suggestions would anyone consider a user defined location for the snapshot fixtures? @novemberborn\r\n\r\nCheers, ava is great :+1: ",
                              "label": "bug",
                              "createdAt": "2017-07-18T07:42:05Z",
                              "closedAt": "2017-10-01T02:14:17Z",
                              "lastComment": "2017-10-01T01:56:09Z",
                              "commentCount": 13
                         },
                         {
                              "title": "`t.throws()` with regex not working as expected",
                              "description": "This fails:\r\n```js\r\nt.throws(() => { throw new TypeError(\"Invalid URL: http://\") }, /^Invalid URL/)\r\n```\r\n\r\n... yet:\r\n```js\r\n/^Invalid URL/.test(\"Invalid URL: http://\")\r\n//-> true\r\n```\r\n\r\n> `error` can be an error constructor, error message, **regex** matched against the error message, or validation function.",
                              "label": "bug",
                              "createdAt": "2017-07-07T17:47:23Z",
                              "closedAt": "2018-02-13T18:31:05Z",
                              "lastComment": "2017-07-10T20:58:16Z",
                              "commentCount": 1
                         },
                         {
                              "title": "Flow type for AssertContext.throws should match typescript type",
                              "description": "## Description\r\n\r\nThe flow type for AssetContext.throws specifies that the return value is `Promise<Error>`:\r\n\r\n```\r\ntype AssertContext = {\r\n    ...\r\n    throws: {\r\n        (value: PromiseLike<mixed>, error?: ErrorValidator, message?: string): Promise<Error>;\r\n        (value: () => mixed, error?: ErrorValidator, message?: string): Error;\r\n    };\r\n    ...\r\n};\r\n```\r\n\r\nThis is inconsistent with the typescript types:\r\n\r\n```\r\nexport interface AssertContext {\r\n    ...\r\n    throws(value: PromiseLike<any>, error?: ErrorValidator, message?: string): Promise<any>;\r\n    throws(value: () => void, error?: ErrorValidator, message?: string): any;\r\n    ...\r\n}\r\n```\r\n\r\nand causes issues with flow when your code throws something other than an Error object.\r\n\r\n\r\n### Test Source\r\n\r\n```js\r\n//@flow\r\nimport test from 'ava';\r\n\r\nclass CustomError extends Error {\r\n    customProperty: string;\r\n    constructor(message: string, customValue: string) {\r\n        super(message);\r\n        this.customProperty = customValue;\r\n    }\r\n}\r\n\r\nfunction throwsCustomError(): Promise<string> {\r\n    return new Promise((resolve, reject) => {\r\n        setTimeout(() => {\r\n            reject(new CustomError('message', 'customValue'));\r\n        }, 500);\r\n    });\r\n}\r\n\r\ntest('Test something', async (tt: AssertContext): Promise<void> => {\r\n    const error = await tt.throws(throwsCustomError());\r\n    tt.is(error.customProperty, 'customValue');\r\n});\r\n```\r\n\r\n\r\n### Error Message & Stack Trace\r\n\r\n```\r\ntest.js:22\r\n 22:     tt.is(error.customProperty, 'customValue');\r\n                     ^^^^^^^^^^^^^^ property `customProperty`. Property not found in\r\n 22:     tt.is(error.customProperty, 'customValue');\r\n               ^^^^^ Error\r\n\r\n\r\nFound 1 error\r\nerror Command failed with exit code 2.\r\n```\r\n\r\n### Config\r\n\r\nCopy the relevant section from `package.json`:\r\n\r\n```json\r\n{\r\n  \"ava\": {\r\n    \"babel\": \"inherit\"\r\n  }\r\n}\r\n```\r\n\r\n## Relevant Links\r\n\r\n[Minimal repro](https://github.com/dancoates/ava-flow-repro)\r\n\r\n\r\nI'll submit a PR in a min with a fix\r\n",
                              "label": "unlabeledBug",
                              "createdAt": "2017-07-06T02:14:23Z",
                              "closedAt": "2017-07-12T10:39:38Z",
                              "lastComment": "2017-07-12T10:40:20Z",
                              "commentCount": 1
                         },
                         {
                              "title": "Fix recipe for Debug configuration on Webstorm",
                              "description": "The documentation here is wrong:\r\nhttps://github.com/avajs/ava/blob/master/docs/recipes/debugging-with-webstorm.md\r\nAnd does not work for Windows - I have not tested on Linux or Mac, but I'm pretty sure it will not work there as well.\r\nThe fix is simple - instead of putting the ava.cmd or (ava) in the JavaScript File parameter, put this:\r\n$PROJECT_DIR/node_modules/ava/cli.js\r\nYou will of course need ava in the DevDependencies, and to run npm install in the project directory.\r\nThis should work for all platforms.\r\nPlease update the docs.",
                              "label": "unlabeledBug",
                              "createdAt": "2017-07-05T12:24:04Z",
                              "closedAt": "2017-07-05T12:36:41Z",
                              "lastComment": "2017-07-05T18:05:47Z",
                              "commentCount": 2
                         },
                         {
                              "title": "Snapshot got 'Formatter buffer never received a formatted value' in v0.20",
                              "description": "It would fail in second time(compare). First time it success and output a snap file and a md file.\r\n\r\nBut this is totally OK in v0.18\r\n\r\n```sh\r\n\r\n  1 passed\r\n  1 failed\r\n\r\n  Root render\r\n  /Users/z/Projects/Douban/share/helpcenter/helpcenter/static-source/feedback-popup/node_modules/concordance/lib/formatUtils.js:113\r\n\r\n  Rejected promise returned by test. Reason:\r\n\r\n  Error {\r\n    message: 'Formatter buffer never received a formatted value.',\r\n  }\r\n\r\n  SingleValueFormatter.finalize (node_modules/concordance/lib/formatUtils.js:113:31)\r\n  Object.diffDescriptors (node_modules/concordance/lib/diff.js:379:27)\r\n  _callee$ (test/root.test.js:41:11)\r\n  tryCatch (node_modules/regenerator-runtime/runtime.js:65:40)\r\n  Generator.invoke [as _invoke] (node_modules/regenerator-runtime/runtime.js:303:22)\r\n  Generator.prototype.(anonymous function) [as next] (node_modules/regenerator-runtime/runtime.js:117:21)\r\n  Test.fn (test/root.test.js:39:1)\r\n```\r\n\r\nroot.test.js.md\r\n```sh\r\n# Snapshot report for `test/root.test.js`\r\n\r\nThe actual snapshot is saved in `root.test.js.snap`.\r\n\r\nGenerated by [AVA](https://ava.li).\r\n\r\n## Root render\r\n\r\n> Snapshot 1\r\n\r\n    <div\r\n      className=\"feedback-ulwj3d7qthha\"\r\n      onClick={Function bound hideDialogOnOverlay {}}\r\n    >\r\n      <div\r\n        className=\"dialog-container\"\r\n      >\r\n        <form\r\n          className=\"dialog\"\r\n          onSubmit={Function bound submit {}}\r\n        >\r\n          <div\r\n            className=\"close\"\r\n            onClick={Function bound hideDialog {}}\r\n          >\r\n            ×\r\n          </div>\r\n          <div\r\n            className=\"title\"\r\n          >\r\n            请填写反馈内容\r\n          </div>\r\n          <div\r\n            className=\"editor\"\r\n          >\r\n            <textarea\r\n              maxLength={1000}\r\n              name=\"feedback\"\r\n              onChange={Function bound handleChange {}}\r\n              placeholder=\"请填写\"\r\n              value=\"\"\r\n            />\r\n        \r\n          </div>\r\n          <div\r\n            className=\"title\"\r\n          >\r\n            上传图片\r\n          </div>\r\n          <div\r\n            className=\"captures\"\r\n          >\r\n            <span\r\n              className=\"rc-upload pic add\"\r\n              onClick={Function {}}\r\n              onDragOver={Function {}}\r\n              onDrop={Function {}}\r\n              onKeyDown={Function {}}\r\n              role=\"button\"\r\n              style={undefined}\r\n              tabIndex=\"0\"\r\n            >\r\n              <input\r\n                accept=\"image/*,.txt,.doc,.docx\"\r\n                multiple={true}\r\n                onChange={Function {}}\r\n                style={\r\n                  {\r\n                    display: 'none',\r\n                  }\r\n                }\r\n                type=\"file\"\r\n              />\r\n              <div\r\n                className=\"h-line\"\r\n              />\r\n              <div\r\n                className=\"v-line\"\r\n              />\r\n            </span>\r\n          </div>\r\n          <div\r\n            className=\"tips\"\r\n          >\r\n            可以上传不超过3个文件，每个限制最大为1MB，类型限制为 jpg / jpeg / gif / png / txt / docx / doc\r\n          </div>\r\n          <div\r\n            className=\"btn-submit\"\r\n            onClick={Function bound submit {}}\r\n          >\r\n            好了，发送反馈\r\n          </div>\r\n        </form>\r\n      </div>\r\n    </div>\r\n\r\n```\r\n\r\nroot.test.js.snap\r\n[root.test.js.snap.zip](https://github.com/avajs/ava/files/1115139/root.test.js.snap.zip)\r\n",
                              "label": "bug",
                              "createdAt": "2017-06-30T12:46:50Z",
                              "closedAt": "2017-07-13T12:02:19Z",
                              "lastComment": "2017-07-12T13:44:40Z",
                              "commentCount": 3
                         },
                         {
                              "title": "Skipping a snapshot assertion should not cause the next snapshot assertion to fail",
                              "description": "Given:\r\n\r\n```js\r\ntest(t => {\r\n  t.snapshot({foo: 'bar'})\r\n  t.snapshot({baz: 'thud'})\r\n})\r\n```\r\n\r\nIf the first snapshot is skipped, the second snapshot will fail:\r\n\r\n```js\r\ntest(t => {\r\n  t.skip.snapshot({foo: 'bar'})\r\n  t.snapshot({baz: 'thud'})\r\n})\r\n```\r\n\r\nThis is because the test maintains an internal [snapshot invocation counter](https://github.com/avajs/ava/blob/9d3b1bad681e1aad18ad8cd53407a7ccb1fc5782/lib/test.js#L116), and skipping an assertion [does not increment this counter](https://github.com/avajs/ava/blob/9d3b1bad681e1aad18ad8cd53407a7ccb1fc5782/lib/test.js#L96).\r\n\r\n`SkipApi.prototype.snapshot` should be implemented such that it increments the counter as if `t.snapshot()` was used.\r\n\r\nThere's another complication when skipped snapshot assertions are present while the snapshots are updated. The snapshot manager [doesn't allow missing entries](https://github.com/avajs/ava/blob/9d3b1bad681e1aad18ad8cd53407a7ccb1fc5782/lib/snapshot-manager.js#L300). I'm not sure whether that's solvable. It's probably easier to fail the skipped snapshot assertion when updating snapshots, or if the skipped snapshot doesn't exist.",
                              "label": "bug",
                              "createdAt": "2017-06-28T13:17:27Z",
                              "closedAt": "2018-02-12T11:50:03Z",
                              "lastComment": "2018-02-11T16:53:42Z",
                              "commentCount": 1
                         },
                         {
                              "title": "Too slow in large projects",
                              "description": "## Description\r\n\r\nI am using XO and Ava in a large project. Both packages are too slow to be used. I never actually tried to let them finish. I usually give up after 10+ minutes.\r\nI first thought this might be related to globby: https://github.com/sindresorhus/globby/issues/43\r\n\r\nAs mentioned in that issue I created a test source that reproduces this issue.\r\nThere is only one test file in the test-project.\r\nThe glob targets a folder that exists only once.\r\n\r\nI will open a separate issue in XO if needed.\r\n\r\n### Test Source\r\n\r\n* https://github.com/pixelass/ava-xo-test\r\n* https://github.com/pixelass/ava-xo-test/blob/master/one/a/b/c/d/e/f/g/h/i/j/this-is-it/tests/one.js\r\n\r\n### Error Message & Stack Trace\r\n\r\nKeeps doing this thing: 🤣\r\n\r\n```\r\n⠧\r\n```\r\n\r\nIf using `--verbose` nothing happens\r\n\r\n### Config\r\n\r\nhttps://github.com/pixelass/ava-xo-test/blob/master/package.json#L41-L59\r\n\r\n```json\r\n{\r\n  \"ava\": {\r\n    \"files\": [\r\n      \"**/this-is-it/**/tests/**/*.js\"\r\n    ],\r\n    \"source\": [\r\n      \"**/this-is-it/**/*.js\"\r\n    ],\r\n    \"presets\": [\r\n      \"@ava/stage-4\",\r\n      \"@ava/transform-test-files\"\r\n    ],\r\n    \"failFast\": true,\r\n    \"tap\": false,\r\n    \"require\": [\r\n      \"babel-register\",\r\n      \"ignore-styles\"\r\n    ],\r\n    \"babel\": \"inherit\"\r\n  }\r\n}\r\n```\r\n\r\n### Command-Line Arguments\r\n\r\nhttps://github.com/pixelass/ava-xo-test/blob/master/package.json#L10\r\n\r\n```json\r\n{\r\n\"scripts\": {\r\n    \"nyc:ava\": \"nyc ava\",\r\n    \"ava\": \"ava\",\r\n    \"test\": \"npm run nyc:ava\",\r\n  },\r\n}\r\n```\r\n\r\n```\r\nava\r\n```\r\n\r\n\r\n## Relevant Links\r\n\r\n**Minimal reproduction:**  \r\nhttps://github.com/pixelass/ava-xo-test/\r\n\r\n\r\n## Environment\r\n\r\n```\r\nOS X 10.12.5 (16F73)  \r\nNode 6.11.0  \r\n```\r\nRequested log:\r\n\r\n```\r\nPlatform: darwin 16.6.0\r\nAva: 0.19.1\r\nnode: 6.11.0\r\nnpm: 3.10.10\r\n```\r\n",
                              "label": "bug",
                              "createdAt": "2017-06-21T19:18:40Z",
                              "closedAt": "2019-04-28T16:00:45Z",
                              "lastComment": "2018-05-23T15:06:39Z",
                              "commentCount": 14
                         },
                         {
                              "title": "Endpoint testing with Mongomem and supertest?",
                              "description": "## Description\r\n\r\nHey all, I'm trying to combine AVA with Mongomem and Supertest as mentioned in `docs/recipes`, but the test just hangs when I tried calling a mongoose model method like`User.findOne({})` in any of my tests. \r\n\r\nHow can I reference the correct mongoose instance within my endpoint tests? \r\n\r\nI tried checking for `mongoose.connection.readyState` in both my test and server files. `test.js` shows readyState 1. `server.js` shows readyState 0. \r\n\r\n### Test Source\r\n\r\nHere's my spec file: \r\n\r\n```js\r\nimport test from 'ava'\r\nimport mongoose from 'mongoose'\r\nimport request from 'supertest'\r\nimport { MongoDBServer } from 'mongomem'\r\nimport { createFixtures, dropFixtures } from '../../fixtures/'\r\n\r\nconst setupMongoose = async _ => {\r\n  const db = new mongoose.Mongoose()\r\n  db.Promise = global.Promise\r\n  await db.connect(await MongoDBServer.getConnectionString())\r\n\r\n  require('../../models/Course')\r\n  require('../../models/User')\r\n\r\n  for (const name of mongoose.modelNames()) {\r\n    db.model(name, mongoose.model(name).schema)\r\n  }\r\n\r\n  return db\r\n}\r\n\r\ntest.before('start server', async t => await MongoDBServer.start())\r\n\r\ntest.beforeEach(async t => {\r\n  const db = await setupMongoose()\r\n  const User = db.model('User')\r\n  const Course = db.model('Course')\r\n  await createFixtures(Course, User)\r\n\r\n  const app = require('../../server')\r\n  t.context.db = db\r\n  t.context.app = app\r\n})\r\n\r\ntest('Pass POST v1/users/testing', async t => {\r\n  const { app } = t.context\r\n  const res = await request(app)\r\n    .post('/test')\r\n    .send({\r\n      email: 'testing@email.com'\r\n    })\r\n  t.is(res.status, 200)\r\n})\r\n```\r\n\r\nHere's `server.js`\r\n```js\r\nconst express = require('express')\r\nconst routes = require('./routes')\r\nconst isProduction = process.env.NODE_ENV === 'production'\r\nconst app = express()\r\nconst User = require('./models/User')\r\n\r\napp.use('/test', async (req, res) => {\r\n  const { email } = req.body\r\n  console.log(mongoose.connection.readyState);\r\n  const r = await User.findOne({email})\r\n  res.json(r)\r\n})\r\n\r\nmodule.exports = app\r\n```\r\n\r\n\r\n### Error Message & Stack Trace\r\n\r\n```\r\n> course-server@1.0.0 watch /Users/zellwk/Projects/private-repos/course-server\r\n> NODE_ENV=test ava test/**/* --watch\r\n\r\n  1 passed [22:31:20]\r\n  1 failed\r\n\r\n  routes › register › Pass POST v1/users/testing\r\n\r\n  Rejected promise returned by test\r\n\r\n  Rejection reason:\r\n\r\n    [Error: socket hang up]\r\n```\r\n\r\n### Config\r\n\r\nCopy the relevant section from `package.json`:\r\n\r\n```json\r\n{\r\n  \"test\": \"NODE_ENV=test ava test/**/*\",\r\n}\r\n```\r\n\r\n## Relevant Links\r\n\r\n(Working on a repo for a reduced test case) \r\n\r\n## Environment\r\n\r\nNode - v7.1 \r\nnpm - 4.2.0\r\nava - 0.19.1 (installed locally with npm install)",
                              "label": "unlabeledBug",
                              "createdAt": "2017-06-21T14:39:40Z",
                              "closedAt": "2017-06-22T13:09:06Z",
                              "lastComment": "2018-07-12T00:11:58Z",
                              "commentCount": 3
                         },
                         {
                              "title": "--match incorrectly flags test as `.only`, making them unskippable",
                              "description": "I meet a question that i can't resolve using AVA\r\n\r\nI build a.js file from a.ts using \"tsc && ava\".\r\n\r\nIt is source code:\r\n\r\n```\r\nimport test from 'ava';\r\n\r\ntest.before(t => {\r\n..........\r\n});\r\n\r\ntest.skip('test1111', t => {\r\n..........\r\n});\r\n\r\ntest('test22222', t => {\r\n...........\r\n});\r\n```\r\n\r\nBut, the code throw a exception :\r\n\r\n```\r\nTAP version 13\r\n/home/zhouyu/Web/framework/node_modules/.0.19.1@ava/lib/runner.js:119\r\n            throw new TypeError(validationError);\r\n            ^\r\n\r\nTypeError: `only` tests cannot be skipped\r\n    at Runner.addTest (/home/zhouyu/Web/framework/node_modules/.0.19.1@ava/lib/runner.js:119:10)\r\n    at Function.Runner.chain.optionChain (/home/zhouyu/Web/framework/node_modules/.0.19.1@ava/lib/runner.js:99:10)\r\nI am confused that my 'test1111' test isn't a ''only' test.\r\n```\r\n\r\nThis is my package.json :\r\n```\r\n  \"ava\": {\r\n    \"files\": [\r\n      \"build/test/*.js\"\r\n    ],\r\n    \"source\": [\r\n      \"**/*.{js}\"\r\n    ],\r\n    \"match\": [\r\n      \"*\"\r\n    ],\r\n    \"failFast\": false,\r\n    \"tap\": true\r\n  }\r\n```\r\n\r\nMy ava version is : **\"ava\": \"^0.19.1\"**\r\n\r\nThis is my usage problem, or, AVA bug?\r\n\r\nHelp me, thanks.",
                              "label": "bug",
                              "createdAt": "2017-06-20T07:46:30Z",
                              "closedAt": "2018-02-11T16:12:32Z",
                              "lastComment": "2017-06-22T21:05:10Z",
                              "commentCount": 2
                         },
                         {
                              "title": "Using without babel",
                              "description": "I'm using node 7.10 without babel since the ES6 features I want are included in this node version. I'm using the latest version of ava and am getting a syntax error `SyntaxError: Unexpected token ...` when using ES6 functionality: `super({ ...object, prop: value })`. If I understand it right this is a bug, since my code in node works fine in my application but fails just when this code runs under ava.",
                              "label": "unlabeledBug",
                              "createdAt": "2017-06-05T19:46:52Z",
                              "closedAt": "2017-06-05T20:11:20Z",
                              "lastComment": "2017-10-05T04:22:28Z",
                              "commentCount": 3
                         },
                         {
                              "title": "No warning re duplicate test names in same file.",
                              "description": "(This is either a minor bug report or a minor feature request, as you like.)\r\n\r\nI just noticed I had two tests in the same file with the same name because I forgot to modify the second one's name after copy/pasting.\r\n\r\nThis made me wonder why AVA never alerted me to this situation, since it's easy to detect.  Seems like the kind of thing that would justify a warning, though not an error.  I can't think of a case where this situation would reflect the programmer's intent, so it would be helpful to point it out.\r\n\r\n### Config\r\n\r\n```json\r\n{\r\n  \"devDependencies\": {\r\n    \"ava\": \"^0.19.1\"\r\n  },\r\n}\r\n\r\n### Command-Line Arguments\r\n\r\n```\r\nava -v\r\n```\r\n\r\n### Environment\r\n\r\n```\r\n$ node -e \"var os=require('os');console.log('Node.js ' + process.version + '\\n' + os.platform() + ' ' + os.release())\"\r\nNode.js v7.10.0\r\nlinux 4.10.0-21-generic\r\n$ ava --version\r\n0.19.1\r\n$ npm --version\r\n4.2.0\r\n```",
                              "label": "unlabeledBug",
                              "createdAt": "2017-05-24T07:12:10Z",
                              "closedAt": "2017-05-24T07:26:02Z",
                              "lastComment": "2017-05-24T07:26:11Z",
                              "commentCount": 1
                         },
                         {
                              "title": "snapshot tests failing with `Cannot read property 'split' of null`",
                              "description": "<!-- CLICK \"Preview\" FOR INSTRUCTIONS IN A MORE READABLE FORMAT -->\r\n\r\n## Description\r\n\r\nWhen snapshots do not match a type error is thrown instead of the diff. `TypeError: Cannot read property 'split' of null`.\r\n\r\n### Test Source\r\n\r\n```jsx\r\nimport React from 'react';\r\nimport test from 'ava';\r\nimport { render } from 'enzyme';\r\n\r\nconst TestMe = ({ me }) => (\r\n  <div>\r\n    <p>{me}</p>\r\n  </div>\r\n);\r\n\r\ntest('renders the component', t => {\r\n  const wrapper = render(<TestMe me='change me' />);\r\n  t.snapshot(wrapper.html());\r\n});\r\n```\r\n\r\n### Error Message & Stack Trace\r\n\r\n```\r\nWarning: ReactTestUtils has been moved to react-dom/test-utils. Update references to remove this warning.\r\n  ✖ renders the component Error thrown in test\r\n\r\n  1 test failed [11:04:02]\r\n\r\n  renders the component\r\n  /path/to/example.test.js:13\r\n\r\n   12:   const wrapper = render(<TestMe me='change us' />);\r\n   13:   t.snapshot(wrapper.html());\r\n   14: });\r\n\r\n  Error thrown in test\r\n\r\n  Error:\r\n\r\n    [TypeError: Cannot read property 'split' of null]\r\n```\r\n\r\n### Config\r\n\r\nCopy the relevant section from `package.json`:\r\n\r\n```json\r\n{\r\n  \"ava\": {\r\n    \"require\": [\r\n      \"babel-register\",\r\n      \"./test-environment.js\"\r\n    ],\r\n    \"babel\": \"inherit\",\r\n    \"files\": [\r\n      \"**/*.test.js\",\r\n      \"!node_modules\"\r\n    ]\r\n  }\r\n}\r\n```\r\n\r\n### Command-Line Arguments\r\n\r\nCopy your npm build scripts or the `ava` command used:\r\n\r\n```\r\nava --verbose path/to/example.test.js\r\n```\r\n\r\n## Relevant Links\r\n\r\nhttps://gist.github.com/pho3nixf1re/4c23d77709ce4ef044ebae7c937940ec\r\n\r\n## Environment\r\n\r\n```\r\nNode.js v7.10.0\r\ndarwin 16.5.0\r\nAVA 0.19.1\r\nnpm 4.2.0\r\nyarn v0.23.4\r\n```\r\n",
                              "label": "bug",
                              "createdAt": "2017-05-11T16:22:58Z",
                              "closedAt": "2017-06-28T13:01:12Z",
                              "lastComment": "2017-06-28T13:01:12Z",
                              "commentCount": 5
                         },
                         {
                              "title": "Initial timeout timer starts before tests are run",
                              "description": "Run:\r\ntime ava --timeout 100 bug.js\r\n\r\nThe above command takes 30 seconds to run, I was expecting ava to fail the testcase after 100 milliseconds.\r\n\r\n\r\nAnother strange thing is that if I instead run:\r\ntime ava --timeout 1s bug.js\r\n...then it exits after 1000ms as expected?!\r\n\r\n\r\nContents of bug.js is the following code:\r\n```js\r\nimport test from 'ava';\r\n\r\nfunction getTheAnswerToTheMeaningOfLifeTheUniverseAndEverything(callback) {\r\n    setTimeout(() => {\r\n        // Forgetting to invoke callback here\r\n    }, 30000);\r\n}\r\n\r\ntest.cb('make sure callback is called exactly once', t => {\r\n    t.plan(1);\r\n    getTheAnswerToTheMeaningOfLifeTheUniverseAndEverything(result => {\r\n        t.is(result, 42);\r\n        t.end();\r\n    });\r\n});\r\n```\r\n\r\n## Environment\r\n\r\nubuntu 15.10\r\nnode v7.7.2\r\nnpm 4.5.0\r\nava 0.19.1\r\n",
                              "label": "bug",
                              "createdAt": "2017-05-06T22:39:56Z",
                              "closedAt": "2018-02-11T16:12:32Z",
                              "lastComment": "2018-02-11T17:53:36Z",
                              "commentCount": 5
                         },
                         {
                              "title": "No stack trace for exceptions in throws/notThrows",
                              "description": "<!-- Issuehunt Badges -->\n\n[<img alt=\"Issuehunt badges\" src=\"https://issuehunt.io/r/avajs/ava/issues/1372/badge.svg\" />](https://issuehunt.io/r/avajs/ava/issues/1372)\n\n<!-- /Issuehunt Badges -->\n\n## Description\r\n\r\nWhen a test fails due to a t.notThrows throwing or a t.throws throwing the wrong type of exception, there is no stack trace in the output, only the `toString` representation of the error. This makes it hard to debug such issues.\r\n\r\n### Test Source\r\n\r\n```js\r\nconst test = require('ava')\r\n\r\nfunction throwError () {\r\n\tthrow new Error('uh-oh')\r\n}\r\n\r\ntest('it shows no useful stack trace for t.notThrows encountering an exception', t => {\r\n\tt.notThrows(() => throwError())\r\n})\r\n\r\ntest('it shows no useful stack trace for t.throws encountering unexpected exception types', t => {\r\n\tt.throws(() => throwError(), TypeError)\r\n})\r\n\r\ntest('it does show useful stack trace for other exceptions', t => {\r\n\tthrowError()\r\n})\r\n```\r\n\r\n### Output:\r\n\r\n```\r\ndavid@CHE-X1:~/z/Temp $ ava test.spec.js\r\n\r\n  3 failed\r\n\r\n  it shows no useful stack trace for t.notThrows encountering an exception\r\n  /mnt/c/Users/david/Temp/test.spec.js:8\r\n\r\n   7: test('it shows no useful stack trace for t.notThrows encountering an exception', t => {\r\n   8:   t.notThrows(() => throwError())\r\n   9: })\r\n\r\n  Threw:\r\n\r\n    [Error: uh-oh]\r\n\r\n\r\n\r\n\r\n  it shows no useful stack trace for t.throws encountering unexpected exception types\r\n  /mnt/c/Users/david/Temp/test.spec.js:12\r\n\r\n   11: test('it shows no useful stack trace for t.throws encountering unexpected exception types', t => {\r\n   12:   t.throws(() => throwError(), TypeError)\r\n   13: })\r\n\r\n  Threw unexpected exception:\r\n\r\n    [Error: uh-oh]\r\n\r\n\r\n\r\n\r\n  it does show useful stack trace for other exceptions\r\n  /mnt/c/Users/david/Temp/test.spec.js:4\r\n\r\n   3: function throwError () {\r\n   4:   throw new Error('uh-oh')\r\n   5: }\r\n\r\n  Error thrown in test\r\n\r\n  Error:\r\n\r\n    [Error: uh-oh]\r\n\r\n  throwError (test.spec.js:4:8)\r\n  Test.t [as fn] (test.spec.js:16:2)\r\n\r\n```\r\n\r\nAs shown here, only the last case prints a stack trace. I would like to see a similar output for the other two cases.\r\n\r\n## Environment\r\n\r\n```\r\ndavid@CHE-X1:~/z/Temp $ node -e \"var os=require('os');console.log('Node.js ' + process.version + '\\n' + os.platform() + ' ' + os.release())\"\r\nNode.js v7.6.0\r\nlinux 4.4.0-43-Microsoft\r\ndavid@CHE-X1:~/z/Temp $ ava --version\r\n0.19.1\r\ndavid@CHE-X1:~/z/Temp $ npm --version\r\n4.1.2\r\n```\n<!-- Issuehunt content -->\n\n\n\n> [dflupu](https://issuehunt.io/u/dflupu) earned $80.00 by resolving this issue!\n> - Checkout the [Issuehunt explorer](https://issuehunt.io/r/avajs/ava/) to discover more funded issues.\n> - Need some help from other developers? [Add your repositories](https://issuehunt.io/r/new) on Issuehunt to raise funds.\n\n\n<!-- /Issuehunt content-->",
                              "label": "bug",
                              "createdAt": "2017-04-28T07:34:35Z",
                              "closedAt": "2019-01-27T16:25:10Z",
                              "lastComment": "2019-01-27T18:10:34Z",
                              "commentCount": 9
                         },
                         {
                              "title": "error when test fails",
                              "description": "## Description\r\n\r\nHi. I really want to use AVA testing framework, but wen test fails it also throw an error. \r\n\r\n### Test Source\r\n\r\n```js\r\nimport test from 'ava';\r\n\r\ntest('foo', t => {\r\n\tt.pass();\r\n});\r\n\r\ntest('bar', async t => {\r\n\tconst bar = Promise.resolve('bars'); \r\n\r\n\tt.is(await bar, 'bar');\r\n});\r\n\r\ntest('my passing test', t => {\r\n\tt.pass();\r\n});\r\n```\r\n\r\n### Error Message & Stack Trace\r\nthis is from file in `~/.npm/logs/`\r\n\r\n```\r\n0 info it worked if it ends with ok\r\n1 verbose cli [ '/usr/bin/nodejs', '/usr/bin/npm', 'run', 'test' ]\r\n2 info using npm@4.2.0\r\n3 info using node@v7.9.0\r\n4 verbose run-script [ 'pretest', 'test', 'posttest' ]\r\n5 info lifecycle energy_strategy@0.0.1~pretest: energy_strategy@0.0.1\r\n6 silly lifecycle energy_strategy@0.0.1~pretest: no script for pretest, continuing\r\n7 info lifecycle energy_strategy@0.0.1~test: energy_strategy@0.0.1\r\n8 verbose lifecycle energy_strategy@0.0.1~test: unsafe-perm in lifecycle true\r\n9 verbose lifecycle energy_strategy@0.0.1~test: PATH: /usr/lib/node_modules/npm/bin/node-gyp-bin:/home/vagrant/psychea/energy/node_modules/.bin:/home/vagrant/.composer/vendor/bin:/home/vagrant/bin:/home/vagrant/.local/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin\r\n10 verbose lifecycle energy_strategy@0.0.1~test: CWD: /home/vagrant/psychea/energy\r\n11 silly lifecycle energy_strategy@0.0.1~test: Args: [ '-c', 'ava' ]\r\n12 silly lifecycle energy_strategy@0.0.1~test: Returned: code: 1  signal: null\r\n13 info lifecycle energy_strategy@0.0.1~test: Failed to exec test script\r\n14 verbose stack Error: energy_strategy@0.0.1 test: `ava`\r\n14 verbose stack Exit status 1\r\n14 verbose stack     at EventEmitter.<anonymous> (/usr/lib/node_modules/npm/lib/utils/lifecycle.js:279:16)\r\n14 verbose stack     at emitTwo (events.js:106:13)\r\n14 verbose stack     at EventEmitter.emit (events.js:194:7)\r\n14 verbose stack     at ChildProcess.<anonymous> (/usr/lib/node_modules/npm/lib/utils/spawn.js:40:14)\r\n14 verbose stack     at emitTwo (events.js:106:13)\r\n14 verbose stack     at ChildProcess.emit (events.js:194:7)\r\n14 verbose stack     at maybeClose (internal/child_process.js:899:16)\r\n14 verbose stack     at Process.ChildProcess._handle.onexit (internal/child_process.js:226:5)\r\n15 verbose pkgid energy_strategy@0.0.1\r\n16 verbose cwd /home/vagrant/psychea/energy\r\n17 error Linux 4.4.0-51-generic\r\n18 error argv \"/usr/bin/nodejs\" \"/usr/bin/npm\" \"run\" \"test\"\r\n19 error node v7.9.0\r\n20 error npm  v4.2.0\r\n21 error code ELIFECYCLE\r\n22 error errno 1\r\n23 error energy_strategy@0.0.1 test: `ava`\r\n23 error Exit status 1\r\n24 error Failed at the energy_strategy@0.0.1 test script 'ava'.\r\n24 error Make sure you have the latest version of node.js and npm installed.\r\n24 error If you do, this is most likely a problem with the energy_strategy package,\r\n24 error not with npm itself.\r\n24 error Tell the author that this fails on your system:\r\n24 error     ava\r\n24 error You can get information on how to open an issue for this project with:\r\n24 error     npm bugs energy_strategy\r\n24 error Or if that isn't available, you can get their info via:\r\n24 error     npm owner ls energy_strategy\r\n24 error There is likely additional logging output above.\r\n25 verbose exit [ 1, true ]\r\n```\r\n\r\nand this is output in terminal \r\n```\r\n> ava\r\n\r\n\r\n  2 passed\r\n  1 failed\r\n\r\n  bar\r\n  /home/vagrant/psychea/energy/test.js:11\r\n\r\n   10:                          \r\n   11:   t.is(await bar, 'bar');\r\n   12: });                      \r\n\r\n  Difference:\r\n\r\n    \"bars\"\r\n\r\n  Test.<anonymous> (test.js:11:4)\r\n  step (test.js:9:191)\r\n\r\nnpm ERR! code ELIFECYCLE\r\nnpm ERR! errno 1\r\nnpm ERR! energy_strategy@0.0.1 test: `ava`\r\nnpm ERR! Exit status 1\r\nnpm ERR! \r\nnpm ERR! Failed at the energy_strategy@0.0.1 test script 'ava'.\r\nnpm ERR! Make sure you have the latest version of node.js and npm installed.\r\nnpm ERR! If you do, this is most likely a problem with the energy_strategy package,\r\nnpm ERR! not with npm itself.\r\nnpm ERR! Tell the author that this fails on your system:\r\nnpm ERR!     ava\r\nnpm ERR! You can get information on how to open an issue for this project with:\r\nnpm ERR!     npm bugs energy_strategy\r\nnpm ERR! Or if that isn't available, you can get their info via:\r\nnpm ERR!     npm owner ls energy_strategy\r\nnpm ERR! There is likely additional logging output above.\r\n\r\nnpm ERR! A complete log of this run can be found in:\r\nnpm ERR!     /home/vagrant/.npm/_logs/2017-04-25T15_12_24_776Z-debug.log\r\n```\r\n\r\n### Config \r\n\r\nno config\r\n\r\n### Command-Line Arguments\r\nno arguments\r\nonly `\"scripts\": {\r\n    \"test\": \"ava\",`\r\n\r\n\r\n\r\n\r\n## Environment\r\n\r\nLinux Ubuntu 14.04 \r\nWebpack 2\r\nnode v7.9.0\r\nnpm v4.5.0\r\n\r\n```\r\n\"ava\": \"^0.19.1\"\r\n```\r\n",
                              "label": "unlabeledBug",
                              "createdAt": "2017-04-25T15:29:17Z",
                              "closedAt": "2017-04-26T11:17:09Z",
                              "lastComment": "2017-04-26T12:37:07Z",
                              "commentCount": 3
                         },
                         {
                              "title": "ava errors on Node <4.5.0 due to hullabaloo-config-manager",
                              "description": "## Description\r\n\r\nRunning `ava` errors immediately on Node 4.4 and lower with `TypeError: this is not a typed array` from `hullabaloo-config-manager`. That module's `package.json` specifies its minimum Node version as 4.5 and they ain't kiddin' – this affects basic usage of AVA.\r\n\r\n(Unfortunately `npm` doesn't seem to warn about `engines` for transitive dependencies, so it doesn't even warn about `hullabaloo-config-manager`, but I believe it would warn about `ava` directly.)\r\n\r\nI recommend updating AVA's `engines` from Node `>=4` to `>=4.5`.\r\n\r\n### Test Source\r\n\r\n```js\r\n// Empty test is fine to reproduce.\r\n```\r\n\r\n### Error Message & Stack Trace\r\n\r\n```\r\n ⠋ /Users/becbrian/Projects/Tests/test-ava/node_modules/ava/lib/cli.js:196\r\n\t\t\t\t\tthrow err;\r\n\t\t\t\t\t^\r\n\r\nTypeError: this is not a typed array.\r\n    at Function.from (native)\r\n    at Verifier.toBuffer (/Users/becbrian/Projects/Tests/test-ava/node_modules/hullabaloo-config-manager/lib/Verifier.js:137:19)\r\n    at /Users/becbrian/Projects/Tests/test-ava/node_modules/ava/lib/babel-config.js:78:46\r\nFrom previous event:\r\n    at Api.run (/Users/becbrian/Projects/Tests/test-ava/node_modules/ava/api.js:71:5)\r\n    at Object.exports.run.api.on.api.run.then [as run] (/Users/becbrian/Projects/Tests/test-ava/node_modules/ava/lib/cli.js:187:7)\r\n    at Object.<anonymous> (/Users/becbrian/Projects/Tests/test-ava/node_modules/ava/cli.js:22:24)\r\n    at Module._compile (module.js:409:26)\r\n    at Object.Module._extensions..js (module.js:416:10)\r\n    at Module.load (module.js:343:32)\r\n    at Function.Module._load (module.js:300:12)\r\n    at Function.Module.runMain (module.js:441:10)\r\n    at startup (node.js:139:18)\r\n    at node.js:968:3\r\n```\r\n\r\n### Config\r\n\r\n(no config necessary)\r\n\r\n### Command-Line Arguments\r\n\r\n```\r\nava\r\n```\r\n\r\n## Relevant Links\r\n\r\n* [hullabaloo-config-manager](https://github.com/novemberborn/hullabaloo-config-manager)\r\n\r\n## Environment\r\n\r\n```\r\n$ node -e \"var os=require('os');console.log('Node.js ' + process.version + '\\n' + os.platform() + ' ' + os.release())\"\r\nNode.js v4.4.7\r\ndarwin 16.5.0\r\n$ ava --version\r\n0.19.1\r\n$ npm --version\r\n4.4.4\r\n```\r\n",
                              "label": "bug",
                              "createdAt": "2017-04-10T17:12:57Z",
                              "closedAt": "2017-06-04T16:28:31Z",
                              "lastComment": "2017-05-31T18:16:56Z",
                              "commentCount": 16
                         },
                         {
                              "title": "Out of memory if compare huge objects",
                              "description": "### Test Source\r\n\r\n```js\r\nvar document = jsdom('', {});\r\ntest.only(t => {\r\n     node = document.createElement('div');\r\n    var obj = {node: node, a: 1}\r\n    t.is(obj, {a: 1});\r\n});\r\n```\r\n\r\n```\r\nSecurity context: 0x4c9cc7c0d39 <JS Object>\r\n    2: printFunction(aka printFunction) [...node_modules/@ava/pretty-format/index.js:~41] [pc=0x21ada69f3380](this=0x4c9cc704311 <undefined>,val=0x1576e457fc21 <JS Function HTMLSpanElement (SharedFunctionInfo 0x386a10cbf289)>,printFunctionName=0x4c9cc7043b1 <true>)\r\n    3: printBasicValue(aka printBasicValue) [.../node_modules/@ava/pret...\r\n\r\nFATAL ERROR: CALL_AND_RETRY_LAST Allocation failed - JavaScript heap out of memory\r\n```",
                              "label": "bug",
                              "createdAt": "2017-04-09T11:40:58Z",
                              "closedAt": "2017-06-28T12:59:10Z",
                              "lastComment": "2017-06-28T12:59:10Z",
                              "commentCount": 4
                         },
                         {
                              "title": "Test context type missing `end` (at least in callback test)",
                              "description": "<!-- CLICK \"Preview\" FOR INSTRUCTIONS IN A MORE READABLE FORMAT -->\r\n\r\n## Description\r\n\r\nDefault `t` type for at least callback tests is missing `t.end`.\r\n\r\n![screenshot_2017-04-06_13-09-30](https://cloud.githubusercontent.com/assets/635591/24749223/ebea5d12-1aca-11e7-871b-b501ed4aa88b.png)\r\n\r\n## Relevant Links\r\n\r\nhttps://github.com/mightyiam/cyclejs-components/pull/122\r\n\r\n## Environment\r\n\r\nNode.js v7.8.0\r\nlinux 4.10.0-15-generic\r\nnpm 4.2.0\r\nava 0.19.0",
                              "label": "bug",
                              "createdAt": "2017-04-06T10:17:16Z",
                              "closedAt": "2017-04-10T08:22:55Z",
                              "lastComment": "2017-04-10T11:42:59Z",
                              "commentCount": 2
                         },
                         {
                              "title": "MaxListenersExceededWarning for beforeExit event",
                              "description": "`Sequence` listens for the `beforeExit` event. This is done for every test in the worker. If there are more than 10 tests this causes a `MaxListenersExceededWarning` to be reported.\r\n\r\nSee https://github.com/avajs/ava/blob/8f80ed104c2c72dfa8ad9e98f2455cf36f09b72d/lib/sequence.js#L22.\r\n\r\nWe need to manage `beforeExit` subscriptions so that we only listen on `process` once, but still allow multiple callbacks due to concurrent `Sequence` runs.\r\n",
                              "label": "bug",
                              "createdAt": "2017-04-06T08:47:55Z",
                              "closedAt": "2017-04-10T08:13:58Z",
                              "lastComment": "",
                              "commentCount": 0
                         },
                         {
                              "title": "Output from `t.throws()` failing is missing a message",
                              "description": "With latest master (ecdadfa9c2b5d5c40e4edd14df0319f222007c60).\r\n\r\n```\r\nimport test from 'ava';\r\n\r\nconst foo = () => Promise.resolve('foo');\r\n\r\ntest(async t => {\r\n\tawait t.throws(foo());\r\n});\r\n```\r\n\r\nOutputs:\r\n\r\n```\r\n  1 failed\r\n\r\n  [anonymous]\r\n  /Users/sindresorhus/dev/private/ava-playground/test.js:6\r\n\r\n   5: test(async t => {\r\n   6:   await t.throws(foo());\r\n   7: });\r\n\r\n  Test.<anonymous> (test.js:6:10)\r\n  step (test.js:9:191)\r\n  Test.<anonymous> (test.js:9:99)\r\n  Test.fn (test.js:5:1)\r\n```",
                              "label": "bug",
                              "createdAt": "2017-04-05T15:04:46Z",
                              "closedAt": "2017-06-13T18:48:53Z",
                              "lastComment": "2017-06-09T13:28:43Z",
                              "commentCount": 5
                         },
                         {
                              "title": "Version warning when only local version is behind.",
                              "description": "If the global version is up to date, but the local version is behind, you still get an error message telling you to update, but it recommends using the `-g` flag. ",
                              "label": "bug",
                              "createdAt": "2017-04-03T21:19:00Z",
                              "closedAt": "2017-10-09T09:57:17Z",
                              "lastComment": "2017-06-09T13:23:10Z",
                              "commentCount": 12
                         },
                         {
                              "title": "Assert formatter throws on `t.regex` not matching",
                              "description": "Using latest master https://github.com/avajs/ava/commit/3a44b75156c3fb8b1f20b213d4f0c86748534618.\r\n\r\n```js\r\nimport test from 'ava';\r\n\r\ntest(t => {\r\n\tconst x = () => 'foo';\r\n\tt.regex(x(), /\\d/);\r\n});\r\n```\r\n\r\n```\r\n  1 failed\r\n\r\n  [anonymous]\r\n  /Users/sindresorhus/dev/private/ava-playground/test.js:6\r\n\r\n   5:   const x = () => 'foo';\r\n   6:   t.regex(x(), /\\d/);\r\n   7: });\r\n\r\n  Error:\r\n\r\n    [TypeError: formatValue is not a function]\r\n\r\n  Error thrown in test\r\n```",
                              "label": "bug",
                              "createdAt": "2017-03-24T11:39:20Z",
                              "closedAt": "2017-03-25T16:56:26Z",
                              "lastComment": "",
                              "commentCount": 0
                         },
                         {
                              "title": "Ava does not transpile helpers!",
                              "description": "<!-- CLICK \"Preview\" FOR INSTRUCTIONS IN A MORE READABLE FORMAT -->\r\n\r\n## Description\r\n\r\nAva should transpile helper files without requiring `babel-register` or any such a thing.\r\n\r\nIf the test files are inside a `test` folder, this works.\r\n\r\n**However:** if the files are inside another folder (e.g: `my-tests` instead of `test`) **or** are inside a subfolder (e.g: `test/unit`) this does not work.\r\n\r\n**TLDR: If tests are inside a subfolder of `test` directory, ava DOES NOT TRANSPILE helper files**\r\n\r\n### Test Source\r\n\r\n```js\r\n/* FILE: test/unit/helpers/index.js */\r\nimport Promise from 'bluebird'\r\n\r\nexport const delay = (n) => Promise.delay(n)\r\n\r\n/* ============================== */\r\n\r\n/* FILE: test/unit/index.js */\r\nimport test from 'ava'\r\nimport { delay } from './helpers'\r\n\r\ntest('should return true', async (t) => {\r\n  console.log('starting ===>', Date.now())\r\n  await delay(2000)\r\n  console.log('finishing ==>', Date.now())\r\n\r\n  return true\r\n})\r\n```\r\n\r\n### Error Message & Stack Trace\r\n\r\n```\r\n~/H/l/ava (master) [n] ⋊> ./node_modules/.bin/ava test\r\n/Users/grvcoelho/Hyperspace/labs/ava/test/unit/helpers/index.js:1\r\n(function (exports, require, module, __filename, __dirname) { import Promise from 'bluebird'\r\n                                                              ^^^^^^\r\nSyntaxError: Unexpected token import\r\n    at Object.exports.runInThisContext (vm.js:78:16)\r\n    at Module._compile (module.js:543:28)\r\n    at Module._extensions..js (module.js:580:10)\r\n    at extensions.(anonymous function) (/Users/grvcoelho/Hyperspace/labs/ava/node_modules/require-precompiled/index.js:16:3)\r\n    at Object.require.extensions.(anonymous function) [as .js] (/Users/grvcoelho/Hyperspace/labs/ava/node_modules/ava/lib/process-adapter.js:105:4)\r\n    at Module.load (module.js:488:32)\r\n    at tryModuleLoad (module.js:447:12)\r\n    at Function.Module._load (module.js:439:3)\r\n    at Module.require (module.js:498:17)\r\n    at require (internal/module.js:20:19)\r\n    at Object.<anonymous> (/Users/grvcoelho/Hyperspace/labs/ava/test/unit/request.js:3:1)\r\n    at Module._compile (module.js:571:32)\r\n    at extensions.(anonymous function) (/Users/grvcoelho/Hyperspace/labs/ava/node_modules/require-precompiled/index.js:13:11)\r\n    at Object.require.extensions.(anonymous function) [as .js] (/Users/grvcoelho/Hyperspace/labs/ava/node_modules/ava/lib/process-adapter.js:105:4)\r\n    at Module.load (module.js:488:32)\r\n    at tryModuleLoad (module.js:447:12)\r\n    at Function.Module._load (module.js:439:3)\r\n    at Module.require (module.js:498:17)\r\n    at require (internal/module.js:20:19)\r\n    at Object.<anonymous> (/Users/grvcoelho/Hyperspace/labs/ava/node_modules/ava/lib/test-worker.js:33:1)\r\n    at Module._compile (module.js:571:32)\r\n    at Object.Module._extensions..js (module.js:580:10)\r\n    at Module.load (module.js:488:32)\r\n    at tryModuleLoad (module.js:447:12)\r\n    at Function.Module._load (module.js:439:3)\r\n    at Module.runMain (module.js:605:10)\r\n    at run (bootstrap_node.js:420:7)\r\n    at startup (bootstrap_node.js:139:9)\r\n    at bootstrap_node.js:535:3\r\n\r\n  1 exception\r\n\r\n  ✖ test/unit/request.js exited with a non-zero exit code: 1\r\n\r\n```\r\n\r\n### Config\r\n\r\n**No configuration, which means no babel-register or such things**\r\n\r\n```json\r\n\r\n{\r\n  \"ava\": {\r\n  ...\r\n  }\r\n}\r\n```\r\n\r\n### Command-Line Arguments\r\n\r\n```\r\nava\r\n```\r\n\r\n## Relevant Links\r\n\r\n**Repo with detailed instructions to reproduce the behavior**: https://github.com/wasting-light/avajs-bug-report-x89\r\n\r\n\r\n## Environment\r\n\r\nTell us which operating system you are using, as well as which versions of Node.js, npm, and AVA. Run the following to get it quickly:\r\n\r\n```\r\nNode.js: v7.4.0\r\nOS: darwin 16.4.0\r\nAva: 0.18.2\r\nnpm: 4.0.5\r\n```",
                              "label": "bug",
                              "createdAt": "2017-03-23T15:14:53Z",
                              "closedAt": "2019-04-28T15:38:05Z",
                              "lastComment": "2019-04-28T15:38:05Z",
                              "commentCount": 4
                         },
                         {
                              "title": "RxJs error when returning Observable.catch() in test",
                              "description": "## Description\r\nThe documentation states that it is possible to return an Observable from your test to have it automatically handled by the framework. However, I would like to test that a certain function throws an error in certain cases. Doing so, I got an error from the RxJs library (version 5.2.0), leaving me with the impression that this is a bug in Ava. See details below.\r\n\r\n### Test Source\r\nNot the actual source, but this MVP shows the exact same behaviour\r\n```js\r\ntest('Observable throws an error', t => {\r\n  t.plan(1);\r\n  const error = new Error('Failed');\r\n  return Observable.throw(error).catch(err => t.is(error, err));\r\n});\r\n```\r\n\r\n### Error Message & Stack Trace\r\n\r\n```\r\ntoken › Observable throws an error\r\n  /Users/sander/test/node_modules/rxjs/src/util/subscribeToResult.ts:81\r\n\r\n  Error: You provided 'undefined' where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.\r\n\r\n  Object.subscribeToResult (node_modules/rxjs/src/util/subscribeToResult.ts:81:23)\r\n  CatchSubscriber.error (node_modules/rxjs/src/operator/catch.ts:111:16)\r\n  ErrorObservable._subscribe (node_modules/rxjs/src/observable/ErrorObservable.ts:79:18)\r\n  ErrorObservable.Observable._trySubscribe (node_modules/rxjs/src/Observable.ts:113:19)\r\n  ErrorObservable.Observable.subscribe (node_modules/rxjs/src/Observable.ts:98:21)\r\n  CatchOperator.call (node_modules/rxjs/src/operator/catch.ts:80:19)\r\n  Observable.subscribe (node_modules/rxjs/src/Observable.ts:96:16)\r\n  Observable.forEach (node_modules/rxjs/src/Observable.ts:141:12)\r\n  module.exports (node_modules/observable-to-promise/index.js:13:4)\r\n```\r\n\r\n### Config\r\n\r\n```json\r\n{\r\n  \"ava\": {\r\n    \"files\": [\r\n      \"test/**/*.test.js\"\r\n    ]\r\n  }\r\n}\r\n```\r\n\r\n### Command-Line Arguments\r\nNone\r\n\r\n## Environment\r\n- Ava version 0.18.2\r\n- Node version 6.10.0\r\n- darwin 16.4.0\r\n",
                              "label": "unlabeledBug",
                              "createdAt": "2017-03-15T13:43:58Z",
                              "closedAt": "2017-03-18T10:59:19Z",
                              "lastComment": "2017-03-18T10:59:19Z",
                              "commentCount": 2
                         },
                         {
                              "title": "Can't bind t.throws?",
                              "description": "## Description\r\nI think this may be a bug. t.throws gets rid of the `this` reference, where `this` ends up as being `undefined`\r\n\r\n### Test Source\r\n\r\n```js\r\nclass Person {\r\n    constructor(name) {\r\n        this.name = name;\r\n    }\r\n\r\n    sayMyName() {\r\n        const name = this.name;\r\n        return new Promise(function (resolve, reject) {\r\n            reject(new Error(name));\r\n        });\r\n    }\r\n}\r\n\r\ntest('test', async (t) => {\r\n    const person1 = new Person('Bob');\r\n    const error = await t.throws(person1.sayMyName);\r\n    t.is(error.message, 'Bob');\r\n});\r\n\r\n```\r\n\r\n### Error Message & Stack Trace\r\n\r\n```\r\n  85:     const error = await t.throws(person1.sayMyName);\r\n  86:     t.is(error.message, 'Bob');\r\n  87: });\r\n\r\n  Difference:\r\n\r\n  \"CannBot read property \\'name\\' of undefinedb\"\r\n```\r\n\r\n### Config\r\n\r\nCopy the relevant section from `package.json`:\r\n\r\n```json\r\n{\r\n  \"ava\": {\r\n    \"files\": [\r\n      \"tests/*.js\"\r\n    ]\r\n  }\r\n}\r\n```\r\n\r\n### Command-Line Arguments\r\n\r\nCopy your npm build scripts or the `ava` command used:\r\n\r\n```\r\nava --watch\r\n```\r\n\r\n## Environment\r\n\r\nTell us which operating system you are using, as well as which versions of Node.js, npm, and AVA. Run the following to get it quickly:\r\n\r\n```\r\nNode.js v6.6.0\r\ndarwin 16.4.0\r\nava 0.18.2\r\nnpm 4.3.0\r\n```\r\n",
                              "label": "unlabeledBug",
                              "createdAt": "2017-03-10T09:56:22Z",
                              "closedAt": "2017-03-10T10:03:07Z",
                              "lastComment": "",
                              "commentCount": 0
                         },
                         {
                              "title": "Ava slows when there are many non-run files",
                              "description": "## Description\r\n\r\nI started a project a while ago and I noticed that `ava` slowed down over time. At the start it used to clock in at under a second. As I added more code and my configuration changed it is now around 15 seconds. This is an extremely long feedback cycle. Using `--watch` does not appear to produce a significant improvement.\r\n\r\nI managed to reproduce the problem in a [test repo](https://github.com/taylor1791/ava-slow-test). Further testing show it has to do with the _number of files in the directory_. It does not matter what type of files they are. In the example repo, I have a 1 simple test, a copy of node, and a benchmark script. When I remove the copy of node it is significantly faster. Here is a sample run of the script.\r\n\r\n```\r\nuser@computer:~/src/ava-slow-test% ./benchmark.sh\r\nRunning tests...\r\n\r\n  1 passed\r\n\r\n\r\nreal\t0m7.377s\r\nuser\t0m6.863s\r\nsys\t0m1.379s\r\nRemoving lib and re-running tests...\r\n\r\n  1 passed\r\n\r\n\r\nreal\t0m0.737s\r\nuser\t0m0.589s\r\nsys\t0m0.100s\r\nResetting lib...\r\n```\r\n\r\n## Environment\r\n\r\n```\r\nuser@computer:~/src/ava-slow-test% node -e \"var os=require('os');console.log('Node.js ' + process.version + '\\n' + os.platform() + ' ' + os.release())\"\r\nNode.js v7.4.0\r\ndarwin 16.4.0\r\nuser@computer:~/src/ava-slow-test% ./node_modules/.bin/ava --version\r\n0.18.2\r\nuser@computer:~/src/ava-slow-test% npm --version\r\n4.0.5\r\n```\r\n\r\n## Links\r\n\r\n[Test Repository](https://github.com/taylor1791/ava-slow-test)",
                              "label": "bug",
                              "createdAt": "2017-02-25T20:12:22Z",
                              "closedAt": "2019-04-28T16:00:46Z",
                              "lastComment": "2017-07-16T15:52:07Z",
                              "commentCount": 11
                         },
                         {
                              "title": "String diff output starts red and ends white",
                              "description": "I think this is a bug, although maybe it's intentional and I'm missing something.\r\n\r\nThe text output for the string diff always starts red for neutral text (as in text that has been neither added or removed in the diff). Then elsewhere the neutral text is white not red. You can see what I mean in the screenshot from the readme:\r\n\r\n![](https://github.com/avajs/ava/raw/a45cdb9eb7e04097952b3a88b504e12d8885fbd3/media/magic-assert-strings.png)\r\n\r\nNotice how `\"this is so` is red, but the last `\"` is white.\r\n\r\nI think all the text should be white apart from `cool|bad`.",
                              "label": "bug",
                              "createdAt": "2017-02-25T04:54:49Z",
                              "closedAt": "2017-02-26T10:30:29Z",
                              "lastComment": "2017-02-25T18:19:03Z",
                              "commentCount": 11
                         },
                         {
                              "title": "Should before and after run with skip?",
                              "description": "ava: 0.18.2\r\n\r\n```js\r\nimport test from 'ava'\r\n\r\ntest.before(() => {\r\n  throw new Error('should not run?')\r\n})\r\ntest.after(() => {\r\n  throw new Error('should not run?')\r\n})\r\n\r\ntest.skip('some skipped test', t => { })\r\n```\r\n\r\nCurrently the `before()` and `after()` is run even if the file contain only skipped tests.\r\nIs that the expected behavior?",
                              "label": "bug",
                              "createdAt": "2017-02-23T04:02:07Z",
                              "closedAt": "2017-10-29T17:11:34Z",
                              "lastComment": "2017-02-23T10:07:42Z",
                              "commentCount": 2
                         },
                         {
                              "title": "t.is can cause tests to hang",
                              "description": "`t.is` shows a nice diff if strings don't match which is pretty cool. However it appears that it can choke on large strings and cause the tests to hang which is not so cool.\r\n\r\nI was comparing two b64 string representations  of an image, and it caused the Travis VM to hang for over 10mins until it got shut down. \r\n\r\nFor example, this will cause AVA to hang:\r\n\r\n```js\r\nt.is(b64, expectedB64);\r\n```\r\n\r\nSo I'm currently using this instead, which is fine:\r\n\r\n```js\r\nt.true(b64 === expectedB64);\r\n```\r\n\r\nIt really threw me off and took me waaay longer to figure out what was going on because of AVA hanging. I could ctrl-c to get my terminal back but there where AVA processes still running that I had to manually kill each time. I'm not sure if this is a bug in the diff implementation or maybe it's expected that a large random string will cause it to hang. Even then, it would be better if this could be handled more elegantly, possibly a max time limit that the diff is allowed to run for before it should be killed?\r\n\r\nFor reference the two b64 strings I was comparing were:\r\n\r\n```\r\ndata:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wBDAAgGBgcGBQgHBwcJCQgKDBQNDAsLDBkSEw8UHRofHh0aHBwgJC4nICIsIxwcKDcpLDAxNDQ0Hyc5PTgyPC4zNDL/2wBDAQkJCQwLDBgNDRgyIRwhMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjL/wAARCAEAAQADASIAAhEBAxEB/8QAHwAAAQUBAQEBAQEAAAAAAAAAAAECAwQFBgcICQoL/8QAtRAAAgEDAwIEAwUFBAQAAAF9AQIDAAQRBRIhMUEGE1FhByJxFDKBkaEII0KxwRVS0fAkM2JyggkKFhcYGRolJicoKSo0NTY3ODk6Q0RFRkdISUpTVFVWV1hZWmNkZWZnaGlqc3R1dnd4eXqDhIWGh4iJipKTlJWWl5iZmqKjpKWmp6ipqrKztLW2t7i5usLDxMXGx8jJytLT1NXW19jZ2uHi4+Tl5ufo6erx8vP09fb3+Pn6/8QAHwEAAwEBAQEBAQEBAQAAAAAAAAECAwQFBgcICQoL/8QAtREAAgECBAQDBAcFBAQAAQJ3AAECAxEEBSExBhJBUQdhcRMiMoEIFEKRobHBCSMzUvAVYnLRChYkNOEl8RcYGRomJygpKjU2Nzg5OkNERUZHSElKU1RVVldYWVpjZGVmZ2hpanN0dXZ3eHl6goOEhYaHiImKkpOUlZaXmJmaoqOkpaanqKmqsrO0tba3uLm6wsPExcbHyMnK0tPU1dbX2Nna4uPk5ebn6Onq8vP09fb3+Pn6/9oADAMBAAIRAxEAPwD5/ooooAKKKKACiiigAooooAKK3/DngzXPFMu3TbNjCDhriT5Yl+rd/oMmvYPDnwW0bTgk2szNqU458sZSIH6DlvxOPauHFZjh8NpN3fZbm1OhOpstDwzTtJ1DV5/I06yuLqTusMZbH1x0rvdI+CviO+Cvfy22nRnqHbzH/JeP1r32zsrXT7ZbeytobeBekcSBVH4Cp68Gvn1aWlKKivvf+R2wwUV8TueYad8D9AtwGv769vHHUKREh/AZP6101n8OPCFiAItCtnx3mzL/AOhE11NFeZUx2JqfFN/fb8jojRpx2RnwaFpFqALfSrGEDp5dui4/IVeSNIxhEVfoMU6iuZylLdlpJbDXjSQYdFb6jNUZ9C0i6BFxpVjMD18y3Rs/mK0KKFKUdmDSe5y158OPCF8CJdCtkz3hzF/6CRXM6j8D9AuAWsL69s3PQMRKg/A4P616fRXTTx2Jp/DN/ff8yJUact0fPer/AAV8R2IZ7CW21GMdAjeW/wCTcfrXBajpOoaRP5Go2VxaydlmjK5+metfYNQXlla6hbNb3ttDcQN1jlQMp/A16dDPq0dKsU19z/yOaeCi/hdj45or3/xH8FtG1ENNo0zabOefLOXiJ+h5X8Dj2rx/xH4M1zwtLt1KzYQk4W4j+aJvo3b6HBr3sLmOHxOkHZ9nucdShOnutDAoooruMQooooAKKKKACiiigAooooAKKKKACiit3wt4S1PxbqQtLCPEa4M1w4+SIepPr6DqaidSNOLnN2SGk5OyMqysrrUbyO0sreSe4lOEjjXJJr2nwd8Gbe1Ed74lKzzdVskb5F/3yPvH2HH1rufCfgvSfCFl5VlF5ly4xNdSD55P8B7D9etdHXyuOzqdW8KGke/V/wCR6VHCKOs9WRwwRW0KQwRJFEg2oiKFVR6ADpUlFFeHudgUUUUgCiiigAooooAKKKKACiiigAooooAKjmgiuYXhniSWJxtdHUMrD0IPWpKKewHkfjH4M290JL3w0Vgm6tZu3yN/uE/dPsePpXi17ZXWnXklpe28kFxEcPHIuCDX2LXOeLPBek+L7Lyr2Ly7lBiG6jHzx/4j2P6da9zA51OlaFfWPfqv8zjrYRS1hoz5Vord8U+EtT8JakbS/jzG2TDcIPklHqD6+o6isKvqoVI1IqcHdM81pxdmFFFFWIKKKKACiiigAoore8JeFr3xdrcen2o2Rj5p5yMiJO5+voO5qKk404uc3ZIcU5OyLXgnwTfeMtU8qLMNlEQbi5I4Qeg9WPpX0rouiaf4f0yLT9NgWGCP82PdmPcn1o0TRbHw/pMOm6fEI4Ih+LHuzHuTWhXxWYZhPFzstIrZfqz16FBU15hRRRXmm4UUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQBn61omn+INMl0/UoFmgk/NT2ZT2I9a+avG3gm+8G6p5UuZrKUk29yBw49D6MPSvqWs/W9FsfEGkzabqEQkglH4qezKexFell+Yzwk7PWL3X6owr0FUXmfIVFb3i3wte+Edbk0+6G+M/NBOBgSp2P19R2NYNfa05xqRU4O6Z5DTi7MKKKKsQUUUUAWLGyuNSvoLK0iaW4ncJGi9ya+ovBfhK18IaDHZRbXuXw9zMBzI/+A6Af4muG+DPg4WtofEt7H++nBS0Vh91Ohf6noPbPrXrlfJZ1jvaT9hB+6t/N/8AAPTwlHlXO92FFFFeEdgUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFAHOeNPCVr4v0GSyl2pcpl7aYjmN/8D0I/wABXy7fWVxpt9PZXcTRXEDlJEbsRX2LXkfxm8HC5tB4lso/30ACXaqPvJ0D/UdD7Y9K93Jcd7KfsJv3Xt5P/gnHi6PMudbo8Oooor608wK3vBvhyTxT4ntNMUMIWbfO4/hjH3j/AEHuRWDXv/wW8OjTvDkuszJi41BsRk9REpwPzOT9AK4cxxX1bDua3ei9TahT9pNLoelQQxW0EcEKLHFGoREUYCqBgAVJRRXwm57IUUUUgCiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKjngiubeSCdFkilUo6MMhlIwQakop7AfKHjLw5J4W8T3emMGMKtvgc/xRn7p/ofcGsGvf/jT4c/tHw7FrMKZn09sSYHJiY4P5HB+hNeAV93l2K+s4dTe60fqeNXp+zm10Lmk6dLq+r2enQf6y5mWJT6ZOM/h1r66srOHT7C3srddsFvGsUa+iqMD+VeA/BXSPt3jKS/dcx2EBcH0dvlH6bvyr6Frwc+r81aNJbJfi/8AgHZgoWi5dwooorwTtCiiigApksqQQvNIwWONSzMewHJNPrM8R8eF9WI/58pv/QDVQXNJITdlc8j17x7rGqXjm1upbK0BPlxwttbHqzDkn9KveE/H2o2mpQ2up3L3VnKwQvKcvGTxnd1I9c1w1HQ19Y8JRdP2fKrHmqrPm5rn01RRRXyJ6YUUUUAFFFFABRRRQAUUUUAFZPiPW4/D+iT37rvZcLGmfvOeg/r+Fa1cN8Vv+RXtv+v1P/QHrfDU1UrRjLZsipJxi2jzu78Y+ILy5M7arcxEnISFzGo9sD+td74A8aXWr3DaXqbiS4CF4ZsYLgdQffvn615LXT/D3/kedO/7a/8Aotq+ixeGpOhL3UrLT5HDSqS51qe50UUV8seiFFFFABRRRQBBe2cOoWFxZXC7oLiNopF9VYYNfIuradLpGr3mnT/6y2maJj64OM/j1r7Br56+NWkfYfGUd+i4jv4A5Pq6/Kf02/nXvZDX5a0qT2a/Ff8AAOLGwvFS7Ha/A/Tvs/hS8v2XD3dztB9UQAD9S1eoVy/w5sxY/D3RosY3wecffeS//s1dRXmY6p7TEzl5v8NDpox5aaQUUUVyGgUUUUAFZniT/kV9X/68pv8A0A1p1meI/wDkV9X/AOvKb/0A1pS+OPqKWzPniiiivsjyT6aooor4k9cKKKKACiiigAooooAKKKKACuF+K3/Ir23/AF+p/wCgPXdVwvxW/wCRXtv+v1P/AEB66sF/vEPUzrfAzx+um+Hv/I86d/21/wDRT1zNdP8AD3/kedO/7a/+inr6bE/wJ+j/ACPPp/GvU9zooor489QKKKKACiiigArzD44acLjwpZ36rl7S5Ck+iOCD+oWvT65f4jWYvvh7rMWM7IPOH/ACH/8AZa68DU9niYS81+OhnWjzU2jZ0OD7N4f023AwIrWJMfRAKv02NNkSIOiqBTq5pO8my0rKwUUUVIwooooAKiubeO7tJraUZjmRo2A9CMGpaKadtQPn3XvDeo+H7x4bmBzCCfLnVfkceufX2q94T8J3uu6lC7wOlgjhpZmXAYD+EepP6V7pRXqvNqjp8tte/wDwDmWGjzXvoFFFFeSdIUUUUAFFFFABRRRQAUUUUAFYXi7Qm8Q+H5rOMgTqRJCT03DsfqCR+NbtFXCbhJSjuhNJqzPm67068sLk213aywzA42OpBP09a9C+HHhS8t7/APtm+heBEQrAjjDMSMFsdhjP1zXp9FejXzSdWm4KNr7mEMOoyvcKKKK8s6AooooAKKKKACqGuQC58P6lbkZEtrKmPqhFX6bInmROh6MpFVF8skxNXQRtviRx/EAadVDQ5xdaBptwDkS2sT5+qg1fokrSaBO6uFFFFSMKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACmyPsidz/CpNOqhrk4tdA1K4JwIrWV8/RSaqK5pJCbsjG+HN4L74e6NLnOyDyT7bCU/9lrqK8v8AgfqP2jwpeWDNl7S53AeiOAR+oavUK6cdT9niZx83+OpFGXNTTCiiiuQ0CivFPiLop0vxI9zGuLe9zKvoH/iH58/8CrkK9ejlaqwU1Pfy/wCCcssS4tpo+mqK+ZaK0/sb+/8Ah/wRfWvI+mqK+ZaKP7G/v/h/wQ+teR9NUV8y0Uf2N/f/AA/4IfWvI+mqK+ZaKP7G/v8A4f8ABD615H01RXzLRR/Y39/8P+CH1ryPpqivmWij+xv7/wCH/BD615H01RXzLRR/Y39/8P8Agh9a8j6aor5loo/sb+/+H/BD615H01RXzLRR/Y39/wDD/gh9a8j6aor5loo/sb+/+H/BD615H01RXzLW54R0U674jtrVlzAp82b/AHF6j8eB+NTPKVCLlKei8v8AgjWJbdkj36iiivGOoK5f4jXgsfh7rMucb4PJH/AyE/8AZq6ivMPjhqIt/ClnYK2Hu7kMR6ogJP6la68DT9piYR81+GpnWly02zifgrq32HxlJYO2I7+AoB6uvzD9N3519C18faTqMukavZ6jB/rLaZZVHrg5x+PSvrqyvIdQsLe9t23QXEayxt6qwyK9PPqHLWjVWzX4r/gHNgp3i49ieiiivBO0wPGGgjxBoEtuij7TH+8gP+0O34jIrwVlZHKspVlOCCMEGvpmvKPiT4WNrcnXLOP9xKf9IUD7jn+L6H+f1r2MrxXK/Yy2exy4mndcyPPKKKK944gooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAr2n4d+Hjo+ifa50xd3mHII5VP4R/X8fauG8A+Fjrmpi8uUzYWzAtkcSP1C/Tuf/r17VXiZriv+XMfn/kdmGp/bYUUUV4h1hXz18atX+3eMo7BGzHYQBCPR2+Y/pt/Kvfr28h0+wuL24bbBbxtLI3oqjJr5F1bUZdX1e81Gf8A1lzM0rD0yc4/DpXvZDQ5q0qr2S/F/wDAOLGztFR7lOvf/gt4iGo+HJdGmfNxp7ZjB6mJjkfkcj6EV4BW/wCDPEcnhbxPaaku4wg+XcIP4oz94f1HuBXvZjhfrOHcFutV6nHQqezmn0Pq6io4JormCOeF1kikUOjqchlIyCKkr4TY9kKjngiureSCeNZIpFKujDIIPapKKE7AeE+MPCk3hvUMoGewmJMMnp/sn3H6/nXN19I6hp9rqljLZ3kQlgkGGU/zHoa8R8VeEbvw1dFvmmsXP7qcDp/st6H+dfRYDHKquSfxfmcFajy6rY5yiirlrpd3d4McRCH+N+BXpmMYSm7RVynRXSW/hyFcG4lZz/dXgVqQWNrbY8qBFI74yfzpXO6nl1WXxaHHxWN1P/q7eRh67ePzq3HoF+/VET/eb/DNdbRSudUctpr4m2c0vhqc/fnjH0BNSDwye92P+/f/ANeuhoouzZYCgun4s58+GD2u/wDyH/8AXqNvDUo+7cIfqpFdJRRdg8DQ/l/FnKv4evV+6Yn+jf41Ul0y9h+/bSY9VG7+VdrRRcylltJ7No4AgqcEEEdjSV3ktvDOMSxI4/2lzWbceH7SXJiLRN7HI/I07nLUy2ovgdzlaK07rQ7y3yUUTJ6p1/Ks0ggkEEEdjTOGdOdN2mrCVseHPD114j1NbW3BWNfmmmI4jX/H0FHh7w5feI74QWq7YlI82dh8sY/qfQV7jomiWegaclnZphRy7n70jeprz8bjlQXLH4vyNKNFzd3sTabp1tpOnw2VpHshiXAHc+pPuat0UV80227s9BKwUUVHPPFbW8k87rHFEpd3Y4CqBkk0bgea/GnxH/Z3h2LRoXxPqDZkweREpyfzOB9Aa8Arf8Z+I5PFPie71JtwhJ8u3Q/wxj7o/HqfcmsCvu8uwv1bDqD3er9Txq9T2k2+gUUUV3GJ7j8GfGIurM+Gr2T9/AC9ozH7ydSn1HUe30r1yvjqxvbjTb6C9tJWiuIHDxuvYivqLwX4ttfF+gx3sW1LlMJcwg8xv/geoP8Aga+SzrA+yn7eC917+T/4J6eErcy5Hujo6KKK8I7AqK5toby3kt7iJJYZBtdHGQRUtFNO2qA871D4fW+nSPdadC08ec+W53NH9PUfrWTjBwa9arJ1Pw/Z6llyvlTn/log6/Ud69fDZm17tbXzN6NSNNctjzuitXUPD1/p5LGPzYh/y0j5/MdRWVXsQqQqK8HdHYpKSugoooqygooooAKKKKACiiigAoorQsNFvtRIMMJEZ/5aPwv/ANf8Kmc4wV5OyE2lqzPrTsvBQ1zbNexeTB2fGHb6f/Xrq9M8MWliVkm/0icc5YfKPoP8a3K8jE5n9mj9/wDkclatGS5UrlXTtNtNKsktLKBYYU6Kvc+pPc+9WqKK8Ztt3ZzJWCiiikAV5H8ZvGItbQeGrKT99OA92yn7qdQn1PU+2PWu58aeLbXwhoMl7Lte5fKW0JPMj/4DqT/iK+Xb69uNSvp727laW4ncvI7dya93JcD7Wft5r3Vt5v8A4Bx4utyrkW7K9FFFfWnmBRRRQAVu+EvFN74S1uPULQ7oz8s8JOBKncfX0PY1hUVFSEakXCaumNNxd0fXuia3Y+IdJh1LT5hJBKPxQ91YdiK0K+WvBPjW+8G6p50WZrKUgXFsTw49R6MPWvpXRdb0/wAQaZFqGmzrNBIPxU91YdiPSvisxy+eEndaxez/AEZ69Cuqq8zQooorzTcKKKKACs+90PT74lprdQ5/jT5T+nX8a0KKuE5Qd4uw02tjkbrwWck2l2PZZR/Uf4VlT+GdVgJ/0fzB6xsD+nWvQ6K7YZlXjvqbKvNHl0mn3sX+stJ1+sZFQFGX7ykfUV6xRXQs3fWH4l/WX2PJgrN0Un6Cp47G7l/1drO/+7GTXqVFDzd9Ifj/AMAPrPkedQeHNVnIxasg9ZCF/wDr1qW3guU4N1dIo/uxjP6nFdjRWE8zry2siHiJvYy7Pw9ptkQyweY4/il+Y/l0/StSiiuGdSc3ebuYuTe4UUUVAgooooAKz9b1ux8PaTNqWoTCOCIfi57Ko7k0a1rdh4f0uXUNSnEMEY/Fj2VR3J9K+avG3jW+8Zap50uYbKIkW9sDwg9T6sfWvSy7L54ud3pFbv8ARGFeuqa8yp4t8U3vi3W5NQuztjHywQg5ESdh9fU9zWFRRX2tOEacVCCskeQ25O7CiiirEFFFFABRRRQAVu+FvFup+EtSF3YSZjbAmt3PySj0I9fQ9RWFRUTpxqRcJq6Y03F3R9VeE/Gmk+L7LzbKXZcoMzWsh+eP/Ee4/TpXR18dWV9dadeR3dlcSQXERykkbYINe0+DvjNb3QjsvEoW3m6LeRr8jf74H3T7jj6V8rjslnSvOhrHt1X+Z6VHFqWk9GeuUVHBPDcwJPbypLE43JJGwZWHqCOtSV4ex2BRRRSAKKKKACiiigAooooAKKKKACiiigAooqOeeG2gee4lSKJBueSRgqqPUk9Ke4Elc74s8aaT4QsvNvZd9y4zDaxn55P8B7n9elcL4x+M1vaiSy8NBbibo15IvyL/ALgP3j7nj614te311qV5Jd3txJcXEhy8kjZJr3MDks6tp19I9ur/AMjjrYtR0hqzW8VeLdT8Xal9qv5MRrkQ26H5Ih7D19T1NYNFFfVU6cacVCCskea5OTuwoooqxBRRRQAUUUUAFFFFABRRRQAUUUUAb/hzxnrnhaXdpt4whJy1vJ80TfVe31GDXsHh3406NqISHWYn024PHmDLxE/Ucj8Rj3rwCiuHFZdh8TrNWfdbm1OvOns9D7Gs7211C2W4srmG4hbpJE4ZT+Iqevj7TtW1DSJ/P069uLWTu0MhXP1x1rvdI+NXiOxCpfxW2oxjqXXy3/NeP0rwa+Q1o60pKS+5/wCR2wxsX8SsfQlFeX6b8cNBuMLf2N5ZuepUCVB+Iwf0rp7P4j+EL0Axa7bJntNmL/0ICvMqYDE0/ig/uv8AkdEa1OWzOpoqhBrukXQBt9VsZgehjuEb+Rq6kiSDKOrD2Oa5nGUd0WmnsOopjSxp9+RV+pxVOfXdItQTcarYwgdTJcIv8zQoyeyBtIv0Vy158R/CFkCZddtnx2hzL/6CDXMal8cNBt8rYWN5eOOhYCJD+Jyf0rpp4HE1Phg/ut+ZEq1OO7PUKgvL210+2a4vbmG3gXrJK4VR+JrwLV/jV4jvgyWEVtp0Z6FF8x/zbj9K4LUdW1DV5/P1G9uLqTs00hbH0z0r06GQ1pa1ZKK+9/5HNPGxXwq57n4j+NOjacGh0aFtSnHHmHKRA/U8t+Ax714/4j8Z654pl3aleMYQcrbx/LEv0Xv9Tk1gUV72Fy7D4bWCu+73OOpXnU3egUUUV3GIUUUUAFFFFABRRRQB/9k=\r\n```\r\n\r\n```\r\ndata:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wBDAAgGBgcGBQgHBwcJCQgKDBQNDAsLDBkSEw8UHRofHh0aHBwgJC4nICIsIxwcKDcpLDAxNDQ0Hyc5PTgyPC4zNDL/2wBDAQkJCQwLDBgNDRgyIRwhMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjL/wAARCAEAAQADASIAAhEBAxEB/8QAHwAAAQUBAQEBAQEAAAAAAAAAAAECAwQFBgcICQoL/8QAtRAAAgEDAwIEAwUFBAQAAAF9AQIDAAQRBRIhMUEGE1FhByJxFDKBkaEII0KxwRVS0fAkM2JyggkKFhcYGRolJicoKSo0NTY3ODk6Q0RFRkdISUpTVFVWV1hZWmNkZWZnaGlqc3R1dnd4eXqDhIWGh4iJipKTlJWWl5iZmqKjpKWmp6ipqrKztLW2t7i5usLDxMXGx8jJytLT1NXW19jZ2uHi4+Tl5ufo6erx8vP09fb3+Pn6/8QAHwEAAwEBAQEBAQEBAQAAAAAAAAECAwQFBgcICQoL/8QAtREAAgECBAQDBAcFBAQAAQJ3AAECAxEEBSExBhJBUQdhcRMiMoEIFEKRobHBCSMzUvAVYnLRChYkNOEl8RcYGRomJygpKjU2Nzg5OkNERUZHSElKU1RVVldYWVpjZGVmZ2hpanN0dXZ3eHl6goOEhYaHiImKkpOUlZaXmJmaoqOkpaanqKmqsrO0tba3uLm6wsPExcbHyMnK0tPU1dbX2Nna4uPk5ebn6Onq8vP09fb3+Pn6/9oADAMBAAIRAxEAPwD5/ooooAKKKKACiiigAooooAKK3/DngzXPFMu3TbNjCDhriT5Yl+rd/oMmvYPDnwW0bTgk2szNqU458sZSIH6DlvxOPauHFZjh8NpN3fZb/wDA+ZtToTqbLQ8M07SdQ1efyNOsri6k7rDGWx9cdK73SPgr4jvgr38ttp0Z6h28x/yXj9a99s7K10+2W3sraG3gXpHEgVR+AqevBr59WlpSior73/kdkMFFfE7nmGnfA/QLcBr++vbxx1CkRIfwGT+tdNZ/DjwhYgCLQrZ8d5sy/wDoRNdTRXmVMfianxVH99vysdMaNOOyM+DQtItQBb6VYwgdPLt0XH5CryRpGMIir9BinUVzOUpbstJLYa8aSDDorfUZqjPoWkXQIuNKsZgevmW6Nn8xWhRQpSjswaT3OWvPhx4QvgRLoVsme8OYv/QSK5nUfgfoFwC1hfXtm56BiJUH4HB/WvT6K6aePxNP4aj++/53IlRpy3R896v8FfEdiGewlttRjHQI3lv+TcfrXBajpOoaRP5Go2VxaydlmjK5+metfYNQXlla6hbNb3ttDcQN1jlQMp/A16dDPq0dKsVJfc/8jmngov4XY+OaK9/8R/BbRtRDTaNM2mznnyzl4ifoeV/A49q8f8R+DNc8LS7dSs2EJOFuI/mib6N2+hwa97C5jh8TpB2fZ7/8H5HHUoTp7rQwKKKK7jEKKKKACiiigAooooAKKKKACiiigAoord8LeEtT8W6kLSwjxGuDNcOPkiHqT6+g6monUjTi5zdkhpOTsjKsrK61G8jtLK3knuJThI41ySa9p8HfBm3tRHe+JSs83VbJG+Rf98j7x9hx9a7nwn4L0nwhZeVZReZcuMTXUg+eT/Aew/XrXR18rjs6nVvChpHv1f8Al+Z6VHCKOs9WRwwRW0KQwRJFEg2oiKFVR6ADpUlFFeHudgUUUUgCiiigAooooAKKKKACiiigAooooAKjmgiuYXhniSWJxtdHUMrD0IPWpKKewHkfjH4M290JL3w0Vgm6tZu3yN/uE/dPsePpXi17ZXWnXklpe28kFxEcPHIuCDX2LXOeLPBek+L7Lyr2Ly7lBiG6jHzx/wCI9j+nWvcwOdTpWhX1j36r/P8AM462EUtYaM+VaK3fFPhLU/CWpG0v48xtkw3CD5JR6g+vqOorCr6qFSNSKnB3TPNacXZhRRRViCiiigAooooAKKK3vCXha98Xa3Hp9qNkY+aecjIiTufr6DuaipUjTi5zdkhxTk7IteCfBN94y1Tyosw2URBuLkjhB6D1Y+lfSui6Jp/h/TItP02BYYI/zY92Y9yfWjRNFsfD+kw6bp8QjgiH4se7Me5NaFfFZjmM8XOy0itl+r/rQ9ehQVJeYUUUV5puFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAZ+taJp/iDTJdP1KBZoJPzU9mU9iPWvmrxt4JvvBuqeVLmaylJNvcgcOPQ+jD0r6lrP1vRbHxBpM2m6hEJIJR+KnsynsRXpZdmM8JOz1i91+q/rUwr0FVXmfIVFb3i3wte+Edbk0+6G+M/NBOBgSp2P19R2NYNfa06kakVODumeRJOLswoooqxBRRRQBYsbK41K+gsrSJpbidwkaL3Jr6i8F+ErXwhoMdlFte5fD3MwHMj/4DoB/ia4b4M+Dha2h8S3sf76cFLRWH3U6F/qeg9s+teuV8lnWO9rP2EH7q383/AMD8z08JR5VzvdhRRRXhHYFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQBznjTwla+L9BkspdqXKZe2mI5jf/AAPQj/AV8u31lcabfT2V3E0VxA5SRG7EV9i15H8ZvBwubQeJbKP99AAl2qj7ydA/1HQ+2PSvdyXHeyn7Cb917eT/AOD+Zx4ujzLnW6PDqKKK+tPMCt7wb4ck8U+J7TTFDCFm3zuP4Yx94/0HuRWDXv8A8FvDo07w5LrMyYuNQbEZPURKcD8zk/QCuHMcV9Ww7mt3ovX/AIG5tQp+0ml0PSoIYraCOCFFjijUIiKMBVAwAKkoor4Tc9kKKKKQBRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFRzwRXNvJBOiyRSqUdGGQykYINSUU9gPlDxl4ck8LeJ7vTGDGFW3wOf4oz90/0PuDWDXv/wAafDn9o+HYtZhTM+ntiTA5MTHB/I4P0JrwCvu8uxX1nDqb3Wj9f+DueNXp+zm10Lmk6dLq+r2enQf6y5mWJT6ZOM/h1r66srOHT7C3srddsFvGsUa+iqMD+VeA/BXSPt3jKS/dcx2EBcH0dvlH6bvyr6Frwc+r81aNJbRX4v8A4B2YKFouXcKKKK8E7QooooAKZLKkELzSMFjjUszHsByTT6zPEfHhfViP+fKb/wBANVBc0ku4m7K55Hr3j3WNUvHNrdS2VoCfLjhba2PVmHJP6Ve8J+PtRtNShtdTuXurOVgheU5eMnjO7qR65rhqOhr6yWEoun7PlVjzVVnzc1z6aooor5E9MKKKKACiiigAooooAKKKKACsnxHrcfh/RJ7913suFjTP3nPQf1/CtauG+K3/ACK9t/1+p/6A9b4amqlaMJbNkVJOMG0ed3fjHxBeXJnbVbmIk5CQuY1Htgf1rvfAHjS61e4bS9TcSXAQvDNjBcDqD798/WvJa6f4e/8AI86d/wBtf/RbV9Fi8NSdCXupWWhw0qkudanudFFFfLHohRRRQAUUUUAQXtnDqFhcWVwu6C4jaKRfVWGDXyLq2nS6Rq95p0/+stpmiY+uDjP49a+wa+evjVpH2HxlHfouI7+AOT6uvyn9Nv5172Q1+WtKk9pL8V/wDixsLxUux2vwP077P4UvL9lw93c7QfVEAA/UtXqFcv8ADmzFj8PdGixjfB5x995L/wDs1dRXmY6p7TEzl5v8NP0OmjHlppBRRRXIaBRRRQAVmeJP+RX1f/rym/8AQDWnWZ4j/wCRX1f/AK8pv/QDWlL+JH1X5oUvhZ88UUUV9keSfTVFFFfEnrhRRRQAUUUUAFFFFABRRRQAVwvxW/5Fe2/6/U/9Aeu6rhfit/yK9t/1+p/6A9dWB/3mHr/mZ1v4bPH66b4e/wDI86d/21/9FPXM10/w9/5HnTv+2v8A6KevpsT/AAJ+j/I8+n8aPc6KKK+PPUCiiigAooooAK8w+OGnC48KWd+q5e0uQpPojgg/qFr0+uX+I1mL74e6zFjOyDzh/wAAIf8A9lrrwNT2eJhLzX46fqZ1o81No2dDg+zeH9NtwMCK1iTH0QCr9NjTZEiDoqgU6uaT5pNlpWVgoooqRhRRRQAVFc28d3aTW0ozHMjRsB6EYNS0U07aoD5917w3qPh+8eG5gcwgny51X5HHrn19qveE/Cd7rupQu8DpYI4aWZlwGA/hHqT+le6UV6ss2qOny217/wDAOZYaPNe+gUUUV5J0hRRRQAUUUUAFFFFABRRRQAVheLtCbxD4fms4yBOpEkJPTcOx+oJH41u0VcJuElOO6E0mrM+brvTrywuTbXdrLDMDjY6kE/T1r0L4ceFLy3v/AO2b6F4ERCsCOMMxIwWx2GM/XNen0V6NfNJ1abgo2vuYQw6jK9woooryzoCiiigAooooAKoa5ALnw/qVuRkS2sqY+qEVfpsieZE6HoykVUXyyTE1dWCNt8SOP4gDTqoaHOLrQNNuAciW1ifP1UGr9ElyyaBO6uFFFFSMKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACmyPsidz/CpNOqhrk4tdA1K4JwIrWV8/RSaqK5pJCbsrmN8ObwX3w90aXOdkHkn22Ep/wCy11FeX/A/UftHhS8sGbL2lzuA9EcAj9Q1eoV046n7PEzj5v8AHX9SKMuammFFFFchoFFeKfEXRTpfiR7mNcW97mVfQP8AxD8+f+BVyFevRytVYKanv5f8E5ZYlxbTR9NUV8y0Vp/Y/wDf/D/gi+teR9NUV8y0Uf2P/f8Aw/4IfWvI+mqK+ZaKP7H/AL/4f8EPrXkfTVFfMtFH9j/3/wAP+CH1ryPpqivmWij+x/7/AOH/AAQ+teR9NUV8y0Uf2P8A3/w/4IfWvI+mqK+ZaKP7H/v/AIf8EPrXkfTVFfMtFH9j/wB/8P8Agh9a8j6aor5loo/sf+/+H/BD615H01RXzLRR/Y/9/wDD/gh9a8j6aor5lrc8I6Kdd8R21qy5gU+bN/uL1H48D8ameUqEXKU9F5f8EaxLbske/UUUV4x1BXL/ABGvBY/D3WZc43weSP8AgZCf+zV1FeYfHDURb+FLOwVsPd3IYj1RASf1K114Gn7TEwj5r8Nf0M60uWm2cT8FdW+w+MpLB2xHfwFAPV1+Yfpu/OvoWvj7SdRl0jV7PUYP9ZbTLKo9cHOPx6V9dWV5DqFhb3tu26C4jWWNvVWGRXp59Q5a0aq2kvxX/AObBTvFx7E9FFFeCdpgeMNBHiDQJbdFH2mP95Af9odvxGRXgrKyOVZSrKcEEYINfTNeUfEnwsbW5OuWcf7iU/6QoH3HP8X0P8/rXsZXiuV+xls9vU5cTTuuZHnlFFFe8cQUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAV7T8O/Dx0fRPtc6Yu7zDkEcqn8I/r+PtXDeAfCx1zUxeXKZsLZgWyOJH6hfp3P/169qrxM1xX/LmPz/yOzDU/tsKKKK8Q6wr56+NWr/bvGUdgjZjsIAhHo7fMf02/lXv17eQ6fYXF7cNtgt42lkb0VRk18i6tqMur6veajP8A6y5maVh6ZOcfh0r3shoc1aVV7RX4v/gHFjZ2io9ynXv/AMFvEQ1Hw5Lo0z5uNPbMYPUxMcj8jkfQivAK3/BniOTwt4ntNSXcYQfLuEH8UZ+8P6j3Ar3sxwv1nDuC3Wq9f+DscdCp7OafQ+rqKjgmiuYI54XWSKRQ6OpyGUjIIqSvhNj2QqOeCK6t5IJ41kikUq6MMgg9qkooTsB4T4w8KTeG9QygZ7CYkwyen+yfcfr+dc3X0jqGn2uqWMtneRCWCQYZT/MehrxHxV4Ru/DV0W+aaxc/upwOn+y3of519FgMcqq9nP4vz/4JwVqPL7y2Ocooq5a6Xd3eDHEQh/jfgV6ZjGEpu0Vcp0V0lv4chXBuJWc/3V4FakFja22PKgRSO+Mn86Vzup5dVl8Whx8VjdT/AOrt5GHrt4/OrcegX79URP8Aeb/DNdbRSudUctpr4m2c0vhqc/fnjH0BNSDwye92P+/f/wBeuhoouzZYCgun4nPnwwe13/5D/wDr1G3hqUfduEP1UiukoouweBodvxZyr+Hr1fumJ/o3+NVJdMvYfv20mPVRu/lXa0UXMpZbSezaOAIKnBBBHY0ld5LbwzjEsSOP9pc1m3Hh+0lyYi0TexyPyNO5y1MtqL4Hf8DlaK07rQ7y3yUUTJ6p1/Ks0ggkEEEdjTOGdOdN2mrCVseHPD114j1NbW3BWNfmmmI4jX/H0FHh7w5feI74QWq7YlI82dh8sY/qfQV7jomiWegaclnZphRy7n70jeprz8djlQXLH4vyNKNFzd3sTabp1tpOnw2VpHshiXAHc+pPuat0UV80227s9BKwUUVHPPFbW8k87rHFEpd3Y4CqBkk0bgea/GnxH/Z3h2LRoXxPqDZkweREpyfzOB9Aa8Arf8Z+I5PFPie71JtwhJ8u3Q/wxj7o/HqfcmsCvu8uwv1bDqD3er9f+BseNXqe0m30Ciiiu4xPcfgz4xF1Znw1eyfv4AXtGY/eTqU+o6j2+leuV8dWN7cabfQXtpK0VxA4eN17EV9ReC/Ftr4v0GO9i2pcphLmEHmN/wDA9Qf8DXyWdYH2U/bwXuvfyf8AwfzPTwlbmXI90dHRRRXhHYFRXNtDeW8lvcRJLDINro4yCKlopp21QHneofD6306R7rToWnjzny3O5o/p6j9aycYODXrVZOp+H7PUsuV8qc/8tEHX6jvXr4bM2vdra+f+ZvQqRprltZHndFauoeHr/TyWMfmxD/lpHz+Y6isqvYhUhUXNB3R2KSkroKKKKsoKKKKACiiigAooooAKKK0LDRb7USDDCRGf+Wj8L/8AX/CpnOMFeTshNpasz607LwUNc2zXsXkwdnxh2+n/ANeur0zwxaWJWSb/AEicc5YfKPoP8a3K8jE5n9mj9/8AkclatGS5UrlXTtNtNKsktLKBYYU6Kvc+pPc+9WqKK8Ztt3ZzJWCiiikAV5H8ZvGItbQeGrKT99OA92yn7qdQn1PU+2PWu58aeLbXwhoMl7Lte5fKW0JPMj/4DqT/AIivl2+vbjUr6e9u5WluJ3LyO3cmvdyXA+1n7ea91beb/wCB+Zx4utyrkW7K9FFFfWnmBRRRQAVu+EvFN74S1uPULQ7oz8s8JOBKncfX0PY1hUVFSEakXCaumNNxd0fXuia3Y+IdJh1LT5hJBKPxQ91YdiK0K+WvBPjW+8G6p50WZrKUgXFsTw49R6MPWvpXRdb0/wAQaZFqGmzrNBIPxU91YdiPSvisxy6eEndaxez/AEf9anr0K6qrzNCiiivNNwooooAKz73Q9PviWmt1Dn+NPlP6dfxrQoq4TlB3i7DTa1RyN14LOSbS7Hsso/qP8Kyp/DOqwE/6P5g9Y2B/TrXodFdsMzrx319TZV5o8uk0+9i/1lpOv1jIqAoy/eUj6ivWKK6Fm8usPxL+svseTBWbopP0FTx2N3L/AKu1nf8A3Yya9SooebvpD8Q+svsedQeHNVnIxasg9ZCF/wDr1qW3guU4N1dIo/uxjP6nFdjRWE8zry2siHiJvYy7Pw9ptkQyweY4/il+Y/l0/StSiiuGdSdR3m7mLk3uFFFFQIKKKKACs/W9bsfD2kzalqEwjgiH4ueyqO5NGta3YeH9Ll1DUpxDBGPxY9lUdyfSvmrxt41vvGWqedLmGyiJFvbA8IPU+rH1r0suy6eLnd6RW7/Rf1oYV66pLzKni3xTe+Ldbk1C7O2MfLBCDkRJ2H19T3NYVFFfa04RpxUIKyR5Dbk7sKKKKsQUUUUAFFFFABW74W8W6n4S1IXdhJmNsCa3c/JKPQj19D1FYVFROnGpFwmrpjTcXdH1V4T8aaT4vsvNspdlygzNayH54/8AEe4/TpXR18dWV9dadeR3dlcSQXERykkbYINe0+DvjNb3QjsvEoW3m6LeRr8jf74H3T7jj6V8rjslnSvOhrHt1X+f5npUcWpaT0Z65RUcE8NzAk9vKksTjckkbBlYeoI61JXh7HYFFFFIAooooAKKKKACiiigAooooAKKKKACiio554baB57iVIokG55JGCqo9ST0p7gSVzvizxppPhCy829l33LjMNrGfnk/wHuf16VwvjH4zW9qJLLw0FuJujXki/Iv+4D94+54+teLXt9daleSXd7cSXFxIcvJI2Sa9zA5LOradfSPbq/8vzOOti1HSGrNbxV4t1PxdqX2q/kxGuRDbofkiHsPX1PU1g0UV9VTpxpxUIKyR5rk5O7CiiirEFFFFABRRRQAUUUUAFFFFABRRRQBv+HPGeueFpd2m3jCEnLW8nzRN9V7fUYNeweHfjTo2ohIdZifTbg8eYMvET9RyPxGPevAKK4cVl2HxOs1Z91v/wAH5m1OvOns9D7Gs7211C2W4srmG4hbpJE4ZT+Iqevj7TtW1DSJ/P069uLWTu0MhXP1x1rvdI+NXiOxCpfxW2oxjqXXy3/NeP0rwa+Q1o60pKS+5/5HZDGxfxKx9CUV5fpvxw0G4wt/Y3lm56lQJUH4jB/Suns/iP4QvQDFrtsme02Yv/QgK8ypgMTT+KD+6/5XOmNanLZnU0VQg13SLoA2+q2MwPQx3CN/I1dSRJBlHVh7HNczjKO6sWmnsOopjSxp9+RV+pxVOfXdItQTcarYwgdTJcIv8zQoylsgbS3L9FctefEfwhZAmXXbZ8docy/+gg1zGpfHDQbfK2FjeXjjoWAiQ/icn9K6aeAxNT4YP7rfnYiVanHdnqFQXl7a6fbNcXtzDbwL1klcKo/E14Fq/wAavEd8GSwittOjPQovmP8Am3H6VwWo6tqGrz+fqN7cXUnZppC2PpnpXp0MhrS1qyUV97/yOaeNivhVz3PxH8adG04NDo0LalOOPMOUiB+p5b8Bj3rx/wAR+M9c8Uy7tSvGMIOVt4/liX6L3+pyawKK97C5dh8NrBXfd7/8D5HHUrzqbvQKKKK7jEKKKKACiiigAooooA//2Q==\r\n```",
                              "label": "bug",
                              "createdAt": "2017-02-22T10:54:48Z",
                              "closedAt": "2017-02-26T15:22:57Z",
                              "lastComment": "2017-02-24T12:25:06Z",
                              "commentCount": 3
                         },
                         {
                              "title": "Weird terminal rendering",
                              "description": "## Description\r\n\r\nAVA has a bug somewhere in how it renders assertion errors that causes some [severe display problems in the terminal](https://github.com/avajs/ava/files/782005/ava-bug-1273.zip).\r\n\r\nI will try to get something public and easily reproducible up within the week, but I've seen it a few times related to assertions on strings. \r\n\r\n### Test Source\r\n\r\n```js\r\nt.true(response.headers.location.includes('%3A51'));\r\n```\r\n\r\n### Error Message & Stack Trace\r\n\r\nNone.\r\n\r\n### Config\r\n\r\n```json\r\n{\r\n  \"scripts\": {\r\n    \"test\": \"xo && ava\"\r\n  }\r\n}\r\n```\r\n\r\n## Environment\r\n\r\nNode 7.5.0\r\nnpm 4.2.0\r\nAVA 0.18.1\r\nmacOS Sierra\r\n",
                              "label": "bug",
                              "createdAt": "2017-02-17T01:37:42Z",
                              "closedAt": "2017-09-03T13:53:25Z",
                              "lastComment": "2017-09-03T13:53:25Z",
                              "commentCount": 3
                         },
                         {
                              "title": "Errors coming from an iterator have an incorrect source file",
                              "description": "```js\r\nimport test from 'ava'\r\n\r\ntest(() => {\r\n  Array.from({\r\n    *[Symbol.iterator] () {\r\n      throw new Error('Boom')\r\n    }\r\n  })\r\n})\r\n```\r\n\r\nResults in:\r\n\r\n```\r\nError: ENOENT: no such file or directory, open '/private/var/folders/_6/p8qxp_3n62zg9081tvb0lcc80000gn/T/tmp.yTcChE8g5j/private/var/folders/_6/p8qxp_3n62zg9081tvb0lcc80000gn/T/tmp.yTcChE8g5j/Object.[Symbol.iterator] (file.js'\r\n    at Object.fs.openSync (fs.js:558:18)\r\n    at Object.fs.readFileSync (fs.js:468:33)\r\n    at module.exports (/Users/mark/GitHub/avajs/ava/lib/code-excerpt.js:15:20)\r\n    at runStatus.errors.forEach (/Users/mark/GitHub/avajs/ava/lib/reporters/mini.js:191:22)\r\n    at Array.forEach (native)\r\n    at MiniReporter.finish (/Users/mark/GitHub/avajs/ava/lib/reporters/mini.js:178:21)\r\n    at Logger.finish (/Users/mark/GitHub/avajs/ava/lib/logger.js:38:28)\r\n    at api.run.then.runStatus (/Users/mark/GitHub/avajs/ava/lib/cli.js:170:12)\r\n```\r\n\r\nFollow-up from https://github.com/avajs/ava/issues/1231.",
                              "label": "bug",
                              "createdAt": "2017-02-16T14:02:58Z",
                              "closedAt": "2017-09-03T13:53:05Z",
                              "lastComment": "2017-02-16T16:20:29Z",
                              "commentCount": 1
                         },
                         {
                              "title": "Change in source file doesn't trigger test run in watch mode when started with test selection",
                              "description": "run `ava -w src/widgets/**/*.test.js` and AVA starts in watch mode and should rerun depending tests when changing a source file (e.g. `src/widgets/MyWidgets.js`). \r\n\r\nThis only works on Mac and not on Linux/Windows because of [a chockidar bug](https://github.com/paulmillr/chokidar/issues/561). In short the bug here is that the pattern which says which tests should be run is more special as default pattern for source files or configured in package.json (e.g. source: 'src/**/*.js').\r\n\r\nBefore version 0.18.0 users could add additional sources by the `--sources` flag:\r\n`ava -w -S src/widgets/**/*.js src/widgets/**/*.test.js`\r\nIf you run into that problem you can probably downgrade AVA to 0.17.0 and run with that solution.\r\n\r\nComplete discussion on gitter: https://gitter.im/avajs/ava?at=58a405adf045df0a224cfb18",
                              "label": "bug",
                              "createdAt": "2017-02-15T14:30:53Z",
                              "closedAt": "2020-05-25T08:39:30Z",
                              "lastComment": "2017-03-13T09:23:28Z",
                              "commentCount": 2
                         },
                         {
                              "title": "test hangs forever when asserting a response from an axios request",
                              "description": "## Description\r\n\r\ntest hangs forever when asserting a response from an axios request. \r\n\r\n### Test Source\r\noriginally a typescript file : \r\n```js\r\nimport test from 'ava'\r\nimport axios from 'axios'\r\n\r\ntest('axios test', function (t) {\r\n  return axios.get('https://www.google.de/search?q=help')\r\n    .then((response) => {\r\n      console.log(response.data)\r\n\r\n      // DOES NOT EXIT\r\n      t.true(response.data === 'something')\r\n\r\n      // DOES EXIT\r\n      const data = response.data\r\n      t.true(data === 'something')\r\n\r\n      // DOES EXIT\r\n      const assert = response.data === 'something'\r\n      t.true(assert)\r\n    })\r\n})\r\n```\r\n\r\nhere is the compiled output, nothing suprising really : \r\n```js\r\n\"use strict\";\r\nconst ava_1 = require(\"ava\");\r\nconst axios_1 = require(\"axios\");\r\nava_1.default('axios test', function (t) {\r\n    return axios_1.default.get('https://www.google.de/search?q=help')\r\n        .then((response) => {\r\n        console.log(response.data.length);\r\n        // DOES NOT EXIT\r\n        t.true(response.data === 'something');\r\n        // DOES EXIT\r\n        const data = response.data;\r\n        t.true(data === 'something');\r\n        // DOES EXIT\r\n        const assert = response.data === 'something';\r\n        t.true(assert);\r\n    });\r\n});\r\n```\r\n\r\n### Error Message & Stack Trace\r\n\r\nThere is no error message, the test just hangs forever. The test only hangs when the response is being asserted, if the response is assigned to a variable and this variable is being asserted, the test ends as expected.\r\n\r\n### Config\r\n\r\nCopy the relevant section from `package.json`:\r\n\r\n```json\r\n{\r\n  \"dependencies\": {\r\n    \"axios\": \"^0.15.3\",\r\n    \"bluebird\": \"^3.4.7\",\r\n  },\r\n  \"devDependencies\": {\r\n    \"ava\": \"^0.18.1\",\r\n  }\r\n}\r\n```\r\n\r\n### Command-Line Arguments\r\n\r\nI have build scripts but the error could be reproduced by running the test (from the transpiled js) with the ava CLI \r\n\r\n```\r\nava -v tests/build/tests/axios.test.js\r\n```\r\n\r\n## Environment\r\nnode :\r\n```\r\nNode.js v6.9.4\r\ndarwin 15.6.0\r\n```\r\nava : \r\n```\r\n0.18.1\r\n```\r\n\r\nnpm:\r\n```\r\n3.10.10\r\n```\r\n\r\nI hope this issue report will be useful :) keep up the good work\r\n",
                              "label": "bug",
                              "createdAt": "2017-02-14T17:04:55Z",
                              "closedAt": "2017-02-17T12:17:49Z",
                              "lastComment": "2017-02-17T12:17:49Z",
                              "commentCount": 2
                         },
                         {
                              "title": "deepEqual comparision of identical immutable js objects failure",
                              "description": "Hi i have problem comparing two nested immutable js objects.\r\n\r\ni call my reducer to modify state and compare it to mocked state(immutable fromJS() map)\r\n```\r\ntest('should modify percentages after fulfilled fetch', (t) => {\r\n  const actual = reducer(initialState,\r\n    {\r\n      type: `${types.reducerType}_FULFILLED`,\r\n      response: mockedFullfiledReturn,\r\n    })\r\n  const expected = mockStateFullfilledFetchStatuses;\r\n  console.log('actual')\r\n  console.log(actual)\r\n  console.log('expected')\r\n  console.log(expected)\r\n  t.deepEqual(actual,\r\n    expected);\r\n});\r\n```\r\n\r\nmy reducer method updates list inside map for only few objects\r\n```\r\nconst updateFields= [\r\n  {\r\n    key: 'FIRST',\r\n    value1: 50,\r\n  },\r\n  {\r\n    key: 'SEC',\r\n    value1: 60,\r\n  },\r\n  {\r\n    key: 'THIRD',\r\n    value1: 80,\r\n  },\r\n];\r\n......\r\n  updateFields.forEach((item) => {\r\n          list = list.update(\r\n            list.findIndex(original => original.get(constants.key) === item.key),\r\n            future => future.set(constants.value1, item.value1));\r\n        });\r\n        return state.withMutations(s => s\r\n          .set(cR.isLoading, false)\r\n          .set(cR.navItems, list));\r\n      }\r\n```\r\n\r\nConsole returns identical objects, but test fails\r\n\r\n```\r\nactual\r\nMap { \"navItems\": List [ Map { \"key\": \"ZEROTH\", \"name\": \"hello\", \"value1\": 0, \"value2\": 85 }, Map { \"key\": \"FIRST\", \"name\": \"hello2\", \"value1\": 50, \"value2\": 60 }, Map { \"key\": \"FIFTH\", \"name\": \"hello3\", \"value1\": 0, \"value2\": 32 }, Map { \"key\": \"THIRD\", \"name\": \"hello4\", \"value1\": 80, \"value2\": 67 }, Map { \"key\": \"FOURTH\", \"name\": \"hello5\", \"value1\": 0, \"value2\": 55 }, Map { \"key\": \"SEC\", \"name\": \"hello6\", \"value1\": 60, \"value2\": 85 } ], \"isLoading\": false }\r\nexpected\r\nMap { \"navItems\": List [ Map { \"key\": \"ZEROTH\", \"name\": \"hello\", \"value1\": 0, \"value2\": 85 }, Map { \"key\": \"FIRST\", \"name\": \"hello2\", \"value1\": 50, \"value2\": 60 }, Map { \"key\": \"FIFTH\", \"name\": \"hello3\", \"value1\": 0, \"value2\": 32 }, Map { \"key\": \"THIRD\", \"name\": \"hello4\", \"value1\": 80, \"value2\": 67 }, Map { \"key\": \"FOURTH\", \"name\": \"hello5\", \"value1\": 0, \"value2\": 55 }, Map { \"key\": \"SEC\", \"name\": \"hello6\", \"value1\": 60, \"value2\": 85 } ], \"isLoading\": false }\r\n``` \r\n\r\n```\r\n   102:   console.log(expected)\r\n   103:   t.deepEqual(actual,  \r\n   104:     expected);         \r\n\r\n  Difference:\r\n\r\n \r\n  Test.fn (path_to_file.../reducer.test.js:103:5)\r\n\r\nnpm ERR! Test failed.  See above for more details. \r\n```\r\n\r\nwhen i test objects in .toJS() format, test passes.\r\n\r\nIs it ok to test with .toJS() ? Is it a bug, or i am making something wrong ? \r\n\r\nmy ava config in package.json\r\n```\r\n  \"ava\": {\r\n    \"concurrency\": 5,\r\n    \"failFast\": false,\r\n    \"tap\": false,\r\n    \"verbose\": true,\r\n    \"powerAssert\": true,\r\n    \"require\": [\r\n      \"babel-register\"\r\n    ],\r\n    \"babel\": \"inherit\",\r\n    \"source\": [\r\n      \"/**/*.test.{js,jsx}\",\r\n      \"!dist/**/*\",\r\n      \"!lib/\"\r\n    ]\r\n  }\r\n```\r\n\r\n\r\n\r\n",
                              "label": "unlabeledBug",
                              "createdAt": "2017-02-13T10:43:01Z",
                              "closedAt": "2017-02-16T17:45:15Z",
                              "lastComment": "2017-02-13T18:03:13Z",
                              "commentCount": 3
                         },
                         {
                              "title": "Magic assert obstructs helpful error for incorrect test usage",
                              "description": "```js\r\nimport test from 'ava';\r\n\r\ntest(() => {\r\n\ttest(t => {\r\n\t\tt.pass();\r\n\t});\r\n});\r\n```\r\n\r\n\r\n## AVA 0.17\r\n\r\n```\r\nError: All tests and hooks must be declared synchronously in your test file, and cannot be nested within other tests or hooks.\r\n  wrappedFn (node_modules/option-chain/index.js:36:14)\r\n  Test.fn (magic-assert-bug.js:4:2)\r\n```\r\n\r\n## AVA 0.18\r\n\r\n```\r\n  1 failed\r\n\r\n  [anonymous]\r\n  node_modules/option-chain/index.js:36\r\n\r\n   35:       }\r\n   36:       return fn.apply(ctx || this, args);\r\n   37:     }\r\n\r\n  Error: All tests and hooks must be declared synchronously in your test file, and cannot be nested within other tests or hooks.\r\n\r\n  wrappedFn (node_modules/option-chain/index.js:36:14)\r\n  Test.fn (magic-assert-bug.js:4:2)\r\n```\r\n\r\n## AVA master\r\n\r\n```js\r\n  1 failed/Users/sindresorhus/dev/ava/lib/cli.js:177\r\n\t\t\t\t\tthrow err;\r\n\t\t\t\t\t^\r\n\r\nError: ENOENT: no such file or directory, open '/Users/sindresorhus/dev/private/ava-playground/Users/sindresorhus/dev/ava/node_modules/option-chain/index.js'\r\n    at Error (native)\r\n    at Object.fs.openSync (fs.js:640:18)\r\n    at Object.fs.readFileSync (fs.js:508:33)\r\n    at module.exports (/Users/sindresorhus/dev/ava/lib/code-excerpt.js:15:20)\r\n    at runStatus.errors.forEach (/Users/sindresorhus/dev/ava/lib/reporters/mini.js:191:22)\r\n    at Array.forEach (native)\r\n    at MiniReporter.finish (/Users/sindresorhus/dev/ava/lib/reporters/mini.js:178:21)\r\n    at Logger.finish (/Users/sindresorhus/dev/ava/lib/logger.js:38:28)\r\n    at api.run.then.runStatus (/Users/sindresorhus/dev/ava/lib/cli.js:170:12)\r\nFrom previous event:\r\n    at Object.exports.run.err [as run] (/Users/sindresorhus/dev/ava/lib/cli.js:169:5)\r\n    at Object.<anonymous> (/Users/sindresorhus/dev/ava/cli.js:22:24)\r\n    at Module._compile (module.js:570:32)\r\n    at Object.Module._extensions..js (module.js:579:10)\r\n    at Module.load (module.js:487:32)\r\n    at tryModuleLoad (module.js:446:12)\r\n    at Function.Module._load (module.js:438:3)\r\n    at Module.runMain (module.js:604:10)\r\n    at run (bootstrap_node.js:394:7)\r\n    at startup (bootstrap_node.js:149:9)\r\n    at bootstrap_node.js:509:3\r\n```\r\n\r\nI don't think the behavior in 0.18 is the best either. Having magic assert for this is not very helpful. Better to keep it like it was in 0.17.\r\n\r\nAny way we can hide the `wrappedFn (node_modules/option-chain/index.js:36:14)` too? It's not useful there.\r\n\r\n// @vadimdemedes ",
                              "label": "bug",
                              "createdAt": "2017-02-11T16:34:51Z",
                              "closedAt": "2017-02-16T17:58:16Z",
                              "lastComment": "2017-02-20T05:57:07Z",
                              "commentCount": 6
                         },
                         {
                              "title": "Snapshot is doubly-escaped / hard to see diffs",
                              "description": "The example from the readme gives:\r\n\r\n```js\r\nexports[`HelloWorld component 1`] = `\"\\\"\\\\n<h1>\\\\n    Hello World...!\\\\n</h1>\\\\n\\\"\"`;\r\n```\r\n\r\n(looks like it's json-stringified, with extra `\"` quotes)\r\n\r\nI'd love to use the snapshot feature, but non-diffable snapshots are a no-go. Could the exported value not just be a json object instead of a stringified json object?",
                              "label": "bug",
                              "createdAt": "2017-02-09T20:20:03Z",
                              "closedAt": "2017-04-02T13:48:36Z",
                              "lastComment": "2017-02-17T15:29:19Z",
                              "commentCount": 3
                         },
                         {
                              "title": "Improve diff symbols",
                              "description": "I think the symbols used to display diffs with the new magic assert could be improved.\r\n\r\nHere's an example of a fairly complex diff output:\r\n\r\n```\r\nmain › fromVirtual()\r\ntest/main.js:363\r\n\r\n 362:\r\n 363:   t.deepEqual(configModule.getOptions(), {\r\n 364:     plugins: [\r\n\r\nDifference:\r\n\r\n    env: Object {\r\n      development: Object {\r\n        env: Object {\r\n          development: Object {\r\n-           env: Object {\r\n-             development: Object {\r\n-               plugins: Array [\r\n-                 Array [\r\n-                   \"/pkg/test/fixtures/compare/node_modules/plugin/index.js\",\r\n-                   Object {\r\n-                     label: \"plugin@virtual\",\r\n-                   },\r\n-                 ],\r\n-               ],\r\n-               presets: Array [\r\n-                 Array [\r\n-                   \"/pkg/test/fixtures/compare/node_modules/preset/index.js\",\r\n-                   Object {\r\n-                     label: \"preset@virtual\",\r\n-                   },\r\n-                 ],\r\n-               ],\r\n-             },\r\n-           },\r\n            plugins: Array [\r\n              Array [\r\n                \"/pkg/test/fixtures/compare/node_modules/plugin/index.js\",\r\n                Object {\r\n-                 label: \"plugin@extended-by-virtual\",\r\n+                 label: \"plugin@virtual\",\r\n                },\r\n              ],\r\n            ],\r\n            presets: Array [\r\n              Array [\r\n                \"/pkg/test/fixtures/compare/node_modules/preset/index.js\",\r\n                Object {\r\n-                 label: \"preset@extended-by-virtual\",\r\n+                 label: \"preset@virtual\",\r\n                },\r\n              ],\r\n            ],\r\n          },\r\n```\r\n\r\nThe first section (the 20 lines of `-`) is an object that is *extraneous* in the actual value used in the `t.deepEqual()` expression. Similarly the other two sections attempt to show how the wrong value is present:\r\n\r\n* `+                 label: \"plugin@virtual\",` is the *expected* value\r\n* `-                 label: \"plugin@extended-by-virtual\",` is the *actual* value.\r\n\r\nUsing `-` and `+` put me in a `git diff` mindset. This makes it hard to know whether the values shown are *expected* or *actual*. To make matters worse in this case the *actual* output is correct, I need to update the *expected* result.\r\n\r\nPerhaps we could do something more along these lines?\r\n\r\n```\r\nmain › fromVirtual()\r\ntest/main.js:363\r\n\r\n 362:\r\n 363:   t.deepEqual(configModule.getOptions(), {\r\n 364:     plugins: [\r\n\r\nDifference:\r\n\r\n    env: Object {\r\n      development: Object {\r\n        env: Object {\r\n          development: Object {\r\n⚠           env: Object {\r\n⚠             development: Object {\r\n⚠               plugins: Array [\r\n⚠                 Array [\r\n⚠                   \"/pkg/test/fixtures/compare/node_modules/plugin/index.js\",\r\n⚠                   Object {\r\n⚠                     label: \"plugin@virtual\",\r\n⚠                   },\r\n⚠                 ],\r\n⚠               ],\r\n⚠               presets: Array [\r\n⚠                 Array [\r\n⚠                   \"/pkg/test/fixtures/compare/node_modules/preset/index.js\",\r\n⚠                   Object {\r\n⚠                     label: \"preset@virtual\",\r\n⚠                   },\r\n⚠                 ],\r\n⚠               ],\r\n⚠             },\r\n⚠           },\r\n            plugins: Array [\r\n              Array [\r\n                \"/pkg/test/fixtures/compare/node_modules/plugin/index.js\",\r\n                Object {\r\n✖                 label: \"plugin@extended-by-virtual\",\r\n❯                 label: \"plugin@virtual\",\r\n                },\r\n              ],\r\n            ],\r\n            presets: Array [\r\n              Array [\r\n                \"/pkg/test/fixtures/compare/node_modules/preset/index.js\",\r\n                Object {\r\n✖                 label: \"preset@extended-by-virtual\",\r\n❯                 label: \"preset@virtual\",\r\n                },\r\n              ],\r\n            ],\r\n          },\r\n```\r\n\r\nThat's a warning sign for extraneous values, a cross for wrong values, with a pointer for the expected value. See [`figures`](https://www.npmjs.com/package/figures).",
                              "label": "unlabeledBug",
                              "createdAt": "2017-02-07T11:45:22Z",
                              "closedAt": "2017-04-27T08:30:04Z",
                              "lastComment": "2017-04-27T08:30:04Z",
                              "commentCount": 6
                         },
                         {
                              "title": "Incompatible type definition for observables",
                              "description": "## Description\r\n\r\nWhen using flow with both AVA and RxJS, there are incompatibilities with the type definitions. The type definitions I am using come from `flow-typed`\r\n\r\n### Test Source\r\n\r\n```js\r\nimport test from 'ava';\r\nimport { Observable } from 'rxjs';\r\n\r\ntest(t => {\r\n    t.plan(3);\r\n    return Observable.of(1, 2, 3, 4, 5, 6)\r\n        .filter(n => {\r\n            // Only even numbers\r\n            return n % 2 === 0;\r\n        })\r\n        .map(() => t.pass());\r\n});\r\n```\r\n\r\n\r\n### Error Message & Stack Trace\r\n\r\n```\r\n$ npm run flow\r\n\r\n> ava-rxjs-flow@1.0.0 flow /ava-rxjs-flow\r\n> flow\r\n\r\ntest.js:8\r\n  8:     return Observable.of(1, 2, 3, 4, 5, 6)\r\n                ^ rxjs$Observable. This type is incompatible with\r\n100: type ContextualTest         = TestImplementation<ContextualTestContext, SpecialReturnTypes | void>;\r\n                                                                             ^^^^^^^^^^^^^^^^^^^^^^^^^ union: SpecialReturnTypes | undefined. See: node_modules/ava/index.js.flow:100\r\n  Member 1:\r\n  100: type ContextualTest         = TestImplementation<ContextualTestContext, SpecialReturnTypes | void>;\r\n                                                                               ^^^^^^^^^^^^^^^^^^ SpecialReturnTypes. See: node_modules/ava/index.js.flow:100\r\n  Error:\r\n    8:     return Observable.of(1, 2, 3, 4, 5, 6)\r\n                  ^ rxjs$Observable. This type is incompatible with\r\n  100: type ContextualTest         = TestImplementation<ContextualTestContext, SpecialReturnTypes | void>;\r\n                                                                               ^^^^^^^^^^^^^^^^^^ union: type application of polymorphic type: type `PromiseLike` | type application of identifier `Iterator` | ObservableLike. See: node_modules/ava/index.js.flow:100\r\n    Member 1:\r\n     19: \t| PromiseLike<any>\r\n         \t  ^^^^^^^^^^^^^^^^ type application of polymorphic type: type `PromiseLike`. See: node_modules/ava/index.js.flow:19\r\n    Error:\r\n     19: \t| PromiseLike<any>\r\n         \t  ^^^^^^^^^^^^^^^^ property `then`. Property not found in. See: node_modules/ava/index.js.flow:19\r\n      8:     return Observable.of(1, 2, 3, 4, 5, 6)\r\n                    ^ rxjs$Observable\r\n    Member 2:\r\n     20: \t| Iterator<any>\r\n         \t  ^^^^^^^^^^^^^ type application of identifier `Iterator`. See: node_modules/ava/index.js.flow:20\r\n    Error:\r\n     20: \t| Iterator<any>\r\n         \t  ^^^^^^^^^^^^^ property `@@iterator` of $Iterator. Property not found in. See: node_modules/ava/index.js.flow:20\r\n      8:     return Observable.of(1, 2, 3, 4, 5, 6)\r\n                    ^ rxjs$Observable\r\n    Member 3:\r\n     21: \t| ObservableLike;\r\n         \t  ^^^^^^^^^^^^^^ ObservableLike. See: node_modules/ava/index.js.flow:21\r\n    Error:\r\n     15: \tsubscribe(observer: (value: {}) => void): void;\r\n         \t^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ function type. This type is incompatible with. See: node_modules/ava/index.js.flow:15\r\n    261:   subscribe(observer: rxjs$PartialObserver<T>): rxjs$Subscription;\r\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ intersection. See lib: flow-typed/npm/rxjs_v5.0.x.js:261\r\n      Member 1:\r\n      261:   subscribe(observer: rxjs$PartialObserver<T>): rxjs$Subscription;\r\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ function type. See lib: flow-typed/npm/rxjs_v5.0.x.js:261\r\n      Error:\r\n       15: \tsubscribe(observer: (value: {}) => void): void;\r\n           \t                    ^^^^^^^^^^^^^^^^^^^ function type. This type is incompatible with. See: node_modules/ava/index.js.flow:15\r\n      261:   subscribe(observer: rxjs$PartialObserver<T>): rxjs$Subscription;\r\n                                 ^^^^^^^^^^^^^^^^^^^^^^^ union: object type(s). See lib: flow-typed/npm/rxjs_v5.0.x.js:261\r\n        Member 1:\r\n         14:   | {\r\n                 ^ object type. See lib: flow-typed/npm/rxjs_v5.0.x.js:14\r\n        Error:\r\n         14:   | {\r\n                 ^ property `next` of object type. Property not found in. See lib: flow-typed/npm/rxjs_v5.0.x.js:14\r\n         15: \tsubscribe(observer: (value: {}) => void): void;\r\n             \t                    ^^^^^^^^^^^^^^^^^^^ function type. See: node_modules/ava/index.js.flow:15\r\n        Member 2:\r\n         19:   | {\r\n                 ^ object type. See lib: flow-typed/npm/rxjs_v5.0.x.js:19\r\n        Error:\r\n         19:   | {\r\n                 ^ property `error` of object type. Property not found in. See lib: flow-typed/npm/rxjs_v5.0.x.js:19\r\n         15: \tsubscribe(observer: (value: {}) => void): void;\r\n             \t                    ^^^^^^^^^^^^^^^^^^^ function type. See: node_modules/ava/index.js.flow:15\r\n        Member 3:\r\n         24:   | {\r\n                 ^ object type. See lib: flow-typed/npm/rxjs_v5.0.x.js:24\r\n        Error:\r\n         24:   | {\r\n                 ^ property `complete` of object type. Property not found in. See lib: flow-typed/npm/rxjs_v5.0.x.js:24\r\n         15: \tsubscribe(observer: (value: {}) => void): void;\r\n             \t                    ^^^^^^^^^^^^^^^^^^^ function type. See: node_modules/ava/index.js.flow:15\r\n      Member 2:\r\n      262:   subscribe(\r\n             ^ function type. See lib: flow-typed/npm/rxjs_v5.0.x.js:262\r\n      Error:\r\n       13:         .map(() => t.pass());\r\n                              ^^^^^^^^ undefined. This type is incompatible with the expected param type of\r\n       15: \tsubscribe(observer: (value: {}) => void): void;\r\n           \t                            ^^ object type. See: node_modules/ava/index.js.flow:15\r\n  Member 2:\r\n  100: type ContextualTest         = TestImplementation<ContextualTestContext, SpecialReturnTypes | void>;\r\n                                                                                                    ^^^^ undefined. See: node_modules/ava/index.js.flow:100\r\n  Error:\r\n    8:     return Observable.of(1, 2, 3, 4, 5, 6)\r\n                  ^ rxjs$Observable. This type is incompatible with\r\n  100: type ContextualTest         = TestImplementation<ContextualTestContext, SpecialReturnTypes | void>;\r\n                                                                                                    ^^^^ undefined. See: node_modules/ava/index.js.flow:100\r\n\r\n\r\nFound 1 error\r\n```\r\n\r\n\r\n### Config\r\n\r\n```json\r\n{\r\n  \"ava\": {\r\n    \"require\": [\r\n      \"flow-remove-types/register\"\r\n    ]\r\n  }\r\n}\r\n```\r\n\r\n\r\n### Command-Line Arguments\r\n\r\n```\r\nnpm run flow\r\n```\r\n\r\n\r\n## Relevant Links\r\n\r\n- [`flow-typed` definition for rxjs](https://github.com/flowtype/flow-typed/tree/55fd850dda0fdc69270faacf0e611c0fdbc9b31c/definitions/npm/rxjs_v5.0.x)\r\n- [minimal reproduction](https://github.com/BarryThePenguin/ava-rxjs-flow)\r\n\r\n\r\n## Environment\r\n\r\nTell us which operating system you are using, as well as which versions of Node.js, npm, and AVA. Run the following to get it quickly:\r\n\r\n```\r\nNode.js v7.4.0\r\ndarwin 16.3.0\r\nava 0.18.1\r\n```\r\n",
                              "label": "bug",
                              "createdAt": "2017-02-07T02:46:54Z",
                              "closedAt": "2018-02-10T16:59:12Z",
                              "lastComment": "2018-02-10T16:59:12Z",
                              "commentCount": 3
                         },
                         {
                              "title": "Empty diff because of .toJSON",
                              "description": "Using `deepEqual` with object with `.toJSON` method produce empty diff\r\n\r\n### Test Source\r\nExample with underscore chain object\r\n```js\r\nvar test = require('ava'),\r\n    _ = require('underscore');\r\n\r\ntest(function(t) {\r\n    t.deepEqual(_([1, 2]).chain(), [1, 2]);\r\n});\r\n```\r\n\r\n### Error Message & Stack Trace\r\n\r\n```\r\n$ ava test.js \r\n\r\n  1 failed\r\n\r\n  [anonymous]\r\n  test.js:5\r\n\r\n   4: test(function(t) {                       \r\n   5:   t.deepEqual(_([1, 2]).chain(), [1, 2]);\r\n   6: });                                      \r\n\r\n  Difference:\r\n\r\n \r\n  Test.fn (test.js:5:4)\r\n\r\n```\r\n\r\n\r\n```\r\n$ node -e \"var os=require('os');console.log('Node.js ' + process.version + '\\n' + os.platform() + ' ' + os.release())\"\r\nNode.js v4.4.7\r\nlinux 4.4.0-59-generic\r\n$ ava --version\r\n0.18.1\r\n$ npm --version\r\n2.15.8\r\n\r\n```\r\n",
                              "label": "bug",
                              "createdAt": "2017-02-06T15:02:57Z",
                              "closedAt": "2017-02-18T08:58:26Z",
                              "lastComment": "2017-02-07T10:49:44Z",
                              "commentCount": 3
                         },
                         {
                              "title": "Ignore node_modules and .gitignore when reading code excerpts",
                              "description": "ava: 0.18.1\r\n\r\nIn 0.17, I can still type \"r\" to rerun all tests in watch mode.\r\n\r\nIn 0.18.1 (and 0.18.0) this feature seems to be not working.",
                              "label": "bug",
                              "createdAt": "2017-02-06T00:08:44Z",
                              "closedAt": "2017-02-16T14:05:09Z",
                              "lastComment": "2017-02-16T14:05:09Z",
                              "commentCount": 14
                         },
                         {
                              "title": "Crashes while looking for helper files in huge project subdirectories",
                              "description": "Currently, ava looks for helper files in all project subdirectories excluding node_modules:\r\n\r\nhttps://github.com/avajs/ava/blob/master/lib/ava-files.js#L90-L95\r\n\r\nThis can overwhelm ava when there exists subdirectories that are huge and/or with complicated fs hierarchies:\r\n\r\n```\r\nFATAL ERROR: CALL_AND_RETRY_LAST Allocation failed - JavaScript heap out of memory\r\n 1: node::Abort() [ava]\r\n 2: 0x126389c [ava]\r\n 3: v8::Utils::ReportOOMFailure(char const*, bool) [ava]\r\n 4: v8::internal::V8::FatalProcessOutOfMemory(char const*, bool) [ava]\r\n 5: v8::internal::Factory::NewInternalizedStringImpl(v8::internal::Handle<v8::internal::String>, int, unsigned int) [ava]\r\n 6: v8::internal::StringTable::LookupString(v8::internal::Isolate*, v8::internal::Handle<v8::internal::String>) [ava]\r\n 7: v8::internal::LookupIterator::PropertyOrElement(v8::internal::Isolate*, v8::internal::Handle<v8::internal::Object>, v8::internal::Handle<v8::internal::Object>, bool*, v8::internal::LookupIterator::Configuration) [ava]\r\n 8: v8::internal::Runtime_KeyedGetProperty(int, v8::internal::Object**, v8::internal::Isolate*) [ava]\r\n 9: 0x126964c063a7\r\nAborted (core dumped)\r\n```\r\n\r\nAllowing the specification of exclusion globs for helper files would help prevent this. We reverted back to v0.17.0 for now.\r\n\r\nEnvironment:\r\nnode v7.4.0\r\nlinux 4.2.0-34-generic\r\nava v0.18.1\r\n",
                              "label": "bug",
                              "createdAt": "2017-02-05T20:11:28Z",
                              "closedAt": "2019-04-28T16:00:44Z",
                              "lastComment": "2019-04-20T19:16:04Z",
                              "commentCount": 7
                         },
                         {
                              "title": "t.notThrows(promise) should return an \"empty\" promise",
                              "description": "This is as expected:\r\n\r\n```js\r\nconst value = Symbol()\r\nt.notThrows(() => value) === undefined\r\n```\r\n\r\nHowever:\r\n\r\n```js\r\nconst value = Symbol()\r\n(await t.notThrows(Promise.resolve(value))) === value\r\n```\r\n\r\n`t.notThrows(promise)` should return a promise, but for an `undefined` value.\r\n\r\nThe offending line is at https://github.com/avajs/ava/blob/dcdfbee689e1538420f5793bbaca09c7e78ddedd/lib/assert.js#L124.\r\n\r\nThe Flow and TypeScript definitions should be updated too:\r\n\r\n* https://github.com/avajs/ava/blob/dcdfbee689e1538420f5793bbaca09c7e78ddedd/index.js.flow#L63\r\n* https://github.com/avajs/ava/blob/dcdfbee689e1538420f5793bbaca09c7e78ddedd/types/base.d.ts#L68",
                              "label": "bug",
                              "createdAt": "2017-02-05T17:41:19Z",
                              "closedAt": "2017-03-14T12:50:36Z",
                              "lastComment": "2017-02-18T14:42:47Z",
                              "commentCount": 7
                         },
                         {
                              "title": "Include only plain objects/arrays in t.true/t.false output of statements",
                              "description": "AVA's magic-assert output causes a crash when this kind of assertion fails:\r\n\r\n```js\r\nt.true(some.spy.calledOnce);\r\n```\r\n\r\nor similar, when functions/instances are involved. This is happening, because `@ava/pretty-print` tries to print `some.spy` and `some` nicely. When parsing statements in `lib/enhance-assert`, we should ignore anything but plain objects and arrays.",
                              "label": "bug",
                              "createdAt": "2017-02-04T21:27:18Z",
                              "closedAt": "2017-09-03T13:46:18Z",
                              "lastComment": "2017-09-03T13:46:18Z",
                              "commentCount": 12
                         },
                         {
                              "title": "Snapshot feature shows empty diff when changing order of keys on object",
                              "description": "## Description\r\n\r\nWhen using the snapshot feature, if the new value is an object that is identical to the snapshot **but with a different key order**, the diff shown is **empty**.\r\n\r\n### Test Source\r\n\r\nBefore:\r\n\r\n```js\r\n\t...\r\n\tt.snapshot({\r\n\t\tcoolNumber: 5 + 8,\r\n\t\totherNumber: 9 + 8,\r\n\t});\r\n\t...\r\n```\r\n\r\nAfter altering the test so that the keys are in reversed order:\r\n```js\r\n\t...\r\n\tt.snapshot({\r\n\t\totherNumber: 9 + 8,\r\n\t\tcoolNumber: 5 + 8,\r\n\t});\r\n\t...\r\n```\r\n\r\n### Error Message & Stack Trace\r\n\r\n```\r\n  1 failed\r\n\r\n  banana\r\n  test/test.js:6\r\n\r\n   5: test('banana', async t => {\r\n   6:   t.snapshot({             \r\n   7:     otherNumber: 9 + 8,    \r\n\r\n  Difference:\r\n\r\n \r\n  Please check your code or --update-snapshots\r\n\r\n  Test.<anonymous> (test/test.js:6:4)\r\n  Test.fn (test/test.js:5:1)\r\n```\r\n\r\n### Config\r\n\r\npackage.json:\r\n```json\r\n{\r\n  \"ava\": {\r\n    \"require\": [\r\n      \"babel-register\"\r\n    ],\r\n    \"babel\": \"inherit\"\r\n  }\r\n}\r\n```\r\n\r\n.babelrc:\r\n```json\r\n{\r\n    \"plugins\": [\r\n        \"transform-runtime\"\r\n    ],\r\n    \"presets\": [\r\n        \"stage-0\",\r\n        \"es2015-node4\"\r\n    ]\r\n}\r\n```\r\n\r\n### Command-Line Arguments\r\n\r\n```\r\nava\r\n```\r\n\r\n## Environment\r\n\r\n```\r\nNode.js v4.6.2\r\nlinux 4.8.0-34-generic\r\n\r\nAVA 0.18.0\r\n\r\nnpm 3.10.9\r\n```\r\n",
                              "label": "bug",
                              "createdAt": "2017-02-02T20:06:44Z",
                              "closedAt": "2017-04-02T13:48:36Z",
                              "lastComment": "2017-02-18T14:17:21Z",
                              "commentCount": 4
                         },
                         {
                              "title": "Snapshot feature will modify existing snapshots without passing `--update-snapshots` flag",
                              "description": "## Description\r\n\r\nThe results with snapshots are inconsistent when ran multiple times with no code changes. I've provided a repository with an example below.\r\n\r\nUpon cloning the repo and running `npm test` it will pass the tests but leave the snapshots modified (See output of 2nd pass below). If you run tests again, it will throw an error (See 3rd pass output below).\r\n\r\nFor what it's worth, I was using the `master` branch after the snapshot feature first landed and had no issues. It seems like the bug was introduced when the magic assert feature was introduced. I even tried deleting the snapshot folder and getting a fresh run, but it still produces the same results.\r\n\r\n### Error Message & Stack Trace\r\n\r\n```sh\r\n# 2nd pass\r\n> ava\r\n\r\n  4 passed\r\n\r\n~/Projects/ava-snapshot-issue master*\r\n\r\n# 3rd pass\r\n> ava\r\n\r\n  3 passed\r\n  1 failed\r\n\r\n  renders custom width\r\n  test.js:9\r\n\r\n   8:\r\n   9:   t.snapshot(tree)\r\n   10: }\r\n\r\n  Error: Unexpected token m in JSON at position 28\r\n\r\n  Test.snapshot (test.js:9:5)\r\n\r\nnpm ERR! Test failed.  See above for more details.\r\n```\r\n\r\n### Config\r\n\r\nCopy the relevant section from `package.json`:\r\n\r\n```json\r\n{\r\n  \"ava\": {\r\n    \"babel\": \"inherit\",\r\n    \"require\": \"babel-register\"\r\n  }\r\n}\r\n```\r\n\r\n### Command-Line Arguments\r\n\r\nCopy your npm build scripts or the `ava` command used:\r\n\r\n```\r\nnpm test\r\n```\r\n\r\n## Relevant Links\r\n\r\nSee reproducable repo here: https://github.com/wyze/ava-snapshot-issue\r\n\r\n## Environment\r\n\r\nNode.js v7.1.0\r\ndarwin 16.1.0\r\nnpm 4.0.3\r\nAVA 0.18\r\n",
                              "label": "bug",
                              "createdAt": "2017-02-02T19:07:22Z",
                              "closedAt": "2017-04-02T13:48:36Z",
                              "lastComment": "2017-03-21T11:55:30Z",
                              "commentCount": 15
                         },
                         {
                              "title": "Error stack points to compiled source when using babel-register",
                              "description": "While developing #1154, I faced an issue in a project, that uses `babel-register`. Error source pointed to a location in the compiled file, rather than original. As @novemberborn mentioned, it might get auto-fixed after [RFC 001](https://github.com/avajs/ava/blob/master/docs/specs/001%20-%20Improving%20language%20support.md). Let's keep this issue to remember and verify later.",
                              "label": "unlabeledBug",
                              "createdAt": "2017-02-01T22:24:25Z",
                              "closedAt": "2017-09-03T13:43:32Z",
                              "lastComment": "2017-09-03T13:43:32Z",
                              "commentCount": 1
                         },
                         {
                              "title": "Promises instantiated in test files do not pass `... instanceof Promise` in my code",
                              "description": "## Description\r\nI am working on a [mini library](https://github.com/etabits/node-line) that allows _\"mixing Async/Sync code with Promises and Streams in a reusable unified line\"_. I sat up many tests, and they are passing with no problem on my Node.js v6 environment. I switched to v5 to check how does the library do there and some of the tests failed... No problem: I thought it had to do with my code and Node.js at first, something that I will resolve later.\r\n\r\nLater, I started digging for the problem, and it turned out that **invoking ava is changing the way code is behaving**: In my code there is an `if (var instanceof Promise)` switch, **the check is evaluating to false for promises created in test blocks**, and execution is taking different code paths!\r\n\r\nThe problem does not happen with Node.js version v7 or v6, only with v5 or v4.\r\n\r\n### Test Source\r\nhttps://github.com/aularon/ava-bugreport-promises\r\n\r\n## Environment\r\nFailing:\r\n```\r\nNode.js v5.12.0\r\nlinux 4.4.0-59-generic\r\nAVA 0.17.0\r\nnpm 3.8.6\r\n\r\n```\r\nSucceeding:\r\n```\r\nNode.js v6.9.4\r\nlinux 4.4.0-59-generic\r\nAVA 0.17.0\r\nnpm 3.10.10\r\n```\r\n## P.S.\r\nI wanted to submit a pull request with a failing test, as suggested by your contribution guide, but you are [using bluebird as Promise in your promise.js test file](https://github.com/avajs/ava/blob/master/test/promise.js#L2), which will make it fail every time regardless of environment or the issue itself. So I put the test code in its own repo.\r\n\r\n## P.P.S\r\nThank you for this awesome library!",
                              "label": "unlabeledBug",
                              "createdAt": "2017-01-25T19:07:30Z",
                              "closedAt": "2017-02-02T16:48:40Z",
                              "lastComment": "2017-02-02T16:48:40Z",
                              "commentCount": 4
                         },
                         {
                              "title": "Limit the number of statements in the output for t.true/t.false",
                              "description": "**Note, this issue is related only to #1154.**\r\n\r\nGiven this assertion:\r\n\r\n```js\r\nconst obj = {\r\n  a: {\r\n    b: {\r\n      c: [false]\r\n    }\r\n  }\r\n};\r\n\r\nt.true(obj.a.b.c[0]);\r\n```\r\n\r\nAVA will output the value of each statement (`obj.a.b.c[0]`, `obj.a.b.c`, `obj.a.b`, `obj.a`, `obj`), which of course is not optimal, since the helpful values are probably only the last two. We should limit the number of statements to prevent a long list of unhelpful values.",
                              "label": "bug",
                              "createdAt": "2017-01-23T17:54:33Z",
                              "closedAt": "2020-05-25T08:38:45Z",
                              "lastComment": "2017-10-01T15:12:18Z",
                              "commentCount": 15
                         },
                         {
                              "title": "Can't import 'babel-core' in test file",
                              "description": "## Description\r\n\r\nI'm interested in using ava to test a Babel preset. The natural thing to do is import `babel-core` in my test file (and run `babel.transform(code, {presets: [require('.')]})` on some code to see if I get the expected output).\r\n\r\nHowever, importing `babel-core` in a test file doesn't work -- the result is `undefined`. This might be a bug caused by ava's own use of babel to transpile the test file?\r\n\r\n### Test Source\r\n\r\n```js\r\n// test.js\r\nimport test from 'ava'\r\nimport babel from 'babel-core'\r\n\r\nconsole.log(babel)\r\n```\r\n\r\n### Error Message & Stack Trace\r\n\r\n```\r\nundefined\r\n```\r\n\r\n### Config\r\n\r\nNo custom config.\r\n\r\n### Command-Line Arguments\r\n\r\n```\r\nava\r\n```\r\n\r\n\r\n## Environment\r\n\r\nNode 7.4.0, npm 4.1.1, ava 0.17.0, darwin 16.3.0.\r\n",
                              "label": "unlabeledBug",
                              "createdAt": "2017-01-22T22:01:55Z",
                              "closedAt": "2017-01-23T09:46:19Z",
                              "lastComment": "2017-01-23T15:55:42Z",
                              "commentCount": 3
                         },
                         {
                              "title": "Does not work with VueJS?",
                              "description": "I'm trying to test components of the *Vue JS 2*  with the help of *AVA*, but I am having the following error:\r\n\r\n    exited with a non-zero exit code: 1\r\n\r\nFollows the code of my test:\r\n\r\n```\r\nimport resource from '../src/components/t'\r\n\r\nimport ava from 'ava'\r\n\r\nava('meu teste', t => {\r\n    t.deepEqual([1], [1])\r\n})\r\n```\r\n\r\n\r\n`t.js`:\r\n\r\n```\r\nexport default {\r\n    test: 'my msg'\r\n}\r\n```\r\n\r\n\r\nWhat could be the error?\r\n\r\nThe VueJS is developed using ES5, this could be the problem? Is there any way I can fix this? I really wanted to use the AVA.\r\n\r\n\r\nI tried installing the nyc but the error continues:\r\n\r\n\r\nPS D:\\projetos\\php\\public\\tcc\\spac> npm test\r\n```\r\n\r\n> spa@1.0.0 test D:\\projetos\\php\\public\\tcc\\spac\r\n> nyc ava\r\n\r\nD:\\projetos\\php\\public\\tcc\\spac\\src\\components\\t.js:1\r\n(function (exports, require, module, __filename, __dirname) { export default {\r\n                                                              ^^^^^^\r\nSyntaxError: Unexpected token export\r\n    at exports.runInThisContext (vm.js:78:16)\r\n    at Object.vm.runInThisContext (D:\\Projetos\\PHP\\public\\tcc\\spac\\node_modules\\nyc\\node_modules\\istanbul-lib-hook\\lib\\h\r\nook.js:141:16)\r\n    at Module._compile (module.js:543:28)\r\n    at Module.replacementCompile (D:\\Projetos\\PHP\\public\\tcc\\spac\\node_modules\\nyc\\node_modules\\append-transform\\index.j\r\ns:58:13)\r\n    at module.exports (D:\\Projetos\\PHP\\public\\tcc\\spac\\node_modules\\nyc\\node_modules\\default-require-extensions\\js.js:8:\r\n9)\r\n    at D:\\Projetos\\PHP\\public\\tcc\\spac\\node_modules\\nyc\\node_modules\\append-transform\\index.js:62:4\r\n    at extensions.(anonymous function) (D:\\Projetos\\PHP\\public\\tcc\\spac\\node_modules\\require-precompiled\\index.js:16:3)\r\n    at D:\\Projetos\\PHP\\public\\tcc\\spac\\node_modules\\nyc\\node_modules\\append-transform\\index.js:62:4\r\n    at require.extensions.(anonymous function) (D:\\Projetos\\PHP\\public\\tcc\\spac\\node_modules\\ava\\lib\\process-adapter.js:\r\n104:4)\r\n    at Object.<anonymous> (D:\\Projetos\\PHP\\public\\tcc\\spac\\node_modules\\nyc\\node_modules\\append-transform\\index.js:62:4)\r\n\r\n    at Module.load (module.js:488:32)\r\n    at tryModuleLoad (module.js:447:12)\r\n    at Function.Module._load (module.js:439:3)\r\n    at Module.require (module.js:498:17)\r\n    at require (internal/module.js:20:19)\r\n    at Object.<anonymous> (D:\\projetos\\php\\public\\tcc\\spac\\test\\init.js:1:1)\r\n\r\n  1 exception\r\n\r\n  × test\\init.js exited with a non-zero exit code: 1\r\n\r\n----------|----------|----------|----------|----------|----------------|\r\nFile      |  % Stmts | % Branch |  % Funcs |  % Lines |Uncovered Lines |\r\n----------|----------|----------|----------|----------|----------------|\r\nAll files |  Unknown |  Unknown |  Unknown |  Unknown |                |\r\n----------|----------|----------|----------|----------|----------------|\r\nnpm ERR! Test failed.  See above for more details.\r\nPS D:\\projetos\\php\\public\\tcc\\spac>\r\n```\r\n",
                              "label": "unlabeledBug",
                              "createdAt": "2017-01-21T03:03:13Z",
                              "closedAt": "2017-01-21T07:54:42Z",
                              "lastComment": "2017-02-27T16:48:15Z",
                              "commentCount": 3
                         },
                         {
                              "title": "Performance problem",
                              "description": "Just switched from mocha/chai to ava for a small project with 12 tests - https://github.com/zbraniecki/L10nRegistry\r\n\r\nrunning `ava` takes 10 seconds on my machine. Seems like a bug.\r\n\r\nsetup: Ubuntu 16.10, node 7.4.0, yarn 0.18.1, ava 0.17",
                              "label": "unlabeledBug",
                              "createdAt": "2017-01-18T19:18:38Z",
                              "closedAt": "2017-01-19T11:28:03Z",
                              "lastComment": "2017-01-19T11:28:03Z",
                              "commentCount": 1
                         },
                         {
                              "title": "Browser recipe doesn't work with default AVA install",
                              "description": "@sindresorhus You asked me (https://github.com/avajs/ava/pull/1054#discussion_r81580347) to change from require to import in the browser recipe. Foolishly I didn't check after I changed it but it doesn't actually work on a default install because modules that are required by AVA aren't transpiled.\r\n\r\nTo fix it we would need to also require the babel bits:\r\n\r\n```shell\r\nnpm install --save-dev babel-register babel-plugin-transform-es2015-modules-commonjs\r\n```\r\n\r\nand require the following settings in package.json:\r\n\r\n```json\r\n\"ava\": {\r\n  \"require\": [\r\n    \"babel-register\",\r\n    \"./test/helpers/setup-browser-env.js\"\r\n  ]\r\n},\r\n\"babel\": {\r\n  \"plugins\": [\"transform-es2015-modules-commonjs\"]\r\n},\r\n```\r\n\r\nWhich seems like quite a lot for one little helper.\r\n\r\n---\r\n\r\nDo you want me to update the recipe with these requirements?\r\n\r\nOr should I revert\r\n\r\n```js\r\nimport browserEnv from 'browser-env';\r\nbrowserEnv();\r\n```\r\n\r\nto\r\n\r\n```js\r\nrequire('browser-env')()\r\n```\r\n\r\nso they aren't necessary?",
                              "label": "bug",
                              "createdAt": "2017-01-16T09:41:47Z",
                              "closedAt": "2017-09-03T12:38:35Z",
                              "lastComment": "2017-09-03T12:38:35Z",
                              "commentCount": 5
                         },
                         {
                              "title": "requires in config not used by profile.js",
                              "description": "## Description\r\n#1070 removed the CLI option but also made it not possible to run/debug with ```profile.js``` like\r\n\r\n```\r\ninspect node_modules/ava/profile.js src/MyComponent.spec.js\r\n```\r\n\r\nFurthermore, while relative paths work when using the CLI, they don't work when using the non-forking test runner ```profile.js```\r\n\r\nI'll attach a PR that has a fix.  It duplicates ```resolveModules()``` from ```api.js``` which isn't ideal. I'm definitely open to suggestions if that function should be moved to a common module.\r\n\r\n## Configuration\r\n```json\r\n  \"ava\": {\r\n    \"babel\": {\r\n      \"babelrc\": false,\r\n      \"presets\": [\r\n        \"es2015\",\r\n        \"es2016\",\r\n        \"react\"\r\n      ]\r\n    },\r\n    \"concurrency\": 6,\r\n    \"verbose\": true,\r\n    \"files\": [\r\n      \"./src/**/*.spec.js\",\r\n      \"./src**/*.spec.js\"\r\n    ],\r\n    \"require\": [\r\n      \"babel-core/register\",\r\n      \"./scripts/ava-setup.js\"\r\n    ]\r\n  }\r\n```",
                              "label": "unlabeledBug",
                              "createdAt": "2017-01-13T21:30:03Z",
                              "closedAt": "2017-01-14T14:05:12Z",
                              "lastComment": "",
                              "commentCount": 0
                         },
                         {
                              "title": "Restrict test modifier chaining",
                              "description": "Currently test modifiers allow silly and confusing combinations. We have [linting rules](https://github.com/avajs/eslint-plugin-ava/issues/166#issuecomment-272231304) to warn about them, and [disallow some of them in the type definitions](https://github.com/avajs/ava/issues/1005). We should go further and restrict the modifier chains so only useful combinations are allowed, but provide useful error feedback if disallowed combinations are used.\r\n\r\nExamples of silly chains:\r\n\r\n* `test.always.afterEach.cb()`\r\n* `test.after.test()`\r\n* `test.always.always.serial.always.afterEach(() => {})`\r\n\r\nExamples of confusing chains:\r\n\r\n* `test.serial.afterEach()` (https://github.com/avajs/ava/issues/1178)\r\n\r\nSee also the discussion in https://github.com/avajs/ava/issues/1005.",
                              "label": "bug",
                              "createdAt": "2017-01-13T11:09:54Z",
                              "closedAt": "2018-02-04T17:57:21Z",
                              "lastComment": "2018-02-04T17:54:21Z",
                              "commentCount": 2
                         },
                         {
                              "title": "Can't get code coverage with nyc to work",
                              "description": "ava: 0.17.0\r\nnyc: 10.0.0\r\ncoveralls: latest\r\n\r\nI follow the instruction: https://github.com/avajs/ava/blob/master/docs/recipes/code-coverage.md\r\n\r\nBut couldn't get it to work.\r\nCoveralls saw the builds from Travis CI but saying there is no data.\r\n\r\nHere are some example repos:\r\nhttps://github.com/unional/ava-fixture\r\nhttps://travis-ci.org/unional/ava-fixture\r\nhttps://coveralls.io/github/unional/ava-fixture\r\n\r\nhttps://github.com/unional/global-store\r\nhttps://travis-ci.org/unional/global-store\r\nhttps://coveralls.io/github/unional/global-store\r\n\r\nI have also asked this question on SO: http://stackoverflow.com/questions/41528849/nyc-coveralls-integration-not-working/41543013?noredirect=1#comment70335420_41543013",
                              "label": "unlabeledBug",
                              "createdAt": "2017-01-12T07:13:11Z",
                              "closedAt": "2017-01-12T16:28:02Z",
                              "lastComment": "2017-01-12T16:28:02Z",
                              "commentCount": 3
                         },
                         {
                              "title": "ava incorrectly ignores test files when the project itself is contained in node_modules directory",
                              "description": "## Description\r\n\r\nI have two projects:\r\n\r\n* https://github.com/gajus/isomorphic-webpack\r\n* https://github.com/gajus/isomorphic-webpack-demo\r\n\r\nDue to the nature of the projects (`process.pwd()` aware dependency resolution), it is not possible to link `isomorphic-webpack-demo` inside `isomorphic-webpack`. Therefore, I need to do:\r\n\r\n\r\n```bash\r\ngit clone https://github.com/gajus/isomorphic-webpack\r\ngit clone https://github.com/gajus/isomorphic-webpack-demo\r\n(cd ./isomorphic-webpack && npm install)\r\n(cd ./isomorphic-webpack-demo && npm install)\r\nrm -fr ./isomorphic-webpack-demo/node_modules/isomorphic-webpack\r\ncp ./isomorphic-webpack ./isomorphic-webpack-demo/node_modules\r\n```\r\n\r\nThe problem happens when I try to run `ava` inside of `isomorphic-webpack`, i.e.\r\n\r\n```bash\r\ncd ./isomorphic-webpack-demo/node_modules/isomorphic-webpack\r\nnpm run test\r\n```\r\n\r\nI am getting error:\r\n\r\n```\r\n  1 exception\r\n\r\n  ✖ Couldn't find any files to test\r\n```\r\n\r\nMy guess (without looking at the source code), is that `ava` detects that `./isomorphic-webpack-demo/node_modules/isomorphic-webpack/test` path includes `node_modules` and therefore ignores this path.\r\n\r\nExpected behaviour: ava should detect the immediate `./test` directory and run the tests.\r\n\r\n## Environment\r\n\r\n```\r\nnode -e \"var os=require('os');console.log('Node.js ' + process.version + '\\n' + os.platform() + ' ' + os.release())\"\r\nava --version\r\nnpm --version\r\nNode.js v7.3.0\r\ndarwin 16.3.0\r\n0.17.0\r\n3.10.10\r\n```\r\n",
                              "label": "bug",
                              "createdAt": "2017-01-07T13:17:17Z",
                              "closedAt": "2019-04-28T16:00:44Z",
                              "lastComment": "2018-01-11T12:51:40Z",
                              "commentCount": 7
                         },
                         {
                              "title": "running ava test throws 'await is a reserved word'",
                              "description": "Bug Report\r\n- while processing a file being tested, ava throws 'await is a reserved word'\r\n\r\nVersions\r\nOSX 10.11.6\r\nNode v6.1.0\r\nnpm 3.8.9\r\nyarn 0.17.9\r\nava 0.17.0\r\n\r\nBug Description\r\n- The following command throws an error, preventing my tests from being fully run\r\n$yarn test\r\n- Error:\r\n/Users/$USER/node_modules/babel-core/lib/transformation/file/index.js:600\r\n      throw err;\r\n      ^\r\n\r\nSyntaxError: /Users/$USER/src/localweather/index.js: await is a reserved word (39:29)\r\n  37 |       // Call API, parse response\r\n  38 |       try {\r\n> 39 |         const weather: any = await fetchWeather(resource)\r\n     |                              ^\r\n  40 | \r\n  41 |       // Call API, parse response, generate data, update DOM\r\n  42 |       // updateDOM(weather, cells)\r\n    at Parser.pp$5.raise (/Users/$USER/node_modules/babylon/lib/index.js:4246:13)\r\n    at Parser.pp$3.checkReservedWord (/Users/$USER/node_modules/babylon/lib/index.js:4137:10)\r\n    at Parser.pp$3.parseIdentifier (/Users/$USER/node_modules/babylon/lib/index.js:4115:12)\r\n    at Parser.pp$3.parseExprAtom (/Users/$USER/node_modules/babylon/lib/index.js:3484:21)\r\n    at Parser.pp$3.parseExprSubscripts (/Users/$USER/node_modules/babylon/lib/index.js:3331:19)\r\n    at Parser.pp$3.parseMaybeUnary (/Users/$USER/node_modules/babylon/lib/index.js:3311:19)\r\n    at Parser.pp$3.parseExprOps (/Users/$USER/node_modules/babylon/lib/index.js:3241:19)\r\n    at Parser.pp$3.parseMaybeConditional (/Users/$USER/node_modules/babylon/lib/index.js:3218:19)\r\n    at Parser.pp$3.parseMaybeAssign (/Users/$USER/node_modules/babylon/lib/index.js:3181:19)\r\n    at Parser.parseMaybeAssign (/Users/$USER/node_modules/babylon/lib/index.js:5694:20)\r\n    at Parser.pp$1.parseVar (/Users/$USER/node_modules/babylon/lib/index.js:2205:24)\r\n    at Parser.pp$1.parseVarStatement (/Users/$USER/node_modules/babylon/lib/index.js:2036:8)\r\n    at Parser.pp$1.parseStatement (/Users/$USER/node_modules/babylon/lib/index.js:1729:19)\r\n    at Parser.parseStatement (/Users/$USER/node_modules/babylon/lib/index.js:5218:22)\r\n    at Parser.pp$1.parseBlockBody (/Users/$USER/node_modules/babylon/lib/index.js:2133:21)\r\n    at Parser.pp$1.parseBlock (/Users/$USER/node_modules/babylon/lib/index.js:2114:8)\r\n    at Parser.pp$1.parseTryStatement (/Users/$USER/node_modules/babylon/lib/index.js:2008:21)\r\n    at Parser.pp$1.parseStatement (/Users/$USER/node_modules/babylon/lib/index.js:1722:19)\r\n    at Parser.parseStatement (/Users/$USER/node_modules/babylon/lib/index.js:5218:22)\r\n    at Parser.pp$1.parseBlockBody (/Users/$USER/node_modules/babylon/lib/index.js:2133:21)\r\n    at Parser.pp$1.parseBlock (/Users/$USER/node_modules/babylon/lib/index.js:2114:8)\r\n    at Parser.pp$3.parseFunctionBody (/Users/$USER/node_modules/babylon/lib/index.js:3998:22)\r\n    at Parser.parseFunctionBody (/Users/$USER/node_modules/babylon/lib/index.js:5205:20)\r\n    at Parser.pp$3.parseArrowExpression (/Users/$USER/node_modules/babylon/lib/index.js:3977:8)\r\n    at Parser.pp$3.parseExprAtom (/Users/$USER/node_modules/babylon/lib/index.js:3501:21)\r\n    at Parser.pp$3.parseExprSubscripts (/Users/$USER/node_modules/babylon/lib/index.js:3331:19)\r\n    at Parser.pp$3.parseMaybeUnary (/Users/$USER/node_modules/babylon/lib/index.js:3311:19)\r\n    at Parser.pp$3.parseExprOps (/Users/$USER/node_modules/babylon/lib/index.js:3241:19)\r\n    at Parser.pp$3.parseMaybeConditional (/Users/$USER/node_modules/babylon/lib/index.js:3218:19)\r\n    at Parser.pp$3.parseMaybeAssign (/Users/$USER/node_modules/babylon/lib/index.js:3181:19)\r\n    at Parser.parseMaybeAssign (/Users/$USER/node_modules/babylon/lib/index.js:5694:20)\r\n    at Parser.pp$3.parseExprListItem (/Users/$USER/node_modules/babylon/lib/index.js:4101:16)\r\n    at Parser.parseExprListItem (/Users/$USER/node_modules/babylon/lib/index.js:5425:24)\r\n    at Parser.pp$3.parseCallExpressionArguments (/Users/$USER/node_modules/babylon/lib/index.js:3410:20)\r\n    at Parser.pp$3.parseSubscripts (/Users/$USER/node_modules/babylon/lib/index.js:3370:31)\r\n    at Parser.pp$3.parseExprSubscripts (/Users/$USER/node_modules/babylon/lib/index.js:3341:15)\r\n    at Parser.pp$3.parseMaybeUnary (/Users/$USER/node_modules/babylon/lib/index.js:3311:19)\r\n    at Parser.pp$3.parseExprOps (/Users/$USER/node_modules/babylon/lib/index.js:3241:19)\r\n    at Parser.pp$3.parseMaybeConditional (/Users/$USER/node_modules/babylon/lib/index.js:3218:19)\r\n    at Parser.pp$3.parseMaybeAssign (/Users/$USER/node_modules/babylon/lib/index.js:3181:19)\r\n    at Parser.parseMaybeAssign (/Users/$USER/node_modules/babylon/lib/index.js:5694:20)\r\n    at Parser.pp$3.parseExpression (/Users/$USER/node_modules/babylon/lib/index.js:3143:19)\r\n    at Parser.pp$1.parseStatement (/Users/$USER/node_modules/babylon/lib/index.js:1774:19)\r\n    at Parser.parseStatement (/Users/$USER/node_modules/babylon/lib/index.js:5218:22)\r\n    at Parser.pp$1.parseBlockBody (/Users/$USER/node_modules/babylon/lib/index.js:2133:21)\r\n    at Parser.pp$1.parseBlock (/Users/$USER/node_modules/babylon/lib/index.js:2114:8)\r\n    at Parser.pp$3.parseFunctionBody (/Users/$USER/node_modules/babylon/lib/index.js:3998:22)\r\n    at Parser.parseFunctionBody (/Users/$USER/node_modules/babylon/lib/index.js:5205:20)\r\n    at Parser.pp$3.parseArrowExpression (/Users/$USER/node_modules/babylon/lib/index.js:3977:8)\r\n    at Parser.pp$3.parseParenAndDistinguishExpression (/Users/$USER/node_modules/babylon/lib/index.js:3687:17)\r\n    at Parser.pp$3.parseExprAtom (/Users/$USER/node_modules/babylon/lib/index.js:3545:19)\r\n    at Parser.pp$3.parseExprSubscripts (/Users/$USER/node_modules/babylon/lib/index.js:3331:19)\r\n    at Parser.pp$3.parseMaybeUnary (/Users/$USER/node_modules/babylon/lib/index.js:3311:19)\r\n    at Parser.pp$3.parseExprOps (/Users/$USER/node_modules/babylon/lib/index.js:3241:19)\r\n    at Parser.pp$3.parseMaybeConditional (/Users/$USER/node_modules/babylon/lib/index.js:3218:19)\r\n    at Parser.pp$3.parseMaybeAssign (/Users/$USER/node_modules/babylon/lib/index.js:3181:19)\r\n    at Parser.parseMaybeAssign (/Users/$USER/node_modules/babylon/lib/index.js:5694:20)\r\n    at Parser.pp$3.parseExprListItem (/Users/$USER/node_modules/babylon/lib/index.js:4101:16)\r\n    at Parser.parseExprListItem (/Users/$USER/node_modules/babylon/lib/index.js:5425:24)\r\n    at Parser.pp$3.parseCallExpressionArguments (/Users/$USER/node_modules/babylon/lib/index.js:3410:20)\r\n    at Parser.pp$3.parseSubscripts (/Users/$USER/node_modules/babylon/lib/index.js:3370:31)\r\n    at Parser.pp$3.parseExprSubscripts (/Users/$USER/node_modules/babylon/lib/index.js:3341:15)\r\n    at Parser.pp$3.parseMaybeUnary (/Users/$USER/node_modules/babylon/lib/index.js:3311:19)\r\n    at Parser.pp$3.parseExprOps (/Users/$USER/node_modules/babylon/lib/index.js:3241:19)\r\n    at Parser.pp$3.parseMaybeConditional (/Users/$USER/node_modules/babylon/lib/index.js:3218:19)\r\n    at Parser.pp$3.parseMaybeAssign (/Users/$USER/node_modules/babylon/lib/index.js:3181:19)\r\n    at Parser.parseMaybeAssign (/Users/$USER/node_modules/babylon/lib/index.js:5694:20)\r\n    at Parser.pp$3.parseExpression (/Users/$USER/node_modules/babylon/lib/index.js:3143:19)\r\n    at Parser.pp$1.parseStatement (/Users/$USER/node_modules/babylon/lib/index.js:1774:19)\r\n    at Parser.parseStatement (/Users/$USER/node_modules/babylon/lib/index.js:5218:22)\r\n    at Parser.pp$1.parseBlockBody (/Users/$USER/node_modules/babylon/lib/index.js:2133:21)\r\n    at Parser.pp$1.parseBlock (/Users/$USER/node_modules/babylon/lib/index.js:2114:8)\r\n    at Parser.pp$3.parseFunctionBody (/Users/$USER/node_modules/babylon/lib/index.js:3998:22)\r\n    at Parser.parseFunctionBody (/Users/$USER/node_modules/babylon/lib/index.js:5205:20)\r\n    at Parser.pp$3.parseArrowExpression (/Users/$USER/node_modules/babylon/lib/index.js:3977:8)\r\n    at Parser.pp$3.parseAsyncArrowFromCallExpression (/Users/$USER/node_modules/babylon/lib/index.js:3427:15)\r\n    at Parser.parseAsyncArrowFromCallExpression (/Users/$USER/node_modules/babylon/lib/index.js:5623:20)\r\n    at Parser.pp$3.parseSubscripts (/Users/$USER/node_modules/babylon/lib/index.js:3377:21)\r\n    at Parser.pp$3.parseExprSubscripts (/Users/$USER/node_modules/babylon/lib/index.js:3341:15)\r\n    at Parser.pp$3.parseMaybeUnary (/Users/$USER/node_modules/babylon/lib/index.js:3311:19)\r\n    at Parser.pp$3.parseExprOps (/Users/$USER/node_modules/babylon/lib/index.js:3241:19)\r\n    at Parser.pp$3.parseMaybeConditional (/Users/$USER/node_modules/babylon/lib/index.js:3218:19)\r\n    at Parser.pp$3.parseMaybeAssign (/Users/$USER/node_modules/babylon/lib/index.js:3181:19)\r\n    at Parser.parseMaybeAssign (/Users/$USER/node_modules/babylon/lib/index.js:5694:20)\r\n    at Parser.pp$1.parseVar (/Users/$USER/node_modules/babylon/lib/index.js:2205:24)\r\n\r\nSeverity\r\nMajor\r\n\r\nSteps to Reproduce\r\nrunning the following at the command line:\r\n$ yarn test\r\n\r\nActual Behavior\r\nWhen run, the pages that use async/await syntax (localweather/index.js) crash (see stdout file), while the other pages perform as expected (see passing). \r\n\r\nExpected Behavior\r\nThe tests (originally refactored from mocha) should execute with a pass || fail.\r\n\r\nTroubleshooting/Testing Steps Attempted\r\n- the advice i've found in ava's docs indicate i should add an 'ava' key to the projects package.json (https://github.com/avajs/ava/blob/58a2e6803f74fa29d601e019b22f6a0b945c3544/docs/recipes/babelrc.md)\r\n- this has not worked, it yields the error i'm currently grappling with\r\n\r\nWorkaround\r\n- None currently, will need to uninstall ava and go back to mocha. \r\n\r\n- I've extracted the relevant files (.babelrc, etc) to a gist\r\nhttps://gist.github.com/Travmatth/10b0b7b2db3e9d85d80e7360e78b21a1\r\n\r\n- the project is located on github:\r\nhttps://github.com/Travmatth/resume-static-aws/",
                              "label": "unlabeledBug",
                              "createdAt": "2016-12-29T03:11:21Z",
                              "closedAt": "2016-12-31T13:58:15Z",
                              "lastComment": "2016-12-31T13:58:15Z",
                              "commentCount": 4
                         },
                         {
                              "title": "--fail-fast keeps running other test files",
                              "description": "The test process that encounters the error simply [exits if `--fail-fast` is enabled](https://github.com/avajs/ava/blob/033d4dcdcbdadbf665c740ff450c2a775a8373dc/lib/main.js#L44:L46). Since each file runs in its own process, no other tests from that file are reported after the first failure is encountered.\r\n\r\nHowever, other test processes run to completion. I'm not sure whether to:\r\n\r\n* terminate them outright, which prevents any cleanup, even if there are no failures in those processes\r\n* silence their output, which at least means the test output isn't cluttered with passing tests, but makes it harder to see why `ava` won't exit\r\n* shrug and say that this is expected\r\n\r\nWhen running with limited concurrency we'll also run into this scenario, so we should implement the same behavior. Additionally we mustn't launch new test processes.\r\n\r\nAny thoughts on what to do with processes that are already running?",
                              "label": "bug",
                              "createdAt": "2016-12-19T13:23:40Z",
                              "closedAt": "2018-02-11T16:12:33Z",
                              "lastComment": "2018-02-10T15:55:24Z",
                              "commentCount": 12
                         },
                         {
                              "title": "t.notThrows() gives no info on thrown error in case an error is thrown",
                              "description": "## Description\r\n\r\nI have yet to make a test which uses `t.notThrows()` pass. Is it by design to not get any info on the thrown error when `t.notThrows()` actually errors out? All I get is:\r\n\r\n`Got unwanted exception..`\r\n\r\nI would like to see the stack trace.\r\n\r\nCurrently, I'm expecting the code to fail with a ` SequelizeUniqueConstraintError: Validation error` error. But since I'm not seeing anything other than `Got unwanted exception..`, I cannot verify this. Later on, after fixing this, if the test fails again, I would like to see the stack trace to see if it's still because of the constraint violation.\r\n\r\n### Test Source\r\n\r\n```js\r\n  let [transaction, onSuccess] = await adapter.setupTransaction();\r\n  // fails with \"Got unwanted exception..\". \r\n  await t.notThrows(Promise.all(G.deltas.map(delta => {\r\n    return adapter.addContentObjectDelta(G.co1.getContentObjectId(), delta, {}, { transaction });\r\n  })));\r\n  await onSuccess();\r\n```\r\n\r\n### Error Message & Stack Trace\r\n\r\n\r\n```\r\nAssertionError: Got unwanted exception..\r\n```\r\n\r\n### Config\r\n\r\nCopy the relevant section from `package.json`:\r\n\r\n```json\r\n{\r\n  \"ava\": {\r\n    \"require\": [\r\n      \"babel-register\",\r\n      \"babel-polyfill\"\r\n    ],\r\n    \"babel\": \"inherit\",\r\n    \"files\": [\r\n      \"test/**/*.test.js\"\r\n    ],\r\n    \"failFast\": true\r\n  },\r\n}\r\n```\r\n\r\n### Command-Line Arguments\r\n\r\n```\r\nava --serial\r\n```\r\n\r\n`--verbose` does not help.\r\n\r\n## Environment\r\n\r\nTell us which operating system you are using, as well as which versions of Node.js, npm, and AVA. Run the following to get it quickly:\r\n\r\n```\r\nNode.js v6.3.1\r\ndarwin 15.4.0\r\nava: 0.17.0\r\nnpm: 3.10.3\r\n```\r\n",
                              "label": "bug",
                              "createdAt": "2016-12-09T14:21:46Z",
                              "closedAt": "2017-03-14T12:50:36Z",
                              "lastComment": "2016-12-09T14:46:25Z",
                              "commentCount": 2
                         },
                         {
                              "title": "t.throw flow type check is giving a false-positive (Callable signature not found in)",
                              "description": "## Description\r\n\r\nI am getting an \"Callable signature not found in\" when using `t.throws`.\r\n\r\nThe type error originates in the `node_modules/ava/index.js.flow` definition.\r\n\r\nThis could be simply me misunderstanding what the error is saying.\r\n\r\nI'd expect Flow to pickup:\r\n\r\n```js\r\nthrows(value: Promise<mixed>, error?: ErrorValidator, message?: string): Promise<mixed>;\r\n```\r\n\r\nannotation and ignore:\r\n\r\n```js\r\nthrows(value: () => void, error?: ErrorValidator, message?: string): mixed;\r\n```\r\n\r\nI even explicitly cast the result to `Promise<void>`.\r\n\r\nIf I remove the `Promise<void>` cast, I am getting a different error, https://gist.github.com/gajus/5c42f0262874a2bae7842691eea28a60#file-ava-flow-sh-L2.\r\n\r\n### Test Source\r\n\r\n```js\r\ntest('timesout after 60 seconds', async (t): Promise<void> => {\r\n  const {\r\n    document\r\n  } = createDocument();\r\n\r\n  global.document = document;\r\n\r\n  const result: Promise<void> = loadScript('http://dailymail.co.uk/');\r\n\r\n  clock.tick(6e4 + 1);\r\n\r\n  t.throws(result, 'Script loading time has exceeded the maximum configured time limit.');\r\n});\r\n```\r\n\r\n### Error Message & Stack Trace\r\n\r\n```js\r\n$ flow\r\nnode_modules/ava/index.js.flow:71\r\n 71: \tthrows(value: () => void, error?: ErrorValidator, message?: string): mixed;\r\n     \t              ^^^^^^^^^^ function type. Callable signature not found in\r\n 94:   t.throws(result, 'Script loading time has exceeded the maximum configured time limit.');\r\n                ^^^^^^ Promise. See: test/utilities/loadScript.js:94\r\n\r\n\r\nFound 1 error\r\n```\r\n\r\n### Config\r\n\r\nCopy the relevant section from `package.json`:\r\n\r\n```json\r\n{\r\n  \"ava\": {\r\n    \"babel\": {\r\n      \"plugins\": [\r\n        \"transform-flow-strip-types\",\r\n        \"transform-async-to-generator\",\r\n        \"transform-es2015-modules-commonjs\"\r\n      ]\r\n    },\r\n    \"require\": [\r\n      \"babel-register\"\r\n    ]\r\n  }\r\n}\r\n```\r\n\r\n### Command-Line Arguments\r\n\r\n```\r\nava\r\n```\r\n\r\n## Environment\r\n\r\nTell us which operating system you are using, as well as which versions of Node.js, npm, and AVA. Run the following to get it quickly:\r\n\r\n```\r\nNode.js v7.2.1\r\ndarwin 16.1.0\r\n0.17.0\r\n3.10.10\r\n```\r\n",
                              "label": "bug",
                              "createdAt": "2016-12-08T06:27:46Z",
                              "closedAt": "2017-02-05T17:59:21Z",
                              "lastComment": "2017-02-02T19:01:41Z",
                              "commentCount": 5
                         },
                         {
                              "title": "AVA fails when running test files which are actually symlinks ",
                              "description": "Per #1137, if a test pattern matches a symlink, AVA fails to run that test file.\r\n\r\nAVA precompiles the test file in the main process. That works fine, even with symlinks. It then communicates a hash for the precompilation result to the worker process. When the test file is required the worker loads it from the precompilation cache, using the hash received from the main process.\r\n\r\nThe problem is that the hash mapping is for the symlink path, but the worker sees the _resolved_ path instead.\r\n\r\nThis is where the worker looks up the hash: https://github.com/avajs/ava/blob/0f0400158ec4192fc32ccc603877d0b088302662/lib/process-adapter.js#L85\r\n\r\nThis is where the `precompiled` hash mapping is prepared: https://github.com/avajs/ava/blob/0f0400158ec4192fc32ccc603877d0b088302662/api.js#L70\r\n\r\nProbably the best fix is to use [`fs.realpathSync`](https://nodejs.org/api/fs.html#fs_fs_realpathsync_path_options) when preparing the hash mapping in `api.js`.",
                              "label": "bug",
                              "createdAt": "2016-12-04T16:01:54Z",
                              "closedAt": "2016-12-17T16:52:45Z",
                              "lastComment": "2016-12-05T17:41:31Z",
                              "commentCount": 2
                         },
                         {
                              "title": "Precompilation cache salt does not include --no-power-assert flag",
                              "description": "(See https://github.com/avajs/ava/issues/1138#issuecomment-264919725, @novemberborn)\r\n\r\n---\r\n\r\nI'm not sure why, but I can't turn of power assert. My assertions works just fine if I change the argument to anything but `t`.\r\n\r\n`ava --no-power-assert dist/test.js`\r\n\r\nava version: 0.17.0\r\nnode version: 4.4.0\r\n```\r\n{\r\n  \"presets\": [\r\n    \"es2015\",\r\n    \"stage-0\"\r\n  ]\r\n}\r\n```\r\n\r\n```js\r\n// test.js\r\nimport test from 'ava'\r\n\r\nconst bug = (testFn) => {\r\n  test(t => {\r\n    return testFn({\r\n      log: (a, b) => console.log({ a, b }),\r\n      deepEqual: (a, b) => console.log({ a, b }),\r\n    })\r\n  })\r\n}\r\n\r\nbug(t => {\r\n  t.log(1, {})\r\n  t.deepEqual(1, {})\r\n})\r\n\r\nbug(a => {\r\n  a.deepEqual(1, {})\r\n})\r\n```\r\n\r\nfirst logs:\r\n```\r\n{ a: 1, b: {} }\r\n```\r\n```\r\n{ a: 1,\r\n  b:\r\n   { powerAssertContext: { value: {}, events: [Object] },\r\n     source:\r\n      { content: 't.deepEqual(1, {})',\r\n        filepath: 'all.js',\r\n        line: 5,\r\n        ast: '{\"type\":\"CallExpression\",\"callee\":{\"type\":\"MemberExpression\",\"object\":{\"type\":\"Identifier\",\"name\":\"t\",\"range\":[0,1]},\"property\":{\"type\":\"Identifier\",\"name\":\"deepEqual\",\"range\":[2,11]},\"computed\":false,\"range\":[0,11]},\"arguments\":[{\"type\":\"NumericLiteral\",\"value\":1,\"range\":[12,13]},{\"type\":\"ObjectExpression\",\"properties\":[],\"range\":[15,17]}],\"range\":[0,18]}',\r\n        tokens: '[{\"type\":{\"label\":\"name\"},\"value\":\"t\",\"range\":[0,1]},{\"type\":{\"label\":\".\"},\"range\":[1,2]},{\"type\":{\"label\":\"name\"},\"value\":\"deepEqual\",\"range\":[2,11]},{\"type\":{\"label\":\"(\"},\"range\":[11,12]},{\"type\":{\"label\":\"num\"},\"value\":1,\"range\":[12,13]},{\"type\":{\"label\":\",\"},\"range\":[13,14]},{\"type\":{\"label\":\"{\"},\"range\":[15,16]},{\"type\":{\"label\":\"}\"},\"range\":[16,17]},{\"type\":{\"label\":\")\"},\"range\":[17,18]}]',\r\n        visitorKeys: '{\"ArrayExpression\":[\"elements\"],\"AssignmentExpression\":[\"left\",\"right\"],\"BinaryExpression\":[\"left\",\"right\"],\"Directive\":[\"value\"],\"DirectiveLiteral\":[],\"BlockStatement\":[\"directives\",\"body\"],\"BreakStatement\":[\"label\"],\"CallExpression\":[\"callee\",\"arguments\"],\"CatchClause\":[\"param\",\"body\"],\"ConditionalExpression\":[\"test\",\"consequent\",\"alternate\"],\"ContinueStatement\":[\"label\"],\"DebuggerStatement\":[],\"DoWhileStatement\":[\"test\",\"body\"],\"EmptyStatement\":[],\"ExpressionStatement\":[\"expression\"],\"File\":[\"program\"],\"ForInStatement\":[\"left\",\"right\",\"body\"],\"ForStatement\":[\"init\",\"test\",\"update\",\"body\"],\"FunctionDeclaration\":[\"id\",\"params\",\"body\",\"returnType\",\"typeParameters\"],\"FunctionExpression\":[\"id\",\"params\",\"body\",\"returnType\",\"typeParameters\"],\"Identifier\":[\"typeAnnotation\"],\"IfStatement\":[\"test\",\"consequent\",\"alternate\"],\"LabeledStatement\":[\"label\",\"body\"],\"StringLiteral\":[],\"NumericLiteral\":[],\"NullLiteral\":[],\"BooleanLiteral\":[],\"RegExpLiteral\":[],\"LogicalExpression\":[\"left\",\"right\"],\"MemberExpression\":[\"object\",\"property\"],\"NewExpression\":[\"callee\",\"arguments\"],\"Program\":[\"directives\",\"body\"],\"ObjectExpression\":[\"properties\"],\"ObjectMethod\":[\"key\",\"params\",\"body\",\"decorators\",\"returnType\",\"typeParameters\"],\"ObjectProperty\":[\"key\",\"value\",\"decorators\"],\"RestElement\":[\"argument\",\"typeAnnotation\"],\"ReturnStatement\":[\"argument\"],\"SequenceExpression\":[\"expressions\"],\"SwitchCase\":[\"test\",\"consequent\"],\"SwitchStatement\":[\"discriminant\",\"cases\"],\"ThisExpression\":[],\"ThrowStatement\":[\"argument\"],\"TryStatement\":[\"block\",\"handler\",\"finalizer\"],\"UnaryExpression\":[\"argument\"],\"UpdateExpression\":[\"argument\"],\"VariableDeclaration\":[\"declarations\"],\"VariableDeclarator\":[\"id\",\"init\"],\"WhileStatement\":[\"test\",\"body\"],\"WithStatement\":[\"object\",\"body\"],\"AssignmentPattern\":[\"left\",\"right\"],\"ArrayPattern\":[\"elements\",\"typeAnnotation\"],\"ArrowFunctionExpression\":[\"params\",\"body\",\"returnType\",\"typeParameters\"],\"ClassBody\":[\"body\"],\"ClassDeclaration\":[\"id\",\"body\",\"superClass\",\"mixins\",\"typeParameters\",\"superTypeParameters\",\"implements\",\"decorators\"],\"ClassExpression\":[\"id\",\"body\",\"superClass\",\"mixins\",\"typeParameters\",\"superTypeParameters\",\"implements\",\"decorators\"],\"ExportAllDeclaration\":[\"source\"],\"ExportDefaultDeclaration\":[\"declaration\"],\"ExportNamedDeclaration\":[\"declaration\",\"specifiers\",\"source\"],\"ExportSpecifier\":[\"local\",\"exported\"],\"ForOfStatement\":[\"left\",\"right\",\"body\"],\"ImportDeclaration\":[\"specifiers\",\"source\"],\"ImportDefaultSpecifier\":[\"local\"],\"ImportNamespaceSpecifier\":[\"local\"],\"ImportSpecifier\":[\"local\",\"imported\"],\"MetaProperty\":[\"meta\",\"property\"],\"ClassMethod\":[\"key\",\"params\",\"body\",\"decorators\",\"returnType\",\"typeParameters\"],\"ObjectPattern\":[\"properties\",\"typeAnnotation\"],\"SpreadElement\":[\"argument\"],\"Super\":[],\"TaggedTemplateExpression\":[\"tag\",\"quasi\"],\"TemplateElement\":[],\"TemplateLiteral\":[\"quasis\",\"expressions\"],\"YieldExpression\":[\"argument\"],\"AnyTypeAnnotation\":[],\"ArrayTypeAnnotation\":[\"elementType\"],\"BooleanTypeAnnotation\":[],\"BooleanLiteralTypeAnnotation\":[],\"NullLiteralTypeAnnotation\":[],\"ClassImplements\":[\"id\",\"typeParameters\"],\"ClassProperty\":[\"key\",\"value\",\"typeAnnotation\",\"decorators\"],\"DeclareClass\":[\"id\",\"typeParameters\",\"extends\",\"body\"],\"DeclareFunction\":[\"id\"],\"DeclareInterface\":[\"id\",\"typeParameters\",\"extends\",\"body\"],\"DeclareModule\":[\"id\",\"body\"],\"DeclareModuleExports\":[\"typeAnnotation\"],\"DeclareTypeAlias\":[\"id\",\"typeParameters\",\"right\"],\"DeclareVariable\":[\"id\"],\"ExistentialTypeParam\":[],\"FunctionTypeAnnotation\":[\"typeParameters\",\"params\",\"rest\",\"returnType\"],\"FunctionTypeParam\":[\"name\",\"typeAnnotation\"],\"GenericTypeAnnotation\":[\"id\",\"typeParameters\"],\"InterfaceExtends\":[\"id\",\"typeParameters\"],\"InterfaceDeclaration\":[\"id\",\"typeParameters\",\"extends\",\"body\"],\"IntersectionTypeAnnotation\":[\"types\"],\"MixedTypeAnnotation\":[],\"EmptyTypeAnnotation\":[],\"NullableTypeAnnotation\":[\"typeAnnotation\"],\"NumericLiteralTypeAnnotation\":[],\"NumberTypeAnnotation\":[],\"StringLiteralTypeAnnotation\":[],\"StringTypeAnnotation\":[],\"ThisTypeAnnotation\":[],\"TupleTypeAnnotation\":[\"types\"],\"TypeofTypeAnnotation\":[\"argument\"],\"TypeAlias\":[\"id\",\"typeParameters\",\"right\"],\"TypeAnnotation\":[\"typeAnnotation\"],\"TypeCastExpression\":[\"expression\",\"typeAnnotation\"],\"TypeParameter\":[\"bound\"],\"TypeParameterDeclaration\":[\"params\"],\"TypeParameterInstantiation\":[\"params\"],\"ObjectTypeAnnotation\":[\"properties\",\"indexers\",\"callProperties\"],\"ObjectTypeCallProperty\":[\"value\"],\"ObjectTypeIndexer\":[\"id\",\"key\",\"value\"],\"ObjectTypeProperty\":[\"key\",\"value\"],\"QualifiedTypeIdentifier\":[\"id\",\"qualification\"],\"UnionTypeAnnotation\":[\"types\"],\"VoidTypeAnnotation\":[],\"JSXAttribute\":[\"name\",\"value\"],\"JSXClosingElement\":[\"name\"],\"JSXElement\":[\"openingElement\",\"children\",\"closingElement\"],\"JSXEmptyExpression\":[],\"JSXExpressionContainer\":[\"expression\"],\"JSXIdentifier\":[],\"JSXMemberExpression\":[\"object\",\"property\"],\"JSXNamespacedName\":[\"namespace\",\"name\"],\"JSXOpeningElement\":[\"name\",\"attributes\"],\"JSXSpreadAttribute\":[\"argument\"],\"JSXText\":[],\"Noop\":[],\"ParenthesizedExpression\":[\"expression\"],\"AwaitExpression\":[\"argument\"],\"ForAwaitStatement\":[\"left\",\"right\",\"body\"],\"BindExpression\":[\"object\",\"callee\"],\"Decorator\":[\"expression\"],\"DoExpression\":[\"body\"],\"ExportDefaultSpecifier\":[\"exported\"],\"ExportNamespaceSpecifier\":[\"exported\"],\"RestProperty\":[\"argument\"],\"SpreadProperty\":[\"argument\"]}' } } }\r\n```\r\n\r\nsecond logs:\r\n```\r\n{ a: 1, b: {} }\r\n```",
                              "label": "bug",
                              "createdAt": "2016-12-01T18:42:35Z",
                              "closedAt": "2016-12-09T19:15:53Z",
                              "lastComment": "2016-12-05T17:34:53Z",
                              "commentCount": 5
                         },
                         {
                              "title": "test.cb does not timeout",
                              "description": "## Description\r\n\r\nI am using [test.cb callback](https://github.com/avajs/ava#callback-support) to define an asynchronous test. My test is failing (the expected callback is not called).\r\n\r\n### Current behaviour\r\n\r\nThis leaves the entire test suite hanging indefinitely.\r\n\r\n### Expected behaviour\r\n\r\nExpect the test to fail after some X time.\r\n\r\n### Test Source\r\n\r\n```js\r\ntest.cb.only('togglePushdown', (t) => {\r\n  console.log('A 0');\r\n\r\n  const div = document.createElement('div');\r\n\r\n  console.log('A 1');\r\n\r\n  div.id = 'pushdown';\r\n\r\n  document.body.appendChild(div);\r\n\r\n  console.log('A 2');\r\n\r\n  const origAnimate = minidom.animate;\r\n\r\n  minidom.animate = (...args) => {\r\n    console.log('A 5');\r\n\r\n    t.deepEqual(args[1], {\r\n      height: 250\r\n    });\r\n\r\n    minidom.animate = origAnimate;\r\n\r\n    t.end();\r\n  };\r\n\r\n  console.log('A 3');\r\n\r\n  AdsManager.togglePushdown();\r\n\r\n  console.log('A 4');\r\n});\r\n```\r\n\r\nThis produces:\r\n\r\n```\r\nA 0\r\nA 1\r\nA 2\r\nA 3\r\nA 4\r\n```\r\n\r\n### Error Message & Stack Trace\r\n\r\nNone. The test is just hanging.\r\n\r\n### Config\r\n\r\nCopy the relevant section from `package.json`:\r\n\r\n```json\r\n{\r\n  \"ava\": {\r\n    \"require\": [\r\n      \"babel-register\"\r\n    ],\r\n    \"babel\": \"inherit\"\r\n  }\r\n}\r\n```\r\n\r\n### Command-Line Arguments\r\n\r\nCopy your npm build scripts or the `ava` command used:\r\n\r\n```bash\r\nava --verbose --serial --fail-fast --watch ./test/AdsManager.js\r\n```\r\n\r\n## Environment\r\n\r\nTell us which operating system you are using, as well as which versions of Node.js, npm, and AVA. Run the following to get it quickly:\r\n\r\n```bash\r\n$ node -e \"var os=require('os');console.log('Node.js ' + process.version + '\\n' + os.platform() + ' ' + os.release())\"\r\n$ ava --version\r\n$ npm --version\r\nNode.js v7.1.0\r\ndarwin 16.1.0\r\n0.17.0\r\n4.0.2\r\n```\r\n\r\n## Side note\r\n\r\nIt would be a useful addition if the `DEBUG=*` logged which tests it is entering/ leaving to help debug issues such as this one. Now if the test is set to `only` I am not getting any output unless there is a `console.log` in the script itself.\r\n\r\n```bash\r\n$ DEBUG=* ava --verbose --serial --fail-fast --watch ./test/AdsManager.js\r\nava ipc stats:\r\n{ testCount: 1, hasExclusive: true, file: 'test/AdsManager.js' } +0ms\r\nA 0\r\nA 1\r\nA 2\r\nA 3\r\nA 4\r\n```",
                              "label": "unlabeledBug",
                              "createdAt": "2016-11-22T12:41:05Z",
                              "closedAt": "2016-11-22T12:46:01Z",
                              "lastComment": "2017-03-21T23:54:42Z",
                              "commentCount": 4
                         },
                         {
                              "title": "Using chalk in AVA tests does not colorize the strings",
                              "description": "I noticed that the following code does work as expected\r\n\r\n```js\r\nconst chalk = require('chalk');\r\nconsole.log(chalk.blue('hello world')); // as expected the result is blue\r\n```\r\n\r\nbut this doesn't\r\n\r\n```js\r\nconst test = require('ava');\r\nconst chalk = require('chalk');\r\nconsole.log(chalk.blue('hello world')); // NOT expected the result is grey\r\ntest(t => t.fail());\r\n```\r\n\r\nI'm using ava 0.17.0 and chalk 1.1.3.\r\n",
                              "label": "bug",
                              "createdAt": "2016-11-22T08:02:35Z",
                              "closedAt": "2017-02-08T08:14:21Z",
                              "lastComment": "2017-02-08T08:14:21Z",
                              "commentCount": 10
                         },
                         {
                              "title": "ava 0.17.0 with FlowType 0.35.0 results in type-ambiguity errors",
                              "description": "## Description\r\n\r\nTrying to update a project to use ava 0.17.0\r\n\r\nFor what seem like pretty standard-looking ava tests to me (as far as I know), FlowType is getting all up in my face about some ambiguity relating to the new types that ava declares. I am obviously quite scandalised by all this. Oh my!\r\n\r\n\r\n### Test Source\r\n\r\nThis is the test code in question:\r\n\r\n```js\r\ntest('A, A->B, B->C, BC->end', (t) => {\r\n  const tasks = [\r\n    { fn: noop, id: 'a', label: 'a', requires: [ 'B', 'C' ] },\r\n    { fn: noop, id: 'b', label: 'b', provides: [ 'C' ], requires: [ 'B' ] },\r\n    { fn: noop, id: 'c', label: 'c', provides: [ 'B' ], requires: [ 'A' ] },\r\n    { fn: noop, id: 'd', label: 'd', provides: [ 'A' ] }\r\n  ]\r\n  t.notThrows(() => tasks.sort(compareByMetadata))\r\n  const ids = tasks.map((task) => task.id)\r\n  t.deepEqual(ids, [ 'd', 'c', 'b', 'a' ])\r\n})\r\n```\r\n\r\n\r\n### Error Message & Stack Trace\r\n\r\nWhen I run `flow_check`, I get 23 errors that are all very similar, like this:\r\n\r\n```\r\ntest/sort-tasks.js:63\r\n 63: test('A, A->B, B->C, BC->end', (t) => {\r\n     ^ function call. Could not decide which case to select\r\n201: declare module.exports: {\r\n                             ^ callable object type. See: node_modules/ava/index.js.flow:201\r\n  Case 2 may work:\r\n  203: \t(name: string, run: ContextualTest): void;\r\n       \t^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ function type. See: node_modules/ava/index.js.flow:203\r\n  But if it doesn't, case 4 looks promising too:\r\n  205: \t(name: string, run: Macros<ContextualTestContext>, ...args: Array<any>): void;\r\n       \t^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ function type. See: node_modules/ava/index.js.flow:205\r\n  Please provide additional annotation(s) to determine whether case 2 works (or consider merging it with case 4):\r\n   63: test('A, A->B, B->C, BC->end', (t) => {\r\n                                            ^ return\r\n```\r\n\r\n\r\n### Config\r\n\r\nCopy the relevant section from `package.json`:\r\n\r\n```json\r\n{\r\n  \"ava\": {}\r\n}\r\n```\r\n\r\n\r\n### Command-Line Arguments\r\n\r\nCopy your npm build scripts or the `ava` command used:\r\n\r\n```\r\nnyc ava\r\n```\r\n\r\n\r\n## Relevant Links\r\n\r\n- https://github.com/jokeyrhyme/node-init.js\r\n\r\n\r\n## Environment\r\n\r\n```\r\nNode.js v7.1.0\r\ndarwin 16.3.0\r\nava 0.17.0\r\nnpm 4.0.2\r\n```\r\n",
                              "label": "bug",
                              "createdAt": "2016-11-18T03:05:51Z",
                              "closedAt": "2017-01-05T12:09:39Z",
                              "lastComment": "2017-01-31T22:01:12Z",
                              "commentCount": 9
                         },
                         {
                              "title": "Please release new version to make debugging possible",
                              "description": "#874 is not included into latest release. Could you please release new AVA version?",
                              "label": "unlabeledBug",
                              "createdAt": "2016-11-16T09:35:58Z",
                              "closedAt": "2016-11-17T08:59:38Z",
                              "lastComment": "2017-10-02T15:53:26Z",
                              "commentCount": 6
                         },
                         {
                              "title": "warning: possible EventEmitter memory leak detected",
                              "description": "## Description\n\nMy test print a warning, same as https://github.com/avajs/ava/issues/745\n\n`(node) warning: possible EventEmitter memory leak detected. 11 exit listeners added. Use emitter.setMaxListeners() to increase limit.`\n### Test Source\n\ntests are here : https://github.com/lesspass/cli/blob/master/test.js\n\nI try to test my command line interface with 16 tests like this one : \n\n```\ntest('test space in password', async t => {\n    const {stdout} = await execa('./cli.js', ['lesspass.com', 'contact@lesspass.com', 'my Master Password']);\n    t.is(stdout, 'onAV7&uvEC2=');\n});\n```\n\nHere the output for my tests : https://travis-ci.org/lesspass/cli/jobs/169243714\n## Github\n\nHere the github repository to reproduce the bug : https://github.com/lesspass/cli\n## Environment\n\n```\nNode.js v4.6.0\nlinux 4.4.0-45-generic\nava version 0.16.0\nnpm version 3.10.8\n```\n\nI suppose this is because I exec 16 times in 16 processes. \nHow can I avoid to raise this warning ?\n",
                              "label": "unlabeledBug",
                              "createdAt": "2016-10-20T14:41:37Z",
                              "closedAt": "2016-10-23T14:23:46Z",
                              "lastComment": "2016-10-24T07:15:24Z",
                              "commentCount": 2
                         },
                         {
                              "title": "Ignore relativeness in patterns",
                              "description": "Meta issue for https://github.com/avajs/ava-files/issues/6\n\n> Patterns starting with `./`, e.g. `./test/myTest.js` should be treated as `test/myTest.js`. Otherwise they won't match change events from Chokidar, which ends up emitting the changed paths as `test/myTest.js`.\n\nThe fix needs to be made in https://github.com/avajs/ava-files.\n",
                              "label": "bug",
                              "createdAt": "2016-10-18T10:08:32Z",
                              "closedAt": "2016-12-09T18:21:30Z",
                              "lastComment": "",
                              "commentCount": 0
                         },
                         {
                              "title": "Test.todo typings may be wrong: error TS2345: Argument of type 'string' is not assignable to parameter of type 'ContextualTest'.",
                              "description": "## Description\n\nWhen using test.todo with Typescript, I pass in one string, like:\n\n``` javascript\ntest.todo('Model should require attributes');\n```\n\nBut I receive the error \n\n```\n error TS2345: Argument of type 'string' is not assignable to parameter of type 'ContextualTest'.\n```\n\nWhen I try to compile before I run.\n### Test Source\n\n``` js\nimport test from 'ava';\n\ntest.todo('Model should require attributes');\n```\n### Error Message & Stack Trace\n\n```\nλ npm run build\n\n> nodemodulesystem@0.0.0 build C:\\Users\\Justin\\nodemodulesystem\n> tsc\n\nsrc/module/controller/controller.spec.ts(3,11): error TS2345: Argument of type 'string' is not assignable to parameter of type 'ContextualTest'.\n```\n### Command-Line Arguments\n\nI am not getting the error from this but I'll include it anyways..\n\n```\nnyc ava **/*.spec.js\n```\n## Relevant Links\n\nhttps://github.com/JustinDFuller/NodeModuleSystem\n## Environment\n\nTell us which operating system you are using, as well as which versions of Node.js, npm, and AVA. Run the following to get it quickly:\n\n```\nNode.js v6.5.0\nwin32 10.0.14393\n0.16.0\n3.10.7\n```\n",
                              "label": "bug",
                              "createdAt": "2016-10-17T16:23:38Z",
                              "closedAt": "2017-01-20T09:42:03Z",
                              "lastComment": "2017-01-20T09:44:27Z",
                              "commentCount": 8
                         },
                         {
                              "title": "NodeJS JavaScript heap out of memory while running test suite",
                              "description": "## Description\n\nI'm not sure what I've done wrong. I use ava ina lot of projects and this is the only one exhibiting this problem.\n### Test Source\n\nI don't know what parts are relevant, see repo link further down for source code... Sorry!\n### Error Message & Stack Trace\n\n```\n<--- Last few GCs --->\n\n   46902 ms: Mark-sweep 1377.4 (1436.6) -> 1377.4 (1436.6) MB, 1585.9 / 0.1 ms [allocation failure] [GC in old space requested].\n   48458 ms: Mark-sweep 1377.4 (1436.6) -> 1377.4 (1436.6) MB, 1556.2 / 0.1 ms [allocation failure] [GC in old space requested].\n   50013 ms: Mark-sweep 1377.4 (1436.6) -> 1379.2 (1420.6) MB, 1553.8 / 0.1 ms [last resort gc].\n   51631 ms: Mark-sweep 1379.2 (1420.6) -> 1380.9 (1420.6) MB, 1617.9 / 0.1 ms [last resort gc].\n\n\n<--- JS stacktrace --->\n\n==== JS stack trace =========================================\n\nSecurity context: 0x10ec87cfb51 <JS Object>\n    1: _processGlobStar2 [/Users/simen/Development/stylint-stylish/node_modules/stylint/node_modules/glob/glob.js:~626] [pc=0x33f1ebdc8248] (this=0x4bd69e313c9 <a Glob with map 0x314ef4f32099>,prefix=0x284ca7b29c19 <String[45]: ./node_mod\nules/es5-ext/string/#/code-point-at>,read=0x284ca7b29c19 <String[45]: ./node_modules/es5-ext/string/#/code-point-at>,abs=0x284ca7b29bf1 <String[84]: /Users/sime...\n\nFATAL ERROR: CALL_AND_RETRY_LAST Allocation failed - JavaScript heap out of memory\n 1: node::Abort() [/Users/simen/.nvm/versions/node/v6.6.0/bin/node]\n 2: node::FatalException(v8::Isolate*, v8::Local<v8::Value>, v8::Local<v8::Message>) [/Users/simen/.nvm/versions/node/v6.6.0/bin/node]\n 3: v8::internal::V8::FatalProcessOutOfMemory(char const*, bool) [/Users/simen/.nvm/versions/node/v6.6.0/bin/node]\n 4: v8::internal::Factory::NewRawTwoByteString(int, v8::internal::PretenureFlag) [/Users/simen/.nvm/versions/node/v6.6.0/bin/node]\n 5: v8::internal::String::SlowFlatten(v8::internal::Handle<v8::internal::ConsString>, v8::internal::PretenureFlag) [/Users/simen/.nvm/versions/node/v6.6.0/bin/node]\n 6: v8::internal::InternalizedStringKey::InternalizedStringKey(v8::internal::Handle<v8::internal::String>) [/Users/simen/.nvm/versions/node/v6.6.0/bin/node]\n 7: v8::internal::StringTable::LookupString(v8::internal::Isolate*, v8::internal::Handle<v8::internal::String>) [/Users/simen/.nvm/versions/node/v6.6.0/bin/node]\n 8: v8::internal::LookupIterator::LookupIterator(v8::internal::Handle<v8::internal::Object>, v8::internal::Handle<v8::internal::Name>, v8::internal::LookupIterator::Configuration) [/Users/simen/.nvm/versions/node/v6.6.0/bin/node]\n 9: v8::internal::LookupIterator::PropertyOrElement(v8::internal::Isolate*, v8::internal::Handle<v8::internal::Object>, v8::internal::Handle<v8::internal::Object>, bool*, v8::internal::LookupIterator::Configuration) [/Users/simen/.nvm/ver\nsions/node/v6.6.0/bin/node]\n10: v8::internal::Runtime::GetObjectProperty(v8::internal::Isolate*, v8::internal::Handle<v8::internal::Object>, v8::internal::Handle<v8::internal::Object>) [/Users/simen/.nvm/versions/node/v6.6.0/bin/node]\n11: v8::internal::Runtime_KeyedGetProperty(int, v8::internal::Object**, v8::internal::Isolate*) [/Users/simen/.nvm/versions/node/v6.6.0/bin/node]\n12: 0x33f1eb5092a7\n13: 0x33f1ebdc8248\n```\n### Config\n\n``` json\n{\n  \"ava\": {\n    \"require\": [\n      \"babel-register\"\n    ]\n  }\n}\n```\n### Command-Line Arguments\n\n```\n node_modules/.bin/ava\n```\n## Relevant Links\n\nhttps://github.com/SimenB/stylint-stylish\n## Environment\n\n```\nNode.js v6.6.0\ndarwin 16.0.0\nava 0.16.0\nnpm 3.10.8\n```\n",
                              "label": "unlabeledBug",
                              "createdAt": "2016-09-30T08:56:13Z",
                              "closedAt": "2016-10-05T17:35:33Z",
                              "lastComment": "2016-10-05T17:35:56Z",
                              "commentCount": 2
                         },
                         {
                              "title": "Missing signature declaration for test with macro",
                              "description": "## Description\n\nThe signature of test for macro is missing in the generated type declaration file.\n\nFor testers seeking for a workaround, see at the end of this issue\n### Test Source\n\n``` js\nimport test from 'ava'\nimport {AssertContext} from 'ava'\n\nfunction macro (t: AssertContext, input: any, expected: any) {\n    t.is(input, expected)\n}\n\ntest(\"macro\", macro, 1, 1)\n\n```\n### Error Message & Stack Trace\n\n```\n8 test(\"macro\", macro, 1, 1)\n\ntest/macro.test.ts(8,1): error TS2346: Supplied parameters do not match any signature of call target.\n```\n### Environment\n\nI'm using Ava 0.16.0 with Typescript 2.1.x\n## Temporary fix\n\nAs a workaround add this in your test file:\n\n```\nconst testM = test as (l: string, m: (t: AssertContext, ...a: any[]) => void, ...a: any[]) => void\n```\n\nAnd use `testM` instead of `test` when you wish to use a macro.\n",
                              "label": "unlabeledBug",
                              "createdAt": "2016-09-25T16:27:09Z",
                              "closedAt": "2016-10-03T15:29:26Z",
                              "lastComment": "2016-10-03T15:29:26Z",
                              "commentCount": 1
                         },
                         {
                              "title": "TypeError: Path must be a string. Received null",
                              "description": "## Description\n\nava nor ava --init nor ava --version is working.\nThe project has no config at all and no node_modules.\nava is installed globaly\n### Error Message & Stack Trace\n\n```\nd:\\repositories\\git\\crmintern\\Testing_Ground>ava --version                                                                                                                             \npath.js:7                                                                                                                                                                              \n    throw new TypeError('Path must be a string. Received ' + inspect(path));                                                                                                           \n    ^                                                                                                                                                                                  \n\nTypeError: Path must be a string. Received null                                                                                                                                        \n    at assertPath (path.js:7:11)                                                                                                                                                       \n    at Object.dirname (path.js:697:5)                                                                                                                                                  \n    at Object.<anonymous> (C:\\Users\\stefan.schneider\\AppData\\Roaming\\npm\\node_modules\\ava\\cli.js:43:19)                                                                                \n    at Module._compile (module.js:556:32)                                                                                                                                              \n    at Object.Module._extensions..js (module.js:565:10)                                                                                                                                \n    at Module.load (module.js:473:32)                                                                                                                                                  \n    at tryModuleLoad (module.js:432:12)                                                                                                                                                \n    at Function.Module._load (module.js:424:3)                                                                                                                                         \n    at Module.runMain (module.js:590:10)                                                                                                                                               \n    at run (bootstrap_node.js:394:7)                                                                                                                                                   \n    at startup (bootstrap_node.js:149:9)                                                                                                                                               \n    at bootstrap_node.js:509:3  \n```\n### Command-Line Arguments\n\nCopy your npm build scripts or the `ava` command used:\n\n```\nava --version\n```\n## Environment\n\nTell us which operating system you are using, as well as which versions of Node.js, npm, and AVA. Run the following to get it quickly:\n\n```\nnode: v6.6.0\nava: v0.16.0\nnpm: 3.10.8\nVSCode Version: Code 1.5.2 (66f37fd2a99eb9d628dd374d81d78835b410c39b, 2016-09-12T13:30:03.456Z)\nOS Version: Windows_NT ia32 10.0.10586\n```\n",
                              "label": "bug",
                              "createdAt": "2016-09-21T10:04:09Z",
                              "closedAt": "2016-10-30T14:55:20Z",
                              "lastComment": "2016-09-22T09:44:03Z",
                              "commentCount": 5
                         },
                         {
                              "title": "Reporter should support all Unicode strings",
                              "description": "## Description\n\nLet's make AVA emoji-friendly. Currently it's difficult to use AVA for testing libraries that perform string operations. Here, errors regarding strings containing emoji appear chopped off and often contain broken characters. Consider the most basic example:\n### Test Source\n\n``` js\ntest.only('foo', t => {\n  t.fail('🦄🐴🦄')\n})\n```\n### Error Message & Stack Trace\n\nNotice the broken symbol:\n\n```\n   1 failed\n\n\n   1. foo\n   🦄�\n      Test.fn (test.js:508:5)\nnpm ERR! Test failed.  See above for more details\n```\n\nSince one emoji `.length` equals to two, second half of second emoji is cut off. That broken symbol is high-surrogate of second emoji.\n### Config\n\n``` json\n{\n  \"ava\": {\n    \"tap\": false\n  }\n}\n```\n## Environment\n\nTell us which operating system you are using, as well as which versions of Node.js, npm, and AVA. Run the following to get it quickly:\n\n```\nNode.js v5.11.1\ndarwin 15.6.0\nava 0.16.0\nnpm 3.10.7\n```\n",
                              "label": "bug",
                              "createdAt": "2016-09-18T18:29:49Z",
                              "closedAt": "2016-09-19T13:40:50Z",
                              "lastComment": "2016-09-19T13:40:50Z",
                              "commentCount": 5
                         },
                         {
                              "title": "Fixtures and helpers are not compiled via Babel",
                              "description": "I've used default function parameters while testing code on Node.js v4 (which does not support them) and discovered that AVA does not compile helpers, fixtures and underscore-prefixed files (e.g. `_setup.js`).\n\nI compile the library source via Babel and AVA takes care of test files, but using \"next-gen\" code in test helpers breaks the compatibility.\n\nThe solution to this would be to include `tests`, `fixtures` and `_*.js` files into precompilation, but still ignore those files (not treat them as tests). \n",
                              "label": "bug",
                              "createdAt": "2016-09-11T14:33:08Z",
                              "closedAt": "2016-09-23T16:40:06Z",
                              "lastComment": "2016-09-23T16:40:06Z",
                              "commentCount": 1
                         },
                         {
                              "title": "Fix tests on Node.js 6.5.0",
                              "description": "From https://github.com/avajs/ava/pull/1024#issuecomment-243609090. They passed on 6.4.0, but something changed.\n",
                              "label": "bug",
                              "createdAt": "2016-08-30T23:07:37Z",
                              "closedAt": "2016-09-17T20:48:15Z",
                              "lastComment": "2016-08-31T00:08:39Z",
                              "commentCount": 7
                         },
                         {
                              "title": "Directories named fixtures, helpers and node_modules are NOT always ignored.",
                              "description": "The main Readme states:\n\n> Directories named fixtures, helpers and node_modules are _always_ ignored.\n\nhowever in package.json if you do:\n\n```\n\"ava\": {\n    \"files\": \"./assets/tests/**/*.js\",\n}\n```\n\nthis is not true at all, ava will complain that these files have no tests. Ava does not complain when you use `\"./assets/tests\"`, though. Unsure if this is a clarification issue with the readme or if this is actually unintended.\n\nversion 0.16.0\n",
                              "label": "unlabeledBug",
                              "createdAt": "2016-08-30T23:04:19Z",
                              "closedAt": "2016-09-19T18:55:32Z",
                              "lastComment": "2016-09-19T19:31:49Z",
                              "commentCount": 6
                         },
                         {
                              "title": "How to debug using chrome?",
                              "description": "I was just looking for guidance on how to debug. I've read through the various issues here and I see that you can use WebStorm but not everyone on my team uses WebStorm so I wanted a chrome devtools based approach. I was trying to use node debugger as shown below but I keep getting port errors. What am I doing wrong? Is there a better approach?\n\n```\nRyans-MacBook-Pro:zen-board-redux ryanvice$ node --debug=3000 node_modules/.bin/ava --serial src/components/common/forms/FormElement.test.js\nDebugger listening on port 3000\nError: listen EADDRINUSE :::3000\n    at Object.exports._errnoException (util.js:873:11)\n    at exports._exceptionWithHostPort (util.js:896:20)\n    at Agent.Server._listen2 (net.js:1250:14)\n    at listen (net.js:1286:10)\n    at Agent.Server.listen (net.js:1382:5)\n    at Object.start (_debug_agent.js:21:9)\n    at startup (node.js:70:44)\n    at node.js:968:3\n```\n",
                              "label": "unlabeledBug",
                              "createdAt": "2016-08-28T13:47:58Z",
                              "closedAt": "2016-09-23T16:24:02Z",
                              "lastComment": "2016-09-23T16:24:02Z",
                              "commentCount": 1
                         },
                         {
                              "title": "Error in typings with before/beforeEach and context",
                              "description": "Unlike documented and working the typings generated for ava contain a bug where the Test interface is given to the beforeEach callback instead of the ContextualTest interface (same for afterEach).\n",
                              "label": "unlabeledBug",
                              "createdAt": "2016-08-27T11:41:19Z",
                              "closedAt": "2016-08-27T11:42:08Z",
                              "lastComment": "2016-08-27T11:42:08Z",
                              "commentCount": 1
                         },
                         {
                              "title": "Cannot find module './_checkGlobal' when running my tests",
                              "description": "There is an error running my tests.\n### Test Source\n\n``` js\n'use strict'\n\nconst test = require('ava')\nconst r = require('rethinkdb')\nconst Db = require('..')\nconst uuid = require('uuid-base62')\nconst fixtures = require('./fixtures/')\n\ntest.beforeEach('setup database', async t => {\n  const dbName = `bettercode_${uuid.v4()}`\n  const db = new Db({ db: dbName, setup: true })\n  await db.connect()\n  t.context.db = db\n  t.context.dbName = dbName\n  t.true(db.connected, 'should be connected')\n})\n\ntest.afterEach.always('cleanup database', async t => {\n  let db = t.context.db\n  let dbName = t.context.dbName\n\n  await db.disconnect()\n  t.false(db.connected, 'should be disconnected')\n\n  let conn = await r.connect({})\n  await r.dbDrop(dbName).run(conn)\n})\n\ntest('GET a project', async t => {\n  let db = t.context.db\n\n  t.is(typeof db.getProject, 'function', 'getProject is a function')\n\n  let project = fixtures.getProject()\n  let saved = await db.postProject(project)\n  let result = await db.getProject(saved.publicId)\n\n  t.deepEqual(saved, result)\n\n  t.throws(db.getProject('foo'), /not found/)\n\n})\n\ntest('GET all projects', async t => {\n  let db = t.context.db\n\n  t.is(typeof db.getProjects, 'function', 'getProjects is a function')\n\n  let projects = fixtures.getProjects(3)\n  let saveProjects = projects.map(project => db.postProject(project))\n  let created = await Promise.all(saveProjects)\n  let result = await db.getProjects()\n\n  t.is(typeof result, 'object', 'Result is an object')\n\n})\n\ntest('POST a project', async t => {\n  let db = t.context.db\n\n  t.is(typeof db.postProject, 'function', 'postProject is a function')\n\n  let body = fixtures.getProject()\n\n  let request = await db.postProject(body)\n\n  t.is(request.description, body.description)\n  t.is(request.projectImage, body.projectImage)\n  t.is(request.subtitle, body.subtitle)\n  t.is(request.title, body.title)\n  t.is(typeof request.creator, 'string')\n  t.truthy(request.createdAt)\n})\n\ntest('UPDATE a project', async t => {\n  let db = t.context.db\n\n  t.is(typeof db.updateProject, 'function', 'updateProject is a function')\n\n  let project = fixtures.getProject()\n  let saved = await db.postProject(project)\n  let change = await fixtures.updateObject()\n  let result = await db.updateProject(saved.id, change)\n\n  t.deepEqual(result.replaced, 1)\n\n})\n\ntest('DELETE a project', async t => {\n  let db = t.context.db\n\n  t.is(typeof db.deleteProject, 'function', 'deleteProject is a function')\n\n  let project = fixtures.getProject()\n  let saved = await db.postProject(project)\n  let result = await db.deleteProject(project.id)\n\n  t.deepEqual(result.deleted, 1)\n\n})\n\n```\n### Error Message & Stack Trace\n\n```\nmiguhruiz@MacBook-de-Miguh: ~/Dropbox/dev/bettercode-[fa4c8fc]  17:48\n> npm test\n\n> bettercode-db@1.2.1 test /Users/miguhruiz/Dropbox/dev/bettercode-db\n> ava --verbose\n\n\nUncaught Exception: test/project.js\n  Error: Cannot find module './_checkGlobal'\n    at Function.Module._resolveFilename (module.js:455:15)\n    at Function.Module._load (module.js:403:25)\n    at Module.require (module.js:483:17)\n    at require (internal/module.js:20:19)\n    at Object.<anonymous> (/Users/miguhruiz/Dropbox/dev/bettercode-db/node_modules/lodash/_root.js:1:81)\n    at Module._compile (module.js:556:32)\n    at Object.Module._extensions..js (module.js:565:10)\n    at Module.load (module.js:473:32)\n    at tryModuleLoad (module.js:432:12)\n    at Function.Module._load (module.js:424:3)\n    at Module.require (module.js:483:17)\n    at require (internal/module.js:20:19)\n    at Object.<anonymous> (/Users/miguhruiz/Dropbox/dev/bettercode-db/node_modules/lodash/_coreJsData.js:1:74)\n    at Module._compile (module.js:556:32)\n    at Object.Module._extensions..js (module.js:565:10)\n    at Module.load (module.js:473:32)\n\n\n\n  0 tests passed [17:49:07]\n  1 uncaught exception\n\nnpm ERR! Test failed.  See above for more details.\n```\n### Command-Line Arguments\n\n```\nava --verbose\n```\n## Environment\n\n```\nNode.js v6.4.0\ndarwin 16.0.0\nava 0.15.2\nnpm 3.10.3\n```\n",
                              "label": "unlabeledBug",
                              "createdAt": "2016-08-22T15:53:10Z",
                              "closedAt": "2016-08-24T09:53:38Z",
                              "lastComment": "2016-08-24T09:53:44Z",
                              "commentCount": 1
                         },
                         {
                              "title": "EADDRINUSE trying to debug ",
                              "description": "## Description\n\nI've seen an old issue like this you say was resolved by node updates. In my case not. I'm try to debug ava test with webstorm and phpstorm and got this:\n### Error Message & Stack Trace\n\n![image](https://cloud.githubusercontent.com/assets/13141364/17768649/3f2e2dc4-6535-11e6-9335-a8974ef3d382.png)\n### Config\n\nFrom package.json:\n`\"ava\": \"^0.16.0\",`\n\nConfig to run\n![image](https://cloud.githubusercontent.com/assets/13141364/17768679/5eec31d8-6535-11e6-97d0-408b8ded5cab.png)\n\n**Node version is 6.3.1** on ubuntu 15.10\n### Command-Line Arguments\n\n`/usr/bin/node --debug-brk=45516 --nolazy cli.js --verbose ../../tests/testDataTableComposer.js`\n\nI can't figure out a way to force the port number of cli. But is strange: even if the port number is random cli can't find any that wasn't busy... \n",
                              "label": "unlabeledBug",
                              "createdAt": "2016-08-18T09:22:31Z",
                              "closedAt": "2016-09-23T16:13:42Z",
                              "lastComment": "2016-12-15T09:51:35Z",
                              "commentCount": 4
                         },
                         {
                              "title": "Fix stack cleaning",
                              "description": "On Node.js 6 we're not cleaning all the unnecessary stack lines. Needs to be fixed in an external module: https://github.com/tapjs/stack-utils/issues/14#issuecomment-238026000\n",
                              "label": "bug",
                              "createdAt": "2016-08-14T17:43:25Z",
                              "closedAt": "2017-02-09T11:53:39Z",
                              "lastComment": "2017-02-09T11:53:59Z",
                              "commentCount": 4
                         },
                         {
                              "title": "t.deepEqual says array deep equals keyed object",
                              "description": "I had a bug in my application where an array got converted to an object with keys (by accident). In Javascript these are different things. This made our document store fail because it expected an array. My unit test did not detect this flaw.\n\nIt's about this assertion:\n\n```\nt.deepEqual(\n  { 0: 'a', 1: 'b' },\n  ['a', 'b']\n);\n```\n\nI know that in some assertion libraries this fails (expect) and in some it does not (assert). I think it should fail.\n\nKind regards,\n\nNiels\n",
                              "label": "bug",
                              "createdAt": "2016-08-10T13:27:28Z",
                              "closedAt": "2016-08-12T16:38:26Z",
                              "lastComment": "2016-08-12T13:46:50Z",
                              "commentCount": 7
                         },
                         {
                              "title": "devtool profiling fails with Uncaught Error",
                              "description": "## Description\n\nWhen following the [profiling instructions in maintaining.md](https://github.com/avajs/ava/blob/master/maintaining.md#profiling):\n\n```\n$ devtool node_modules/ava/profile.js test.js\n```\n\nI get an Uncaught Error (see below). If it helps, I ran the profiler against the AVA tests in https://github.com/sindresorhus/generator-nm\n### Error Message & Stack Trace\n\n![image](https://cloud.githubusercontent.com/assets/5614571/17374559/1b5fa788-59a5-11e6-9639-499b2b5e8896.png)\n\nHere is the text from the screenshot above:\n\n<pre>\n/usr/local/lib/node_modules/devtool/lib/require-hook.js:50 Uncaught Error: \n/Users/michael/forks/generator-nm/node_modules/ava/profile.js\n\n/Users/michael/forks/generator-nm/node_modules/ava/lib/caching-precompiler.js\n\n/Users/michael/forks/generator-nm/node_modules/ava/node_modules/convert-source-map/index.js\nAn error occurred while trying to read the map file at /Users/michael/forks/generator-nm/node_modules/ava/node_modules/convert-source-map/foo.js.map\nError: ENOENT: no such file or directory, open '/Users/michael/forks/generator-nm/node_modules/ava/node_modules/convert-source-map/foo.js.map'readFromFileMap @ /usr/local/lib/node_modules/devtool/node_modules/convert-source-map/index.js:32Converter @ /usr/local/lib/node_modules/devtool/node_modules/convert-source-map/index.js:39exports.fromMapFileComment @ /usr/local/lib/node_modules/devtool/node_modules/convert-source-map/index.js:112exports.fromMapFileSource @ /usr/local/lib/node_modules/devtool/node_modules/convert-source-map/index.js:131devtoolWrapModule @ /usr/local/lib/node_modules/devtool/lib/require-hook.js:75Module._compile @ module.js:509devtoolCompileModule @ /usr/local/lib/node_modules/devtool/lib/require-hook.js:32Module.load @ module.js:456tryModuleLoad @ module.js:415Module._load @ module.js:407Module.require @ module.js:466require @ internal/module.js:20(anonymous function) @ /Users/michael/forks/generator-nm/node_modules/ava/lib/caching-precompiler.js:4Module._compile @ module.js:541devtoolCompileModule @ /usr/local/lib/node_modules/devtool/lib/require-hook.js:32Module.load @ module.js:456tryModuleLoad @ module.js:415Module._load @ module.js:407Module.require @ module.js:466require @ internal/module.js:20(anonymous function) @ /Users/michael/forks/generator-nm/node_modules/ava/profile.js:15Module._compile @ module.js:541devtoolCompileModule @ /usr/local/lib/node_modules/devtool/lib/require-hook.js:32Module.load @ module.js:456tryModuleLoad @ module.js:415Module._load @ module.js:407Module.require @ module.js:466require @ internal/module.js:20(anonymous function) @ /usr/local/lib/node_modules/devtool/lib/preload.js:83emitOne @ events.js:96emit @ events.js:188\n</pre>\n\n## Environment\n\ndevtool@2.0.3\nNode.js: `v4.4.4`\ndarwin: `14.5.0`\nAVA: `0.15.2`\nnpm: `2.15.1`\n\n(This issue is related to the archived issue #798)\n",
                              "label": "bug",
                              "createdAt": "2016-08-03T17:08:53Z",
                              "closedAt": "2019-05-02T06:32:51Z",
                              "lastComment": "2017-08-28T15:32:31Z",
                              "commentCount": 4
                         },
                         {
                              "title": "iron-node profiling fails with multiple errors",
                              "description": "## Description\n\nWhen following the [profiling instructions in maintaining.md](https://github.com/avajs/ava/blob/master/maintaining.md#profiling):\n\n```\n$ iron-node node_modules/ava/profile.js <test-file>\n```\n\nI get multiple runtime errors (see below). If it helps, I ran the profiler against the AVA tests in https://github.com/sindresorhus/generator-nm\n### Error Message & Stack Trace\n\n![image](https://cloud.githubusercontent.com/assets/5614571/17374244/a0ad6cce-59a3-11e6-9cdf-8b04e1ccf344.png)\n\nHere is the text from the screenshot above:\n\n<pre>\nironNode boot\n/usr/local/lib/node_modules/iron-node/app/require-custom-wrap.js:32 Object {v8: Object, app: Object}\nProfile 'AVA test-worker process' started.\nmedia/header.png:1 GET file:///usr/local/lib/node_modules/iron-node/app/media/header.png net::ERR_FILE_NOT_FOUND\nmedia/screenshot-mini-reporter.gif:1 GET file:///usr/local/lib/node_modules/iron-node/app/media/screenshot-mini-reporter.gif net::ERR_FILE_NOT_FOUND\ncommon.js:42 exec: internal errorlog @ common.js:42error @ common.js:70_exec @ exec.js:266(anonymous function) @ common.js:275user.git.name @ user.js:30prompt.then.props @ index.js:88\napp.js:58   TypeError: Cannot read property 'stdout' of null\n  \n  - user.js:30 Object.user.git.name\n    [generator-nm]/[yeoman-generator]/lib/actions/user.js:30:70\n  \n  - index.js:88 prompt.then.props\n    /Users/michael/forks/generator-nm/app/index.js:88:25\n  \nerror @ app.js:58emitOne @ events.js:101emit @ events.js:188processEmit @ index.js:146window.onerror @ init.js:114\napp.js:59 Details TypeError: Cannot read property 'stdout' of null(…)error @ app.js:59emitOne @ events.js:101emit @ events.js:188processEmit @ index.js:146window.onerror @ init.js:114\nprofile.js:125 TypeError: Cannot read property 'stdout' of null\n    Object.user.git.name (node_modules/yeoman-generator/lib/actions/user.js:30:70)\n    prompt.then.props (app/index.js:88:25)\n</pre>\n\n## Environment\n\niron-node@3.0.11\nNode.js: `v4.4.4`\ndarwin: `14.5.0`\nAVA: `0.15.2`\nnpm: `2.15.1`\n\n(This issue is related to the archived issue #798)\n",
                              "label": "bug",
                              "createdAt": "2016-08-03T17:03:16Z",
                              "closedAt": "2019-12-21T18:52:48Z",
                              "lastComment": "2017-08-28T15:32:26Z",
                              "commentCount": 3
                         },
                         {
                              "title": "t.throws() causes Node syntax error if first argument is function call with await arguments",
                              "description": "## Description\n\nI have a test that breaks after updating ava to version ~0.15.2 that works when using ava@0.14.0. This has been tested on node 6.3.1 and 4.2.4 amongst others. and seems related to a missing \"use strict\" after transpiling ES6 modules (wild guess there). I've looked at the commits between the two versions but haven't been able to identify what might cause the problem, but I haven't tested individual commits due to lack of time.\n### Test Source, error message, and configuration\n\nYou can see the relevant files and error message here: https://gist.github.com/nesukun/f8cb2eef133548224d21bfd8a3ae5aa4\n\nAs a side note, using AVA's default babel config does not solve or alter the result. Hope you don't mind having everything in a gist, as I prepared that for the gitter channel before opening the issue.\n## Environment\n\nTested mainly using the versions of node specified above under macOS 10.11.5 and inside the docker default node image\n",
                              "label": "bug",
                              "createdAt": "2016-08-03T08:50:47Z",
                              "closedAt": "2017-04-20T08:28:48Z",
                              "lastComment": "2017-04-20T08:28:48Z",
                              "commentCount": 12
                         },
                         {
                              "title": "CLI not working on Windows",
                              "description": "The CLI is not working for me on Windows, and the issue seems to be with this code:\n\nhttps://github.com/avajs/ava/blob/f9fe8f242dd58d02ab1110f677e82172652d9d3d/cli.js#L11-L15\n\n``` js\nif (localCLI && localCLI !== __filename) {\n    debug('Using local install of AVA');\n    require(localCLI);\n    return;\n}\n```\n\nThe problem is with the use of `!==` to compare `localCLI` and `__filename`.  In my case, the two variables hold the following values:\n\n`localCLI: c:\\workspace\\...\\node_modules\\ava\\cli.js`\n`__filename: C:\\workspace\\...\\node_modules\\ava\\cli.js`\n\nAs you can see, the drive letter `c:` is lowercase in `localCLI` and uppercase in `__filename`, thus failing the `!==` check.\n\nUsing `!==` to compare paths doesn't seem to be a particularly good idea since there are numerous different ways the exact same path can be encoded.  Not sure what the best practice is for comparing paths in node.js is.  Perhaps [`path.relative()`](https://nodejs.org/api/path.html#path_path_relative_from_to) could be used?\n",
                              "label": "bug",
                              "createdAt": "2016-08-02T20:34:53Z",
                              "closedAt": "2016-08-11T13:00:31Z",
                              "lastComment": "2016-08-09T11:57:06Z",
                              "commentCount": 6
                         },
                         {
                              "title": "Faulty code does not throw an error",
                              "description": "``` js\ntest(\"foo update\", t => {\n    try {\n        console.log(foo);\n        console.log(bar);\n\n        var foo = 1;\n        let bar = 2;\n    } catch (e) {\n        t.is(e.name, 'ReferenceError')\n    }\n});\n```\n\nwhen i run code above. it didn't throw a error\n",
                              "label": "bug",
                              "createdAt": "2016-07-29T08:55:07Z",
                              "closedAt": "2016-09-23T15:42:27Z",
                              "lastComment": "2016-09-23T15:42:27Z",
                              "commentCount": 4
                         },
                         {
                              "title": "An error occurred while trying to read the map file",
                              "description": "<!-- Issuehunt Badges -->\n\n[<img alt=\"Issuehunt badges\" src=\"https://issuehunt.io/r/avajs/ava/issues/982/badge.svg\" />](https://issuehunt.io/r/avajs/ava/issues/982)\n\n<!-- /Issuehunt Badges -->\n\n## Reproduction\n\ntest/crash.js\n\n``` js\nconst ava = require('ava')\n\ntest('anything', t => {\n  `//# sourceMappingURL=a.js.map`\n})\n```\n\nBash\n\n``` sh\n> ava test/crash.js\n\n1. Uncaught Exception\n   Error: An error occurred while trying to read the map file at /path/to/test/a.js.map`\nError: ENOENT: no such file or directory, open 'path/to/test/test/a.js.map`'\n```\n## Environment\n- Node.js v6.3.0\n- darwin 15.5.0\n- ava 0.15.2\n- npm 3.10.3\n<!-- Issuehunt content -->\n\n\n\n> There is a $30.00 open bounty on this issue. Add more on [Issuehunt](https://issuehunt.io/r/avajs/ava/issues/982).\n> - Checkout the [Issuehunt explorer](https://issuehunt.io/r/avajs/ava/) to discover more funded issues.\n> - Need some help from other developers? [Add your repositories](https://issuehunt.io/r/new) on Issuehunt to raise funds.\n\n\n<!-- /Issuehunt content-->",
                              "label": "bug",
                              "createdAt": "2016-07-28T09:55:06Z",
                              "closedAt": "2019-07-31T07:43:14Z",
                              "lastComment": "2019-07-31T07:43:14Z",
                              "commentCount": 10
                         },
                         {
                              "title": "ava overrides `source-map-support` of `babel-register`",
                              "description": "If I transpile imported modules with `babel-register`, stack traces of the imported modules are not correctly reported because`ava` overrides `source-map-support` of `babel-register`.\n\nThis is due to the dependency mismatch between `ava` and `babel-register`. `babel-register` depends on `source-map-support` 0.2.10 and `ava` depends on the version 0.4.0, making the both use the different `source-map-support`s so one overriding `Error.prepareStackTrace`.\n\nWhen I bump `source-map-support` in `babel-register` (babel/babel#3571), the issue goes away.\n### Config\n\n``` json\n{\n  \"ava\": {\n    \"require\": [\n      \"babel-register\"\n    ],\n    \"babel\": \"inherit\"\n  ...\n  }\n}\n```\n",
                              "label": "bug",
                              "createdAt": "2016-07-20T14:47:38Z",
                              "closedAt": "2019-12-24T16:37:28Z",
                              "lastComment": "2018-08-27T12:19:18Z",
                              "commentCount": 8
                         },
                         {
                              "title": "Test count in watch mode is incorrect",
                              "description": "## Description\n\nI'm running `ava` in watch mode and when I have a fail test and then fix it, the number of passed test is not correct:\n\n![image](https://cloud.githubusercontent.com/assets/3254987/16971547/b33dc4cc-4dd9-11e6-87c6-34df01536c11.png)\n\nIf I stop the watch mode and run again, it runs correctly:\n![image](https://cloud.githubusercontent.com/assets/3254987/16971566/c7e8fb30-4dd9-11e6-9715-94c976825a61.png)\n### Command-Line Arguments\n\nCopy your npm build scripts or the `ava` command used:\n\n``` sh\nava -w dist/**/*.spec.js\n```\n\n```\nNode.js v4.4.7\ndarwin 14.5.0\nava 0.15.2\nnpm 3.10.5\n```\n",
                              "label": "unlabeledBug",
                              "createdAt": "2016-07-20T00:55:44Z",
                              "closedAt": "2016-07-20T02:19:59Z",
                              "lastComment": "2016-07-20T02:22:15Z",
                              "commentCount": 2
                         },
                         {
                              "title": "updating all dependencies - breaks it all!!",
                              "description": "<!-- CLICK \"Preview\" FOR INSTRUCTIONS IN A MORE READABLE FORMAT -->\n## Prerequisites\n- We realize there is a lot of data requested here. We ask only that you do your best to provide as much information as possible so we can better help you.\n- Read the [contributing guidelines](https://github.com/avajs/ava/blob/master/contributing.md).\n- Support questions are better asked in one of the following locations:\n  - [Our chat](https://gitter.im/avajs/ava)\n  - [Stack Overflow](https://stackoverflow.com/questions/tagged/ava)\n- Ensure the issue isn't already reported.\n- Should be reproducible with the latest AVA version.\n  - (Ensure `ava --version` matches ![](https://img.shields.io/npm/v/ava.svg))\n\n_Delete the above section and the instructions in the sections below before submitting_\n## Description  Updated dependencies\n\nIf this is a feature request, explain why it should be added. Specific use-cases are best.\n\nFor bug reports, please provide as much _relevant_ info as possible.\n### Test Source\n\n``` js\n// Avoid posting hundreds of lines of source code.\n// Edit to just the relevant portions.\n```\n### Error Message & Stack Trace  Lot of error messages. Latest Babel isn't compatible at all. `strip-bom` gives thiss error `Unhandled rejection TypeError: Expected a string, got object`. There are tons of other issues related to this.\n\n```\nCOPY THE ERROR MESSAGE, INCLUDING STACK TRACE HERE\n```\n### Config\n\nCopy the relevant section from `package.json`:\n\n``` json\n{\n  \"ava\": {\n  ...\n  }\n}\n```\n### Command-Line Arguments\n\nCopy your npm build scripts or the `ava` command used:\n\n```\nava [OPTIONS HERE]\n```\n## Relevant Links\n- If your project is public, link to the repo so we can investigate directly.\n- **BONUS POINTS:** Create a [minimal reproduction](http://stackoverflow.com/help/mcve) and upload it to GitHub. This will get you the fastest support.\n## Environment Ava\n\nTell us which operating system you are using, as well as which versions of Node.js, npm, and AVA. Run the following to get it quickly:\n\n```\nnode -e \"var os=require('os');console.log('Node.js ' + process.version + '\\n' + os.platform() + ' ' + os.release())\"\nava --version\nnpm --version\n```\n",
                              "label": "unlabeledBug",
                              "createdAt": "2016-07-19T22:29:40Z",
                              "closedAt": "2016-08-09T08:11:43Z",
                              "lastComment": "2016-08-09T08:11:43Z",
                              "commentCount": 2
                         },
                         {
                              "title": "Failed to test Ajax with Sinon.js ",
                              "description": "#### Success to test Ajax example\n- _Sinon_ + _jQuery_ + _Mocha_  :  http://codepen.io/anon/pen/Krkqyw?editors=1010\n- _Sinon_ + _jQuery_ + _AVA_ : \n\n``` javascript\ntest('test $.ajax', t => {\n    var app = new App();\n    var get = sinon.stub($, 'get');\n    var fakeCallbackFunc = sinon.spy();\n\n    get.yields(); \n\n    $.get('/users', {test: 'sinon_with_ava'}, fakeCallbackFunc);\n\n    get.restore();\n\n    t.deepEqual(fakeCallbackFunc.called, true, \n        \"$.get callback havent been called\"\n    );\n});\n```\n\nWhen i use `$.get` directly in test file, it work !!!!\n\nbut if `$.get` is in a file called : **app.ts**,\n\n``` typescript\n// app.ts\nexport class Foo {\n    justtest(callback:Function) {\n        return $.ajax('/users', {test: 'sinon_with_ava'}, callback:Function);\n    }\n}\n```\n\nAnd i import it, call its function to execute `$.ajax`\nthen test will fail, and i have no idea why it is,\nbug ? \n\n**NOTE**: i can import _typescript_ file directly in _javascript_ file by using \npackage naming [**typescript-require**](https://www.npmjs.com/package/typescript-require)\n",
                              "label": "unlabeledBug",
                              "createdAt": "2016-07-15T13:31:55Z",
                              "closedAt": "2016-07-22T14:05:50Z",
                              "lastComment": "2016-07-22T14:05:47Z",
                              "commentCount": 2
                         },
                         {
                              "title": "Really esoteric node 0.10 strict mode pollution issue",
                              "description": "## Description\n\nThe version of v8 on node 0.10 suffers from a strict mode pollution bug, and I've ran into it while using ava. See the test source.\n\nThis doesn't happen if I directly require the file, either by requiring it at the top level of the request (which I don't want to do because I'm using mockery), or just from another source file like `'use strict'; require('./test/helpers/ava-bug')`. It also doesn't happen if I run ava with nyc.\n\nI'm fine if this is closed, since it's really esoteric, and only affects 0.10.\n### Test Source\n\nhttps://gist.github.com/forivall/e78f320cc8b6452f7260c6d91d64568a\n### Error Message & Stack Trace\n\n```\n» ava\n\n   1 failed\n\n\n   1. ava bug\n   failed with \"Illegal access to a strict mode caller function.\"\n      Object.<anonymous> (helpers/ava-bug.js:5:9)\n    extensions.(anonymous function) (/Users/jordanklassen/Code/ava-bug/node_modules/require-precompiled/index.js:16:3)\n    Test.fn (ava-bug.test.js:5:3)\n    handleMessage (child_process.js:322:10)\n    Pipe.channel.onread (child_process.js:349:11)\n```\n## Environment\n\nNode.js v0.10.43\ndarwin 15.5.0\nava 0.15.2\nnpm 3.10.5\n",
                              "label": "unlabeledBug",
                              "createdAt": "2016-07-14T18:50:59Z",
                              "closedAt": "2016-07-14T22:05:07Z",
                              "lastComment": "2016-07-14T22:05:07Z",
                              "commentCount": 2
                         },
                         {
                              "title": "Support NODE_ICU_DATA in forked processes",
                              "description": "With the almost same reason with #531, we need to ensure `NODE_ICU_DATA` is absolute in `lib/fork.js`.\n### Error Message & Stack Trace\n\n```\n#\n# Fatal error in , line 0\n# Failed to create ICU date format, are ICU data files missing?\n#\n\n==== C stack trace ===============================\n\n 1: V8_Fatal\n 2: v8::internal::(anonymous namespace)::CreateICUDateFormat(v8::internal::Isolate*, icu_57::Locale const&, v8::internal::Handle<v8::internal::JSObject>)\n 3: v8::internal::Runtime_CreateDateTimeFormat(int, v8::internal::Object**, v8::internal::Isolate*)\n 4: 0x1e1d30b0961b\n 5: 0x1e1d30ced87c\n```\n",
                              "label": "bug",
                              "createdAt": "2016-07-13T13:51:32Z",
                              "closedAt": "2020-05-24T16:29:19Z",
                              "lastComment": "2016-09-23T15:26:56Z",
                              "commentCount": 2
                         },
                         {
                              "title": "Custom Error Inheritance Breaks?",
                              "description": "## Description\n\nCustom errors extending from the Native Error in Node do not work correctly with `instanceof` and `t.throws`, in spite of the fact that in the Node REPL custom errors work correctly with `instanceof`.  I am compiling from TypeScript, but this makes no difference in the behavior (apart from occasional compiler warnings) from just writing in plain JS.\n### Test Source\n\n``` js\n// my custom error in app/support/errors.ts\nexport class RequiredError extends Error {\n  constructor (requiredField: string, actualValue: any) {\n    super(`${requiredField} was required but got ${value}`)\n  }\n}\n// my test file in test/simple-test.ts\nimport test from 'ava'\nimport { RequiredError } from '../app/support/errors'\n\ntest(`Do errors inherit?`, t => {\n  try {\n    throw new RequiredError('myfield', undefined)\n  } catch (e) {\n    console.log(e instanceof RequiredError)\n    console.log(e instanceof Error)\n    t.true(e instanceof RequiredError)\n  }\n})\n```\n### Error Message & Stack Trace\n\n![Error message](http://i.imgur.com/yhdYnpa.png)\n\n(Sorry it's hard to copy that correctly from inside of tmux.)\n### Config\n\nCopy the relevant section from `package.json`:\n\n``` json\n{\n  \"ava\": {\n    \"failFast\": true,\n    \"require\": [\n      \"babel-register\",\n      \"ava-jspm-loader\"\n    ],\n    \"tap\": true\n  }\n}\n```\n### Command-Line Arguments\n\nCopy your npm build scripts or the `ava` command used:\n\n``` sh\n# pretest\n(tsc -p app ; :) && (tsc -p test ; :)\n#test\nava | tap-difflet\n#posttest\nrm -f $(find app -name '*.js*') && rm -f $(find test -name '*.js*')\n```\n## Relevant Links\n\n[Minimal reproduction](https://github.com/skorlir/ava-bug-custom-errors)\n\nNote that to simplify the process the minimal reproduction is written in plain JS. The error's root cause seems to have nothing to do with most of my configuration - TypeScript and an ava plugin/hack - so I trimmed that all out.\n## Environment\n\nNode.js v6.2.0\nlinux 4.4.0-28-generic\nUbuntu 16.04 x64\n\nava --version\n0.15.2\n\nnpm --version\n3.8.9\n",
                              "label": "unlabeledBug",
                              "createdAt": "2016-07-07T21:31:47Z",
                              "closedAt": "2016-07-08T03:57:11Z",
                              "lastComment": "2016-07-08T03:57:11Z",
                              "commentCount": 6
                         },
                         {
                              "title": "Make 'concurrency' flag stable to limit RAM usage",
                              "description": "At the moment the `concurrency` CLI flag is marked as experimental. AVA runs more than 230 tests and takes more than 12GB RAM without a limit for concurrency. I now limit it to 16 which has no impact on the time all tests need to complete, but AVA takes 2GB RAM instead.\n\nPerhaps this could be also fixed through some other ongoing efforts I saw in the issue tracker.\n",
                              "label": "unlabeledBug",
                              "createdAt": "2016-07-04T14:58:32Z",
                              "closedAt": "2016-07-06T09:16:01Z",
                              "lastComment": "2016-07-13T12:21:41Z",
                              "commentCount": 3
                         },
                         {
                              "title": "Ensure watch mode works when AVA is called outside the package root",
                              "description": "<!-- Issuehunt Badges -->\n\n[<img alt=\"Issuehunt badges\" src=\"https://issuehunt.io/r/avajs/ava/issues/936/badge.svg\" />](https://issuehunt.io/r/avajs/ava/issues/936)\n\n<!-- /Issuehunt Badges -->\n\nGiven the following project layout:\n\n```\n/package.json\n/lib/foo.js\n/test/foo.js\n```\n\nWatch mode works as expected when invoked like this:\n\n```\ncd /\n$(npm bin)/ava -w test/foo.js\n```\n\nBut not if invoked like:\n\n```\ncd /test\n$(npm bin)/ava -w foo.js\n```\n\nSee also #863.\n<!-- Issuehunt content -->\n\n\n\n> There is a $40.00 open bounty on this issue. Add more on [Issuehunt](https://issuehunt.io/r/avajs/ava/issues/936).\n> - Checkout the [Issuehunt explorer](https://issuehunt.io/r/avajs/ava/) to discover more funded issues.\n> - Need some help from other developers? [Add your repositories](https://issuehunt.io/r/new) on Issuehunt to raise funds.\n\n\n<!-- /Issuehunt content-->",
                              "label": "bug",
                              "createdAt": "2016-06-26T16:18:42Z",
                              "closedAt": "2020-05-24T16:29:07Z",
                              "lastComment": "2019-06-01T08:03:07Z",
                              "commentCount": 8
                         },
                         {
                              "title": "`after.always` doesn't run if there are uncaught exceptions",
                              "description": "Hi! This is the second time I read the documentation at README.md and find that the feature I'm using is not yet released (after some debugging). I'm not sure what it was last time, but this time it is `after.always` found in [commits since release](https://github.com/avajs/ava/compare/v0.15.2...master).\n\nAny thoughts about stabilizing/syncing the docs with the release cycle?\n",
                              "label": "unlabeledBug",
                              "createdAt": "2016-06-13T16:37:12Z",
                              "closedAt": "2016-06-19T19:50:46Z",
                              "lastComment": "2022-02-06T16:29:36Z",
                              "commentCount": 16
                         },
                         {
                              "title": "Only exclude `helpers` directory when inside a test directory",
                              "description": "Any chance the exclude rule for `helpers` can be relaxed so it only applies to files within `test/helpers`? I just ran into a `couldn't find any files to test` error for a test file that definitely existed. Ended up being because it was in a `helpers` dir nested deep within the package I was working on.\n\nI wasn't even aware ava had a concept of helpers until I ran into this. Where are they documented?\n\nHere's the related PR https://github.com/avajs/ava/pull/357 and issues https://github.com/avajs/ava/issues/355 https://github.com/avajs/ava/issues/750\n\n_Edit: added issue #750_\n",
                              "label": "bug",
                              "createdAt": "2016-06-09T19:03:46Z",
                              "closedAt": "2019-04-28T16:00:44Z",
                              "lastComment": "2019-04-01T23:57:24Z",
                              "commentCount": 21
                         },
                         {
                              "title": "index.d.ts is old in 0.15.2 package",
                              "description": "<!-- CLICK \"Preview\" FOR INSTRUCTIONS IN A MORE READABLE FORMAT -->\n## Prerequisites\n- `$ npm install ava`\n## Description\n\nIn ava 0.15.2 package, [my previous PR](https://github.com/avajs/ava/commit/2e984380c4df2bfe5a0af2ec37a970f4001c9f53) seems not to be applied.\n### Test Source\n\n``` typescript\nimport test from 'ava';\n\ntest.afterEach.always(() => {});\n```\n\nThen please execute `tsc test.ts --target es2015 --module commonjs`\n### Error Message & Stack Trace\n\n```\ntest.ts(3, 16): error TS2339: Property 'always' does not exist on type 'ContextualRunner'.\n```\n## Relevant Links\n- This must be fixed if [my PR](https://github.com/avajs/ava/commit/2e984380c4df2bfe5a0af2ec37a970f4001c9f53) is applied.\n## Environment\n\n```\nNode.js v5.6.0\ndarwin 15.3.0\nava 0.15.2\nnpm 3.6.0\n```\n",
                              "label": "unlabeledBug",
                              "createdAt": "2016-06-08T17:43:33Z",
                              "closedAt": "2016-06-09T17:12:53Z",
                              "lastComment": "2016-07-14T12:40:01Z",
                              "commentCount": 8
                         },
                         {
                              "title": "Nyc - Code coverage error",
                              "description": "Hi, I tried to search along the other issues, but I've not found anything useful.\n\nI want to run a code coverage over my code, so I've installed **nyc** as suggested.\nWhen I run my test suite with **ava** I have no problems, **all** my test pass.\nWhen I try to use nyc with `nyc ava` I got this:\n\n``` bash\n$ npm run coverage\n\n> tyval@2.0.0 coverage /Users/delvedor/Development/Tyval\n> nyc ava\n\n\n   2 passed\n   20 failed\n\n\n   1. string\n   failed with \"__cov_qtZRXqJXuv1eSPkwnSGGtw is not defined\"\n      eval (eval at <anonymous> (/Users/delvedor/Development/Tyval/tyval.js:9:8113), <anonymous>:7:5)\n    Test.fn (test.js:19:10)\n    processEmit [as emit] (/Users/delvedor/Development/Tyval/node_modules/nyc/node_modules/signal-exit/index.js:146:32)\n    processEmit [as emit] (/Users/delvedor/Development/Tyval/node_modules/nyc/node_modules/signal-exit/index.js:146:32)\n\n\n   2. number\n   failed with \"__cov_qtZRXqJXuv1eSPkwnSGGtw is not defined\"\n      eval (eval at <anonymous> (/Users/delvedor/Development/Tyval/tyval.js:9:8113), <anonymous>:7:5)\n    Test.fn (test.js:28:10)\n    processEmit [as emit] (/Users/delvedor/Development/Tyval/node_modules/nyc/node_modules/signal-exit/index.js:146:32)\n    processEmit [as emit] (/Users/delvedor/Development/Tyval/node_modules/nyc/node_modules/signal-exit/index.js:146:32)\n\n\n   3. null\n   failed with \"__cov_qtZRXqJXuv1eSPkwnSGGtw is not defined\"\n      eval (eval at <anonymous> (/Users/delvedor/Development/Tyval/tyval.js:9:8113), <anonymous>:7:5)\n    Test.fn (test.js:37:10)\n    processEmit [as emit] (/Users/delvedor/Development/Tyval/node_modules/nyc/node_modules/signal-exit/index.js:146:32)\n    processEmit [as emit] (/Users/delvedor/Development/Tyval/node_modules/nyc/node_modules/signal-exit/index.js:146:32)\n\n\n   4. undefined\n   failed with \"__cov_qtZRXqJXuv1eSPkwnSGGtw is not defined\"\n      eval (eval at <anonymous> (/Users/delvedor/Development/Tyval/tyval.js:9:8113), <anonymous>:7:5)\n    Test.fn (test.js:46:10)\n    processEmit [as emit] (/Users/delvedor/Development/Tyval/node_modules/nyc/node_modules/signal-exit/index.js:146:32)\n    processEmit [as emit] (/Users/delvedor/Development/Tyval/node_modules/nyc/node_modules/signal-exit/index.js:146:32)\n\n\n   5. boolean\n   failed with \"__cov_qtZRXqJXuv1eSPkwnSGGtw is not defined\"\n      eval (eval at <anonymous> (/Users/delvedor/Development/Tyval/tyval.js:9:8113), <anonymous>:7:5)\n    Test.fn (test.js:55:10)\n    processEmit [as emit] (/Users/delvedor/Development/Tyval/node_modules/nyc/node_modules/signal-exit/index.js:146:32)\n    processEmit [as emit] (/Users/delvedor/Development/Tyval/node_modules/nyc/node_modules/signal-exit/index.js:146:32)\n\n\n   6. object\n   failed with \"__cov_qtZRXqJXuv1eSPkwnSGGtw is not defined\"\n      eval (eval at <anonymous> (/Users/delvedor/Development/Tyval/tyval.js:9:8113), <anonymous>:7:5)\n    Test.fn (test.js:64:10)\n    processEmit [as emit] (/Users/delvedor/Development/Tyval/node_modules/nyc/node_modules/signal-exit/index.js:146:32)\n    processEmit [as emit] (/Users/delvedor/Development/Tyval/node_modules/nyc/node_modules/signal-exit/index.js:146:32)\n\n\n   7. function\n   failed with \"__cov_qtZRXqJXuv1eSPkwnSGGtw is not defined\"\n      eval (eval at <anonymous> (/Users/delvedor/Development/Tyval/tyval.js:9:8113), <anonymous>:7:5)\n    Test.fn (test.js:73:10)\n    processEmit [as emit] (/Users/delvedor/Development/Tyval/node_modules/nyc/node_modules/signal-exit/index.js:146:32)\n    processEmit [as emit] (/Users/delvedor/Development/Tyval/node_modules/nyc/node_modules/signal-exit/index.js:146:32)\n\n\n   8. alphanum\n   failed with \"__cov_qtZRXqJXuv1eSPkwnSGGtw is not defined\"\n      eval (eval at <anonymous> (/Users/delvedor/Development/Tyval/tyval.js:9:8113), <anonymous>:7:5)\n    Test.fn (test.js:82:10)\n    processEmit [as emit] (/Users/delvedor/Development/Tyval/node_modules/nyc/node_modules/signal-exit/index.js:146:32)\n    processEmit [as emit] (/Users/delvedor/Development/Tyval/node_modules/nyc/node_modules/signal-exit/index.js:146:32)\n\n\n   9. regex\n   failed with \"__cov_qtZRXqJXuv1eSPkwnSGGtw is not defined\"\n      eval (eval at <anonymous> (/Users/delvedor/Development/Tyval/tyval.js:9:8113), <anonymous>:7:5)\n    Test.fn (test.js:92:10)\n    processEmit [as emit] (/Users/delvedor/Development/Tyval/node_modules/nyc/node_modules/signal-exit/index.js:146:32)\n    processEmit [as emit] (/Users/delvedor/Development/Tyval/node_modules/nyc/node_modules/signal-exit/index.js:146:32)\n\n\n   10. maxStr\n   failed with \"__cov_qtZRXqJXuv1eSPkwnSGGtw is not defined\"\n      eval (eval at <anonymous> (/Users/delvedor/Development/Tyval/tyval.js:9:8113), <anonymous>:7:5)\n    Test.fn (test.js:102:10)\n    processEmit [as emit] (/Users/delvedor/Development/Tyval/node_modules/nyc/node_modules/signal-exit/index.js:146:32)\n    processEmit [as emit] (/Users/delvedor/Development/Tyval/node_modules/nyc/node_modules/signal-exit/index.js:146:32)\n\n\n   11. minStr\n   failed with \"__cov_qtZRXqJXuv1eSPkwnSGGtw is not defined\"\n      eval (eval at <anonymous> (/Users/delvedor/Development/Tyval/tyval.js:9:8113), <anonymous>:7:5)\n    Test.fn (test.js:111:10)\n    processEmit [as emit] (/Users/delvedor/Development/Tyval/node_modules/nyc/node_modules/sign-----------|----------|----------|----------|----------|----------------|\nFile       |  % Stmts | % Branch |  % Funcs |  % Lines |Uncovered Lines |\n-----------|----------|----------|----------|----------|----------------|\n Tyval/    |    75.58 |      100 |    54.76 |    75.58 |                |\n  tyval.js |    75.58 |      100 |    54.76 |    75.58 |... 151,158,165 |\n-----------|----------|----------|----------|----------|----------------|\nAll files  |    75.58 |      100 |    54.76 |    75.58 |                |\n-----------|----------|----------|----------|----------|----------------|\n\n\nnpm ERR! Darwin 15.5.0\nnpm ERR! argv \"/Users/delvedor/.nvm/versions/node/v6.2.0/bin/node\" \"/Users/delvedor/.nvm/versions/node/v6.2.0/bin/npm\" \"run\" \"coverage\"\nnpm ERR! node v6.2.0\nnpm ERR! npm  v3.8.9\nnpm ERR! code ELIFECYCLE\nnpm ERR! tyval@2.0.0 coverage: `nyc ava`\nnpm ERR! Exit status 1\nnpm ERR!\nnpm ERR! Failed at the tyval@2.0.0 coverage script 'nyc ava'.\nnpm ERR! Make sure you have the latest version of node.js and npm installed.\nnpm ERR! If you do, this is most likely a problem with the tyval package,\nnpm ERR! not with npm itself.\nnpm ERR! Tell the author that this fails on your system:\nnpm ERR!     nyc ava\nnpm ERR! You can get information on how to open an issue for this project with:\nnpm ERR!     npm bugs tyval\nnpm ERR! Or if that isn't available, you can get their info via:\nnpm ERR!     npm owner ls tyval\nnpm ERR! There is likely additional logging output above.\n\nnpm ERR! Please include the following file with any support request:\nnpm ERR!     /Users/delvedor/Development/Tyval/npm-debug.log\n```\n\nAll the tests are very simple, I'm using only `.is()`, `.true()` and `.false()`.\nI don't understand why, can you help me?\nThanks!\n",
                              "label": "unlabeledBug",
                              "createdAt": "2016-05-30T18:15:14Z",
                              "closedAt": "2016-06-11T09:03:12Z",
                              "lastComment": "2016-06-27T05:48:58Z",
                              "commentCount": 7
                         },
                         {
                              "title": "ES Bind Operator Throws SyntaxError When Test Failing",
                              "description": "## Description\n\nI was trying to use the ES bind operator in my test files.\nIf I transpile the code in the Babel REPL and try it with the resulting ES5 code all is working fine so I think it must be something with AVAs or power-asserts internal transpilation.\nAfter that I tried to make a reproduction and noticed that the SyntaxError is only there if the test fails.\n### Test Source\n\n``` js\nimport test from 'ava'\nimport validate from './validate.js'\n\ntest('should be a function', t => {\n    t.is(typeof validate, 'function')\n})\n\ntest('should wrap a value in a validation object', t => {\n    t.deepEqual(true::validate('foo'), {\n        valid: true,\n        value: true,\n        name: 'bar'\n    }, 'boolean')\n})\n```\n\n`validate.js`:\n\n``` js\nfunction validate(name) {\n    return {\n        name,\n        valid: true,\n        value: this\n    }\n}\n\nexport default validate\n```\n### Error Message & Stack Trace\n\n```\n> ava\n\n\n ⠏ required › should be a function\n\n   1 passed\n   1 failed/Users/konstantinpschera/Development/Projects/feed/validation/node_modules/acorn/dist/acorn.js:945\n  throw err;\n  ^\n\nSyntaxError: Unexpected token (1:16)\n    at Parser.pp.raise (/Users/konstantinpschera/Development/Projects/feed/validation/node_modules/acorn/dist/acorn.js:943:13)\n    at Parser.pp.unexpected (/Users/konstantinpschera/Development/Projects/feed/validation/node_modules/acorn/dist/acorn.js:1503:8)\n    at Parser.pp.expect (/Users/konstantinpschera/Development/Projects/feed/validation/node_modules/acorn/dist/acorn.js:1497:26)\n    at Parser.pp.parseExprList (/Users/konstantinpschera/Development/Projects/feed/validation/node_modules/acorn/dist/acorn.js:643:12)\n    at Parser.pp.parseSubscripts (/Users/konstantinpschera/Development/Projects/feed/validation/node_modules/acorn/dist/acorn.js:240:29)\nnpm ERR! Test failed.  See above for more details.\n```\n### Config\n\n`package.json`:\n\n``` json\n{\n  \"ava\": {\n    \"require\": [\n      \"babel-register\"\n    ],\n    \"failFast\": true,\n    \"babel\": \"inherit\"\n  }\n}\n```\n\n`.babelrc`:\n\n``` json\n{\n    \"presets\": [\"es2015\", \"stage-0\"]\n}\n```\n### Command-Line Arguments\n\n```\nava\n```\n## Relevant Links\n- https://github.com/tim-mcgee/ava-es-bind\n## Environment\n\n```\nMac OSX El Capitan (Version: 10.11.5 (15F34))\ndarwin 15.5.0\nNPM v3.9.3\nNode.js v6.2.0\nAVA v0.15.1\n```\n",
                              "label": "bug",
                              "createdAt": "2016-05-26T10:20:41Z",
                              "closedAt": "2016-09-23T14:50:13Z",
                              "lastComment": "2016-09-23T14:50:13Z",
                              "commentCount": 6
                         },
                         {
                              "title": "Default test filename convention __tests__ not working",
                              "description": "As the implementer of this extension to the list of default filenames I feel embarrassed that I didn't test this out sooner, but if you see [this repo](https://github.com/kentcdodds/ava-bug-test-filename-conventions) it follows the convention in my project. Unfortunately, running the tests (after `npm install`) you'll get:\n\n``` console\n   1 exception\n\n\n   ✖ Couldn't find any files to test\n```\n\nThe project has the following structure:\n\n```\n~/Desktop/ava-bug-test-filename-conventions (master)\n👾  $ tree -I node_modules\n.\n├── package.json\n└── public\n    └── js\n        └── __tests__\n            └── thing.js\n\n3 directories, 2 files\n```\n\nAm I doing something wrong or is there a bug here?\n",
                              "label": "bug",
                              "createdAt": "2016-05-25T20:03:14Z",
                              "closedAt": "2016-05-25T23:56:53Z",
                              "lastComment": "2016-05-26T00:46:04Z",
                              "commentCount": 9
                         },
                         {
                              "title": ".babelrc settings cached inappropriately",
                              "description": "I was going through the [code coverage](https://github.com/avajs/ava/blob/master/docs/recipes/code-coverage.md) docs noticed that adding some of the params to my `.babelrc` file, I would get the error below when running tests:\n\n```\n# I've replaced some of the exact folder/file paths\n> NODE_PATH=$NODE_PATH:./src nyc ava | tap-diff\n\ntest.js:1\n(function (exports, require, module, __filename, __dirname) { import hi from 'methods/hi';\n                                                              ^^^^^^\nSyntaxError: Unexpected token import\n    at exports.runInThisContext (vm.js:53:16)\n    at Module._compile (module.js:511:25)\n    at Module.replacementCompile (/project/node_modules/nyc/node_modules/append-transform/index.js:58:13)\n    at extensions.(anonymous function) (/project/node_modules/require-precompiled/index.js:13:11)\n    at /project/node_modules/nyc/node_modules/append-transform/index.js:62:4\n    at require.extensions.(anonymous function) (/project/node_modules/ava/lib/test-worker.js:91:3)\n    at Object.<anonymous> (/project/node_modules/nyc/node_modules/append-transform/index.js:62:4)\n    at Module.load (module.js:456:32)\n    at tryModuleLoad (module.js:415:12)\n    at Function.Module._load (module.js:407:3)\n    at Module.require (module.js:466:17)\n    at require (internal/module.js:20:19)\n    at Object.<anonymous> (/project/node_modules/ava/lib/test-worker.js:95:1)\n    at Module._compile (module.js:541:32)\n    at Module.replacementCompile (/project/node_modules/nyc/node_modules/append-transform/index.js:58:13)\n    at module.exports (/project/node_modules/nyc/node_modules/default-require-extensions/js.js:8:9)\n\n  test/test.js exited with a non-zero exit code: 1\nnpm ERR! Test failed.  See above for more details.\n```\n\nThe thing is, changing my `.babelrc` file back to a simple config below and re-testing, it still failed:\n\n```\n{\n    \"presets\": [\"es2015\", \"stage-0\"],\n}\n```\n\nClearing the `node_modules` folder fixed things it seemed. I thought maybe it was related to [this](https://github.com/mjohnston/react-native-webpack-server/issues/63) so I started looking for cache problems. I noticed when I clear out the `node_modules/.cache/ava/` folder and re-test with my simple `.babelrc` file, the error goes away and tests run fine.\n\nAVA portion of package.json\n\n```\n\"ava\": {\n    \"files\": [\n      \"test/**/*-test.js\"\n    ],\n    \"source\": [\n      \"src/**/*.js\"\n    ],\n    \"failFast\": true,\n    \"tap\": true,\n    \"require\": [\n      \"babel-register\"\n    ],\n    \"babel\": \"inherit\"\n  }\n```\n\nDependencies:\n\n```\n  \"devDependencies\": {\n    \"ava\": \"^0.15.0\",\n    \"babel-cli\": \"^6.9.0\",\n    \"babel-eslint\": \"^6.0.4\",\n    \"babel-preset-es2015\": \"^6.9.0\",\n    \"babel-preset-stage-0\": \"^6.5.0\",\n    \"babel-register\": \"^6.9.0\",\n    \"eslint\": \"^2.10.2\",\n    \"eslint-plugin-promise\": \"^1.1.0\",\n    \"mocha\": \"^2.5.2\",\n    \"nodemon\": \"^1.9.2\",\n    \"nyc\": \"^6.4.4\",\n    \"rimraf\": \"^2.5.2\",\n    \"sinon\": \"^1.17.4\",\n    \"tap-diff\": \"^0.1.1\"\n  }\n```\n\nVersion info:\n\n```\n$ npm -v\n3.8.6\n$ node -v\nv6.1.0\n$ ava --version\n0.15.0\n```\n",
                              "label": "bug",
                              "createdAt": "2016-05-25T07:29:34Z",
                              "closedAt": "2017-08-28T15:12:07Z",
                              "lastComment": "2017-08-28T15:12:07Z",
                              "commentCount": 16
                         },
                         {
                              "title": "Switch to disable color output to console",
                              "description": "it would be good to have a switch that disable colors in console output f.e **--no-color**\n\nit was useful when **ava** used under some CI systems f.e. **TeamCity** and color coding showed as plain text in test reports.\n\n![pasted image at 2016_05_18 03_54 pm](https://cloud.githubusercontent.com/assets/2751715/15361598/d0cd7b6c-1d1a-11e6-9aba-b4e602f7aeb4.png)\n",
                              "label": "bug",
                              "createdAt": "2016-05-18T14:06:51Z",
                              "closedAt": "2017-04-03T13:20:26Z",
                              "lastComment": "2017-04-02T14:01:06Z",
                              "commentCount": 12
                         },
                         {
                              "title": "ANSI colour codes are leaking",
                              "description": "``` sh\n$ ava --version\n0.14.0\n```\n## Description\n\n`ava ./tests --watch ./**/*.js` command makes the type cursor invisible in iTerm2 (OSX).\n\n![ud2pdtb7yh](https://cloud.githubusercontent.com/assets/973543/15161829/88fa15a8-16f7-11e6-87c1-46554063f564.gif)\n",
                              "label": "bug",
                              "createdAt": "2016-05-10T20:38:32Z",
                              "closedAt": "2016-09-23T14:29:06Z",
                              "lastComment": "2016-09-23T14:29:06Z",
                              "commentCount": 6
                         },
                         {
                              "title": "beautifyStack error when jsdom is imported",
                              "description": "## Description\n\nThe following test file\n\n``` js\nimport test from 'ava'\n\nimport {jsdom} from 'jsdom'\nglobal.document = jsdom('')\nglobal.window = document.defaultView\nObject.keys(document.defaultView).forEach((property) => {\n  if (typeof global[property] === 'undefined') {\n    global[property] = document.defaultView[property]\n  }\n})\n\ntest('yay', t => {\n  t.is(true, false)\n})\n```\n\nresults in an error when processing the test failure\n<img width=\"533\" alt=\"screen shot 2016-05-10 at 11 13 10\" src=\"https://cloud.githubusercontent.com/assets/56902/15143157/38cbd8c0-16a0-11e6-8a2f-c49ee9732d75.png\">\nIt's somehow related to that `Object.keys().forEach()` which copies properties from `window` to `global`. (if I comment it out it doesn't happen)\nThat snippet is what we suggest users do to use `enzyme` with `jsdom` https://github.com/airbnb/enzyme/blob/master/docs/guides/jsdom.md\nI don't see anything wrong with it, since it doesn't replace any global properties that already existed.\nSo I'm not sure whether this is a bug with `ava` or not, but it at least looks like the error message wasn't printed in its entirety. \n## Environment\n\n```\nNode.js v6.0.0\ndarwin 15.4.0\n```\n",
                              "label": "bug",
                              "createdAt": "2016-05-10T10:21:23Z",
                              "closedAt": "2016-05-15T14:15:57Z",
                              "lastComment": "2016-05-12T21:51:41Z",
                              "commentCount": 11
                         },
                         {
                              "title": "`failFast` causes process to exit before `always.afterEach` hooks complete",
                              "description": "## Description\n\nIf I try and do something asynchronous (or just slow?) from an `always.afterEach()` function while the `failFast` flag is set in my `package.json` the process won't wait for it to complete when the test fails. My specific case if is that I'm trying to do some database cleanup after each test and even though the `afterEach` hook gets called it doesn't seem to be given a chance to finish before the process exits. \n\nI've tried to distill this down to a simple example:\n\n``` javascript\nimport test from 'ava'\n\ntest.afterEach.always('CLEANUP', async t => {\n  console.log('START', t.title)\n\n  await new Promise(resolve => setTimeout(resolve, 5000))\n\n  console.log('END', t.title)\n})\n\ntest('Test', async t => {\n  console.log('START', t.title)\n  t.plan(1)\n\n  t.is(1, 2)\n  console.log('END', t.title)\n})\n```\n\nThis is the output I get:\n\n```\nSTART Test\nEND Test\n  ✖ Test 1 === 2\nSTART CLEANUP for Test\n\n  1 test failed [10:42:18]\n\n\n  1. Test\n  AssertionError: 1 === 2\n    _callee2$ (cleanup-test.js:15:5)\n    Test.fn (cleanup-test.js:11:1)\n```\n\nI would expect to see `END CLEANUP` printed\n## Environment\n\nNode.js v5.11.0\ndarwin 15.3.0\n\n(Originally asked on SO: From http://stackoverflow.com/questions/37118762/ava-aftereach-callback-not-completing)\n",
                              "label": "bug",
                              "createdAt": "2016-05-09T15:20:19Z",
                              "closedAt": "2016-05-24T08:59:24Z",
                              "lastComment": "2016-05-24T09:00:41Z",
                              "commentCount": 10
                         },
                         {
                              "title": "Observable that does not complete is not unsubscribed on failure",
                              "description": "## Description\n\nI have a test with an observable that never emits a value (admittedly that's a bug in my program I'm trying to catch) so I added a timeout to fail the test if the observable didn’t complete in a certain time. Here’s some example code:\n\n``` js\nimport test from 'ava'\nimport { Observable } from 'rxjs'\n\ntest('observable that never completes', t => {\n  setTimeout(() => t.fail('Test timed out'), 1000)\n  return Observable.never()\n})\n```\n\n`ava` reports the error from `t.fail`, but the process doesn’t end. This is bad for CI because the test build will not finish.\n## Environment\n\n```\nNode.js v5.0.0\ndarwin 15.2.0\n```\n",
                              "label": "unlabeledBug",
                              "createdAt": "2016-05-07T12:44:18Z",
                              "closedAt": "2016-05-07T13:28:03Z",
                              "lastComment": "2016-05-07T13:35:09Z",
                              "commentCount": 3
                         },
                         {
                              "title": "npm link not working on Node 6",
                              "description": "To debug, I added the following statements to a number of internal AVA files:\n\n```\nconsole.log(__filename);\n```\n\nOn Node 5, when everything works, I get this output:\n\n```\n/~/dev/ava/lib/fork.js\n/~/dev/ava/lib/test-worker.js\n/~/dev/ava/lib/test-worker.js\n/~/dev/ava/lib/test-worker.js\n/~/dev/ava/lib/test-worker.js\n/~/dev/ava/index.js\n/~/dev/ava/index.js\n/~/dev/ava/index.js\n/~/dev/ava/index.js\n/~/dev/ava/index.js\n```\n\nOn Node 6, where things are broken:\n\n```\n/~/dev/ava-codemods/node_modules/ava/lib/fork.js\n/~/dev/ava/lib/test-worker.js\n/~/dev/ava/lib/test-worker.js\n/~/dev/ava/lib/test-worker.js\n/~/dev/ava/lib/test-worker.js\n/~/dev/ava-codemods/node_modules/ava/index.js\n/~/dev/ava-codemods/node_modules/ava/index.js\n/~/dev/ava-codemods/node_modules/ava/index.js\n/~/dev/ava-codemods/node_modules/ava/index.js\n/~/dev/ava-codemods/node_modules/ava/lib/test-worker.js\n/~/dev/ava-codemods/node_modules/ava/lib/test-worker.js\n/~/dev/ava-codemods/node_modules/ava/lib/test-worker.js\n/~/dev/ava-codemods/node_modules/ava/index.js\n/~/dev/ava-codemods/node_modules/ava/lib/test-worker.js\n```\n\nSo, it appears that, in Node 6, npm linked modules think they are inside the `node_modules` folder of the project from which they are linked, instead of their actual path on the file system.\n\nHowever, when we fork `test-worker.js`, it is aware of it's actual path. But that gets confused when when the user does `require('ava')` and the file paths show as nested again.\n\nYou will notice `test-worker` shows up twice as often as it should, with a deeper path the second time around.\n",
                              "label": "unlabeledBug",
                              "createdAt": "2016-05-07T00:15:40Z",
                              "closedAt": "2016-05-08T07:58:27Z",
                              "lastComment": "2016-05-07T00:56:03Z",
                              "commentCount": 2
                         },
                         {
                              "title": "test.cb swallows exceptions due to t.end() never being called.",
                              "description": "I've had some tests hanging due to a more complicated version of this test\n\n``` js\nconst fnWithUnexpectedException = (cb) => { throw 'this is not expected' };\n\ntest.cb('fnWithUnexpecttedException returns true', t => {\n  fnWithUnexpectedException((res) => {\n     t.is(res, 1)\n     t.end()\n   })\n})\n```\n\nThis keeps hanging because t.end is never reached. ava does not show the error and just runs in a timeout. So when writing tests, you basically have to wrap everything in a try catch block to ensure `t.end()` is being called:\n\n``` js\ntest.cb('fnWithUnexpecttedException returns true', t => {\n    try {\n      fnWithUnexpectedException((res) => {\n        t.is(res, 1)\n        t.end()\n      })\n    } catch(e) {\n        t.fail(e)\n        t.end()\n    }\n})\n```\n\nThis seems to me to be a bit user unfriendly and, if new to ava as I am, can be a hard stumbling stone. I think the default behavior should be to fail the test on unexpected errors even in `test.cb`, because imho it is the more common use case and it is easier to debug in unexpected cases.\n",
                              "label": "unlabeledBug",
                              "createdAt": "2016-05-05T11:10:59Z",
                              "closedAt": "2016-05-06T16:37:38Z",
                              "lastComment": "2016-05-06T16:37:38Z",
                              "commentCount": 3
                         },
                         {
                              "title": "Profile script not working",
                              "description": "When running `devtool node_modules/ava/profile.js test.js` it's throwing:\n\n```\nUncaught TypeError: \n/Users/sindresorhus/dev/ava/profile.js\n(intermediate value).generateHashForFile is not a function(anonymous function) @ profile.js:71Module._compile @ module.js:425devtoolCompileModule @ /usr/local/lib/node_modules/devtool/lib/require-hook.js:30Module.load @ module.js:356Module._load @ module.js:313Module.require @ module.js:366require @ module.js:385(anonymous function) @ /usr/local/lib/node_modules/devtool/lib/preload.js:76emitOne @ events.js:77emit @ events.js:169\n```\n\n// @jamestalmage \n",
                              "label": "bug",
                              "createdAt": "2016-04-28T19:32:41Z",
                              "closedAt": "2016-05-08T20:01:56Z",
                              "lastComment": "2016-04-28T19:47:05Z",
                              "commentCount": 1
                         },
                         {
                              "title": "v8 depreciation warning using the watch flag with Node v6.0.0",
                              "description": "Using the watch flag on Node v6.0.0 displays warnings and a stack trace in the terminal\n\n```\nnode node_modules/.bin/ava --verbose --watch\n\n(node) v8::ObjectTemplate::Set() with non-primitive values is deprecated\n(node) and will stop working in the next major release.\n\n==== JS stack trace =========================================\n\nSecurity context: 0x1e3d5b4c9fa9 <JS Object>#0#\n    1: .node [module.js:568] [pc=0x328d7de52204] (this=0x20bb46efb931 <an Object with map 0x24ef30617be1>#1#,module=0x3dbe390f2a99 <a Module with map 0x24ef306181b9>#2#,filename=0x3dbe390f2a61 <String[129]\n...\n```\n",
                              "label": "bug",
                              "createdAt": "2016-04-27T05:28:06Z",
                              "closedAt": "2016-05-07T07:42:49Z",
                              "lastComment": "2016-05-07T07:42:49Z",
                              "commentCount": 2
                         },
                         {
                              "title": "deepEqual doesn't throw when comparing { a: false } and { a: 0 }.",
                              "description": "## Description\n\nIt seems that deepEqual uses the module [only-shallow](https://github.com/othiym23/only-shallow). \n\nIn their readme they state:\n\n> Use loose equality (==) only for value types (non-objects). This is the biggest difference between only-shallow and deeper / deepest. only-shallow cares more about shape and contents than type. \n\nSo that's probably why false and 0 are considered equal.\n## Environment\n- Node.js v4.2.4\n- linux 3.19.0-58-generic\n\nI cloned the current master and verified by adding the following test to test/assert.js.\n\n``` js\nt.throws(function () {\n  assert.deepEqual({a: 0}, {a: false});\n});\n```\n",
                              "label": "bug",
                              "createdAt": "2016-04-20T13:23:20Z",
                              "closedAt": "2016-04-26T07:01:54Z",
                              "lastComment": "2016-04-21T20:58:29Z",
                              "commentCount": 7
                         },
                         {
                              "title": "t.truthy() does not seem to work correctly",
                              "description": "## Description\n\nI have the following code for testing a response (with supertest):\n\n``` js\n      t.truthy(res.user)\n      t.is(res.user.email, 'test@user.com')\n```\n\nI checked and `res.user` seems to be `undefined`, but ava still continues on testing the next assertion, which throws an exception because `res.user.email` doesn't work if `res.user` is not defined:\n\n```\nTypeError: Cannot read property 'email' of undefined\n```\n\nAny idea why `t.truthy` does not seem to be working correctly (`undefined` is not truthy)?\n## Environment\n\n```\nNode.js v5.7.0\ndarwin 15.3.0\nava 0.14.0\n```\n",
                              "label": "bug",
                              "createdAt": "2016-04-12T17:20:10Z",
                              "closedAt": "2016-04-22T08:36:46Z",
                              "lastComment": "2016-04-22T08:36:46Z",
                              "commentCount": 7
                         },
                         {
                              "title": "Throwing in callback-test is not reported and causes test to never end",
                              "description": "``` js\nimport test from 'ava';\n\ntest.cb(t => {\n    throw new Error('unicorn');\n    t.pass();\n    t.end();\n});\n```\n\nReproduced with AVA 0.14.0 and latest [master](https://github.com/sindresorhus/ava/commit/3201b1b4ff80ff75f0e1c288ca7da22f92c9b814) with all reporters.\n",
                              "label": "bug",
                              "createdAt": "2016-04-11T15:22:27Z",
                              "closedAt": "2016-04-23T15:23:49Z",
                              "lastComment": "2017-02-05T09:50:03Z",
                              "commentCount": 3
                         },
                         {
                              "title": " warning: possible EventEmitter memory leak detected when file saved 11 times in a row",
                              "description": "<!--\n\n## Prerequisites\n\n- Read the [contributing guidelines](https://github.com/sindresorhus/ava/blob/master/contributing.md).\n- Support questions are better asked in our [chat](https://gitter.im/sindresorhus/ava) or on [Stack Overflow](https://stackoverflow.com/questions/tagged/ava).\n- Ensure the issue isn't already reported.\n- Should be reproducible with the latest AVA version. (Ensure `ava --version` matches ![](https://img.shields.io/npm/v/ava.svg))\n\n-->\n## Description\n\n<!--\n\nDescription of the issue.\n\nIf it's a feature request, include why it should be added.\n\n-->\n\nRunning:\n`ava hola2.js -w`\nI changed the file 11 times. On the 11th time, I got this warning:\n\n```\n\n (node) warning: possible EventEmitter memory leak detected. 11 timeout listeners added. Use emitter.setMaxListeners() to increase limit.\nTrace\n    at Api.addListener (events.js:252:17)\n    at /home/capaj/Documents/tests/node_modules/ava/api.js:252:9\n    at tryCatcher (/home/capaj/Documents/tests/node_modules/bluebird/js/release/util.js:16:23)\n    at Promise._settlePromiseFromHandler (/home/capaj/Documents/tests/node_modules/bluebird/js/release/promise.js:503:31)\n    at Promise._settlePromise (/home/capaj/Documents/tests/node_modules/bluebird/js/release/promise.js:560:18)\n    at Promise._settlePromise0 (/home/capaj/Documents/tests/node_modules/bluebird/js/release/promise.js:605:10)\n    at Promise._settlePromises (/home/capaj/Documents/tests/node_modules/bluebird/js/release/promise.js:684:18)\n    at Promise._fulfill (/home/capaj/Documents/tests/node_modules/bluebird/js/release/promise.js:629:18)\n    at MappingPromiseArray.PromiseArray._resolve (/home/capaj/Documents/tests/node_modules/bluebird/js/release/promise_array.js:125:19)\n    at MappingPromiseArray._promiseFulfilled (/home/capaj/Documents/tests/node_modules/bluebird/js/release/map.js:97:18)\n    at MappingPromiseArray.PromiseArray._iterate (/home/capaj/Documents/tests/node_modules/bluebird/js/release/promise_array.js:113:31)\n    at MappingPromiseArray.init (/home/capaj/Documents/tests/node_modules/bluebird/js/release/promise_array.js:77:10)\n    at Promise._settlePromise (/home/capaj/Documents/tests/node_modules/bluebird/js/release/promise.js:557:21)\n    at Promise._settlePromise0 (/home/capaj/Documents/tests/node_modules/bluebird/js/release/promise.js:605:10)\n    at Promise._settlePromises (/home/capaj/Documents/tests/node_modules/bluebird/js/release/promise.js:684:18)\n    at Promise._fulfill (/home/capaj/Documents/tests/node_modules/bluebird/js/release/promise.js:629:18)\n```\n## Environment\n\n<!--\n\nInclude the Node.js version and operating system. Run the following to get it quickly:\n\n```\nnode -e \"var os=require('os');console.log('Node.js ' + process.version + '\\n' + os.platform() + ' ' + os.release())\"\n```\n\n-->\n\nNode.js v5.10.1\nlinux 4.2.0-35-generic\n",
                              "label": "bug",
                              "createdAt": "2016-04-10T09:59:54Z",
                              "closedAt": "2016-04-10T19:15:54Z",
                              "lastComment": "2016-04-18T11:51:31Z",
                              "commentCount": 10
                         },
                         {
                              "title": "Normalize relative paths in babel.extends, plugins, and presets to package.json directory",
                              "description": "Probably best handled along with #700.\n\nAssuming following config in `package.json`:\n\n``` js\n{\n  \"ava\": {\n    \"babel\": {\n       \"extends\": \"./some-config.json\"\n     }\n  }\n}\n```\n\nIt will work as long as `process.cwd()` is the same as `package.json`.\n\n`cli.js` should normalize the path to `package.json` (`api.js` does not know anything about `package.json`).\n\nThis should be part of the config normalizing discussed in #700\n",
                              "label": "bug",
                              "createdAt": "2016-04-04T03:55:05Z",
                              "closedAt": "2017-03-03T08:54:53Z",
                              "lastComment": "2017-01-17T17:07:52Z",
                              "commentCount": 1
                         },
                         {
                              "title": "`test.todo(title, fn)` should produce a failure",
                              "description": "## Overview:\n\nMy understanding of the `skip` vs `todo` vs `failing` API was:\n1. `test.skip([title], fn)` - A test function is provided, but it is skipped(i.e. `fn` is never called). Common use: removing a failing test while you are in the middle of refactoring. People probably shouldn't be checking `test.skip` tests into their master branch (especially once `test.failing` is implemented). Title is optional, just like the normal `test` method.\n2. `test.todo(title)` - No test function is allowed, but a title is required. Common use: documenting future tests (and maybe features) that need to be written.\n3. `test.failing([title], fn)` - Proposed in #673- Optional title, test function is required and **will** be run (but is expected to fail). Common use: allow users to create PR's that reproduce the problem. Reporting bugs in a way that does not break the build.\n\n---\n## Issue:\n\nRight now the API for `2` is more like: `test.todo(title, [fn])` - `title` is required, but `fn` is optional (and ignored).\n",
                              "label": "unlabeledBug",
                              "createdAt": "2016-04-01T21:40:54Z",
                              "closedAt": "2016-04-05T10:17:52Z",
                              "lastComment": "",
                              "commentCount": 0
                         },
                         {
                              "title": "`path must be a string` when requiring uninstall dependency",
                              "description": "## Description\n\nWhen using `babel-register` as required dependency of AVA, I got this error.\n\n```\nassert.js:93\n  throw new assert.AssertionError({\n        ^\nAssertionError: path must be a string\n    at Module.require (module.js:362:3)\n    at require (module.js:380:17)\n    at Array.forEach (native)\n    at Object.<anonymous> (/Users/sam/Projects/test/node_modules/ava/lib/test-worker.js:48:22)\n    at Module._compile (module.js:456:26)\n    at Object.Module._extensions..js (module.js:474:10)\n    at Module.load (module.js:356:32)\n    at Function.Module._load (module.js:312:12)\n    at Function.Module.runMain (module.js:497:10)\n    at startup (node.js:119:16)\n    at node.js:929:3\n```\n\nIt took me a while to figure out that it was because I didn't install the `babel-register` dependency and [resolve-cwd](https://www.npmjs.com/package/resolve-cwd) returns `null` for dependencies not found.\n\nBecause of [this](https://github.com/sindresorhus/ava/blob/master/api.js#L31) line, the `require` argument results in `[null]` and this fails when trying to `require` `null` off course. It would be nice if it failed with a decent error like `Could not find dependency 'babel-register'` or whatever dependency could not be found.\n## Environment\n\nThis was only the case on `v0.10.36` for me. Not sure why though but probably because it uses pre-npm@3 and thus not flattens the dependency tree. I don't really think this issue is platform dependent.\n\n```\nNode.js v0.10.36\ndarwin 15.3.0\n```\n",
                              "label": "bug",
                              "createdAt": "2016-03-30T08:27:09Z",
                              "closedAt": "2016-04-04T01:13:21Z",
                              "lastComment": "2016-03-30T08:59:15Z",
                              "commentCount": 3
                         },
                         {
                              "title": "TAP report prints test titles above not ok message",
                              "description": "## Description\n\nThe TAP report prints the failing assertion rather than the title of the test after the not ok message. If I have a test file `test.js` that reads:\n\n```\nimport { test } from 'ava';\n\ntest('one should equal two', t => {\n  t.is(1, 2);\n});\n```\n\nand I run `ava --tap`, the resulting TAP report looks like this:\n\n```\nTAP version 13\n# one should equal two\nnot ok 1 - 1 === 2\n  ---\n    operator: ===\n    expected: 2\n    actual: 1\n    at: _callee$ (test.js:4:4)\n  ...\n\n1..1\n# tests 1\n# pass 0\n# fail 1\n```\n\nThis is an issue because I am using a [Jenkins TAP Plugin](https://wiki.jenkins-ci.org/display/JENKINS/TAP+Plugin) that reports the titles of the tests incorrectly, as it interprets `1 - 1 === 2` as the name of the test. I would expect the TAP report to look like this:\n\n```\nTAP version 13\n# one should equal two\nnot ok 1 - one should equal two\n  ---\n    operator: ===\n    expected: 2\n    actual: 1\n    at: _callee$ (test.js:4:4)\n  ...\n\n1..1\n# tests 1\n# pass 0\n# fail 1\n```\n\nIf this is an issue with a dependency of ava and not with ava itself, please direct me to that project instead and I'll be happy to file an issue there.\n\nThanks in advance!\n## Environment\n\nNode.js v5.9.0\ndarwin 14.5.0\n",
                              "label": "bug",
                              "createdAt": "2016-03-23T15:01:18Z",
                              "closedAt": "2016-04-09T04:50:00Z",
                              "lastComment": "2016-04-06T18:00:25Z",
                              "commentCount": 5
                         },
                         {
                              "title": "Babel plugins not loading when overridden in package.json AVA section",
                              "description": "## Description\n\nThe documentation discusses [overriding Babel configuration](https://github.com/sindresorhus/ava#es2015-support) in the AVA section. However it appears at least the `\"plugins\"` if not the entire configuration is ignored in favor of `.babelrc` or the defaults.\n\nSpecifically: We need [`babel-plugin-rewire`](https://www.npmjs.com/package/babel-plugin-rewire) for our tests so we setup the AVA section of our package.json to look like:\n\n``` javascript\n{\n  //...\n  \"ava\": {\n    \"files\": [\n      \"./tests/client/**/*.test.js\",\n      \"./tests/server/**/*.test.js\"\n    ],\n    \"source\": [\n      \"./src/client/scripts/**/*.{js,jsx}\",\n      \"!./src/client/scripts/*Entry.js\",\n      \"./src/server/**/*.js\"\n    ],\n    \"failFast\": true,\n    \"tap\": false,\n    \"require\": [\n      \"babel-register\",\n      \"babel-polyfill\"\n    ],\n    \"babel\": {\n      \"presets\": [\"es2015\", \"react\", \"stage-0\"],\n      \"plugins\": [\"rewire\"]\n    }\n  },\n  //...\n}\n```\n\nWith our `.babelrc` looking like:\n\n``` javascript\n{\n  \"presets\": [\"es2015\", \"react\", \"stage-0\"]\n}\n```\n\nHowever the tests would fail saying **TypeError: Cannot read property '**Rewire**' of undefined** which indicates the plugin isn't running.\n\nWhen I update the `.babelrc` file to include the `\"plugins\": [\"rewire\"]` it works.\n\nDropping console.logs in the rewire plugin inside of node_modules confirms the plugin doesn't even attempt to load.\n\nI dropped some console logs into `caching-precompiler.js` in the `_createTransform` method and it IS getting the configuration I expect from package.json so the failure may be on `caching-transform`'s part.\n## Environment\n\nNode.js v5.9.0\ndarwin 15.4.0\nAVA 0.13.0\n",
                              "label": "bug",
                              "createdAt": "2016-03-22T21:11:12Z",
                              "closedAt": "2016-04-05T17:11:48Z",
                              "lastComment": "2017-07-12T11:54:59Z",
                              "commentCount": 16
                         },
                         {
                              "title": "Error when running tests specifying an absolute path",
                              "description": "Hello!,\n\nI'm using the version 0.13.0 with the following environment: Node.js v5.6.0, darwin 15.3.0.\n\nWhen I execute ava in the same folder than its contents the operation gets completed without problem. However, if I try to do the same specifying an absolute path outside the folder that holds the file I get:\n\n> ava Repositories/x/y.js \n> 1 exception\n> 1. No tests found in Repositories/nodetests/test1.js, make sure to import \"ava\" at the top of your test file\n\nAny idea?. Thanks!,\n",
                              "label": "bug",
                              "createdAt": "2016-03-14T18:47:36Z",
                              "closedAt": "2016-10-22T05:08:14Z",
                              "lastComment": "2018-09-27T21:19:16Z",
                              "commentCount": 19
                         },
                         {
                              "title": "Mini reporter goes mad when the terminal width is smaller than the test title",
                              "description": "To reproduce, make your terminal width narrow and try running the [`got`](https://github.com/sindresorhus/got) tests.\n\n![untitled12](https://cloud.githubusercontent.com/assets/170270/13673220/acf59e18-e70a-11e5-863a-08c975bf8d9e.gif)\n",
                              "label": "bug",
                              "createdAt": "2016-03-10T14:55:42Z",
                              "closedAt": "2016-03-13T07:54:03Z",
                              "lastComment": "2016-03-11T08:53:50Z",
                              "commentCount": 2
                         },
                         {
                              "title": "Specifying a bad string for the babel config option gives unhelpful error",
                              "description": "Using `master` and the following config in `package.json`:\n\n``` js\n\"ava\": {\n  \"babel\": \"foo\"\n}\n```\n\nProduces the following error:\n\n```\nReferenceError: [BABEL] /dev/project/test.js: Unknown option: base.0. Check out http://babeljs.io/docs/usage/options/ for more info\n```\n\nIf a uses provides a string shortcut for the \"babel\" option, we should verify it is one of the allowed ones (currently that list is `default` and `inherit` if I'm not mistaken).\n",
                              "label": "bug",
                              "createdAt": "2016-03-09T00:38:15Z",
                              "closedAt": "2016-03-17T10:56:54Z",
                              "lastComment": "",
                              "commentCount": 0
                         },
                         {
                              "title": "Watch mode crashes when test files fail to transpile",
                              "description": "Steps to reproduce:\n- Start AVA in watch mode\n- Introduce a syntax error, e.g. use `test.('title', t => {})`\n- AVA crashes\n\nThe error should be logged however AVA should not crash.\n",
                              "label": "bug",
                              "createdAt": "2016-03-08T18:32:41Z",
                              "closedAt": "2016-03-10T14:30:42Z",
                              "lastComment": "",
                              "commentCount": 0
                         },
                         {
                              "title": "super slowdown with power assert / jsx / stateless component",
                              "description": "## Description\n\nIf you add a test that looks like this (add it 4 or 5x to get the full impact):\n\nIt will run fast\n\n``` jsx\nimport test  from 'ava';\nimport { render } from 'react-dom'\nimport React from 'react';\nfunction CustomComponent({ value }) { return <input value={value} /> }\ntest('does something fast', t => {\n    const div = document.createElement('div')\n    render(<CustomComponent value=\"3\" />, div)\n    const originInput = div.getElementsByTagName('input')[0]\n    const val = originInput.value\n    t.same(val, 33) // assert on a reference to the value\n})\n```\n\nBut if you do this it will be very slow\n\n``` jsx\nfunction CustomComponent({ value }) { return <input value={value} /> }\ntest('does something slow', t => {\n    const div = document.createElement('div')\n    render(<CustomComponent value=\"3\" />, div)\n    const originInput = div.getElementsByTagName('input')[0]\n    t.same(originInput.value, 33) // assert directly on the value\n})\n```\n\nChanging it to use `assert` will also make it run very fast, so this is probably a power-assert issue, but I don't know that as well.\n\nIn the little test case, it may add up to 1s to the full test output (timed with `DEBUG=ava`), but in my real life app it added `10s` after the first test `20s` after the second, etc until my tests just hung.\n\nPossibly related to https://github.com/power-assert-js/power-assert/issues/34\n## Environment\n\n```\nNode.js v4.3.2\ndarwin 14.5.0\n```\n\n`ava@latest` and `0.9.2`\n",
                              "label": "bug",
                              "createdAt": "2016-03-08T00:32:21Z",
                              "closedAt": "2016-03-10T05:07:06Z",
                              "lastComment": "2016-03-10T05:07:06Z",
                              "commentCount": 21
                         },
                         {
                              "title": "--match runs all tests when there are no matches",
                              "description": "When the new `--match` option is used and no test actually matches, all tests are run. This seems wrong. It shouldn't run any tests.\n\nHere's a rough idea on how this could be implemented:\n- In `runner.js`, if there is no match but the test is exclusive, unset the `exclusive` option ([see code](https://github.com/sindresorhus/ava/blob/94b352cc08673feac3ccbab912879bcd1865d92b/lib/runner.js#L75))\n- In `api.js` when all tests are known, if the `match` option was given but there are no exclusive tests ([see code](https://github.com/sindresorhus/ava/blob/94b352cc08673feac3ccbab912879bcd1865d92b/api.js#L207)) bail out with a helpful error message ([see code](https://github.com/sindresorhus/ava/blob/94b352cc08673feac3ccbab912879bcd1865d92b/api.js#L178))\n\nThe `runner.js` change means we can rely on `hasExclusive` being true in `api.js` only if there are matching tests.\n",
                              "label": "bug",
                              "createdAt": "2016-03-06T14:12:04Z",
                              "closedAt": "2016-03-07T17:18:22Z",
                              "lastComment": "2016-03-06T17:19:05Z",
                              "commentCount": 2
                         },
                         {
                              "title": "\"Empty\" test files are ok on node@5 and not ok on node@4",
                              "description": "I currently have a project with \"empty\" test files like this\n\n``` js\nimport test from \"ava\"\n\n// files added to report accurate coverage\nimport \"../index.js\"\n\ntest(\"todo\", () => {\n  console.log(\"TODO: test src/PageContainer/index*\")\n})\n```\n\n_By empty I mean that there is not a single assertion._\n\nThis is a workaround for `nyc --all` (see https://github.com/bcoe/nyc/issues/181) to get a real coverage percentage with a project that is not fully tested (yet).\n\nCheckout this build https://travis-ci.org/MoOx/statinamic/builds/113959817. It's working on node@5 and failing on node@4 because empty test files report \" Test results were not received from ...\".\n\nI expect that AVA behave the same on node@5 and node@4. So fails on both, or pass on both.\n\nMaybe I am doing something wrong?\n",
                              "label": "bug",
                              "createdAt": "2016-03-05T22:36:01Z",
                              "closedAt": "2016-03-23T11:48:35Z",
                              "lastComment": "2016-03-26T00:00:14Z",
                              "commentCount": 28
                         },
                         {
                              "title": "Watcher test in test/cli fails under Node 0.10",
                              "description": "[The test](https://github.com/sindresorhus/ava/blob/829f91cdbfcb9bb7e2cd4fe37509c0ff21db9932/test/cli.js#L121) fails because `child.stderr.pause()` does not return the stream under Node 0.10.\n\nAdditionally `get-stream` [does not use flowing mode](https://github.com/sindresorhus/get-stream/issues/5) which stops observing `stderr` like this from working under Node 0.10.\n",
                              "label": "bug",
                              "createdAt": "2016-03-02T12:15:57Z",
                              "closedAt": "2016-03-03T13:02:48Z",
                              "lastComment": "",
                              "commentCount": 0
                         },
                         {
                              "title": "Test-like output when test file does not exist",
                              "description": "The output is not what it should look like (latest master):\n\n```\n$ ava example.js\n```\n\n(example.js does not exist).\n\n<img width=\"315\" alt=\"screen shot 2016-02-28 at 1 46 21 pm\" src=\"https://cloud.githubusercontent.com/assets/697676/13379285/c960aef4-de21-11e5-90d0-eee4ea62e640.png\">\n\nFirst of all, notice 1 extra line at the start & end of the output. And top-level CLI errors should be displayed as:\n\n```\n\n  ❎ Couldn't find any files to test\n\n```\n",
                              "label": "bug",
                              "createdAt": "2016-02-28T12:50:08Z",
                              "closedAt": "2016-04-25T15:45:50Z",
                              "lastComment": "2016-04-25T15:45:50Z",
                              "commentCount": 6
                         },
                         {
                              "title": "TAP output no longer shows the line that failed",
                              "description": "``` js\nimport test from 'ava';\n\ntest(t => {\n    t.fail();\n});\n```\n\n```\n❯ ava --tap\nTAP version 13\n# [anonymous]\nnot ok 1 - Test failed via t.fail()\n  ---\n    operator: fail\n    expected: false\n    actual: false\n    at: \n  ...\n\n1..1\n# tests 1\n# pass 0\n# fail 1\n```\n",
                              "label": "bug",
                              "createdAt": "2016-02-23T15:06:17Z",
                              "closedAt": "2016-02-24T07:55:55Z",
                              "lastComment": "2016-02-24T07:11:45Z",
                              "commentCount": 2
                         },
                         {
                              "title": "Asynchronous errors do not fail tests",
                              "description": "Hey all\n\nJust wondering if this is expected output\n\n``` js\nvar test = require('ava').test;\n\ntest.beforeEach(t => {\n   console.log('before each');\n});\n\ntest(t => {\n     setTimeout(function(){\n       throw new Error('123');\n     });\n});\n\ntest(t => {\n     setImmediate(function(){\n       throw new Error('456');\n     });\n});\n\ntest(t => {\n     process.nextTick(function(){\n       throw new Error('789');\n     });\n});\n```\n\noutput:\n\n```\n  3 passed\n  3 exceptions\n\n  1. Uncaught Exception\n  Error: 789\n\n\n  2. Uncaught Exception\n  Error: 456\n\n\n  3. Uncaught Exception\n  Error: 123\n```\n\nshouldn't it be 0 passed, 3 exceptions? \n",
                              "label": "bug",
                              "createdAt": "2016-02-19T01:22:54Z",
                              "closedAt": "2016-09-21T15:48:53Z",
                              "lastComment": "2016-09-21T15:48:53Z",
                              "commentCount": 22
                         },
                         {
                              "title": "afterEach and beforeEach not running?",
                              "description": "I've reproduced this bug in [this repo](https://github.com/kentcdodds/ava-beforeEach-afterEach-bug). From the README there:\n\n> The `test` directory has a `bug.js` and a `workaround.js`.\n> \n> If you run: `npm install` and then `npm t` you'll get:\n> \n> ```\n> ~/Developer/ava-beforeEach-afterEach-bug (master)\n> ⛄  $ npm run test -s\n> \n>   ✔ workaround › first log\n>   ✔ workaround › second log\n>   ✔ bug › first log\n>   ✖ bug › second log   \n>   t.true(console.log.calledOnce)\n>                      |          \n>                      false      \n> \n> \n>   1 test failed\n> \n>   1. second log\n>   AssertionError: false === true\n>     Test.fn (test/bug.js:16:3)\n> \n> \n> ```\n> \n> For some reason, it appears that perhaps the cleanup function is not run between the two test runs.\n\nIt's using the latest version of AVA. Specifically, I spotted this [here](https://github.com/kentcdodds/configuration-validator/blob/master/src/configValidator/index.test.js). Let me know if you need more info!\n",
                              "label": "unlabeledBug",
                              "createdAt": "2016-02-17T02:31:22Z",
                              "closedAt": "2016-02-17T15:18:36Z",
                              "lastComment": "2016-02-18T10:59:01Z",
                              "commentCount": 18
                         },
                         {
                              "title": "Thrown errors with no message are ignored",
                              "description": "```\ntest(\"error\", () => {\n  throw new Error;\n});\n```\n\nis considered a passed test. This doesn't seem like correct behaviour. Using the latest version of ava. More than happy to submit a PR if someone can point me in the right direction, thanks!\n",
                              "label": "bug",
                              "createdAt": "2016-02-15T06:24:56Z",
                              "closedAt": "2016-02-18T09:46:44Z",
                              "lastComment": "2016-02-15T12:45:19Z",
                              "commentCount": 4
                         },
                         {
                              "title": "Support `.only` concept for all files",
                              "description": "Right now, if you have multiple files with multiple tests, and you place `.only` on a test in one of the files, you might expect that it only runs that test (this is how jasmine and mocha operate), but what actually happens is all the tests in the other files will run. All that `.only` does right now is prevent tests in that same file from running.\n\nI think it could be really handy (especially during development) to only run a few tests for the specific feature you're working on.\n\nRight now, it's not entirely unreasonable to work around this by pointing AVA directly at the file that you're working in.\n\nAs for what it should be called, honestly I think that it should be `.only` and the current `.only` functionality should be renamed to something like `.onlyInFile` or something... I actually don't see a solid use case for the current functionality so perhaps this feature request could simply be renamed to something like: `Change .only to be scoped to the entire test suite`\n\nThoughts? :thought_balloon: \n",
                              "label": "bug",
                              "createdAt": "2016-02-12T00:50:22Z",
                              "closedAt": "2016-03-11T10:53:22Z",
                              "lastComment": "2016-03-11T10:53:22Z",
                              "commentCount": 4
                         },
                         {
                              "title": "Crash when running test-worker without AVA CLI",
                              "description": "Stack trace:\n\n``` js\nava/index.js:26\n    log.write();\n        ^\n\nTypeError: log.write is not a function\n    at Object.<anonymous> (ava/index.js:26:6)\n```\n\nCaused by out-dated code: https://github.com/sindresorhus/ava/blob/master/index.js#L26-L27.\nShould be updated to use `console.error` with `chalk`, because `Logger` was adapted for reporting tests.\n",
                              "label": "bug",
                              "createdAt": "2016-02-10T09:18:12Z",
                              "closedAt": "2016-02-13T18:43:53Z",
                              "lastComment": "",
                              "commentCount": 0
                         },
                         {
                              "title": "Cannot read property 'start' of undefined (related to babel@6.5.0/1 update)",
                              "description": "Here is my file which can't even be \"started\" since recent a babel update (6.5.1?)\n\nYou will not need anything but my file itself to reproduce (I guess the parsing fail somewhere)...\nLooks like it's the same kind of issue that just popup here https://github.com/istarkov/babel-plugin-webpack-loaders/issues/15\n\n``` js\nimport test from \"ava\"; import \"babel-core/register\"\n\nimport feed from \"../feed\"\n\ntest(\"statinamic/lib/md-collection-loader feed helper\", (t) => {\n\n  t.is(\n    feed({\n      feedOptions: {\n        title: \"test\",\n        site_url: \"http://statinamic.test/\",\n      },\n      destination: \"feed.xml\",\n      collection: [\n        {\n          title: \"One\",\n          date: \"2015-01-01\",\n          description: \"<strong>One</strong>\",\n          __filename: \"page/one.md\",\n          __url: \"/page/one/\",\n        },\n        {\n          title: \"Two\",\n          date: \"2015-12-31\",\n          description: \"<strong>Two</strong>\",\n          __filename: \"page/two.md\",\n          __url: \"/page/two/\",\n        },\n      ],\n\n      // for testing\n      xmlOptions: { indent: \"  \" },\n    }),\n\n    /* eslint-disable max-len */\n    `<?xml version=\"1.0\" encoding=\"UTF-8\"?><rss xmlns:dc=\"http://purl.org/dc/elements/1.1/\" xmlns:content=\"http://purl.org/rss/1.0/modules/content/\" xmlns:atom=\"http://www.w3.org/2005/Atom\" version=\"2.0\">\n  <channel>\n    <title><![CDATA[test]]></title>\n    <description><![CDATA[test]]></description>\n    <link>http://statinamic.test/</link>\n    <generator>RSS for Node</generator>\n    <lastBuildDate>${ (new Date()).toUTCString() }</lastBuildDate>\n    <atom:link href=\"http://statinamic.test/feed.xml\" rel=\"self\" type=\"application/rss+xml\"/>\n    <item>\n      <title><![CDATA[One]]></title>\n      <description><![CDATA[<strong>One</strong>]]></description>\n      <link>http://statinamic.test/page/one/</link>\n      <guid isPermaLink=\"true\">http://statinamic.test/page/one/</guid>\n      <pubDate>Thu, 01 Jan 2015 00:00:00 GMT</pubDate>\n    </item>\n    <item>\n      <title><![CDATA[Two]]></title>\n      <description><![CDATA[<strong>Two</strong>]]></description>\n      <link>http://statinamic.test/page/two/</link>\n      <guid isPermaLink=\"true\">http://statinamic.test/page/two/</guid>\n      <pubDate>Thu, 31 Dec 2015 00:00:00 GMT</pubDate>\n    </item>\n  </channel>\n</rss>`,\n    \"should generate a feed from a collection\"\n  )\n})\n```\n\nHere a minimal test case\n\n``` console\n~/Sync/Development\n❯ mkd ava-fail\n\n~/Sync/Development/ava-fail\n❯ node --version\nv5.5.0\n\n~/Sync/Development/ava-fail\n❯ npm --version\n3.7.1\n\n~/Sync/Development/ava-fail\n❯ npm i ava@^0.11.0\n\n~/Sync/Development/ava-fail 3m 43s\n❯ pbpaste > fail.js\n\n~/Sync/Development/ava-fail\n❯ ava fail.js\n\nTypeError: /Users/MoOx/Sync/Development/ava-fail/fail.js: Cannot read property 'start' of undefined\n    at /Users/MoOx/Sync/Development/ava-fail/node_modules/babel-generator/lib/whitespace.js:29:19\n    at Whitespace._findToken (/Users/MoOx/Sync/Development/ava-fail/node_modules/babel-generator/lib/whitespace.js:99:30)\n    at Whitespace.getNewlinesBefore (/Users/MoOx/Sync/Development/ava-fail/node_modules/babel-generator/lib/whitespace.js:28:22)\n    at CodeGenerator.printComment (/Users/MoOx/Sync/Development/ava-fail/node_modules/babel-generator/lib/printer.js:321:34)\n    at CodeGenerator.printComments (/Users/MoOx/Sync/Development/ava-fail/node_modules/babel-generator/lib/printer.js:377:12)\n    at CodeGenerator.printLeadingComments (/Users/MoOx/Sync/Development/ava-fail/node_modules/babel-generator/lib/printer.js:231:10)\n    at CodeGenerator.print (/Users/MoOx/Sync/Development/ava-fail/node_modules/babel-generator/lib/printer.js:81:10)\n    at CodeGenerator.printJoin (/Users/MoOx/Sync/Development/ava-fail/node_modules/babel-generator/lib/printer.js:193:12)\n    at CodeGenerator.printList (/Users/MoOx/Sync/Development/ava-fail/node_modules/babel-generator/lib/printer.js:258:17)\n    at CodeGenerator.ObjectExpression (/Users/MoOx/Sync/Development/ava-fail/node_modules/babel-generator/lib/generators/types.js:48:10)\n    at CodeGenerator._print (/Users/MoOx/Sync/Development/ava-fail/node_modules/babel-generator/lib/printer.js:155:17)\n    at CodeGenerator.print (/Users/MoOx/Sync/Development/ava-fail/node_modules/babel-generator/lib/printer.js:91:10)\n    at CodeGenerator.printJoin (/Users/MoOx/Sync/Development/ava-fail/node_modules/babel-generator/lib/printer.js:193:12)\n    at CodeGenerator.printList (/Users/MoOx/Sync/Development/ava-fail/node_modules/babel-generator/lib/printer.js:258:17)\n    at CodeGenerator.CallExpression (/Users/MoOx/Sync/Development/ava-fail/node_modules/babel-generator/lib/generators/expressions.js:142:8)\n    at CodeGenerator._print (/Users/MoOx/Sync/Development/ava-fail/node_modules/babel-generator/lib/printer.js:155:17)\nFrom previous event:\n    at Api.run (/Users/MoOx/Sync/Development/ava-fail/node_modules/ava/api.js:148:4)\n    at Object.<anonymous> (/Users/MoOx/Sync/Development/ava-fail/node_modules/ava/cli.js:115:5)\n    at Module._compile (module.js:413:34)\n    at Object.Module._extensions..js (module.js:422:10)\n    at Module.load (module.js:357:32)\n    at Function.Module._load (module.js:314:12)\n    at Function.Module.runMain (module.js:447:10)\n    at startup (node.js:139:18)\n    at node.js:999:3\n```\n## Workaround\n\n``` js\nimport test from \"ava\"; import \"babel-core/register\"\n\nimport feed from \"../feed\"\n\ntest(\"statinamic/lib/md-collection-loader feed helper\", (t) => {\n\n  const feedXML = feed({\n    feedOptions: {\n      title: \"test\",\n      site_url: \"http://statinamic.test/\",\n    },\n    destination: \"feed.xml\",\n    collection: [\n      {\n        title: \"One\",\n        date: \"2015-01-01\",\n        description: \"<strong>One</strong>\",\n        __filename: \"page/one.md\",\n        __url: \"/page/one/\",\n      },\n      {\n        title: \"Two\",\n        date: \"2015-12-31\",\n        description: \"<strong>Two</strong>\",\n        __filename: \"page/two.md\",\n        __url: \"/page/two/\",\n      },\n    ],\n\n    // for testing\n    xmlOptions: { indent: \"  \" },\n  })\n\n  /* eslint-disable max-len */\n  const feedXMLexpected = `<?xml version=\"1.0\" encoding=\"UTF-8\"?><rss xmlns:dc=\"http://purl.org/dc/elements/1.1/\" xmlns:content=\"http://purl.org/rss/1.0/modules/content/\" xmlns:atom=\"http://www.w3.org/2005/Atom\" version=\"2.0\">\n  <channel>\n    <title><![CDATA[test]]></title>\n    <description><![CDATA[test]]></description>\n    <link>http://statinamic.test/</link>\n    <generator>RSS for Node</generator>\n    <lastBuildDate>${ (new Date()).toUTCString() }</lastBuildDate>\n    <atom:link href=\"http://statinamic.test/feed.xml\" rel=\"self\" type=\"application/rss+xml\"/>\n    <item>\n      <title><![CDATA[One]]></title>\n      <description><![CDATA[<strong>One</strong>]]></description>\n      <link>http://statinamic.test/page/one/</link>\n      <guid isPermaLink=\"true\">http://statinamic.test/page/one/</guid>\n      <pubDate>Thu, 01 Jan 2015 00:00:00 GMT</pubDate>\n    </item>\n    <item>\n      <title><![CDATA[Two]]></title>\n      <description><![CDATA[<strong>Two</strong>]]></description>\n      <link>http://statinamic.test/page/two/</link>\n      <guid isPermaLink=\"true\">http://statinamic.test/page/two/</guid>\n      <pubDate>Thu, 31 Dec 2015 00:00:00 GMT</pubDate>\n    </item>\n  </channel>\n</rss>`\n\n  t.is(\n    feedXML,\n    feedXMLexpected,\n    \"should generate a feed from a collection\"\n  )\n})\n```\n",
                              "label": "bug",
                              "createdAt": "2016-02-09T21:20:41Z",
                              "closedAt": "2016-02-14T07:52:20Z",
                              "lastComment": "2016-02-14T07:52:20Z",
                              "commentCount": 12
                         },
                         {
                              "title": "Async uncaught exception not shown in default reporter and has useless stack",
                              "description": "With latest master (d51c33147865d0c97798698a18bd6aeb86bc77c7).\n\n``` js\nimport test from 'ava';\n\ntest.cb(t => {\n    setImmediate(() => {\n        throw new Error('foo');\n        t.end();\n    });\n});\n```\n\nDefault reporter:\n\n```\n\n  ✖ Test results were not received from test.js\n\n```\n\nVerbose reporter:\n\n```\nUncaught Exception: test/stream.js\n  Error: foo\n    Immediate._onImmediate (stream.js:5:9)\n\n\n\n  ✖ Test results were not received from test.js\n```\n\nIt should show the uncaught exception in the default reporter and a more useful stack in both.\n",
                              "label": "bug",
                              "createdAt": "2016-02-05T09:04:43Z",
                              "closedAt": "2016-02-18T17:10:48Z",
                              "lastComment": "2016-03-24T12:26:19Z",
                              "commentCount": 13
                         },
                         {
                              "title": "Tests are flaky on Travis with Node 0.10",
                              "description": "I am not sure what started it, but the Travis build has gone from a little flaky to really flaky on Node 0.10.\n",
                              "label": "bug",
                              "createdAt": "2016-02-01T03:33:46Z",
                              "closedAt": "2016-03-03T13:02:48Z",
                              "lastComment": "2016-02-01T04:12:26Z",
                              "commentCount": 2
                         },
                         {
                              "title": "Output `null` when tests don't have a name",
                              "description": "I just noticed this by accident when testing [mem-map](https://github.com/SamVerschueren/mem-map) and couldn't find a similar issue.\n\n![screen shot 2016-01-29 at 08 36 36](https://cloud.githubusercontent.com/assets/1913805/12669781/73a40b26-c663-11e5-8c8b-26ac6b61b08c.png)\n\n**AVA version**: v0.11.0\n\nThe reason seems to be that I don't have a name for my test.\n",
                              "label": "bug",
                              "createdAt": "2016-01-29T07:45:15Z",
                              "closedAt": "2016-02-13T17:06:03Z",
                              "lastComment": "2016-01-30T16:48:01Z",
                              "commentCount": 4
                         },
                         {
                              "title": "Don't set global stack trace limit to be infinite",
                              "description": "Infinity depth stack traces hardly seem necessary, but [that is what we are currently doing](https://github.com/sindresorhus/ava/blob/761c2e349b306769e9c8f090a2cef6cb0c933664/index.js#L32).\n#482 fixes that for `t.plan()`, which I think is important, since `t.plan()` generates a stack trace whether there is a test failure or not.\n\nMy remaining question is whether or not we should shorten them globally. I am not overly concerned about the performance impact of failing assertions, more so other libraries (like bluebird longStackTrace support) that might be creating overly long stacks and slowing things down. \n\nSome investigation is needed here. If an `Infinity` value does not hurt the speed of a passing test suite, then let's leave it there. Otherwise we should bikeshed on how long it should be.\n",
                              "label": "bug",
                              "createdAt": "2016-01-29T05:13:32Z",
                              "closedAt": "2018-01-25T14:42:40Z",
                              "lastComment": "2017-08-20T15:50:40Z",
                              "commentCount": 2
                         },
                         {
                              "title": "TAP: Skip count not reporting properly",
                              "description": "Seems that after the skip count fix, AVA does not report the total skip count, even when there are `> 0` skipped tests. Additionally, skipped tests are being printed as passing tests.\n\nWe get\n\n```\nok N - this test was skipped\n```\n\nInstead of\n\n```\nok N - # skip this test was skipped\n```\n\nAnd therefore other TAP libraries (e.g. faucet) break because they count it as a passing test, not skipped.\n\nHere's an example from one of my own libraries using `ava --tap`:\n\n```\nTAP version 13\n# json-adapter › read method\nok 1 - json-adapter › read method\n# json-adapter › rejects\nok 2 - json-adapter › rejects\n# json-adapter › create method\nok 3 - json-adapter › create method\n# create › rejects\nok 4 - create › rejects\n# create › create pending task\nok 5 - create › create pending task\n# create › create completed task\nok 6 - create › create completed task\n# create › create waiting task\nok 7 - create › create waiting task\n# create › create recurring parent task\nok 8 - create › create recurring parent task\n# create › create recurring child task\nok 9 - create › create recurring child task\n\n1..7\n# tests 7\n# pass 7\n# fail 0\n```\n\nTest 1 and 2 above were actually skipped—notice no \"# skip\". Also note no \"# skipped N\" summary line.\n\nThis confuses faucet (and presumably anything else that would interpret the broken TAP output):\n\n```\n✓ json-adapter › read method\n✓ json-adapter › rejects\n✓ json-adapter › create method\n✓ create › rejects\n✓ create › create pending task\n✓ create › create completed task\n✓ create › create waiting task\n✓ create › create recurring parent task\n✓ create › create recurring child task\n# tests 7\n✓ pass 7\nnot ok 10 too many asserts\n⨯ fail  1\n```\n\nRelated: #464 \n\ncc @sotojuan if you want to take a look, since you've been contributing in this area and you at least contributed directly to the skipped count summary.\n",
                              "label": "bug",
                              "createdAt": "2016-01-24T10:08:33Z",
                              "closedAt": "2016-01-29T22:29:40Z",
                              "lastComment": "2016-01-29T18:12:00Z",
                              "commentCount": 4
                         },
                         {
                              "title": ".only() shouldn't print all tests when verbose is on.",
                              "description": "When one of the tests has `.only()` on them I still get all the rest of the tests marked as passed -even if they would otherwise fail. There are two solutions:\n- do not print out those tests at all and just show the one with `.only()`\n- print the rest of the tests in the same manner as they would use `.skip()`\n\nBecause right now, it's easy to miss that we're performing one test only, which is a UX concern, to say the least.\n",
                              "label": "bug",
                              "createdAt": "2016-01-21T16:35:41Z",
                              "closedAt": "2016-02-29T17:06:48Z",
                              "lastComment": "2016-02-29T17:06:48Z",
                              "commentCount": 4
                         },
                         {
                              "title": "broken stack trace if error is not an Error",
                              "description": "I used [pify](https://github.com/sindresorhus/pify) on the \"fs\" built-in, and used the pify'ed [`fs.exists`](https://nodejs.org/dist/latest-v5.x/docs/api/fs.html#fs_fs_exists_path_callback)`()` in an ava test. This is one of those rare Node.js built-ins that invokes its callback like `callback(result)` and _not_ the conventional `callback(err, result)`.\n\nThis meant that the pify'ed version returned a rejected Promise, with a boolean value, instead of an Error value. Note: I will follow the recommendations and drop `fs.exists()`, but I'm just describing my context.\n\nAnyhow, the stack trace produced by ava was not helpful in determining the cause here.\n\nYou can simulate my issue with the following reduced test code:\n\n``` js\nconst test = require('ava')\ntest('non-Error error', () => Promise.reject(true))\n```\n\nHere is the output that ava produces:\n\n> TypeError: Cannot read property 'split' of null\n>     at beautifyStack ([redacted]/node_modules/ava/lib/beautify-stack.js:14:62)\n>     at [redacted]/node_modules/ava/lib/reporters/mini.js:107:29\n>     at Array.forEach (native)\n>     at MiniReporter.finish ([redacted]/node_modules/ava/lib/reporters/mini.js:95:19)\n>     at Logger.finish ([redacted]/node_modules/ava/lib/logger.js:45:27)\n>     at [redacted]/node_modules/ava/cli.js:112:10\n> From previous event:\n>     at Object.<anonymous> ([redacted]/node_modules/ava/cli.js:111:3)\n>     at Module._compile (module.js:397:26)\n>     at Module.replacementCompile ([redacted]/node_modules/append-transform/index.js:53:13)\n>     at Module._extensions..js (module.js:404:10)\n>     at Object.<anonymous> ([redacted]/node_modules/append-transform/index.js:57:4)\n>     at Module.load (module.js:343:32)\n>     at Function.Module._load (module.js:300:12)\n>     at Function.Module.runMain (module.js:429:10)\n>     at Function.runMain (/Users/ron/.node-spawn-wrap-10240-f3833035c112/node:40:10)\n>     at Object.<anonymous> ([redacted]/node_modules/nyc/bin/nyc.js:19:6)\n>     at Module._compile (module.js:397:26)\n>     at Object.Module._extensions..js (module.js:404:10)\n>     at Module.load (module.js:343:32)\n>     at Function.Module._load (module.js:300:12)\n>     at Function.Module.runMain (module.js:429:10)\n>     at Object.<anonymous> (/Users/ron/.node-spawn-wrap-10240-f3833035c112/node:140:8)\n>     at Module._compile (module.js:397:26)\n>     at Object.Module._extensions..js (module.js:404:10)\n>     at Module.load (module.js:343:32)\n\nAs you can see, because code that interprets the original stack trace is itself broken (in this situation), no useful stack trace information is provided to the developer.\n\nThis took me quite a while to debug, because all of the `Promise#reject()`s in my own code were strictly creating Error objects, and I only discovered the problem after manually tracing execution back until all I had left was the pify'ed `fs.exists()`.\n\nDo you think this sort of mistake is common enough to warrant some extra handling? Would you accept a PR that hardens the stack trace beautifying code?\n",
                              "label": "bug",
                              "createdAt": "2016-01-20T04:13:03Z",
                              "closedAt": "2016-02-06T11:40:11Z",
                              "lastComment": "2016-01-24T01:11:02Z",
                              "commentCount": 4
                         },
                         {
                              "title": "core-js promises do not offer long stack traces.",
                              "description": "Which is a bummer, since `stack-utils` now [makes them look real nice](https://github.com/tapjs/stack-utils/issues/2).\n\nI'm not sure what the best option is here. \n\nOne solution would be a PR adding long stack traces to core-js. I'm not sure that's a great one, because my understanding is `core-js` wants to be lean and implement the bare minimum spec. I also don't think it's a trivial undertaking (i.e. maybe not the best use of our time). \n\nI know `bluebird`'s long stack trace support is really efficient, with only minimal slowdown. (My recollection is that Q is slowed down like 5x by long stack traces - another indication that it's probably not that easy to do). Exposing `bluebird` is not great however, since you are exposing a larger API (and potentially masking errors when people use that API thinking it will be available outside of the test environment).\n\nIt would be great if `bluebird` had a means of exposing a bare-minimum Promise implementation that was still super-fast and supported debug-ability (like maybe a superclass of `bluebird`).\n",
                              "label": "unlabeledBug",
                              "createdAt": "2016-01-15T22:27:00Z",
                              "closedAt": "2016-02-29T16:42:36Z",
                              "lastComment": "2016-02-29T16:42:36Z",
                              "commentCount": 3
                         },
                         {
                              "title": "Stack traces not cleaned up in async tests for thrown errors",
                              "description": "Regarding #418. On master branch the following test has full stack trace in the output:\n\n``` js\nconst test = require('ava');\n\ntest('failing test', async t => {\n    throw new Error('Oops');\n});\n```\n\n<img width=\"663\" alt=\"screen shot 2016-01-14 at 11 55 40 pm\" src=\"https://cloud.githubusercontent.com/assets/697676/12340343/98193048-bb1a-11e5-8a3b-5504f8fb46fa.png\">\n\nNow, if I remove `async` from the code, it works as expected and stack traces are clean:\n\n``` js\nconst test = require('ava');\n\ntest('failing test', t => {\n    throw new Error('Oops');\n});\n```\n\n<img width=\"249\" alt=\"screen shot 2016-01-14 at 11 59 18 pm\" src=\"https://cloud.githubusercontent.com/assets/697676/12340387/dad0129e-bb1a-11e5-86f3-9052f436f9fa.png\">\n\n/cc @jamestalmage \n",
                              "label": "bug",
                              "createdAt": "2016-01-14T22:59:46Z",
                              "closedAt": "2016-01-15T02:54:29Z",
                              "lastComment": "",
                              "commentCount": 0
                         },
                         {
                              "title": "SyntaxError in master branch causing tests to fail",
                              "description": "Travis: https://travis-ci.org/sindresorhus/ava/builds/102330293\n\n<img width=\"1061\" alt=\"screen shot 2016-01-14 at 1 13 23 pm\" src=\"https://cloud.githubusercontent.com/assets/697676/12324166/1bb26352-bac1-11e5-8748-16c0acc0d0d5.png\">\n\nThis is really weird, because the last commit is https://github.com/sindresorhus/ava/commit/c060e94c8a4c69c4c57367e91f793d62475233a4 and tests were passing before that.\n",
                              "label": "bug",
                              "createdAt": "2016-01-14T12:17:49Z",
                              "closedAt": "2016-01-14T21:57:55Z",
                              "lastComment": "2016-01-14T21:58:07Z",
                              "commentCount": 4
                         },
                         {
                              "title": "TAP: Skip count reports `undefined`",
                              "description": "```\n...etc...\n# skip undefined\n...etc...\n```\n\nWhat more do you need? I briefly looked at the code surrounding this, and it appears that `TapReporter#api.skipCount` is never tracked. I could be wrong. If I get time to take a deeper look into this and submit a fix, I will do so, however don't let that stop anyone from taking a crack at it sooner! :rocket: \n\n[Probably related](https://github.com/sindresorhus/ava/commit/a5e63c0d43bfc13b820b3d52727830c3c2354793#diff-22844eb86dced527165902d51876b484R56), also [#140](https://github.com/sindresorhus/ava/pull/410/files)\n",
                              "label": "bug",
                              "createdAt": "2016-01-14T04:07:28Z",
                              "closedAt": "2016-01-23T12:21:23Z",
                              "lastComment": "2016-01-21T23:20:48Z",
                              "commentCount": 15
                         },
                         {
                              "title": "power-assert graph missing from TAP output",
                              "description": "Thanks for the awesome TAP support, although I suspect it is really all about nyan-cat.\nI noticed that piping the output meant losing the awesomeness of power-assert - is that inherent to supporting TAP at all or is there someway we can have flying rainbow cats and nice asserts?\n",
                              "label": "bug",
                              "createdAt": "2016-01-01T21:22:38Z",
                              "closedAt": "2017-08-13T17:04:37Z",
                              "lastComment": "2017-08-13T17:04:37Z",
                              "commentCount": 7
                         },
                         {
                              "title": "Regression: 0.9.0 Not marking tests as failed",
                              "description": "Output on `0.8.0`\n\n<img width=\"811\" alt=\"screenshot 2015-12-29 07 17 28\" src=\"https://cloud.githubusercontent.com/assets/4082216/12034261/9d0b8d2e-adfc-11e5-88a0-4cb65b352849.png\">\n\n`0.9.0` with `--verbose` flag\n\n<img width=\"650\" alt=\"screenshot 2015-12-29 07 18 42\" src=\"https://cloud.githubusercontent.com/assets/4082216/12034266/b1536680-adfc-11e5-8b34-7feff593836a.png\">\n\n`0.9.0` with minimal reporter\n\n<img width=\"608\" alt=\"screenshot 2015-12-29 07 19 04\" src=\"https://cloud.githubusercontent.com/assets/4082216/12034267/bd7b9766-adfc-11e5-9067-f43103eae03f.png\">\n\nIn all cases, the test exits correctly with a non-zero error code.\n\nAll the above output is generated from this commit: https://github.com/jamestalmage/loud-rejection/commit/432b4fb3657ec4af407f4098ee80ff727e1c0d13\n\nIt uses `ava@0.8.0` by default, you will need to install `ava@0.9.0` to monitor the other outputs.\n",
                              "label": "bug",
                              "createdAt": "2015-12-29T12:24:47Z",
                              "closedAt": "2015-12-29T13:29:05Z",
                              "lastComment": "2015-12-29T13:08:07Z",
                              "commentCount": 3
                         },
                         {
                              "title": "Assertion output regression",
                              "description": "In master (https://github.com/sindresorhus/ava/commit/945dbea40a6a500a24d54ebcc7e10dcd75647fc7), there's no longer any `power-assert` output.\n\n``` js\nimport test from 'ava';\n\ntest(t => {\n    t.ok(false);\n});\n```\n\n```\n  1 failed\n\n  1. [anonymous]\n  AssertionError: false == true\n    at Test.fn (/Users/sindresorhus/dev/md5-hex/test.js:4:4)\n```\n",
                              "label": "bug",
                              "createdAt": "2015-12-26T15:14:19Z",
                              "closedAt": "2015-12-27T23:24:16Z",
                              "lastComment": "2015-12-27T21:53:12Z",
                              "commentCount": 3
                         },
                         {
                              "title": "Performance issues after Babel 6 upgrade",
                              "description": "Since babel 6 upgrade the performance is seriously ****ed up. Using master branch and the following test file:\n\n``` js\nvar test = require('./');\n\ntest('wow', t => {\n    t.true(true);\n});\n```\n\n```\n$ time ava example.js\nava example.js  4.04s user 0.39s system 101% cpu 4.344 total\n```\n\nRunning it for like 10th time and getting the same results.\n\nWould be great if someone else confirmed this.\n",
                              "label": "bug",
                              "createdAt": "2015-12-22T13:40:43Z",
                              "closedAt": "2015-12-25T16:10:51Z",
                              "lastComment": "2015-12-25T16:10:51Z",
                              "commentCount": 9
                         },
                         {
                              "title": "Issue with Babel 6 upgrade",
                              "description": "Forgot to try https://github.com/sindresorhus/ava/commit/9e6d9724d52582714804bf7c8ec71bcd7c4af2ed on an actual project and there's an issue.\n\nIt seems Babel 6 tries to read the plugins from CWD.\n\n```\n/Users/sindresorhus/dev/ava/node_modules/babel-core/lib/transformation/file/options/option-manager.js:193\n          throw new ReferenceError(messages.get(\"pluginUnknown\", plugin, loc, i, dirname));\n          ^\n\nReferenceError: Unknown plugin \"transform-runtime\" specified in \"base\" at 1, attempted to resolve relative to \"/Users/sindresorhus/dev/boxen\"\n    at /Users/sindresorhus/dev/ava/node_modules/babel-core/lib/transformation/file/options/option-manager.js:193:17\n    at Array.map (native)\n    at Function.normalisePlugins (/Users/sindresorhus/dev/ava/node_modules/babel-core/lib/transformation/file/options/option-manager.js:173:20)\n    at OptionManager.mergeOptions (/Users/sindresorhus/dev/ava/node_modules/babel-core/lib/transformation/file/options/option-manager.js:271:36)\n    at OptionManager.init (/Users/sindresorhus/dev/ava/node_modules/babel-core/lib/transformation/file/options/option-manager.js:416:10)\n    at File.initOptions (/Users/sindresorhus/dev/ava/node_modules/babel-core/lib/transformation/file/index.js:191:75)\n    at new File (/Users/sindresorhus/dev/ava/node_modules/babel-core/lib/transformation/file/index.js:122:22)\n    at Pipeline.transform (/Users/sindresorhus/dev/ava/node_modules/babel-core/lib/transformation/pipeline.js:42:16)\n    at Object.transformFileSync (/Users/sindresorhus/dev/ava/node_modules/babel-core/lib/api/node.js:116:10)\n    at Object.<anonymous> (/Users/sindresorhus/dev/ava/lib/babel.js:73:24)\n  ✖ /Users/sindresorhus/dev/boxen/test.js exited with a non-zero exit code: 1\nnpm ERR! Test failed.  See above for more details.\n```\n\n// @jamestalmage \n",
                              "label": "bug",
                              "createdAt": "2015-12-22T13:08:01Z",
                              "closedAt": "2015-12-22T18:37:35Z",
                              "lastComment": "2015-12-22T16:41:13Z",
                              "commentCount": 2
                         },
                         {
                              "title": "Missing test fixture",
                              "description": "Occurs in latest master.\n\n<img width=\"960\" alt=\"screen shot 2015-12-15 at 4 47 16 pm\" src=\"https://cloud.githubusercontent.com/assets/697676/11815368/9d0393a0-a34b-11e5-9611-11e9f55e39d3.png\">\n",
                              "label": "bug",
                              "createdAt": "2015-12-15T15:48:18Z",
                              "closedAt": "2015-12-29T12:48:08Z",
                              "lastComment": "2015-12-27T01:56:47Z",
                              "commentCount": 9
                         },
                         {
                              "title": "Fix flaky AppVeyor test",
                              "description": "We still have [one test](https://github.com/sindresorhus/ava/blob/f03e4ba2ee2f2f4477ccf7a186d018e09edf0123/test/cli.js#L23-L65) that remains [flaky on AppVeyor](https://ci.appveyor.com/project/sindresorhus/ava/build/547/job/hhivjx4grpxlchnh#L1226).\n\n@sotojuan - Is there any reason we can't turn this into a API test?\n\nThat one test accounts for something like 9 out of 10 false negatives on AppVeyor.\n",
                              "label": "unlabeledBug",
                              "createdAt": "2015-12-15T03:34:27Z",
                              "closedAt": "2016-02-29T14:51:15Z",
                              "lastComment": "2016-02-29T14:51:15Z",
                              "commentCount": 5
                         },
                         {
                              "title": "Stacktrace for syntax errors incorrectly points to the test file",
                              "description": "If I have a function under test with a syntax error like:\n\n```\n// demo.js\nmodule.exports = function () { // missing closing brace\n```\n\n...and a test like:\n\n```\n// demoTest.js\nconst test = require('ava')\nconst demo = require('./demo')\n\ntest(async function (t) {\n  t.ok(true)\n})\n```\n\nThen the syntax error is reported pointing to the `require` statement in the test file instead of the file with the error:\n\n```\nUncaught Exception:  /Users/cowdene/src/avaIssue/demoTest.js\n  SyntaxError: Unexpected token )\n    at Object.<anonymous> (/Users/cowdene/src/avaIssue/demoTest.js:2:14)\n```\n\nThis is pretty confusing and is especially tricky for newer Node developers.\n",
                              "label": "bug",
                              "createdAt": "2015-12-06T17:57:13Z",
                              "closedAt": "2015-12-13T16:18:04Z",
                              "lastComment": "2015-12-13T18:28:42Z",
                              "commentCount": 8
                         },
                         {
                              "title": "Alias names to \".true\" and \".false\".",
                              "description": "These are tokens, so in some usages they fail...\n\nFor instance with how I use AVA, I destructure the functions at the top.  This way I don't have to prefix every operation with `t.` (which looks ugly in my opinion).  So I do this:\n\n``` javascript\ntest('test name', ({is, same, not}) => {\n  // is(), same(), not()\n});\n```\n\nBut, whenever you when using functions with token-like names, it fails.  For example, this destructuring fails getting `.true`: \n\n``` javascript\ntest('test name', ({is, true, not}) => {\n  // is(), true(), not()\n});\n```\n\n```\nSyntaxError: Unexpected token true\n  at requireFromString (~/projects/rpv/node_modules/require-from-string/index.js:26:4)\n```\n\nWould be nice if there were some alias functions for any token-similar named functions for cases like this...  `.true()` and `.false()`\n",
                              "label": "unlabeledBug",
                              "createdAt": "2015-11-30T19:56:48Z",
                              "closedAt": "2015-12-01T03:40:34Z",
                              "lastComment": "2015-12-01T04:40:02Z",
                              "commentCount": 4
                         },
                         {
                              "title": "regression: array.includes no longer working.",
                              "description": "Reference: https://github.com/sindresorhus/serialize-error/pull/3#discussion_r45643804\n\nThe following no longer works:\n\n``` js\ntest(t => {\n  var keys = Object.keys(obj);\n  var hasName = keys.includes('name');\n  t.true(hasName);\n  t.end();\n});\n```\n\nI get the following error:\n\n>  TypeError: keys.includes is not a function\n\nWe are using the `runtime` plugin, to avoid any polyfills, so it makes sense that Array.prototype.includes does not actually exist. I would have thought the runtime plugin would have picked this up and provided it via some helper function.\n\nWe are still on Babel 5, so I am punting until we land Babel 6 support before digging in.\n\n// @sebmck @thejameskyle\n",
                              "label": "bug",
                              "createdAt": "2015-11-23T19:24:20Z",
                              "closedAt": "2016-04-05T14:50:27Z",
                              "lastComment": "2017-05-04T15:17:48Z",
                              "commentCount": 16
                         },
                         {
                              "title": "If specifying a directory, tests in subdirectories should be run too",
                              "description": "If I do `ava test` where test is a directory, it only runs the files directly under `test`. But if I had subdirectories under it, those don't get run. I think it should run all tests in that directory recursively. Or at least there should be a command line flag like `-r` to get this behavior.\n",
                              "label": "bug",
                              "createdAt": "2015-11-21T10:53:14Z",
                              "closedAt": "2015-12-28T06:02:02Z",
                              "lastComment": "2015-12-26T11:07:19Z",
                              "commentCount": 16
                         },
                         {
                              "title": "Error when using global `ava` command.",
                              "description": "After updating to ava 0.5\nIf I run `$ npm test` tests are passed. If I run `$ ava` i get this error\n\n```\nUncaught Exception:  D:\\Workflow\\github\\rollup-plugin-string\\test\\index.js\n  TypeError: object is not a function\n\nUncaught Exception:  D:\\Workflow\\github\\rollup-plugin-string\\test\\index.js\n  TypeError: object is not a function\n\nError: Never got test results from: D:\\Workflow\\github\\rollup-plugin-string\\test\\index.js\n    at ChildProcess.<anonymous> (C:\\Users\\Frontend\\AppData\\Roaming\\nvm\\v0.12.7\\node_modules\\ava\\lib\\fork.js:61:12)\n    at ChildProcess.emit (events.js:110:17)\n    at Process.ChildProcess._handle.onexit (child_process.js:1074:12)\nFrom previous event:\n    at module.exports (C:\\Users\\Frontend\\AppData\\Roaming\\nvm\\v0.12.7\\node_modules\\ava\\lib\\fork.js:25:16)\n    at run (C:\\Users\\Frontend\\AppData\\Roaming\\nvm\\v0.12.7\\node_modules\\ava\\cli.js:120:9)\n    at Array.map (native)\n    at C:\\Users\\Frontend\\AppData\\Roaming\\nvm\\v0.12.7\\node_modules\\ava\\cli.js:206:22\nFrom previous event:\n    at init (C:\\Users\\Frontend\\AppData\\Roaming\\nvm\\v0.12.7\\node_modules\\ava\\cli.js:198:4)\n    at Object.<anonymous> (C:\\Users\\Frontend\\AppData\\Roaming\\nvm\\v0.12.7\\node_modules\\ava\\cli.js:243:2)\n    at Module._compile (module.js:460:26)\n    at Object.Module._extensions..js (module.js:478:10)\n    at Module.load (module.js:355:32)\n    at Function.Module._load (module.js:310:12)\n    at Function.Module.runMain (module.js:501:10)\n    at startup (node.js:129:16)\n    at node.js:814:3\n```\n\nThe same if I try to run empty tests with `t.end();` only\n",
                              "label": "bug",
                              "createdAt": "2015-11-20T09:42:06Z",
                              "closedAt": "2015-12-01T03:09:50Z",
                              "lastComment": "2015-12-01T03:09:50Z",
                              "commentCount": 13
                         },
                         {
                              "title": "cli: Cannot read property 'stats' of undefined",
                              "description": "Hi got this error\n\n```\n  √ should load from memory\nTypeError: Cannot read property 'stats' of undefined\n    at C:\\Users\\Frontend\\AppData\\Roaming\\nvm\\v0.12.5\\node_modules\\ava\\cli.js:139:16\n    at Array.map (native)\n    at exit (C:\\Users\\Frontend\\AppData\\Roaming\\nvm\\v0.12.5\\node_modules\\ava\\cli.js:138:22)\nFrom previous event:\n    at Object.<anonymous> (C:\\Users\\Frontend\\AppData\\Roaming\\nvm\\v0.12.5\\node_modules\\ava\\cli.js:216:18)\n    at Module._compile (module.js:460:26)\n    at Object.Module._extensions..js (module.js:478:10)\n    at Module.load (module.js:355:32)\n    at Function.Module._load (module.js:310:12)\n    at Function.Module.runMain (module.js:501:10)\n    at startup (node.js:129:16)\n    at node.js:814:3\n```\n\nHere's my code\n\n``` js\nimport test from 'ava';\nimport { rollup } from 'rollup';\n\nprocess.chdir(__dirname);\n\ntest('should load from memory', t => {\n    return rollup({\n        entry: '../src/index.js',\n        plugins: []\n    }).then(bundle => {\n        var result = bundle.generate({\n            format: 'cjs'\n        });\n\n        console.log(result.code);\n    });\n});\n```\n\nWhen I remove console.log, error does not reject. It doesn't seem problem in rollup.\n",
                              "label": "bug",
                              "createdAt": "2015-11-12T08:38:43Z",
                              "closedAt": "2015-11-14T10:52:31Z",
                              "lastComment": "2015-11-13T15:48:38Z",
                              "commentCount": 3
                         },
                         {
                              "title": "Why not write `lib` in ES6 and transpile in a post install script?",
                              "description": "A lot of libraries ship a `dist` folder of transpiled files to avoid having `babel-core` as a dependency (keeping it only as a dev dependency). I have never liked that, since it makes linking to hot-fixes troublesome (you need to to create an additional commit that includes the transpiled `dist` folder, which messes with your PR).\n\nIn our case, we are already downloading `babel-core` as a dependency. It would be fairly trivial to transpile our stuff with a postinstall script or on first run.\n",
                              "label": "unlabeledBug",
                              "createdAt": "2015-11-10T22:08:11Z",
                              "closedAt": "2015-11-11T22:54:15Z",
                              "lastComment": "2016-11-11T00:01:02Z",
                              "commentCount": 9
                         },
                         {
                              "title": "Better error when launched without AVA cli",
                              "description": "Perhaps throw a more explicit error because at the moment it appears to crash and complain about lack of `process.send`:\n\n```\n> node test/index.js\nWarning: a promise was rejected with a non-error: [object Undefined]\n    at /Users/timoxley/Projects/tests/node_modules/ava/lib/runner.js:163:20\nFrom previous event:\n    at Runner.run (/Users/timoxley/Projects/tests/node_modules/ava/lib/runner.js:161:4)\n    at Immediate._onImmediate (/Users/timoxley/Projects/tests/node_modules/ava/index.js:53:9)\n    at processImmediate [as _immediateCallback] (timers.js:374:17)\n\nUnhandled rejection TypeError: process.send is not a function\n    at exit (/Users/timoxley/Projects/tests/node_modules/ava/index.js:42:10)\nFrom previous event:\n    at Immediate._onImmediate (/Users/timoxley/Projects/tests/node_modules/ava/index.js:53:15)\n    at processImmediate [as _immediateCallback] (timers.js:374:17)\n```\n\nRelated #97\n",
                              "label": "bug",
                              "createdAt": "2015-11-10T06:48:02Z",
                              "closedAt": "2015-11-11T19:05:58Z",
                              "lastComment": "2015-11-10T06:54:08Z",
                              "commentCount": 1
                         },
                         {
                              "title": "Invalid regular expression error when running from the CLI on Windows",
                              "description": "```\nD:\\_host\\github\\postcss-inline-svg>ava\n\nD:\\_station\\nvm\\v0.12.7\\node_modules\\ava\\cli.js:70\n                .replace(new RegExp(path.sep, 'g'), separator);\n                         ^\nSyntaxError: Invalid regular expression: /\\/: \\ at end of pattern\n    at new RegExp (native)\n    at prefixTitle (D:\\_station\\nvm\\v0.12.7\\node_modules\\ava\\cli.js:70:12)\n    at ChildProcess.test (D:\\_station\\nvm\\v0.12.7\\node_modules\\ava\\cli.js:89:12)\n    at ChildProcess.emit (events.js:107:17)\n    at ChildProcess.<anonymous> (D:\\_station\\nvm\\v0.12.7\\node_modules\\ava\\lib\\fork.js:47:6)\n    at ChildProcess.emit (events.js:110:17)\n    at handleMessage (child_process.js:324:10)\n    at Pipe.channel.onread (child_process.js:352:11)\n```\n\nStructure\n\n```\ntest:\n- svg/*.svg\n- apply-data.js\n- ast2data.js\n- index.js\n```\n",
                              "label": "bug",
                              "createdAt": "2015-11-08T11:30:00Z",
                              "closedAt": "2015-11-08T14:39:12Z",
                              "lastComment": "2015-11-08T14:41:39Z",
                              "commentCount": 8
                         },
                         {
                              "title": "global cli broken if there is any babel version mismatch",
                              "description": "If there is any difference in the babel-version installed globally, vs that installed locally, you get:\n\n``` js\nTypeError: Plugin \"babel-plugin-espower\" is resolving to a different Babel version than what is performing the transformation.\n```\n\nWe could use [`fallback-cli`](https://www.npmjs.com/package/fallback-cli) to always use the local install of ava if there is one. Things might get weird if they had no local install, but did have `babel-runtime` installed locally. I'd need to play with it.\n\n@sindresorhus I'm happy to tackle this, but I know [you have reservations](https://github.com/sindresorhus/xo/pull/32#issuecomment-144939822) with the idea.\n",
                              "label": "bug",
                              "createdAt": "2015-11-08T00:33:16Z",
                              "closedAt": "2015-11-29T07:41:46Z",
                              "lastComment": "2015-11-08T06:13:45Z",
                              "commentCount": 4
                         },
                         {
                              "title": "No longer working on Node.js 0.10",
                              "description": "Not sure why the tests didn't catch this.\n\n``` js\n// test.js\nimport test from 'ava';\n\ntest(t => {\n    t.pass();\n    t.end();\n});\n```\n\n```\n❯ node -v\nv0.10.40\n\n❯ ava test.js\n\nTypeError: Cannot read property 'stack' of undefined\n    at error (/usr/local/lib/node_modules/ava/cli.js:51:19)\nFrom previous event:\n    at Object.<anonymous> (/usr/local/lib/node_modules/ava/cli.js:218:34)\n    at Module._compile (module.js:456:26)\n    at Object.Module._extensions..js (module.js:474:10)\n    at Module.load (module.js:356:32)\n    at Function.Module._load (module.js:312:12)\n    at Function.Module.runMain (module.js:497:10)\n    at startup (node.js:119:16)\n    at node.js:935:3\n```\n\n// @floatdrop \n",
                              "label": "bug",
                              "createdAt": "2015-11-07T15:29:07Z",
                              "closedAt": "2015-11-08T05:59:29Z",
                              "lastComment": "2015-11-07T20:43:46Z",
                              "commentCount": 4
                         },
                         {
                              "title": "Missing module error with the babelification",
                              "description": "@floatdrop after 1d5ef4c5f6fcb70f9e90e584dfd08865db1e93b4 landed I'm now getting this error when testing `got` using master.\n\n```\n~/dev/got master\n❯ ava\n\nmodule.js:339\n    throw err;\n    ^\n\nError: Cannot find module 'babel-runtime/helpers/async-to-generator'\n    at Function.Module._resolveFilename (module.js:337:15)\n    at Function.Module._load (module.js:287:25)\n    at Module.require (module.js:366:17)\n    at require (module.js:385:17)\n    at Object.<anonymous> (/Users/sindresorhus/dev/got/test/unix-socket.js:3:25)\n    at Module._compile (module.js:435:26)\n    at requireFromString (/Users/sindresorhus/dev/ava/node_modules/require-from-string/index.js:14:4)\n    at Object.<anonymous> (/Users/sindresorhus/dev/ava/lib/babel.js:28:1)\n    at Module._compile (module.js:435:26)\n    at Object.Module._extensions..js (module.js:442:10)\nmodule.js:339\n    throw err;\n    ^\n\nError: Cannot find module 'babel-runtime/helpers/async-to-generator'\n    at Function.Module._resolveFilename (module.js:337:15)\n    at Function.Module._load (module.js:287:25)\n    at Module.require (module.js:366:17)\n    at require (module.js:385:17)\n    at Object.<anonymous> (/Users/sindresorhus/dev/got/test/retry.js:3:25)\n    at Module._compile (module.js:435:26)\n    at requireFromString (/Users/sindresorhus/dev/ava/node_modules/require-from-string/index.js:14:4)\n    at Object.<anonymous> (/Users/sindresorhus/dev/ava/lib/babel.js:28:1)\n    at Module._compile (module.js:435:26)\n    at Object.Module._extensions..js (module.js:442:10)\nTypeError: Cannot read property 'stack' of undefined\n    at error (/Users/sindresorhus/dev/ava/cli.js:51:19)\nFrom previous event:\n    at Object.<anonymous> (/Users/sindresorhus/dev/ava/cli.js:218:34)\n    at Module._compile (module.js:435:26)\n    at Object.Module._extensions..js (module.js:442:10)\n    at Module.load (module.js:356:32)\n    at Function.Module._load (module.js:311:12)\n    at Function.Module.runMain (module.js:467:10)\n    at startup (node.js:134:18)\n    at node.js:961:3\n```\n",
                              "label": "bug",
                              "createdAt": "2015-11-06T17:54:10Z",
                              "closedAt": "2015-11-07T12:57:30Z",
                              "lastComment": "2015-11-07T11:26:18Z",
                              "commentCount": 13
                         },
                         {
                              "title": "t.same() and sparse arrays",
                              "description": "@twada I think this is an issue of `power-assert`, but I don't know which package is responsible for it.\n\n``` js\ntest(t => {\n    const data = [];\n    data[1] = 'unicorn';\n    t.same(data, ['unicorn']);\n    t.end();\n});\n```\n\nResult:\n\n```\n  ✖ [anonymous]   \n  t.same(data, ['unicorn'])\n         |                 \n         [\"unicorn\"]       \n\n\n  1 test failed\n```\n\nWhat I expected:\n\n```\n  ✖ [anonymous]   \n  t.same(data, ['unicorn'])\n         |                 \n         [ , 'unicorn']       \n\n\n  1 test failed\n```\n",
                              "label": "bug",
                              "createdAt": "2015-10-25T15:06:33Z",
                              "closedAt": "2015-10-25T20:43:11Z",
                              "lastComment": "2015-10-25T20:43:10Z",
                              "commentCount": 5
                         },
                         {
                              "title": "When assertion count is incorrect, output the expected and actual values.",
                              "description": "I see that the actual count is recorded, but I'm not sure how to see it when running `ava`.\n\nhttps://github.com/sindresorhus/ava/blob/master/lib/test.js#L150-L158\n\n```\n❯ npm test\n\n> npm-check@4.1.2 test /Users/dgreene/projects/npm-check\n> xo && ava ./test\n\n\n  ✖ require Assertion count does not match planned\n\n  1 test failed\n\n  1. require\n  Error\n    at Test.plan (/Users/dgreene/projects/npm-check/node_modules/ava/lib/test.js:87:19)\n    at Test.<anonymous> (/Users/dgreene/projects/npm-check/test/test.js:10:7)\n    at step (/Users/dgreene/projects/npm-check/test/test.js:5:273)\n    at Test.fn (/Users/dgreene/projects/npm-check/test/test.js:5:99)\n```\n\nThe above is using using `master` with `power-assert` added.\n\nSimilar output using the published version\n\n```\n> npm-check@4.1.2 test /Users/dgreene/projects/npm-check\n> xo && ava ./test\n\n\n  ✖ require Assertion count does not match planned\n\n  1 test failed\n\n  1. require\n  Error\n    at Test.plan (/Users/dgreene/projects/npm-check/node_modules/ava/lib/test.js:59:19)\n    at Object.callee$0$0$ (/Users/dgreene/projects/npm-check/test/test.js:10:7)\n    at Test.callee$0$0 [as fn] (/Users/dgreene/projects/npm-check/test/test.js:32:26)\n```\n",
                              "label": "bug",
                              "createdAt": "2015-10-24T20:31:20Z",
                              "closedAt": "2016-03-22T22:14:06Z",
                              "lastComment": "2016-03-08T14:28:29Z",
                              "commentCount": 6
                         },
                         {
                              "title": "False positive",
                              "description": "Hi everyone!\n\nI've got a false positive.\n\nThe AVA must have an option in `package.json` to disable `Babel` or possibility to config.\n\nWhat happened!\nI had written an library in ES6, but I decide change to current javascript and in the middle of recoding I forgot to remove:\n\n``` javascript\nfunction consulta(cep, timeout = 10000) {\n  //...\n}\n```\n\nI ran the test and everything is ok.\nSo, I used the library in other app and :bug:\n",
                              "label": "bug",
                              "createdAt": "2015-10-24T01:15:08Z",
                              "closedAt": "2015-10-30T05:23:39Z",
                              "lastComment": "2015-11-03T16:33:36Z",
                              "commentCount": 2
                         },
                         {
                              "title": "async/await fixture tests are unbreakable (or being ignored)",
                              "description": "https://github.com/sindresorhus/ava/blob/master/test/test.js#L760-L766\n\nI've changed the fixtures and the tests to try to make them break and I can't seem to break them. \n\nFor example:\n\n``` js\n// This still passes\ntest('async/await support', function (t) {\n    t.plan(113);\n\n    throw new Error('blah');\n\n    execCli('fixture/async-await.js', function (err) {\n        t.ifError(err);\n    });\n});\n```\n",
                              "label": "unlabeledBug",
                              "createdAt": "2015-10-23T11:25:07Z",
                              "closedAt": "2015-10-23T16:45:21Z",
                              "lastComment": "2015-10-23T16:45:21Z",
                              "commentCount": 3
                         },
                         {
                              "title": "Order of after() and afterEach()",
                              "description": "I have this kind of a setup:\n\n``` js\ntest.afterEach('Refresh page', function (t) {\n  nightmare.refresh();\n  t.end();\n});\ntest.after('End Nightmare', function (t) {\n  nightmare.end();\n  t.end();\n});\n```\n\nI was assuming that `after()` would run after all tests, including the `afterEach()` which is running after each individual test cases.\nHowever the final two output lines are:\n\n```\n  ✔ pages ›  End Nightmare\n  ✔ pages ›  Refresh page\n```\n\nI would just like to confirm that is this expected behaviour?\n",
                              "label": "bug",
                              "createdAt": "2015-10-21T10:12:02Z",
                              "closedAt": "2015-10-22T17:19:51Z",
                              "lastComment": "2015-10-23T06:06:17Z",
                              "commentCount": 5
                         },
                         {
                              "title": "assert.throws and promises which resolve to error objects",
                              "description": "[Currently](https://github.com/sindresorhus/ava/blob/d14c6e37fa4c9666599e78256cc0c9ccc39d45e5/lib/assert.js#L76-L87), the following test passes:\n\n``` js\ntest('resolve error value', t => {\n    t.plan(1);\n    t.throws(Promise.resolve(new Error('abc'))); // pass (false negative)\n});\n```\n",
                              "label": "bug",
                              "createdAt": "2015-10-19T17:55:38Z",
                              "closedAt": "2015-10-22T18:13:23Z",
                              "lastComment": "2015-10-21T16:38:32Z",
                              "commentCount": 3
                         },
                         {
                              "title": "Forking for every test file is slow",
                              "description": "Update: Blocked by #696 \n\n---\n\nSeems like it is not quite good idea to spawn a fork for every test file. I have try'd fresh version of `ava` in [got](https://github.com/sindresorhus/got/tree/ava-0.3) and tests run time get worse (not to mention, that iTunes is getting icky while tests).\n- **Local**: 6-8s to 10-12s \n- **Travis**: [7.68s](https://travis-ci.org/sindresorhus/got/jobs/85761885) to [16.08s](https://travis-ci.org/sindresorhus/got/jobs/85891232)\n\nMay be it is better to fork batched runners and/or have a `concurrency` flag?\n",
                              "label": "bug",
                              "createdAt": "2015-10-17T11:49:33Z",
                              "closedAt": "2016-05-13T17:07:05Z",
                              "lastComment": "2016-05-18T20:26:27Z",
                              "commentCount": 44
                         },
                         {
                              "title": "`t.plan` not working in async functions",
                              "description": "`t.plan` isn't working when using `async`/`await`.\n\n``` js\ntest('generate screenshots', async t => {\n    t.plan(2);\n\n    const streams = await new Pageres()\n        .src('yeoman.io', ['480x320', '1024x768', 'iphone 5s'])\n        .src('todomvc.com', ['1280x1024', '1920x1080'])\n        .run();\n\n    t.is(streams.length, 5);\n    streams[0].once('data', data => t.true(data.length > 1000));\n});\n```\n\nThis will throw an error `Assertion count does not match planned`. When using `t.plan(1)` it works correctly but off course doesn't test the length of the data.\n\nThis was pointed out here https://github.com/sindresorhus/pageres/issues/213#issuecomment-147634374.\n",
                              "label": "bug",
                              "createdAt": "2015-10-13T08:37:26Z",
                              "closedAt": "2015-10-18T21:34:00Z",
                              "lastComment": "2015-10-18T18:43:49Z",
                              "commentCount": 6
                         },
                         {
                              "title": "Crash when setting an non-existent path",
                              "description": "```\n$ ava does-not-exist\n```\n",
                              "label": "bug",
                              "createdAt": "2015-09-18T06:58:06Z",
                              "closedAt": "2015-09-23T18:35:39Z",
                              "lastComment": "",
                              "commentCount": 0
                         },
                         {
                              "title": "Write some tests for the fork functionality",
                              "description": "https://github.com/sindresorhus/ava/blob/master/lib/fork.js\n",
                              "label": "bug",
                              "createdAt": "2015-09-18T06:39:34Z",
                              "closedAt": "2015-10-19T14:58:47Z",
                              "lastComment": "",
                              "commentCount": 0
                         },
                         {
                              "title": "Babelify only test files",
                              "description": "I think we should apply `babel` only to test files, e.g `test.js`, `test/test-something.js`.\nCurrently, if you have this common code:\n\n``` js\nconst test = require('ava');\n\nconst mylib = require('./');\n```\n\n`mylib` will also be run through `babel` and that is not good, because that way AVA transforms library's source code. This behavior could be fixed by setting a regex for `require('babel/register')` to whitelist only test files.\n",
                              "label": "unlabeledBug",
                              "createdAt": "2015-09-11T15:07:11Z",
                              "closedAt": "2015-09-18T07:35:56Z",
                              "lastComment": "2015-09-11T18:06:16Z",
                              "commentCount": 1
                         },
                         {
                              "title": "Fix handling of planned assertion count not matching for async",
                              "description": "Currently we just throw an Error: https://github.com/sindresorhus/ava/blob/3ed5f9d96c812c18d145f5fa1bc941859a5b5318/lib/test.js#L117\n\nThis isn't very helpful. It should probably instead be an _uncounted_ `AssertionError`.\n",
                              "label": "bug",
                              "createdAt": "2015-05-20T16:19:24Z",
                              "closedAt": "2015-10-30T05:41:58Z",
                              "lastComment": "2015-05-20T18:37:10Z",
                              "commentCount": 2
                         },
                         {
                              "title": "`t.end()` gives false success on async tests",
                              "description": "This is kinda critical as it gives false success when you use `t.end()` in an async callback.\n\nSee: https://github.com/sindresorhus/is-online/issues/17#issuecomment-98123185\n\nExample this makes the tests pass, even though it's should have failed:\n\n``` js\ntest(function (t) {\n    asyncFn(function (err, isAFalseValue) {\n        t.assert(isAFalseValue);\n        t.end();\n    });\n});\n```\n\nThis works however:\n\n``` js\ntest(function (t) {\n    t.plan(1);\n\n    asyncFn(function (err, isAFalseValue) {\n        t.assert(isAFalseValue);\n    });\n});\n```\n",
                              "label": "bug",
                              "createdAt": "2015-05-01T12:32:23Z",
                              "closedAt": "2015-08-26T17:24:04Z",
                              "lastComment": "2015-08-26T17:24:15Z",
                              "commentCount": 1
                         },
                         {
                              "title": "Emit error when there are more assertions than planned",
                              "description": "Currently we aren't keeping track of all the pending assertions. `tape` is using this https://github.com/substack/tape/blob/master/lib/test.js#L174-L181.\n",
                              "label": "bug",
                              "createdAt": "2015-01-27T18:51:16Z",
                              "closedAt": "2015-10-30T05:40:40Z",
                              "lastComment": "2015-09-24T18:48:00Z",
                              "commentCount": 9
                         },
                         {
                              "title": "Error stack is lost when supplying it to the callback",
                              "description": "When trying to log the stack along the results in in `index.js`, you only get the `err.message`. Somehow the stack gets lost in the callback. When logging `err.stack` right before the callback you get the correct stack so it should be there.\n\nhttps://github.com/sindresorhus/ava/blob/master/lib/test.js#L79\n\nGuess this needs fixing before we can really get going with #6.\n",
                              "label": "bug",
                              "createdAt": "2014-12-04T10:39:22Z",
                              "closedAt": "2014-12-06T02:01:11Z",
                              "lastComment": "",
                              "commentCount": 0
                         }
                    ]
               },
               "commits": {
                    "incomplete_results": false,
                    "status_code": "200",
                    "total_bug_commits": 142,
                    "total_commits": 1217,
                    "bug_commits": [
                         {
                              "message": "Merge branch 'v4-hotfix'",
                              "created_at": "2022-08-26T12:49:12Z",
                              "sha": "14061be6be828f13d27e66e7f6942a37fbecc61e"
                         },
                         {
                              "message": "Update to node@18.8 and npm@8.18 and fix test suite",
                              "created_at": "2022-08-25T14:15:10Z",
                              "sha": "7c48c4d9190fe95eb37408fb8c871a446c622e08"
                         },
                         {
                              "message": "Update dependencies\n\n* Update dev dependencies\r\n\r\n* Update dependencies\r\n\r\n* Remove concurrency limit for internal tests\r\n\r\n* Test with TypeScript 4.6\r\n\r\n* Update XO and fix formatting",
                              "created_at": "2022-03-06T15:52:21Z",
                              "sha": "419047b8ffad0567cf4daf4a717a3934426e10f7"
                         },
                         {
                              "message": "Fix encoding of large snapshot data\n\n* Encode snapshot data asynchronously, fixes #2932\r\n* Async I/O when saving snapshots",
                              "created_at": "2022-01-08T14:12:09Z",
                              "sha": "c384e9a0ba2c7c25ee94e8600602d3984b0465b6"
                         },
                         {
                              "message": "Update XO and fix problems",
                              "created_at": "2021-11-01T14:19:09Z",
                              "sha": "5a488932857427d113730ac004282ff51c9347ac"
                         },
                         {
                              "message": "Fix prefix normalization\n\nRemove .test, .spec and test- from filenames, in line with the default\nglob patterns. Retain elsewhere in the path.\n\nFixes #2793.",
                              "created_at": "2021-09-18T15:42:45Z",
                              "sha": "c4a8f80d6df22c4a367295ac3242920b07fd4b3d"
                         },
                         {
                              "message": "Switch to ESM for internals\n\n* Extract glob helpers that are needed in a CJS environment\r\n\r\n* Ensure ava/plugin works in a CJS environment\r\n\r\nRefactor and deploy some tricks so that ava/plugin is usable in a CJS environment, even if the rest of AVA's internals become ESM.\r\n\r\n* Ensure 'ava' can be imported in a CJS environment\r\n\r\n* Convert to ESM\r\n\r\n* Load yargs as CJS due to strange compatibility issues\r\n* Keep line number parsing code as CJS because it attempts to lazy-load dependencies\r\n* Shared workers are always loaded through a dynamic import\r\n* Shared worker filenames must now be file:// URLs, but you can provide a URL instance\r\n* Test file paths within shared workers are now file:// URLs\r\n* Error serialization and code excerpts now support ESM\r\n* Title prefixes in the reporters now correctly skip all test file extensions, not just `js`\r\n\r\n* CI: Increase delay on timeout test, mostly for Windows",
                              "created_at": "2021-06-06T13:39:52Z",
                              "sha": "c57067bfb69a9b685ea2b33624dee204ad369164"
                         },
                         {
                              "message": "Make shared workers available in worker threads only\n\nNow that AVA runs test files in worker threads, it makes sense for _shared_ workers to only be available in that execution mode. This makes for more efficient communication and will enable us to transfer byte arrays, message ports and even share memory.\r\n\r\nSeparately this commit fixes how shared worker errors are reported.\r\n\r\nCo-authored-by: Mark Wubben <mark@novemberborn.net>",
                              "created_at": "2021-04-06T14:53:06Z",
                              "sha": "bdf2cf07e8010820a600cbc8f005be3715239e07"
                         },
                         {
                              "message": "Upgrade XO and apply fixes",
                              "created_at": "2021-02-07T15:54:28Z",
                              "sha": "69fbe058948eac8f37140f25a949ce172d64f607"
                         },
                         {
                              "message": "Next-generation configuration loading\n\n* When worker threads are available, support asynchronous configuration loading in the ESLint plugin helper\r\n\r\n* Experimental implementation of next-generation configuration loading. This adds support for `.mjs` files, fixing #2346. I've removed the special handling of `ava.config.js` files, relying on Node.js to follow the package type instead. We now also support asynchronous factories.",
                              "created_at": "2021-01-01T15:52:08Z",
                              "sha": "a2f2614cc1e34fb9a7aa204b37b3b25559f203d9"
                         },
                         {
                              "message": "Update dependencies & fix reporter tests\n\n* Fix reporter tests under Node.js 15\r\n\r\nFixes #2616.\r\n\r\n* Update dev dependencies\r\n\r\n* Update XO\r\n\r\n* Update TypeScript\r\n\r\n* Update dependencies\r\n\r\n* Rebuild package lock\r\n\r\n* Churn reporter logs",
                              "created_at": "2020-11-30T15:27:48Z",
                              "sha": "73015e57f6447fed0135355f2a9cf5b126675454"
                         },
                         {
                              "message": "Detect active inspectors; update VSCode debugging recipe\n\nDon't open inspectors if one is already connected. Like with AVA's own `debug` command, disable timeouts and switch to verbose output. This allows VSCode 1.47 to debug AVA test files.\r\n\r\nUpdate VSCode debugging recipe accordingly. Promote Debug Terminal in favor of launch configuration.\r\n\r\nCo-authored-by: Sindre Sorhus <sindresorhus@gmail.com>\r\nCo-authored-by: Mark Wubben <mark@novemberborn.net>",
                              "created_at": "2020-07-27T06:55:46Z",
                              "sha": "bc39bcc3ff92cb2979564ec2e69dc72be6509f78"
                         },
                         {
                              "message": "Reinstall XO to fix CI error",
                              "created_at": "2020-07-07T15:43:55Z",
                              "sha": "a557bc08c49b11fe0faa40ea0095d21c187757ec"
                         },
                         {
                              "message": "Updates to our self-hosted tests\n\n* Add debug option to pipe stderr from internal tests to stderr\r\n\r\n* Remove unnecessary ava dependency in our own test fixtures\r\n\r\n* Recognize uncaught exceptions in our own tests\r\n\r\n* Sort all stat objects by file & title",
                              "created_at": "2020-07-04T13:07:46Z",
                              "sha": "b154612b8ce541c9c3b75ec4d0f744a01849abf0"
                         },
                         {
                              "message": "Retain (most of) Node.js internals in stack traces\n\nThis retains most of the Node.js internals in stack traces for the mini and verbose reporters. Internals are dimmed in the output. Call sites are prefixed with a small pointer.\r\n\r\nReporter logs are now tested for each Node.js version separately.\r\n\r\nStack beautification now takes place in the main process, not the workers.\r\n\r\nFixes #2110.\r\n\r\nCo-authored-by: Mark Wubben <mark@novemberborn.net>",
                              "created_at": "2020-04-23T07:00:58Z",
                              "sha": "9a9351ddbee9c6c76601210c5dd8f5b0d81cc3b0"
                         },
                         {
                              "message": "Reorganize tests\n\n* Rename test directory to test-tap\r\n\r\nThis makes way for new, self-hosted tests inside a test directory\r\n\r\n* Rewrite TypeScript test to use tsd; move into test-d directory\r\n\r\n* Simplify npm run scripts\r\n\r\n* Invoke nyc ourselves\r\n\r\n* Don't store tap and nyc configuration in package.json\r\n\r\n* Remove stdout / stderr from reporter test fixtures\r\n\r\nThese've ended up being flaky on Windows all of a sudden.",
                              "created_at": "2020-03-29T13:07:59Z",
                              "sha": "f07eec80e934f150b6e7902288163ea097be45c3"
                         },
                         {
                              "message": "Add debug --host option\n\nAllow binding the inspector to a different address or hostname.\r\n\r\nCo-authored-by: Mark Wubben <mark@novemberborn.net>",
                              "created_at": "2020-03-01T17:11:39Z",
                              "sha": "13d66519e7b69e810079673d6583dc7336a16ebe"
                         },
                         {
                              "message": "Prefix attempt titles with that of parent test\n\nSince titles must be unique throughout the test file, it's easier if\nattempt titles are always prefixed with the already unique title of the\nparent test.",
                              "created_at": "2020-02-16T14:07:36Z",
                              "sha": "7ee3a0e5940a105dec447851c777ea44555e8220"
                         },
                         {
                              "message": "Disable timeouts in debug mode\n\nFixes #2355.",
                              "created_at": "2020-01-12T14:14:39Z",
                              "sha": "2bd890fc597530f7dd5237d729fcc4a96807d08d"
                         },
                         {
                              "message": "Do not treat files in underscore-prefixed directories as test files\n\nWhen a file has a parent directory that starts with a single underscore,\ndo not treat it as a test file.\n\nFixes #2155.",
                              "created_at": "2020-01-02T16:57:03Z",
                              "sha": "647c24e92d7ffb587016f9fb925cdad18f5c494f"
                         },
                         {
                              "message": "Ignore likely helper and fixture files during test file globbing\n\nFixes #2282.",
                              "created_at": "2020-01-02T16:57:03Z",
                              "sha": "ee0cbe1042a5d777ac0fd22d1aea14b4e6d518b6"
                         },
                         {
                              "message": "Add built-in debug command\n\nFixes #1505.",
                              "created_at": "2019-12-23T17:08:16Z",
                              "sha": "4953457277a355e231beaa11431eb58a209ae7fc"
                         },
                         {
                              "message": "Lint fixes now Node.js 8 is no longer supported",
                              "created_at": "2019-12-21T18:57:17Z",
                              "sha": "c49c0bd6f62d20612bfd8411c11e0f41ad5baeb5"
                         },
                         {
                              "message": "Require Node.js 8.9.4\n\n* Remove support for `--debug` and `--debug-brk` CLI flags\r\n* Refactor to utilize object rest/spread and async/await",
                              "created_at": "2019-04-20T15:19:31Z",
                              "sha": "3a4afc6cf35aeffb6b019c6b75fa9b8e071bb53d"
                         },
                         {
                              "message": "Linter fixes",
                              "created_at": "2019-01-18T09:53:57Z",
                              "sha": "ed7807e372f7f50d43597d966a2314bdd7a7d6ff"
                         },
                         {
                              "message": "Bump XO and fix some lint issues",
                              "created_at": "2019-01-18T09:07:01Z",
                              "sha": "6b10f2e725a29a30a923704415aa734b60e358c6"
                         },
                         {
                              "message": "Use newer ES syntax where possible\n\nAs detected via XO. Also apply other XO fixes.",
                              "created_at": "2018-12-17T09:35:49Z",
                              "sha": "7b6e578dce32a6561e61ed6e2be6de8237b37800"
                         },
                         {
                              "message": "Use source-mapped file to build snapshots\n\n* Use the filename of the source file to build the snapshot filename\r\n* Put the relative path of the actual source file in the Markdown snapshot\r\n\r\nThis is great for TypeScript projects where AVA is applied to pre-build files. The snapshots will be named `file.ts.snap`, and the relative path will be correct, rather than pointing at the output directory.\r\n\r\nThis is a breaking change, since AVA will now write new snapshot files, without removing the previous ones. It may not catch bugs introduced at the same time as the project is updated to the new AVA version.",
                              "created_at": "2018-10-28T15:32:52Z",
                              "sha": "a130a9e3d9729e746b1ad9882ffc20de5b434750"
                         },
                         {
                              "message": "Insert a trailing newline when appending new snapshot entries\n\nI reckon this fixes a regression introduced in https://github.com/avajs/ava/pull/1852.",
                              "created_at": "2018-10-22T08:18:27Z",
                              "sha": "bf00d79a39ba447919807081bf20690940fc778d"
                         },
                         {
                              "message": "Fix detection of existing syntax plugins\n\nAVA needs to add syntax plugins for stage-4 features, however it\nshouldn't do so if the user has already specified them. This fixes the\ndetection of existing plugins by also comparing a `default` export of\nthe plugin package.\n\nFixes #1828.",
                              "created_at": "2018-08-27T13:25:38Z",
                              "sha": "d3bfb73fcac7263695f47a4dde7089d49718a514"
                         },
                         {
                              "message": "Improve scoping of CLI tests to a particular fixture directory",
                              "created_at": "2018-07-23T08:02:20Z",
                              "sha": "08e563873608248905473c7eef453cd347b2147d"
                         },
                         {
                              "message": "Remove unused fixtures",
                              "created_at": "2018-04-22T16:54:44Z",
                              "sha": "7e5ff0fdda4bcf96cdbacdc67374ebfea19cc304"
                         },
                         {
                              "message": "Bump dev dependencies and fix new lint issues",
                              "created_at": "2018-02-14T07:00:21Z",
                              "sha": "dcff56a841ac056537ce3aefe5f41092bb28d287"
                         },
                         {
                              "message": "Refactor how tests are actually run\n\nFixes #1684. Fixes #1416. Refs #1158.\n\nProperly support serial hooks. Hooks are divided into the following\ncategories:\n\n* before\n* beforeEach\n* afterEach\n* afterEach.always\n* after\n* after.always\n\nFor each category all hooks are run in the order they're declared in.\nThis is different from tests, where serial tests are run before\nconcurrent ones.\n\nBy default hooks run concurrently. However a serial hook is not run\nbefore all preceding concurrent hooks have completed. Serial hooks are\nnever run concurrently.\n\nAlways hooks are now always run, even if --fail-fast is enabled.\n\nInternally, TestCollection, Sequence and Concurrent have been removed.\nThis has led to a major refactor of Runner, and some smaller breaking\nchanges and bug fixes:\n\n* Unnecessary validations have been removed\n* Macros can be used with hooks\n* A macro is recognized even if no additional arguments are given, so it\ncan modify the test (or hook) title\n* --match now also matches todo tests\n* Skipped and todo tests are shown first in the output\n* --fail-fast prevents subsequent tests from running as long as the\nfailure occurs in a serial test",
                              "created_at": "2018-02-11T16:12:28Z",
                              "sha": "963f5cf4b89ceb7a565f3141b364a4bf3994a0d8"
                         },
                         {
                              "message": "Refactor API module\n\nRemove indirection by inlining code. It's not the prettiest without\nasync-await but it's easier to follow.\n\nRemove unnecessary auto-binding of methods. There's no need to \"get\"\nblank results either when running a test files fails.\n\nHandle timeouts within a test run, without touching the `runStatus`\nobject. Restart the timeout timer whenever a new \"fork\" is created. This\ngives new test files the chance to start running tests. Don't start the\ntimer *before* running any tests. Fixes #1377.\n\nClean up \"fork\" instances when test files exit.\n\nSet up a new precompiler on every test run. Don't store it on the `Api`\ninstance. If caching is enabled, fix the caching directory relative to\nthe project directory, without looking it up again.\n\nCompile all test and helpers files before running any test. This doesn't\nimprove time-to-first-test but it does mean that test files can depend\non each other. AVA will correctly load the precompiled file. No tests\nare run if any file fails to compile.\n\nPass the real path to the precompiler.\n\nCompute `execArgv` when a test file is run, not all at once for all\nfiles.",
                              "created_at": "2018-02-11T16:12:28Z",
                              "sha": "82f4083b41392ab0101d09c0e431913125ecd777"
                         },
                         {
                              "message": "Remove 'with pool' prefix from API tests",
                              "created_at": "2018-02-11T16:12:28Z",
                              "sha": "705b787e3e09f4e2af0ed381ee1a1e30e1c73575"
                         },
                         {
                              "message": "Fix required title in test fixture",
                              "created_at": "2018-01-30T18:04:02Z",
                              "sha": "d42865be9f9484a6a3ab7e90a91283ec50c0d405"
                         },
                         {
                              "message": "support @std/esm (#1618)\n\n* support @std/esm\r\n\r\n* fix path test for windows\r\n\r\n* fix linter error\r\n\r\n* Stricter regex. Use shorthand .esmrc file in fixture.\r\n\r\n* update package-lock.json",
                              "created_at": "2018-01-08T20:24:01Z",
                              "sha": "72c53bee0766a7e45595919f97f114073c93bff7"
                         },
                         {
                              "message": "Adjust NODE_PATH test to fix linting issue\n\nFixes https://travis-ci.org/avajs/ava/jobs/291603944 by changing the\nname of the module being imported. This failure is most likely caused by\n<https://github.com/benmosher/eslint-plugin-import/pull/891>.\n\nI've updated the package lock to pull in the newer eslint-plugin-import\nas well.",
                              "created_at": "2017-10-24T09:13:40Z",
                              "sha": "1cb9d4f9e455c076313f53cb7ac5003246740b02"
                         },
                         {
                              "message": "Lint test fixtures\n\nWork around https://github.com/sindresorhus/xo/issues/65 by invoking XO\nfrom within the `test/fixture` directory.\n\nFix linting issues. Most were harmless, but it did turn out that\n`babel-plugin-test-doubler.js` no longer doubled tests.",
                              "created_at": "2017-10-01T15:39:18Z",
                              "sha": "8955e15ad3cd928532c6804feb1ec6eaf8240786"
                         },
                         {
                              "message": "Stabilize colors (#1524)\n\nPrior to this commit, the library and its tests relied on the same code\r\nto add color to terminal output. This prevented the tests from\r\nrecognizing changes to that code.\r\n\r\nSuch a change was introduced in a recent release of the `chalk` module\r\n[1]: it was updated to disable text coloring when run without a TTY.\r\nThis is the case in the test environment environment provided by the\r\n`tap` module (which AVA uses for its tests).\r\n\r\nThis fix disabled color output in the tests, but it caused no failures\r\nbecause both the expected values and the actual values were effected.\r\nHowever, this situation amounted to a decrease in test coverage because\r\nthe expected color of the terminal output could no longer be verified.\r\n\r\nUpdate the tests environment to simulate a TTY so that AVA continues to\r\nproduce colored text despite being run in a sub-process provided by\r\n`tap`. Update the test logic to reduce dependency on Ava internals in\r\norder to avoid similar silent regressions in the future.\r\n\r\n[1] https://github.com/chalk/chalk/commit/0827d3b6327dfd5e132589b1308703c9b4e127ef",
                              "created_at": "2017-09-24T17:01:14Z",
                              "sha": "b888419c09d1c6cdd00c407d456526a961afa570"
                         },
                         {
                              "message": "Add more screenshot fixtures",
                              "created_at": "2017-06-28T13:33:21Z",
                              "sha": "652705b735b818c9a206b35cc06f3760e6dcea13"
                         },
                         {
                              "message": "Redo all of the screenshots\n\nAnd commit fixtures so we can easily reproduce them.\n\nThe `snapshot-testin.png` screenshot will come as a separate repo in the AVA org.",
                              "created_at": "2017-06-27T21:45:18Z",
                              "sha": "2360256137b420164244755635b5980b90bbfee5"
                         },
                         {
                              "message": "Include dirty sources in watcher debug output",
                              "created_at": "2017-06-25T17:35:25Z",
                              "sha": "6d3c279e4cfd84161333b7bc92b1fad41fd4060b"
                         },
                         {
                              "message": "Fix debugging with Webstorm on Node.js 8 (#1414)\n\n* Rename confusing `--debug-brk` in code comment\r\n* Document curious test behavior around `--inspect` and `--debug` flags\r\n* Match `--debug` and `--inspect` args with regular expressions\r\n* Add `--inspect-brk` for Webstorm debugging",
                              "created_at": "2017-06-25T15:51:52Z",
                              "sha": "a868b02f7cdee89d82bd22b3f4f47da2e1cba6ac"
                         },
                         {
                              "message": "Support npm@5, test with Node.js 8 (#1398)\n\n* Add npm@5 lockfile\r\n\r\n* Test in Node.js 8, not 7\r\n\r\n* Update API test for Node.js 8\r\n\r\n--debug was removed in Node.js 8. Test --inspect instead.",
                              "created_at": "2017-06-04T16:26:52Z",
                              "sha": "8b8acfc455ffd2502de2d5204769bd58b260b004"
                         },
                         {
                              "message": "Refactor Runner\n\n* Don't mix option chain with the prototype, simply expose it on the\ninstance. Actual code only exposed the `test` method to the user, and\nthat happens to be the default starting point anyway\n\n* `run()` doesn't need to return stats\n\n* Ensure `run()` always returns a promise, and does not throw\n\n* Simplify `buildStats()`\n\n* Derive chainable methods from the actual chain when generating the\nTypeScript definition\n\n* Don't bother prefixing methods / properties with underscores",
                              "created_at": "2017-04-02T13:48:35Z",
                              "sha": "48b892af02342a45ad668edef4eb95b73bd2ac01"
                         },
                         {
                              "message": "Allow error source to be fixed when assertion errors are created\n\nIf the source is known through other means it doesn't have to be derived\nfrom the assertion error's stack trace.",
                              "created_at": "2017-03-26T18:07:20Z",
                              "sha": "e848898404f15c8805a2781a59967abc3e40960d"
                         },
                         {
                              "message": "Refactor Test implementation\n\n* Do away with underscore prefixes. They were used inconsistently, and\nare generally not worth it\n\n* Keep `_test` prefixed in ExecutionContext, since that is exposed to\ncalling code\n\n* Reorder methods\n\n* Assume all arguments are passed and are correct. They're already\nvalidated in `test-collection.js`\n\n*Pass metadata when instantiating Tests\n\n* Rewrite test finish logic. There's still a fair bit of interleaving\ndue to the `test.cb()` API, but it's now a lot easier to understand.\n\nDue to the last change, tests with `t.end()` and only synchronous\nassertions end immediately. Previously they would end asynchronously\ndue to a promise being in the completion chain.\n\nSimilarly, returning a promise or observable for a `test.cb()` test\nimmediately fails.",
                              "created_at": "2017-03-23T15:32:04Z",
                              "sha": "d3748b4aa771c387cbb79adaf21ccee4e8c09437"
                         },
                         {
                              "message": "Bump dependencies and fix lint issues",
                              "created_at": "2017-03-18T11:23:58Z",
                              "sha": "3da8603b87ae43a77f581738233ea98c3de5a10f"
                         },
                         {
                              "message": "Always fail tests with an assertion error\n\nWrap callback errors, rejected promises or synchronously thrown values\nin an `AssertionError`. Rely on the `actual` value being printed by the\nreporters, which means it's still shown to the user.\n\nRemove now obsolete `Error: ` prefix added to non-assertion errors in\n`run-status.js`. Instead more helpful messages from `test.js` can be\nshown.\n\nTry to reuse the stack trace from any original error, so magic assert\ncan show context.\n\nFail `t.throws()` / `t.notThrows()` with an AssertionError if called\nwith an improper argument, rather than throwing a TypeError.",
                              "created_at": "2017-03-14T12:50:35Z",
                              "sha": "827cc724ce69f455021134c035f158b56a53c520"
                         },
                         {
                              "message": "Refactor assertions\n\n* Use our own AssertionError class. Now we can track the assertion\nrather than abusing the operator field. We can also stop depending on\n`core-assert` once we implement `t.throws()` ourselves. Reserve the\n`statements` property for power-assert output\n\n* Directly create `AssertionError`s, making it easier to specify the\nvarying options\n\n* Default the assertion message to an empty string, removing workarounds\nin the mini and verbose reporters\n\n* Improve `t.plan()` assertion errors. Specify 'plan' as the assertion,\nand use `===` as the operator\n\n* Refactor `t.throws()` and `t.notThrows()`, improving readability and\nfixing #1227\n\n* Move knowledge of when to show output into `serialize-error.js`. It\nsat kind of awkwardly in `assert.js`\n\n* Always try to format errors in mini and verbose reporters, check\nif actual / expected values are available when formatting\n\n* Wrap assertions in `assert.js` for use with the `ExecutionContext`\n\n* Only enhance the power-assert assertions, don't use `empower-core`\nto wrap the others\n\n* Remove superfluous `empower-core` 'originalMessage' handling. Our\nassertions create `AssertionError`s with the correct message\n\n* Refactor overloaded `Test#_assert()` method and assertion tracking\ninternals. Note that only `t.throws()` and `notThrows()` are (possibly)\nasynchronous",
                              "created_at": "2017-03-14T12:50:35Z",
                              "sha": "4463f38605929071f2ae611715a0e26c7375ccff"
                         },
                         {
                              "message": "Fix reporter bug when rejecting non-errors (#1281)",
                              "created_at": "2017-03-03T09:23:30Z",
                              "sha": "157ef25aff0bae7145a6133928d2bdd0da853a78"
                         },
                         {
                              "message": "Ensure test run failures crash worker (#1265)\n\n* Ensure Test#run() returns exit promise\r\n\r\nThis allows errors from the exit logic to propagate to the runner.\r\n\r\n* Treat runner errors as uncaught exceptions\r\n\r\nErrors that occur inside the runner are treated as uncaught exceptions.\r\nThis prevents them from being swallowed in the promise chain, causing\r\nthe test to hang.\r\n\r\n* fixup! Treat runner errors as uncaught exceptions\r\n\r\n* fixup! Treat runner errors as uncaught exceptions",
                              "created_at": "2017-02-18T08:56:06Z",
                              "sha": "9cea60d98fe431af80ef1f90ce59849e1cd46a68"
                         },
                         {
                              "message": "Code excerpt fixes (#1271)\n\n* Resolve absolute source file path when serializing errors\r\n\r\nFixes #1270.\r\n\r\n* Bail excerpting code if file cannot be read\r\n\r\n* temp-write@^3.1.0\r\n\r\n* Restrict code excerpts to tests/helpers/sources\r\n\r\nDon't show code excerpts for dependencies or code outside the project\r\ndirectory. Determine where the source lives when serializing the error.\r\nThen, when excerpting the code, bail if it lives outside the project\r\nor is a dependency.",
                              "created_at": "2017-02-18T08:44:10Z",
                              "sha": "f3b60f418da29c81d03e00259b5a7a4d4e30d327"
                         },
                         {
                              "message": "Simplify failure output - fixes #1072 (#1234)",
                              "created_at": "2017-02-14T09:42:05Z",
                              "sha": "da68f2941b76c0400bc806bde39dc41d690a1818"
                         },
                         {
                              "message": "Support symlinked test files - fixes #1143 (#1145)",
                              "created_at": "2016-12-17T16:52:45Z",
                              "sha": "033d4dcdcbdadbf665c740ff450c2a775a8373dc"
                         },
                         {
                              "message": "temp fix for Node.js internal stack traces showing\n\nWith Node.js 6 and up.\n\nSee: https://github.com/sindresorhus/clean-stack/commit/e26cacd18fb8b29a6bcce370a9add84b5168c70a#diff-1dd241c4cd3fd1dd89c570cee98b79ddR50",
                              "created_at": "2016-11-16T17:37:12Z",
                              "sha": "26bcab0273323fcdb04f1409abe913fe030dee77"
                         },
                         {
                              "message": "Add option to disable power-assert - fixes #1017 (#1024)",
                              "created_at": "2016-08-30T23:05:02Z",
                              "sha": "24a38acc5b1b3e3deb77af54d90dda4677bd7749"
                         },
                         {
                              "message": "fix context in beforeEach and afterEach hooks - fixes #1004 (#1008)",
                              "created_at": "2016-08-17T18:08:25Z",
                              "sha": "c40477a0f34d5a6efb8cd28fd5201c30427905e8"
                         },
                         {
                              "message": "Remove t.doesNotThrow - fixes #850 (#1001)",
                              "created_at": "2016-08-14T22:47:43Z",
                              "sha": "e4487986cd6fefa442124ef3b03cfd91cccdd66f"
                         },
                         {
                              "message": "Deprecate `t.error()` - fixes #995 (#999)",
                              "created_at": "2016-08-13T01:21:40Z",
                              "sha": "28bb0d5cb2907282d61e224acdf621ce3c1abdfd"
                         },
                         {
                              "message": "set child process debug port to an available port - fixes #342 (#874)",
                              "created_at": "2016-08-12T08:49:27Z",
                              "sha": "c268c8dfce325010f84dd4097ba8696c5f3a47c1"
                         },
                         {
                              "message": "fix `run-status.js` tests on Windows",
                              "created_at": "2016-08-06T17:20:34Z",
                              "sha": "78d47b3c891116b8e2a2ccfd10e6e2a67f15bda5"
                         },
                         {
                              "message": "Support `karma-ava`\n\ncloses #942\n\nThis does a few things:\n\n- Moves anything used in child processes that the browser can't replicate into `lib/process-adapter.js` (so that browser implementations can implement that missing functionality).\n- Separates out `prefix-title` so `karma-ava` can use it.\n\nIt enables use of [`karma-ava`](https://github.com/avajs/karma-ava), which is very preliminary right now, but does work: https://cloud.githubusercontent.com/assets/4082216/16401095/75720328-3caf-11e6-950d-27a9e48bbf9a.png\n\n--\n\nThis also includes two commits from #896",
                              "created_at": "2016-08-06T15:48:39Z",
                              "sha": "204f2be2e8f174f698a56d504a0a6c76a1e0b60f"
                         },
                         {
                              "message": "provide clear error message when users attempt nested/async calls to `test` (#961)\n\nFixes #948.\r\n\r\nAVA does not support nested / async calls to `test`, but we were not providing a great error message when users attempted that.\r\n\r\n* added failing test for expected error\r\n\r\n* tests passed: waiting for review\r\n\r\n* added test\r\n\r\n* changed error message\r\n\r\n* fixed error in test\r\n\r\n* changed 'hasBegunRunning' to 'hasStarted'",
                              "created_at": "2016-07-14T02:38:59Z",
                              "sha": "8edd9c2ed169909bf19a3f9229143d8fc87d5284"
                         },
                         {
                              "message": "fix lint issues",
                              "created_at": "2016-07-11T10:55:15Z",
                              "sha": "6635af0e407b7fe4116751e673b43fa06356cb40"
                         },
                         {
                              "message": "fix import-order linting errors",
                              "created_at": "2016-07-09T11:33:10Z",
                              "sha": "5cfe0d1054e50c816643697d30dc3e09a73f157f"
                         },
                         {
                              "message": "fix lint issues with latest XO",
                              "created_at": "2016-06-15T18:33:03Z",
                              "sha": "c9259200c7ab4d581ec12cfdc6653ca88d22230e"
                         },
                         {
                              "message": "move power assert error message formatting to child processes (#911)\n\nFixes #703\r\n\r\n* moved power assert assertion error formatting to child processes\r\n\r\n* fix test that asserted presence of powerAssertContext on AssertionError",
                              "created_at": "2016-06-10T16:55:11Z",
                              "sha": "cddd2481386cecaf6622a9468dc8e1c5434a95bf"
                         },
                         {
                              "message": "fix typo in test/api.js (#910)",
                              "created_at": "2016-06-10T10:57:13Z",
                              "sha": "68db38ed2aa79b15e37a85db0ac723451585c2cc"
                         },
                         {
                              "message": "Prevent suppression of defaults in ava-files (#878)\n\n* fix(cli): Remove default files from CLI\r\n\r\nThe default files should be in one place (`ava-files.js`).\r\nRight now the defaults provided in `ava-files.js` aren't being used\r\nbecause the CLI pre-populates them.\r\n\r\nCloses #875\r\n\r\n* Fixup #876",
                              "created_at": "2016-05-25T23:56:52Z",
                              "sha": "ab3418fe62e1bcf2514b127ee340574027c507a3"
                         },
                         {
                              "message": "fix warning message",
                              "created_at": "2016-05-24T08:55:19Z",
                              "sha": "1d512315bc14a639155d0197b06d5ac966ba3770"
                         },
                         {
                              "message": "revert npm link fix. (#859)\n\nThis mostly reverts #815, and #827. The Node regressions they fixed were resolved in Node 6.2.0. The new behavior is just to print a warning message so people know how to fix it.",
                              "created_at": "2016-05-24T04:49:06Z",
                              "sha": "a543b9f7c21a84ed4091e0c30587941152c3a4d2"
                         },
                         {
                              "message": "Fix \"Test files must be run with the AVA CLI\" warning. (#862)\n\nWe used to have a nice warning, telling people to use the CLI if they ran `node path/to/testfile.js`. It was broken by requiring `test-worker` to early. `test-worker` tries `JSON.parse(process.argv[2])`, which will likely throw. Preventing the helpful message.\r\n\r\nThis adds a fix, and a regression test.",
                              "created_at": "2016-05-24T01:59:47Z",
                              "sha": "0ef6dc4f09dccc3f95336f8f63de59445fdeb93a"
                         },
                         {
                              "message": "RunStatus#prefixTitle should remove this.base only if it occurs at the beginning of the path (#844)\n\n* RunStatus#prefixTitle(), replace this.base only if it occurs at the beggining of path\r\n\r\n* RunStatus#prefixTitle, filter out __tests__ from path\r\n\r\n* added tests for RunStatus#prefixTitle",
                              "created_at": "2016-05-22T17:54:12Z",
                              "sha": "f35da7e10df6d2abf74ac9af3dd1ac8d8903bf7e"
                         },
                         {
                              "message": "refactor watcher (#766)\n\n* refactor watcher tests\r\n\r\n* move some methods from watcher to AvaFiles\r\n\r\n* add some tests for ava-files\r\n\r\n* add more test coverage\r\n\r\n* fix linter error after merge\r\n\r\n* PR Feedback\r\n\r\n* use cross-platform split",
                              "created_at": "2016-05-20T05:09:57Z",
                              "sha": "fdd797082cd78ff956f677038745f6f7518922bf"
                         },
                         {
                              "message": "Add macro support. (#832)\n\n* Basic macro support.\r\n\r\nThis adds basic macro support as discussed in #695.\r\n\r\nIt does not completely implement the spec outlined there, specifically:\r\n\r\n- The macro can only specify the title using a function in `macroFn.title`. We discussed allowing `macroFn.title` to also be a string, and allowing some form of template language for extracting a title. However, using ES2015 string templates is already pretty easy, so we may just skip this.\r\n- We discussed allowing groups of tests to be created using arrays.\r\n\r\nBoth the above proposals are found in [this comment](https://github.com/sindresorhus/ava/issues/695#issuecomment-205929738). They both enhance the implementation found in this commit, and would not break the contract. So I don't think there is anything preventing us from shipping this now.\r\n\r\n* fix readme indentation\r\n\r\n* spread arguments\r\n\r\n* Allow arrays of macros\r\n\r\n* pass providedTitle as first argument to title function.\r\n\r\n* improve docs",
                              "created_at": "2016-05-16T20:42:31Z",
                              "sha": "a4541289491e7f839e7c9417fa0f01a76af42946"
                         },
                         {
                              "message": "fix crash in 'fake' browser env (#829)\n\n* added failing test for source mapped exceptions in what looks like a browser env\r\n\r\n* added environment: node setting to sourceMapSupport.install()",
                              "created_at": "2016-05-15T14:15:57Z",
                              "sha": "0fa229e385232011acf15bec91f1eaa99e16a343"
                         },
                         {
                              "message": "Only fix `npm link` of AVA as necessary. (#827)",
                              "created_at": "2016-05-13T07:30:23Z",
                              "sha": "4abb351903acee994af517c592b325c563378474"
                         },
                         {
                              "message": "add `after.always` and `afterEach.always` hooks (#806)\n\nFixes #474\r\n\r\n* add after.always, afterEach.always hook\r\n\r\n* update readme about always modifier\r\n\r\n* add test for verifying throw\r\n\r\n* add tests for verifying always hook are added\r\n\r\n* update readme for better \"always\" explaination\r\n\r\n* fix typo in test/test-collection.js\r\n\r\n* better always checking and implement\r\n\r\n* modify error message for only\r\n\r\n* fix build error\r\n\r\n* add always to default in test",
                              "created_at": "2016-05-08T20:06:03Z",
                              "sha": "61f09584ce3b1b0ae088cc8b47446028f71ae812"
                         },
                         {
                              "message": "Fix profiling script and add some tests for it. (#812)\n\n* fix profiler script\r\n\r\n* add some profiling tests\r\n\r\n* fix some lint errors\r\n\r\n* disable eslint error for profile.js\r\n\r\n* fix for Node.js < 4\r\n\r\neventEmitter.listenerCount was not a thing in days of yore.\r\n\r\n* Exit process async for Node 0.10 which emits uncaught exceptions async.\r\n\r\n* use process.execPath ... because windows\r\n\r\n* fix error-code descrepencies on Windows",
                              "created_at": "2016-05-08T20:01:56Z",
                              "sha": "5f831351a9a4b574e1c7079c6ab61c8939d6432f"
                         },
                         {
                              "message": "fix some XO lint issues",
                              "created_at": "2016-04-16T17:50:59Z",
                              "sha": "40025a5c9c8f7aff08b687f4c7792b0f2790bd08"
                         },
                         {
                              "message": "ensure watcher receives dependencies again (#756)\n\nSince #713 the API no longer emits 'dependencies' events. These are emitted\r\ninstead by the RunStatus, which can be obtained by listening to the 'test-run'\r\nevent on the API.\r\n\r\nThe watcher tests use a mocked API object which wasn't updated to reflect these\r\nchanges. Consequently dependency tracking was broken since #713 was merged.\r\n\r\nThis commit fixes the watcher and the corresponding tests. I've also added an\r\nintegration test which does not rely on mocking, helping us detect breakage\r\nsooner.",
                              "created_at": "2016-04-13T18:11:42Z",
                              "sha": "f5246e173cdcf93eacf06d711ea7b6fdd22fd27e"
                         },
                         {
                              "message": "fix failing test\n\nNot caught earlier probably because #730 wasn't rebased.",
                              "created_at": "2016-04-13T09:43:57Z",
                              "sha": "abc25388740ccea1d64f34c876849ad657e7f3af"
                         },
                         {
                              "message": "Improve watch logging (#737)\n\n* display current time when mini & verbose reporters finish\r\n\r\nI'm using toLocaleTimeString() which works even back to Node.js 0.10. Forcing a\r\n24-hour clock because we're geeks.\r\n\r\n* watcher: restart logger on subsequent runs\r\n\r\nThe CLI starts the logger so the watcher shouldn't reset it on its first run.\r\nRestart the logger after resetting, this allows the mini reporter to render its\r\nspinner.\r\n\r\n* better api.run stub in watcher test\r\n\r\nReturn an object for the runStatus, add assertions to verify this object is\r\npassed to logger.finish()\r\n\r\n* assert that r/rs reruns all tests\r\n\r\n* clear mini reporter in watch mode\r\n\r\nClear the mini reporter unless the previous run had failures, or \"r\\n\" was\r\nentered on stdin.\r\n\r\n* consistent empty lines in finish output\r\n\r\nAlways print two empty lines before each error/rejection/exception when the mini\r\nand verbose reporters finish. Remove trailing whitespace from stack traces.\r\nAlways print an empty line after the finish output.\r\n\r\nAdd a test helper to more easily compare line output, with useful debug\r\ninformation. At the moment this new helper is only used for failing tests.\r\n\r\n* print line if reporter was not be cleared\r\n\r\nWatch mode won't clear the mini reporter if there were errors, or \"r\\n\" was\r\nentered on stdin. The verbose reporter can't be cleared at all. To improve the\r\nseparation between multiple test runs, write a horizontal line when starting a\r\nnew test run and the reporter was not cleared.\r\n\r\n* remove debug output from cli test",
                              "created_at": "2016-04-13T02:34:51Z",
                              "sha": "95a5c979d4f5825706cad17377e2bdf9fd54596b"
                         },
                         {
                              "message": "Improve source pattern handling (#730)\n\n* watcher: correctly test if source is in the cwd\r\n\r\nMake sure the path starts with ../ (after platform-specific slashes have been\r\ncorrected). Clarify existing test and add a case where the source starts with\r\ntwo dots but is still in the current working directory.\r\n\r\n* change handling of negated source patterns\r\n\r\nFixes #614. Allow negated source patterns to be specified without unsetting the\r\ndefault negation patterns.\r\n\r\nAllow source patterns to override the default negation patterns if they start\r\nwith one of the ignored directories.\r\n\r\n* update watch mode docs\r\n\r\n* Suggest `watch:test` as the npm script\r\n* Document how to always enable watch mode using the ava section in package.json\r\n* Recommend source patterns are configured through the ava section in package.json\r\n* Suggest using the verbose reporter when debugging",
                              "created_at": "2016-04-12T21:52:37Z",
                              "sha": "a3565fd685b2a06c63cb1498f37d47e6bafe672c"
                         },
                         {
                              "message": "Support more test filename conventions (#721)\n\n* update docs with more conventions\r\n\r\n* fix glob for __tests__\r\n\r\n* add more conventions for test files to include\r\n\r\n* update __tests__ glob per\r\nhttps://github.com/sindresorhus/ava/pull/721#discussion_r58885097\r\n\r\n* Update documentation for default globs",
                              "created_at": "2016-04-09T03:54:30Z",
                              "sha": "9ceeb115e75172c01e86bce8e94c2d2fcd8d094a"
                         },
                         {
                              "message": "fix lint issues",
                              "created_at": "2016-04-08T20:02:07Z",
                              "sha": "bd4177955fcab079741bc00a7d04b1576f989b48"
                         },
                         {
                              "message": "Refactor API\n\n* extract files processing from api\r\n\r\n* extract test-data class from API\r\n\r\n* fix breakage from rebase\r\n\r\n* pass testData to reporters in every method\r\n\r\n* rename testData to runStatus\r\n\r\n* runStatus.listenToTestRun => runStatus.observeFork\r\n\r\n* rename test-data.js to run-status.js\r\n\r\n* fix failing watcher test",
                              "created_at": "2016-04-07T06:01:34Z",
                              "sha": "31b268e60385a834847afaf82f0daca5ab106706"
                         },
                         {
                              "message": "watcher: fix recursive test file matcher\n\nThe watcher used dir**/*.js as the recursive pattern when the initial pattern\r\n\r\nmatched a directory. This should be dir/**/*.js instead. Before this fix tests\r\n\r\nwere matched as sources, causing all tests to be rerun.",
                              "created_at": "2016-04-06T08:51:47Z",
                              "sha": "61848ee42fd3438f0e62ec2c1a700a7b8d8c607f"
                         },
                         {
                              "message": "rename `t.ok()` to `t.truthy()` and `t.notOk()` to `t.falsy()`\n\n* refactor `ok` to `truthy` and `notOk` to `falsy`\r\n\r\n* update tests to be more explicit\r\n\r\n* update docs to use a better assertion api\r\n\r\n* realign power-assert output\r\n\r\n* quick typo fix\r\n\r\n* update assertions",
                              "created_at": "2016-04-06T03:08:38Z",
                              "sha": "a7f50eb82d8dae4f9a7e70ae33ef71712a8fd69b"
                         },
                         {
                              "message": "fix module import order\n\naccording to https://github.com/jfmengels/eslint-plugin-import-order\n\nthanks @jfmengels! :)",
                              "created_at": "2016-03-27T17:09:26Z",
                              "sha": "0a9cfce4ae3571501de1fe36e4c0adce07dc55ce"
                         },
                         {
                              "message": "Merge pull request #651 from sindresorhus/fix-enhanced-assert-throws-not-returning\n\nEnsure t.throws() returns the error",
                              "created_at": "2016-03-18T03:09:59Z",
                              "sha": "8d47119458e83d3899683ad3ea3a4c1c01b7dd49"
                         },
                         {
                              "message": "Merge pull request #642 from sindresorhus/fix-run-crashes\n\nFix run crashes",
                              "created_at": "2016-03-14T10:36:24Z",
                              "sha": "56c0b8bd8c5096d62ba5a7fcb83668069e676dc3"
                         },
                         {
                              "message": "don't send to fork once it's been told to exit\n\nThis seems to trigger a Node bug which kills the AVA master process, at least\nwhile running AVA's tests. See <https://github.com/novemberborn/_ava-tap-crash>\nfor more details.",
                              "created_at": "2016-03-13T12:23:44Z",
                              "sha": "cd6961a63ba08cf3bf5d912f0b80838e9c713736"
                         },
                         {
                              "message": "Merge pull request #603 from sindresorhus/fix-flaky-test\n\ntry to fix flaky api test",
                              "created_at": "2016-03-05T17:55:33Z",
                              "sha": "94b352cc08673feac3ccbab912879bcd1865d92b"
                         },
                         {
                              "message": "try to fix flaky api test\n\nThis test has failed twice now, see\n<https://travis-ci.org/sindresorhus/ava/jobs/113902915>. I can't reproduce the\nerror locally, perhaps there is an error that's being swallowed.\n\nReturn the promise so tap can report any errors and isn't somehow tempted to\nend the test early.",
                              "created_at": "2016-03-05T15:38:11Z",
                              "sha": "7168e8efd400ce9ffc53ab348c75082cd40d75af"
                         },
                         {
                              "message": "Merge pull request #601 from sindresorhus/fix-xo-errors\n\nFix linting error",
                              "created_at": "2016-03-05T15:23:31Z",
                              "sha": "a13aeb225293cc57b92d4b43774c0b952c012a45"
                         },
                         {
                              "message": "fix linting error",
                              "created_at": "2016-03-05T15:03:56Z",
                              "sha": "54726d80e7f78ebe8e1e6cd48f2c1a928e5a1ca6"
                         },
                         {
                              "message": "Merge pull request #591 from sindresorhus/fix-010-watch-test\n\nFix watcher test with Node 0.10",
                              "created_at": "2016-03-03T13:02:48Z",
                              "sha": "1e62626c0081f26ea1b687e356b2455dca494ae3"
                         },
                         {
                              "message": "Merge pull request #548 from sotojuan/fix-test-worker\n\nFix test worker crash when executed without AVA CLI",
                              "created_at": "2016-02-13T18:43:53Z",
                              "sha": "d21b40d0785b08fb82fc8d69ed1e825a5602907f"
                         },
                         {
                              "message": "Merge pull request #464 from sotojuan/fix-undefined-skip\n\nFix undefined skip count",
                              "created_at": "2016-01-23T12:21:22Z",
                              "sha": "da0cce684739ddd27911d5b3ba5f1a957408c590"
                         },
                         {
                              "message": "Merge pull request #430 from sindresorhus/fix-429\n\nAdd babel-runtime and core-js to list of internals. Fixes #429",
                              "created_at": "2016-01-15T02:54:29Z",
                              "sha": "dcf84b6f867d7b7aece83e59dcf99cbbc05a7bdc"
                         },
                         {
                              "message": "Merge pull request #415 from jamestalmage/fix-mini-reporter-logging\n\nFix some reporter / logging issues. Fixes #392",
                              "created_at": "2016-01-13T20:22:20Z",
                              "sha": "3fdb6fc1368b0ce6dc91c9fb408e98f7fbed5d32"
                         },
                         {
                              "message": "Prevent log corruption when using mini reporter. Fixes #392.\n\nThis prevents interference between the mini logger and child processes that use `console.log`. The mini reporter previously used logUpdate which deletes lines previously written with the logUpdate API before writing a new one. This caused problems if lines from console.log were written inbetween logUpdate calls. It would delete the users log messages instead of the test status line. To fix this, we store the last written last log line, clear it, write the users log output, then restore the last log line. This keeps the miniReporter output always at the bottom of the log output.\n\nIt also fixes an incorrect use of the `child_process` API. We were using the `stdio` option for `child_process.fork`, but that option is ignored (it is honored for just about every other method in that API). See: https://github.com/nodejs/node/blob/7b355c5bb30d7f9b38654fdb50e58dbd1dcd990a/lib/child_process.js#L49-L50\n\nIt also adds a set of visual tests which can be run via `npm run visual`. They must be run manually, and should be run as part of our pre-release process.",
                              "created_at": "2016-01-13T16:36:23Z",
                              "sha": "3d7f036a39095758acfdbdd1fa40c2f8b561c059"
                         },
                         {
                              "message": "Regression: Assertions should return promises.\n\nThis fixes that regression, and extends the promise returning behavior to all assertions.\n\nThis would be useful in `async` test functions to bail on the remaining tests if some precondition fails. Simply `await` the assertion.",
                              "created_at": "2015-12-31T09:10:06Z",
                              "sha": "821436aec6e956b670a80d7c9943eeffdf6e02b9"
                         },
                         {
                              "message": "Better test prefixes\n\ncloses #379",
                              "created_at": "2015-12-28T11:22:55Z",
                              "sha": "fc3b9693d5eba8d47f4532135105e8c9c7f3a93c"
                         },
                         {
                              "message": "Merge pull request #354 from sindresorhus/fix-error-stacks\n\nShow full stack trace for non-assert errors",
                              "created_at": "2015-12-26T10:50:21Z",
                              "sha": "945dbea40a6a500a24d54ebcc7e10dcd75647fc7"
                         },
                         {
                              "message": "cleanup test fixtures",
                              "created_at": "2015-12-24T13:59:45Z",
                              "sha": "83b189b5356b183a455c751e5a8c7f29795f8e17"
                         },
                         {
                              "message": "Merge pull request #357 from sotojuan/ignore-fixture-helpers\n\nIgnore files in fixtures and helpers directories",
                              "created_at": "2015-12-24T12:15:59Z",
                              "sha": "ab08598d69b2fda591c3a5f8f2da88e1d6936637"
                         },
                         {
                              "message": "Ignore files in fixtures and helpers directories\n\nDon't ignore files starting with '_'\n\nIgnore files starting with '_'\n\nFix path for fixtures\n\nAdd 'fixtures' path to tests\n\nMove ignored fixtures to their own directory",
                              "created_at": "2015-12-23T19:50:36Z",
                              "sha": "f6cef7fcf361a33d22a6eeefdf067c41c0fbdc98"
                         },
                         {
                              "message": "Close #337 PR: Move test title prefixes test to API tests.",
                              "created_at": "2015-12-15T11:58:10Z",
                              "sha": "e370f4f38f81e7182f9b48b15d2dd9e21504d67b"
                         },
                         {
                              "message": "Merge pull request #334 from ariporad/fix-bluebird-warnings\n\nFix bluebird warnings",
                              "created_at": "2015-12-15T11:55:30Z",
                              "sha": "4513cba2644857f90d1a467c9edf3b16eb8f114c"
                         },
                         {
                              "message": "fix tests",
                              "created_at": "2015-12-10T11:12:28Z",
                              "sha": "3fdf44d1acbe8c6f14eb3865352ce49812c4a956"
                         },
                         {
                              "message": "improve source-map tests\n\nUse the source-map-fixtures package to provide a fixture which throws an error.\nStack traces should be corrected for this fixtures.\n\nAdd a script to generate a test fixture that comes with an input source map.\nErrors from this fixture should be mapped to the input source. Having the script\nmakes it easier to update this fixture in the future.\n\nThe generated fixture now uses a source map file. Commenting out the\ninputSourceMap code in lib/babel.js didn't cause the test to fail if an inline\nsource map was used. I'm not sure why that is. The test fails as expected when\nusing a map file.\n\nNote that the original 'stack traces for exceptions are corrected using a source\nmap' test only tested the source map cached by lib/babel.js. This is already\ncovered by the new 'stack traces for exceptions are corrected using a source\nmap, taking an initial source map for the test file into account' test.\n\nWe throw the error from another fixture which uses a source map file. This\nimplicitly tests source-map-support. We're not testing a fixture which uses an\ninline source map, firstly because that's somewhat superfluous and secondly\nbecause the generated stack trace line is deemed not important due to the\nlogger's behavior and a source-map-support bug\n(<https://github.com/evanw/node-source-map-support/pull/119>).",
                              "created_at": "2015-12-08T21:54:19Z",
                              "sha": "386416846bdb7b8aae84e1b0d8cf77da0bb31fa4"
                         },
                         {
                              "message": "Merge pull request #293 from jamestalmage/fix-formatting-for-uncaught-errors\n\nFix regression in uncaughtException formatting.",
                              "created_at": "2015-12-01T06:38:55Z",
                              "sha": "6b6247ebe3dd785282551ee62de0970ea69b7b52"
                         },
                         {
                              "message": "fix flaky test",
                              "created_at": "2015-11-28T06:11:58Z",
                              "sha": "e2e45151dc5ac249d49a7cd94baca8c70f9ed2ce"
                         },
                         {
                              "message": "Integrate time-require when `debug` is enabled.\n\nI want to start focusing on getting our require times down,\nboth in the main thread and forked tests.\n\nThis adds `time-require` support directly to the CLI to assist in that.\nThis is especially important for forked test processes, where I currently\nhave to manually add a line of code each time I want to test an optimization.\n\nI don't think this should be a publicly documented move. I think we want\nthe freedom to remove this once we are happy with performance.\n\nI have placed comments above all `time-require` references, indicating\nit is for internal use only. Users have been given fair warning against\nrelying on its inclusion long term.\n\nUsage:\n\n```sh\n$ DEBUG=ava ./cli.js test/fixture/es2015.js --sorted\n```\n\n`--sorted` is optional. It sorts the requires from most expensive to least. The default is sequential sorting.\n\nThe output will display multiple `time-require` reports.\nOne for each forked process, and the last one for the main thread.",
                              "created_at": "2015-11-27T06:19:06Z",
                              "sha": "5e927454d3caf7f7a602bf25e1b20ae33c7d3924"
                         },
                         {
                              "message": "use serialize-error module\n\nWe dropped it because it did not handle circular references.\nThat has since been fixed.\n\nReference:\n  https://github.com/sindresorhus/serialize-error/pull/3",
                              "created_at": "2015-11-24T21:53:56Z",
                              "sha": "3e9038566b01d823fdade590e739043cdd8ccab1"
                         },
                         {
                              "message": "ignore process.env when running CLI tests\n\nI have the DEBUG variable set in my dotfiles and it made AVA output debug info and fail the tests.",
                              "created_at": "2015-11-24T09:39:26Z",
                              "sha": "d2119f55438ae3ada3c7a9b45daf44500ef7534f"
                         },
                         {
                              "message": "Close #257 PR: logger.js: fix beautifyStack on Windows. Fixes: #255.",
                              "created_at": "2015-11-23T03:22:37Z",
                              "sha": "33b7918243c9dd9c865744d85bbe9996685ed476"
                         },
                         {
                              "message": "add `debug` - fixes #242",
                              "created_at": "2015-11-19T20:27:57Z",
                              "sha": "60b233794861fa2aee0df7b9f94d4c178b6684d9"
                         },
                         {
                              "message": "split tests into multiple files - fixes #201",
                              "created_at": "2015-11-19T16:25:38Z",
                              "sha": "5b91488220b793b220763aaa985be3ae8fec64f5"
                         },
                         {
                              "message": "Merge pull request #208 from jamestalmage/fix-198\n\nProperly handle empty results from test files - fixes #198",
                              "created_at": "2015-11-14T10:52:31Z",
                              "sha": "97409864e2f2f3ed103b13ae6602cad4744a6815"
                         },
                         {
                              "message": "fork.js: Reject child-process completion promise with an error.\n\nIt is generally recommended to reject Promises with an error.\nThis becomes especially true with the move to `async/await`,\nas `Promise.reject(1)` essentially becomes `throw 1` in that context.\n\nNot doing so was causing a weird bug on Node 0.10.",
                              "created_at": "2015-11-12T11:18:37Z",
                              "sha": "732b4c231b7dfd208703dea55713580e0f96e276"
                         },
                         {
                              "message": "Close #166 PR: Fix issue with CLI throwing on Windows - fixes #164.",
                              "created_at": "2015-11-08T14:39:06Z",
                              "sha": "560c6f898dbc0d68cac726d0bcfbfa894b6eed9d"
                         },
                         {
                              "message": "fix use of absolute paths",
                              "created_at": "2015-11-07T14:45:24Z",
                              "sha": "e57b99d84b3ef2cb9e549a68bafc7740850c4e0a"
                         },
                         {
                              "message": "Merge pull request #147 from uiureo/fix-espower-babel\n\nUse local babel in babel-plugin-espower",
                              "created_at": "2015-11-07T04:13:15Z",
                              "sha": "5910c6bdd94a9827f8414edd274587eb2fb3ff69"
                         },
                         {
                              "message": "Merge pull request #91 from sindresorhus/throws-fixes\n\nFix t.throws() behavior to avoid false-positives and regex suport",
                              "created_at": "2015-10-22T18:13:23Z",
                              "sha": "85bfb22112a6bdfb825aeb54c7186d162d2c0d23"
                         },
                         {
                              "message": "fix throws behavior to avoid false-positives and support regex",
                              "created_at": "2015-10-22T17:33:05Z",
                              "sha": "593a6f9c995eaa2a2cd033a681803f5d3b4f9921"
                         },
                         {
                              "message": "ensure that hooks run only around tests, fix #89",
                              "created_at": "2015-10-22T17:08:58Z",
                              "sha": "da58c623fc171fc6f30b76dcf793a624f133eb44"
                         },
                         {
                              "message": "Merge pull request #66 from vdemedes/prefix-test-title\n\nPrefix test title with test location",
                              "created_at": "2015-10-01T14:24:32Z",
                              "sha": "c0bc39364c7c1ca449f9cca0791463cf4364bfae"
                         },
                         {
                              "message": "prefix test title with test location",
                              "created_at": "2015-10-01T07:59:54Z",
                              "sha": "e9b3e5019de71e00725fa77b4f705c64e86e99c3"
                         },
                         {
                              "message": "use strict deep assert checking - fixes #68",
                              "created_at": "2015-09-28T08:13:36Z",
                              "sha": "328ca3d2435e268da63aaa757dea94b8788af1d3"
                         },
                         {
                              "message": "Merge pull request #58 from vdemedes/fix-tests-counter\n\nFix passed/failed counters",
                              "created_at": "2015-09-18T07:43:37Z",
                              "sha": "2bff236abaafdcfcd01f3c38f492c74f89380b98"
                         },
                         {
                              "message": "fix passed/failed counters",
                              "created_at": "2015-09-18T07:34:20Z",
                              "sha": "cc17f1261ba085d0ccbebefeb0d36037edbf7c4a"
                         },
                         {
                              "message": "Merge pull request #51 from joakimbeng/master\n\nEasier debugging when not overwriting already existing assertErrors",
                              "created_at": "2015-09-16T08:44:00Z",
                              "sha": "863e42035bea2877710fac6133063ab1cf4dc09d"
                         },
                         {
                              "message": "don't log individual test if it's a single passing test - fixes #10",
                              "created_at": "2015-09-08T16:02:25Z",
                              "sha": "8eb69f453d2ea0c248657f73e6a92ab944d830d4"
                         },
                         {
                              "message": "Show only useful lines of stack trace - fixes #22\n\nCloses #29",
                              "created_at": "2015-09-08T05:15:07Z",
                              "sha": "b370dd5d593f81dd9c53819037809c645c148e9e"
                         },
                         {
                              "message": "fix handling of plan() not matching assertions",
                              "created_at": "2015-09-08T05:14:39Z",
                              "sha": "cdc9272f63f51a5fb2358eaf5d762a9e0bdf338b"
                         },
                         {
                              "message": "fix assertion counting",
                              "created_at": "2015-09-08T05:14:39Z",
                              "sha": "083c7d14f6c8ebee798ae1adb0460046269537e5"
                         }
                    ]
               },
               "async_constructs": {
                    "callback": 26,
                    "promise": 37,
                    "async": 126
               }
          },
          {
               "index": 2,
               "repoFullName": "zloirock/core-js",
               "creationDate": "2013-07-17",
               "languages": {
                    "JavaScript": 3152873,
                    "TypeScript": 2381,
                    "HTML": 1667
               },
               "stars": 17891,
               "issues": {
                    "incomplete_results": false,
                    "status_code": "200",
                    "total_bug_issues": 117,
                    "total_issues": 817,
                    "issues": [
                         {
                              "title": "Structured cloning sparse arrays do not match browsers",
                              "description": "I couldn't find anything in the spec as to how `structuredClone()` should handle sparse arrays, but all browsers I've tested handle them different from Core JS.\r\n\r\nCore JS 3.26.1:\r\n```\r\nconst sparseArray = structuredClone([,]);\r\nconsole.log(sparseArray.length); // 0\r\nconsole.log(0 in sparseArray); // false\r\n```\r\n\r\nLatest version of Chrome, FireFox, and Safari:\r\n```\r\nconst sparseArray = structuredClone([,]);\r\nconsole.log(sparseArray.length); // 1\r\nconsole.log(0 in sparseArray); // false\r\n```",
                              "label": "bug",
                              "createdAt": "2022-12-14T00:03:30Z",
                              "closedAt": "2022-12-14T02:00:20Z",
                              "lastComment": "2022-12-14T01:51:12Z",
                              "commentCount": 1
                         },
                         {
                              "title": "Starting with 3.25.4: \"wmhas is not a function\"",
                              "description": "Starting with core-js 3.25.4, I'm starting to see errors in my CI pipeline when running [Storybook](storybook.js.org/):\r\n\r\n```\r\n[TEST]     TypeError: wmhas is not a function\r\n[TEST] \r\n[TEST]       at has (node_modules/core-js/internals/internal-state.js:44:12)\r\n[TEST]       at enforce (node_modules/core-js/internals/internal-state.js:17:10)\r\n[TEST]       at Object.<anonymous>.module.exports (node_modules/core-js/internals/make-built-in.js:39:15)\r\n[TEST]       at Object.<anonymous> (node_modules/core-js/internals/make-built-in.js:47:31)\r\n[TEST]       at Object.<anonymous> (node_modules/core-js/internals/define-built-in.js:3:19)\r\n```\r\n\r\nWorkaround: Stick with 3.25.3 and things work perfectly fine.",
                              "label": "bug",
                              "createdAt": "2022-10-03T14:37:17Z",
                              "closedAt": "2022-10-03T18:29:16Z",
                              "lastComment": "2022-10-04T06:48:44Z",
                              "commentCount": 15
                         },
                         {
                              "title": "web.structured-clone test will always fail",
                              "description": "https://github.com/zloirock/core-js/blob/bba906efe9db8f6922bac12678d99405b3509a53/tests/compat/tests.js#L1863\r\n\r\nThe bug in the test\r\n```js\r\nvar error = new Error();\r\nvar test = structuredClone({ a: error, b: error });\r\nif (!(... && test.stack === error.stack)) return false;\r\n```\r\n\r\n`test.stack` will always be `undefined` and `error.stack` will always be an array.\r\n\r\nI think the test intended use `test.a.stack`? But I am not sure as it would seem that `test.a === error` would be a better test.",
                              "label": "bug",
                              "createdAt": "2022-07-16T07:32:30Z",
                              "closedAt": "2022-07-16T10:12:58Z",
                              "lastComment": "2022-07-16T09:58:48Z",
                              "commentCount": 3
                         },
                         {
                              "title": "The webpack-cli dependency commander required for the build is old.",
                              "description": "Hi, core-js is great project !!! :)\r\nCould it be due to the version (8.12.1) of NPM?\r\nAn error occurred while running node_modules/webpack-cli@4.10.0.\r\n\r\n# 1.Step\r\n``` bash\r\nnpm install\r\nnpm run init\r\nnpm run bundle\r\n```\r\n# 2.Step\r\n``` bash\r\nC:\\Users\\wafflook\\Desktop\\core-js-master>npm run bundle\r\n\r\n> bundle\r\n> run-p bundle-package bundle-helpers bundle-tests-global bundle-tests-pure\r\n\r\n\r\n> bundle-package\r\n> zx scripts/bundle.mjs\r\n\r\n\r\n> bundle-tests-global\r\n> webpack --entry ./tests/tests/index.js --output-filename tests.js\r\n\r\n\r\n> bundle-helpers\r\n> webpack --entry ./tests/helpers/qunit-helpers.js --output-filename qunit-helpers.js\r\n\r\n\r\n> bundle-tests-pure\r\n> webpack --entry ./tests/pure/index.js --output-filename pure.js\r\n\r\nC:\\Users\\wafflook\\Desktop\\core-js-master\\node_modules\\webpack-cli\\lib\\webpack-cli.js:16\r\n        this.program.name(\"webpack\");\r\n                     ^\r\n\r\nTypeError: Cannot read properties of undefined (reading 'name')\r\n    at new WebpackCLI (C:\\Users\\wafflook\\Desktop\\core-js-master\\node_modules\\webpack-cli\\lib\\webpack-cli.js:16:22)\r\n    at runCLI (C:\\Users\\wafflook\\Desktop\\core-js-master\\node_modules\\webpack-cli\\lib\\bootstrap.js:7:17)\r\n    at Object.<anonymous> (C:\\Users\\wafflook\\Desktop\\core-js-master\\node_modules\\webpack-cli\\bin\\cli.js:17:1)\r\n    at Module._compile (node:internal/modules/cjs/loader:1112:14)\r\n    at Module._extensions..js (node:internal/modules/cjs/loader:1166:10)\r\n    at Module.load (node:internal/modules/cjs/loader:988:32)\r\n    at Module._load (node:internal/modules/cjs/loader:834:12)\r\n    at Module.require (node:internal/modules/cjs/loader:1012:19)\r\n    at require (node:internal/modules/cjs/helpers:102:18)\r\n    at module.exports (C:\\Program Files (x86)\\Nodist\\bin\\node_modules\\webpack-cli\\node_modules\\import-local\\index.js:16:66)\r\n\r\nNode.js v18.4.0\r\nC:\\Users\\wafflook\\Desktop\\core-js-master\\node_modules\\webpack-cli\\lib\\webpack-cli.js:16\r\n        this.program.name(\"webpack\");\r\n```\r\n# 3.Step \"Failed Destructuring assignment\"\r\n``` javascript\r\nconst { program, Option } = require(\"commander\");\r\nconst WEBPACK_PACKAGE = process.env.WEBPACK_PACKAGE || \"webpack\";\r\nconst WEBPACK_DEV_SERVER_PACKAGE = process.env.WEBPACK_DEV_SERVER_PACKAGE || \"webpack-dev-server\";\r\nclass WebpackCLI {\r\n    constructor() {\r\n        this.colors = this.createColors();\r\n        this.logger = this.getLogger();\r\n        // Initialize program\r\n        this.program = program;\r\n        this.program.name(\"webpack\");\r\n        this.program.configureOutput({\r\n            writeErr: this.logger.error,\r\n            outputError: (str, write) => write(`Error: ${this.capitalizeFirstLetter(str.replace(/^error:/, \"\").trim())}`),\r\n        });\r\n    }\r\n```\r\n\r\n# Webpack required ^7.0.0\r\n``` json\r\n{\r\n  \"name\": \"webpack-cli\",\r\n  \"dependencies\": {\r\n    \"commander\": \"^7.0.0\"\r\n  }\r\n}\r\n```\r\n\r\n# Installed commander@7.2.0\r\n``` json\r\n{\r\n  \"name\": \"commander\",\r\n  \"version\": \"7.2.0\"\r\n}\r\n```\r\n\r\n# Updated commander@9.3.0\r\n``` bash\r\ncd node_modules/webpack-cli\r\nnpm install commander@9.3.0\r\nnpm run bundle\r\n```\r\n\r\n# Fixed\r\n``` bash\r\n> bundle\r\n> run-p bundle-package bundle-helpers bundle-tests-global bundle-tests-pure\r\n\r\n\r\n> bundle-package\r\n> zx scripts/bundle.mjs\r\n\r\n\r\n> bundle-helpers\r\n> webpack --entry ./tests/helpers/qunit-helpers.js --output-filename qunit-helpers.js\r\n\r\n\r\n> bundle-tests-global\r\n> webpack --entry ./tests/tests/index.js --output-filename tests.js\r\n\r\n\r\n> bundle-tests-pure\r\n> webpack --entry ./tests/pure/index.js --output-filename pure.js\r\n\r\nbundling: packages/core-js-bundle/index.js, size: 672.73KB\r\nwebpack compiled successfully\r\nminification: packages/core-js-bundle/minified.js, size: 205.89KB\r\nwebpack compiled successfully\r\nwebpack compiled successfully\r\n```\r\n\r\n",
                              "label": "unlabeledBug",
                              "createdAt": "2022-06-21T14:19:40Z",
                              "closedAt": "2022-06-21T15:24:42Z",
                              "lastComment": "2022-06-21T15:24:42Z",
                              "commentCount": 2
                         },
                         {
                              "title": "at core-js 3.23.0 version, throw error Cannot redefine property: DEG_PER_RAD。",
                              "description": "![image](https://user-images.githubusercontent.com/22088253/173571734-3cc747ed-9cc7-4f90-a564-d8322d718ff2.png)\r\nwe can see the change,  why do this?",
                              "label": "bug",
                              "createdAt": "2022-06-14T11:54:02Z",
                              "closedAt": "2022-06-14T12:21:43Z",
                              "lastComment": "2022-06-15T01:22:22Z",
                              "commentCount": 3
                         },
                         {
                              "title": "TypeError in url.js",
                              "description": "Hello,\r\n\r\ni'm getting this error : `Uncaught TypeError: Cannot read properties of undefined (reading 'Object')\r\n    at url.61f365b8.js:1:3068` when i build for production.\r\n\r\ni'm using [Sapper](https://sapper.svelte.dev/) with TypeScript, here's my configs :\r\n\r\n**Rollup :**\r\n```js\r\n       babel({\r\n          extensions: ['.js', '.ts', '.mjs', '.html', '.svelte'],\r\n          babelHelpers: 'runtime',\r\n          exclude: ['node_modules/@babel/**'],\r\n          presets: [\r\n            [\r\n              '@babel/preset-env',\r\n              {\r\n                // debug: true,\r\n                useBuiltIns: 'usage',\r\n                corejs: {\r\n                  version: '3',\r\n                  proposals: true,\r\n                },\r\n              },\r\n            ],\r\n          ],\r\n          plugins: [\r\n            [\r\n              '@babel/plugin-transform-runtime',\r\n              {\r\n                corejs: {\r\n                  version: '3',\r\n                  proposals: true,\r\n                },\r\n                absoluteRuntime: true,\r\n              },\r\n            ],\r\n          ],\r\n        }),\r\n```\r\n\r\n**package.json**\r\n```js \r\n    ...\r\n  \"dependencies\": {\r\n    \"@babel/core\": \"^7.14.3\",\r\n    \"@babel/plugin-syntax-dynamic-import\": \"^7.0.0\",\r\n    \"@babel/plugin-transform-runtime\": \"^7.13.9\",\r\n    \"@babel/preset-env\": \"^7.14.2\",\r\n    \"@babel/runtime\": \"^7.13.9\",\r\n    \"@babel/runtime-corejs3\": \"^7.17.9\",\r\n    ...\r\n    },\r\n  \"browserslist\": [\r\n    \"defaults\",\r\n    \"not IE 11\",\r\n    \"Safari >= 12\"\r\n  ],\r\n```\r\n\r\nThanks for your help !",
                              "label": "unlabeledBug",
                              "createdAt": "2022-04-26T13:50:32Z",
                              "closedAt": "2022-04-27T09:30:06Z",
                              "lastComment": "2022-04-27T09:30:06Z",
                              "commentCount": 3
                         },
                         {
                              "title": "Object Expected Error IE11 in to-object.js",
                              "description": "Seeing an issue in IE11 with the to-object script. Using version 3.21.1. \r\n\r\nSCRIPT5007: Object expected\r\n\r\nDebugger points at line 9 `return Object(requireObjectCoercible(argument));`\r\n\r\nIf relevant we are using Webpack 5 and had to begin to transpile node_modules in order to support another library, one that doesn't transpile itself. ",
                              "label": "unlabeledBug",
                              "createdAt": "2022-02-22T11:59:48Z",
                              "closedAt": "2022-02-22T15:28:06Z",
                              "lastComment": "2022-02-22T15:28:06Z",
                              "commentCount": 2
                         },
                         {
                              "title": "Promises resolve in wrong order",
                              "description": "AFAIK Promises are supposed to be deterministic. And as part of that, resolve in the order they were created.\r\nI have found a case where that's not the case with the transpiled version, running in IE11.\r\nIt behaves differently from when executing it unpolyfilled in a normal browser.\r\n\r\nContinuation of https://github.com/zloirock/core-js/discussions/1025 as issue\r\n\r\nInput code snippet:\r\n```javascript\r\nimport \"core-js/features/promise/index\";\r\n\r\nmain();\r\n\r\nasync function main() {\r\n  const fn1 = the_thing();\r\n  const fn2 = the_thing();\r\n  fn2(1);\r\n  fn1(2);\r\n}\r\n\r\nfunction the_thing() {\r\n  const resolved_promise = Promise.resolve();\r\n  return async value => {\r\n    console.log(\"Function for\", value, \"is awaiting resolved promise\");\r\n    await resolved_promise;\r\n    console.log(\"Function for\", value, \"continued\");\r\n  };\r\n}\r\n```\r\n\r\nExpected output:\r\n\r\n```\r\n22:26:14.912 Function for 1 is awaiting resolved promise debugger eval code:13:13\r\n22:26:14.912 Function for 2 is awaiting resolved promise debugger eval code:13:13\r\n22:26:14.913 Function for 1 continued debugger eval code:15:13\r\n22:26:14.913 Function for 2 continued\r\n```\r\n\r\nActual output, when ran in IE11:\r\n<img width=\"368\" alt=\"Screenshot 2021-12-20 at 22 28 19\" src=\"https://user-images.githubusercontent.com/4047180/146835047-a36517a1-4c60-4f04-8321-8fdc74e702c1.png\">\r\n\r\n\r\n<details><summary>Transpiled code that I executed in IE11 (transpiled with parcel):</summary>\r\n\r\n```javascript\r\n\r\n(function () {\r\nfunction $parcel$interopDefault(a) {\r\n  return a && a.__esModule ? a.default : a;\r\n}\r\nvar $parcel$global =\r\ntypeof globalThis !== 'undefined'\r\n  ? globalThis\r\n  : typeof self !== 'undefined'\r\n  ? self\r\n  : typeof window !== 'undefined'\r\n  ? window\r\n  : typeof global !== 'undefined'\r\n  ? global\r\n  : {};\r\nvar $parcel$modules = {};\r\nvar $parcel$inits = {};\r\n\r\nvar parcelRequire = $parcel$global[\"parcelRequire06c1\"];\r\nif (parcelRequire == null) {\r\n  parcelRequire = function(id) {\r\n    if (id in $parcel$modules) {\r\n      return $parcel$modules[id].exports;\r\n    }\r\n    if (id in $parcel$inits) {\r\n      var init = $parcel$inits[id];\r\n      delete $parcel$inits[id];\r\n      var module = {id: id, exports: {}};\r\n      $parcel$modules[id] = module;\r\n      init.call(module.exports, module, module.exports);\r\n      return module.exports;\r\n    }\r\n    var err = new Error(\"Cannot find module '\" + id + \"'\");\r\n    err.code = 'MODULE_NOT_FOUND';\r\n    throw err;\r\n  };\r\n\r\n  parcelRequire.register = function register(id, init) {\r\n    $parcel$inits[id] = init;\r\n  };\r\n\r\n  $parcel$global[\"parcelRequire06c1\"] = parcelRequire;\r\n}\r\nparcelRequire.register(\"bUD10\", function(module, exports) {\r\n/**\r\n * Copyright (c) 2014-present, Facebook, Inc.\r\n *\r\n * This source code is licensed under the MIT license found in the\r\n * LICENSE file in the root directory of this source tree.\r\n */ var $8ac330499876571b$var$runtime = function(exports) {\r\n    var Op = Object.prototype;\r\n    var hasOwn = Op.hasOwnProperty;\r\n    var undefined; // More compressible than void 0.\r\n    var $Symbol = typeof Symbol === \"function\" ? Symbol : {\r\n    };\r\n    var iteratorSymbol = $Symbol.iterator || \"@@iterator\";\r\n    var asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\";\r\n    var toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\r\n    function define(obj, key, value) {\r\n        Object.defineProperty(obj, key, {\r\n            value: value,\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true\r\n        });\r\n        return obj[key];\r\n    }\r\n    try {\r\n        // IE 8 has a broken Object.defineProperty that only works on DOM objects.\r\n        define({\r\n        }, \"\");\r\n    } catch (err1) {\r\n        define = function(obj, key, value) {\r\n            return obj[key] = value;\r\n        };\r\n    }\r\n    function wrap(innerFn, outerFn, self, tryLocsList) {\r\n        // If outerFn provided and outerFn.prototype is a Generator, then outerFn.prototype instanceof Generator.\r\n        var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator;\r\n        var generator = Object.create(protoGenerator.prototype);\r\n        var context = new Context(tryLocsList || []);\r\n        // The ._invoke method unifies the implementations of the .next,\r\n        // .throw, and .return methods.\r\n        generator._invoke = makeInvokeMethod(innerFn, self, context);\r\n        return generator;\r\n    }\r\n    exports.wrap = wrap;\r\n    // Try/catch helper to minimize deoptimizations. Returns a completion\r\n    // record like context.tryEntries[i].completion. This interface could\r\n    // have been (and was previously) designed to take a closure to be\r\n    // invoked without arguments, but in all the cases we care about we\r\n    // already have an existing method we want to call, so there's no need\r\n    // to create a new function object. We can even get away with assuming\r\n    // the method takes exactly one argument, since that happens to be true\r\n    // in every case, so we don't have to touch the arguments object. The\r\n    // only additional allocation required is the completion record, which\r\n    // has a stable shape and so hopefully should be cheap to allocate.\r\n    function tryCatch(fn, obj, arg) {\r\n        try {\r\n            return {\r\n                type: \"normal\",\r\n                arg: fn.call(obj, arg)\r\n            };\r\n        } catch (err) {\r\n            return {\r\n                type: \"throw\",\r\n                arg: err\r\n            };\r\n        }\r\n    }\r\n    var GenStateSuspendedStart = \"suspendedStart\";\r\n    var GenStateSuspendedYield = \"suspendedYield\";\r\n    var GenStateExecuting = \"executing\";\r\n    var GenStateCompleted = \"completed\";\r\n    // Returning this object from the innerFn has the same effect as\r\n    // breaking out of the dispatch switch statement.\r\n    var ContinueSentinel = {\r\n    };\r\n    // Dummy constructor functions that we use as the .constructor and\r\n    // .constructor.prototype properties for functions that return Generator\r\n    // objects. For full spec compliance, you may wish to configure your\r\n    // minifier not to mangle the names of these two functions.\r\n    function Generator() {\r\n    }\r\n    function GeneratorFunction() {\r\n    }\r\n    function GeneratorFunctionPrototype() {\r\n    }\r\n    // This is a polyfill for %IteratorPrototype% for environments that\r\n    // don't natively support it.\r\n    var IteratorPrototype = {\r\n    };\r\n    define(IteratorPrototype, iteratorSymbol, function() {\r\n        return this;\r\n    });\r\n    var getProto = Object.getPrototypeOf;\r\n    var NativeIteratorPrototype = getProto && getProto(getProto(values([])));\r\n    if (NativeIteratorPrototype && NativeIteratorPrototype !== Op && hasOwn.call(NativeIteratorPrototype, iteratorSymbol)) // This environment has a native %IteratorPrototype%; use it instead\r\n    // of the polyfill.\r\n    IteratorPrototype = NativeIteratorPrototype;\r\n    var Gp = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(IteratorPrototype);\r\n    GeneratorFunction.prototype = GeneratorFunctionPrototype;\r\n    define(Gp, \"constructor\", GeneratorFunctionPrototype);\r\n    define(GeneratorFunctionPrototype, \"constructor\", GeneratorFunction);\r\n    GeneratorFunction.displayName = define(GeneratorFunctionPrototype, toStringTagSymbol, \"GeneratorFunction\");\r\n    // Helper for defining the .next, .throw, and .return methods of the\r\n    // Iterator interface in terms of a single ._invoke method.\r\n    function defineIteratorMethods(prototype) {\r\n        [\r\n            \"next\",\r\n            \"throw\",\r\n            \"return\"\r\n        ].forEach(function(method) {\r\n            define(prototype, method, function(arg) {\r\n                return this._invoke(method, arg);\r\n            });\r\n        });\r\n    }\r\n    exports.isGeneratorFunction = function(genFun) {\r\n        var ctor = typeof genFun === \"function\" && genFun.constructor;\r\n        return ctor ? ctor === GeneratorFunction || // For the native GeneratorFunction constructor, the best we can\r\n        // do is to check its .name property.\r\n        (ctor.displayName || ctor.name) === \"GeneratorFunction\" : false;\r\n    };\r\n    exports.mark = function(genFun) {\r\n        if (Object.setPrototypeOf) Object.setPrototypeOf(genFun, GeneratorFunctionPrototype);\r\n        else {\r\n            genFun.__proto__ = GeneratorFunctionPrototype;\r\n            define(genFun, toStringTagSymbol, \"GeneratorFunction\");\r\n        }\r\n        genFun.prototype = Object.create(Gp);\r\n        return genFun;\r\n    };\r\n    // Within the body of any async function, `await x` is transformed to\r\n    // `yield regeneratorRuntime.awrap(x)`, so that the runtime can test\r\n    // `hasOwn.call(value, \"__await\")` to determine if the yielded value is\r\n    // meant to be awaited.\r\n    exports.awrap = function(arg) {\r\n        return {\r\n            __await: arg\r\n        };\r\n    };\r\n    function AsyncIterator(generator, PromiseImpl) {\r\n        function invoke(method, arg, resolve, reject) {\r\n            var record = tryCatch(generator[method], generator, arg);\r\n            if (record.type === \"throw\") reject(record.arg);\r\n            else {\r\n                var result = record.arg;\r\n                var value1 = result.value;\r\n                if (value1 && typeof value1 === \"object\" && hasOwn.call(value1, \"__await\")) return PromiseImpl.resolve(value1.__await).then(function(value) {\r\n                    invoke(\"next\", value, resolve, reject);\r\n                }, function(err) {\r\n                    invoke(\"throw\", err, resolve, reject);\r\n                });\r\n                return PromiseImpl.resolve(value1).then(function(unwrapped) {\r\n                    // When a yielded Promise is resolved, its final value becomes\r\n                    // the .value of the Promise<{value,done}> result for the\r\n                    // current iteration.\r\n                    result.value = unwrapped;\r\n                    resolve(result);\r\n                }, function(error) {\r\n                    // If a rejected Promise was yielded, throw the rejection back\r\n                    // into the async generator function so it can be handled there.\r\n                    return invoke(\"throw\", error, resolve, reject);\r\n                });\r\n            }\r\n        }\r\n        var previousPromise;\r\n        function enqueue(method, arg) {\r\n            function callInvokeWithMethodAndArg() {\r\n                return new PromiseImpl(function(resolve, reject) {\r\n                    invoke(method, arg, resolve, reject);\r\n                });\r\n            }\r\n            return previousPromise = // If enqueue has been called before, then we want to wait until\r\n            // all previous Promises have been resolved before calling invoke,\r\n            // so that results are always delivered in the correct order. If\r\n            // enqueue has not been called before, then it is important to\r\n            // call invoke immediately, without waiting on a callback to fire,\r\n            // so that the async generator function has the opportunity to do\r\n            // any necessary setup in a predictable way. This predictability\r\n            // is why the Promise constructor synchronously invokes its\r\n            // executor callback, and why async functions synchronously\r\n            // execute code before the first await. Since we implement simple\r\n            // async functions in terms of async generators, it is especially\r\n            // important to get this right, even though it requires care.\r\n            previousPromise ? previousPromise.then(callInvokeWithMethodAndArg, // Avoid propagating failures to Promises returned by later\r\n            // invocations of the iterator.\r\n            callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg();\r\n        }\r\n        // Define the unified helper method that is used to implement .next,\r\n        // .throw, and .return (see defineIteratorMethods).\r\n        this._invoke = enqueue;\r\n    }\r\n    defineIteratorMethods(AsyncIterator.prototype);\r\n    define(AsyncIterator.prototype, asyncIteratorSymbol, function() {\r\n        return this;\r\n    });\r\n    exports.AsyncIterator = AsyncIterator;\r\n    // Note that simple async functions are implemented on top of\r\n    // AsyncIterator objects; they just return a Promise for the value of\r\n    // the final result produced by the iterator.\r\n    exports.async = function(innerFn, outerFn, self, tryLocsList, PromiseImpl) {\r\n        if (PromiseImpl === void 0) PromiseImpl = Promise;\r\n        var iter = new AsyncIterator(wrap(innerFn, outerFn, self, tryLocsList), PromiseImpl);\r\n        return exports.isGeneratorFunction(outerFn) ? iter // If outerFn is a generator, return the full iterator.\r\n         : iter.next().then(function(result) {\r\n            return result.done ? result.value : iter.next();\r\n        });\r\n    };\r\n    function makeInvokeMethod(innerFn, self, context) {\r\n        var state = GenStateSuspendedStart;\r\n        return function invoke(method, arg) {\r\n            if (state === GenStateExecuting) throw new Error(\"Generator is already running\");\r\n            if (state === GenStateCompleted) {\r\n                if (method === \"throw\") throw arg;\r\n                // Be forgiving, per 25.3.3.3.3 of the spec:\r\n                // https://people.mozilla.org/~jorendorff/es6-draft.html#sec-generatorresume\r\n                return doneResult();\r\n            }\r\n            context.method = method;\r\n            context.arg = arg;\r\n            while(true){\r\n                var delegate = context.delegate;\r\n                if (delegate) {\r\n                    var delegateResult = maybeInvokeDelegate(delegate, context);\r\n                    if (delegateResult) {\r\n                        if (delegateResult === ContinueSentinel) continue;\r\n                        return delegateResult;\r\n                    }\r\n                }\r\n                if (context.method === \"next\") // Setting context._sent for legacy support of Babel's\r\n                // function.sent implementation.\r\n                context.sent = context._sent = context.arg;\r\n                else if (context.method === \"throw\") {\r\n                    if (state === GenStateSuspendedStart) {\r\n                        state = GenStateCompleted;\r\n                        throw context.arg;\r\n                    }\r\n                    context.dispatchException(context.arg);\r\n                } else if (context.method === \"return\") context.abrupt(\"return\", context.arg);\r\n                state = GenStateExecuting;\r\n                var record = tryCatch(innerFn, self, context);\r\n                if (record.type === \"normal\") {\r\n                    // If an exception is thrown from innerFn, we leave state ===\r\n                    // GenStateExecuting and loop back for another invocation.\r\n                    state = context.done ? GenStateCompleted : GenStateSuspendedYield;\r\n                    if (record.arg === ContinueSentinel) continue;\r\n                    return {\r\n                        value: record.arg,\r\n                        done: context.done\r\n                    };\r\n                } else if (record.type === \"throw\") {\r\n                    state = GenStateCompleted;\r\n                    // Dispatch the exception by looping back around to the\r\n                    // context.dispatchException(context.arg) call above.\r\n                    context.method = \"throw\";\r\n                    context.arg = record.arg;\r\n                }\r\n            }\r\n        };\r\n    }\r\n    // Call delegate.iterator[context.method](context.arg) and handle the\r\n    // result, either by returning a { value, done } result from the\r\n    // delegate iterator, or by modifying context.method and context.arg,\r\n    // setting context.delegate to null, and returning the ContinueSentinel.\r\n    function maybeInvokeDelegate(delegate, context) {\r\n        var method = delegate.iterator[context.method];\r\n        if (method === undefined) {\r\n            // A .throw or .return when the delegate iterator has no .throw\r\n            // method always terminates the yield* loop.\r\n            context.delegate = null;\r\n            if (context.method === \"throw\") {\r\n                // Note: [\"return\"] must be used for ES3 parsing compatibility.\r\n                if (delegate.iterator[\"return\"]) {\r\n                    // If the delegate iterator has a return method, give it a\r\n                    // chance to clean up.\r\n                    context.method = \"return\";\r\n                    context.arg = undefined;\r\n                    maybeInvokeDelegate(delegate, context);\r\n                    if (context.method === \"throw\") // If maybeInvokeDelegate(context) changed context.method from\r\n                    // \"return\" to \"throw\", let that override the TypeError below.\r\n                    return ContinueSentinel;\r\n                }\r\n                context.method = \"throw\";\r\n                context.arg = new TypeError(\"The iterator does not provide a 'throw' method\");\r\n            }\r\n            return ContinueSentinel;\r\n        }\r\n        var record = tryCatch(method, delegate.iterator, context.arg);\r\n        if (record.type === \"throw\") {\r\n            context.method = \"throw\";\r\n            context.arg = record.arg;\r\n            context.delegate = null;\r\n            return ContinueSentinel;\r\n        }\r\n        var info = record.arg;\r\n        if (!info) {\r\n            context.method = \"throw\";\r\n            context.arg = new TypeError(\"iterator result is not an object\");\r\n            context.delegate = null;\r\n            return ContinueSentinel;\r\n        }\r\n        if (info.done) {\r\n            // Assign the result of the finished delegate to the temporary\r\n            // variable specified by delegate.resultName (see delegateYield).\r\n            context[delegate.resultName] = info.value;\r\n            // Resume execution at the desired location (see delegateYield).\r\n            context.next = delegate.nextLoc;\r\n            // If context.method was \"throw\" but the delegate handled the\r\n            // exception, let the outer generator proceed normally. If\r\n            // context.method was \"next\", forget context.arg since it has been\r\n            // \"consumed\" by the delegate iterator. If context.method was\r\n            // \"return\", allow the original .return call to continue in the\r\n            // outer generator.\r\n            if (context.method !== \"return\") {\r\n                context.method = \"next\";\r\n                context.arg = undefined;\r\n            }\r\n        } else // Re-yield the result returned by the delegate method.\r\n        return info;\r\n        // The delegate iterator is finished, so forget it and continue with\r\n        // the outer generator.\r\n        context.delegate = null;\r\n        return ContinueSentinel;\r\n    }\r\n    // Define Generator.prototype.{next,throw,return} in terms of the\r\n    // unified ._invoke helper method.\r\n    defineIteratorMethods(Gp);\r\n    define(Gp, toStringTagSymbol, \"Generator\");\r\n    // A Generator should always return itself as the iterator object when the\r\n    // @@iterator function is called on it. Some browsers' implementations of the\r\n    // iterator prototype chain incorrectly implement this, causing the Generator\r\n    // object to not be returned from this call. This ensures that doesn't happen.\r\n    // See https://github.com/facebook/regenerator/issues/274 for more details.\r\n    define(Gp, iteratorSymbol, function() {\r\n        return this;\r\n    });\r\n    define(Gp, \"toString\", function() {\r\n        return \"[object Generator]\";\r\n    });\r\n    function pushTryEntry(locs) {\r\n        var entry = {\r\n            tryLoc: locs[0]\r\n        };\r\n        if (1 in locs) entry.catchLoc = locs[1];\r\n        if (2 in locs) {\r\n            entry.finallyLoc = locs[2];\r\n            entry.afterLoc = locs[3];\r\n        }\r\n        this.tryEntries.push(entry);\r\n    }\r\n    function resetTryEntry(entry) {\r\n        var record = entry.completion || {\r\n        };\r\n        record.type = \"normal\";\r\n        delete record.arg;\r\n        entry.completion = record;\r\n    }\r\n    function Context(tryLocsList) {\r\n        // The root entry object (effectively a try statement without a catch\r\n        // or a finally block) gives us a place to store values thrown from\r\n        // locations where there is no enclosing try statement.\r\n        this.tryEntries = [\r\n            {\r\n                tryLoc: \"root\"\r\n            }\r\n        ];\r\n        tryLocsList.forEach(pushTryEntry, this);\r\n        this.reset(true);\r\n    }\r\n    exports.keys = function(object) {\r\n        var keys = [];\r\n        for(var key1 in object)keys.push(key1);\r\n        keys.reverse();\r\n        // Rather than returning an object with a next method, we keep\r\n        // things simple and return the next function itself.\r\n        return function next() {\r\n            while(keys.length){\r\n                var key = keys.pop();\r\n                if (key in object) {\r\n                    next.value = key;\r\n                    next.done = false;\r\n                    return next;\r\n                }\r\n            }\r\n            // To avoid creating an additional object, we just hang the .value\r\n            // and .done properties off the next function object itself. This\r\n            // also ensures that the minifier will not anonymize the function.\r\n            next.done = true;\r\n            return next;\r\n        };\r\n    };\r\n    function values(iterable) {\r\n        if (iterable) {\r\n            var iteratorMethod = iterable[iteratorSymbol];\r\n            if (iteratorMethod) return iteratorMethod.call(iterable);\r\n            if (typeof iterable.next === \"function\") return iterable;\r\n            if (!isNaN(iterable.length)) {\r\n                var i = -1, next1 = function next() {\r\n                    while(++i < iterable.length)if (hasOwn.call(iterable, i)) {\r\n                        next.value = iterable[i];\r\n                        next.done = false;\r\n                        return next;\r\n                    }\r\n                    next.value = undefined;\r\n                    next.done = true;\r\n                    return next;\r\n                };\r\n                return next1.next = next1;\r\n            }\r\n        }\r\n        // Return an iterator with no values.\r\n        return {\r\n            next: doneResult\r\n        };\r\n    }\r\n    exports.values = values;\r\n    function doneResult() {\r\n        return {\r\n            value: undefined,\r\n            done: true\r\n        };\r\n    }\r\n    Context.prototype = {\r\n        constructor: Context,\r\n        reset: function(skipTempReset) {\r\n            this.prev = 0;\r\n            this.next = 0;\r\n            // Resetting context._sent for legacy support of Babel's\r\n            // function.sent implementation.\r\n            this.sent = this._sent = undefined;\r\n            this.done = false;\r\n            this.delegate = null;\r\n            this.method = \"next\";\r\n            this.arg = undefined;\r\n            this.tryEntries.forEach(resetTryEntry);\r\n            if (!skipTempReset) {\r\n                for(var name in this)// Not sure about the optimal order of these conditions:\r\n                if (name.charAt(0) === \"t\" && hasOwn.call(this, name) && !isNaN(+name.slice(1))) this[name] = undefined;\r\n            }\r\n        },\r\n        stop: function() {\r\n            this.done = true;\r\n            var rootEntry = this.tryEntries[0];\r\n            var rootRecord = rootEntry.completion;\r\n            if (rootRecord.type === \"throw\") throw rootRecord.arg;\r\n            return this.rval;\r\n        },\r\n        dispatchException: function(exception) {\r\n            if (this.done) throw exception;\r\n            var context = this;\r\n            function handle(loc, caught) {\r\n                record.type = \"throw\";\r\n                record.arg = exception;\r\n                context.next = loc;\r\n                if (caught) {\r\n                    // If the dispatched exception was caught by a catch block,\r\n                    // then let that catch block handle the exception normally.\r\n                    context.method = \"next\";\r\n                    context.arg = undefined;\r\n                }\r\n                return !!caught;\r\n            }\r\n            for(var i = this.tryEntries.length - 1; i >= 0; --i){\r\n                var entry = this.tryEntries[i];\r\n                var record = entry.completion;\r\n                if (entry.tryLoc === \"root\") // Exception thrown outside of any try block that could handle\r\n                // it, so set the completion value of the entire function to\r\n                // throw the exception.\r\n                return handle(\"end\");\r\n                if (entry.tryLoc <= this.prev) {\r\n                    var hasCatch = hasOwn.call(entry, \"catchLoc\");\r\n                    var hasFinally = hasOwn.call(entry, \"finallyLoc\");\r\n                    if (hasCatch && hasFinally) {\r\n                        if (this.prev < entry.catchLoc) return handle(entry.catchLoc, true);\r\n                        else if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc);\r\n                    } else if (hasCatch) {\r\n                        if (this.prev < entry.catchLoc) return handle(entry.catchLoc, true);\r\n                    } else if (hasFinally) {\r\n                        if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc);\r\n                    } else throw new Error(\"try statement without catch or finally\");\r\n                }\r\n            }\r\n        },\r\n        abrupt: function(type, arg) {\r\n            for(var i = this.tryEntries.length - 1; i >= 0; --i){\r\n                var entry = this.tryEntries[i];\r\n                if (entry.tryLoc <= this.prev && hasOwn.call(entry, \"finallyLoc\") && this.prev < entry.finallyLoc) {\r\n                    var finallyEntry = entry;\r\n                    break;\r\n                }\r\n            }\r\n            if (finallyEntry && (type === \"break\" || type === \"continue\") && finallyEntry.tryLoc <= arg && arg <= finallyEntry.finallyLoc) // Ignore the finally entry if control is not jumping to a\r\n            // location outside the try/catch block.\r\n            finallyEntry = null;\r\n            var record = finallyEntry ? finallyEntry.completion : {\r\n            };\r\n            record.type = type;\r\n            record.arg = arg;\r\n            if (finallyEntry) {\r\n                this.method = \"next\";\r\n                this.next = finallyEntry.finallyLoc;\r\n                return ContinueSentinel;\r\n            }\r\n            return this.complete(record);\r\n        },\r\n        complete: function(record, afterLoc) {\r\n            if (record.type === \"throw\") throw record.arg;\r\n            if (record.type === \"break\" || record.type === \"continue\") this.next = record.arg;\r\n            else if (record.type === \"return\") {\r\n                this.rval = this.arg = record.arg;\r\n                this.method = \"return\";\r\n                this.next = \"end\";\r\n            } else if (record.type === \"normal\" && afterLoc) this.next = afterLoc;\r\n            return ContinueSentinel;\r\n        },\r\n        finish: function(finallyLoc) {\r\n            for(var i = this.tryEntries.length - 1; i >= 0; --i){\r\n                var entry = this.tryEntries[i];\r\n                if (entry.finallyLoc === finallyLoc) {\r\n                    this.complete(entry.completion, entry.afterLoc);\r\n                    resetTryEntry(entry);\r\n                    return ContinueSentinel;\r\n                }\r\n            }\r\n        },\r\n        \"catch\": function(tryLoc) {\r\n            for(var i = this.tryEntries.length - 1; i >= 0; --i){\r\n                var entry = this.tryEntries[i];\r\n                if (entry.tryLoc === tryLoc) {\r\n                    var record = entry.completion;\r\n                    if (record.type === \"throw\") {\r\n                        var thrown = record.arg;\r\n                        resetTryEntry(entry);\r\n                    }\r\n                    return thrown;\r\n                }\r\n            }\r\n            // The context.catch method must only be called with a location\r\n            // argument that corresponds to a known catch block.\r\n            throw new Error(\"illegal catch attempt\");\r\n        },\r\n        delegateYield: function(iterable, resultName, nextLoc) {\r\n            this.delegate = {\r\n                iterator: values(iterable),\r\n                resultName: resultName,\r\n                nextLoc: nextLoc\r\n            };\r\n            if (this.method === \"next\") // Deliberately forget the last sent value so that we don't\r\n            // accidentally pass it on to the delegate.\r\n            this.arg = undefined;\r\n            return ContinueSentinel;\r\n        }\r\n    };\r\n    // Regardless of whether this script is executing as a CommonJS module\r\n    // or not, return the runtime object so that we can declare the variable\r\n    // regeneratorRuntime in the outer scope, which allows this module to be\r\n    // injected easily by `bin/regenerator --include-runtime script.js`.\r\n    return exports;\r\n}(// If this script is executing as a CommonJS module, use module.exports\r\n// as the regeneratorRuntime namespace. Otherwise create a new empty\r\n// object. Either way, the resulting object will be used to initialize\r\n// the regeneratorRuntime variable at the top of this file.\r\n\"object\" === \"object\" ? module.exports : {\r\n});\r\ntry {\r\n    regeneratorRuntime = $8ac330499876571b$var$runtime;\r\n} catch (accidentalStrictMode) {\r\n    // This module should not be running in strict mode, so the above\r\n    // assignment should always work unless something is misconfigured. Just\r\n    // in case runtime.js accidentally runs in strict mode, in modern engines\r\n    // we can explicitly access globalThis. In older engines we can escape\r\n    // strict mode using a global Function call. This could conceivably fail\r\n    // if a Content Security Policy forbids using Function, but in that case\r\n    // the proper solution is to fix the accidental strict mode problem. If\r\n    // you've misconfigured your bundler to force strict mode and applied a\r\n    // CSP to forbid Function, and you're not willing to fix either of those\r\n    // problems, please detail your unique predicament in a GitHub issue.\r\n    if (typeof globalThis === \"object\") globalThis.regeneratorRuntime = $8ac330499876571b$var$runtime;\r\n    else Function(\"r\", \"regeneratorRuntime = r\")($8ac330499876571b$var$runtime);\r\n}\r\n\r\n});\r\n\r\nvar $bbb9b92677e7f4e1$exports = {};\r\nfunction $bbb9b92677e7f4e1$var$asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\r\n    try {\r\n        var info = gen[key](arg);\r\n        var value = info.value;\r\n    } catch (error) {\r\n        reject(error);\r\n        return;\r\n    }\r\n    if (info.done) resolve(value);\r\n    else Promise.resolve(value).then(_next, _throw);\r\n}\r\nfunction $bbb9b92677e7f4e1$var$_asyncToGenerator(fn) {\r\n    return function() {\r\n        var self = this, args = arguments;\r\n        return new Promise(function(resolve, reject) {\r\n            var gen = fn.apply(self, args);\r\n            function _next(value) {\r\n                $bbb9b92677e7f4e1$var$asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\r\n            }\r\n            function _throw(err) {\r\n                $bbb9b92677e7f4e1$var$asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\r\n            }\r\n            _next(undefined);\r\n        });\r\n    };\r\n}\r\n$bbb9b92677e7f4e1$exports = $bbb9b92677e7f4e1$var$_asyncToGenerator, $bbb9b92677e7f4e1$exports.__esModule = true, $bbb9b92677e7f4e1$exports[\"default\"] = $bbb9b92677e7f4e1$exports;\r\n\r\n\r\nvar $efaf621fa185bd77$exports = {};\r\n\r\n$efaf621fa185bd77$exports = (parcelRequire(\"bUD10\"));\r\n\r\n\r\nvar $19dfc4060129c05d$exports = {};\r\n'use strict';\r\nvar $97ec2e5c7182541a$exports = {};\r\nvar $36dc2b6d1092d240$exports = {};\r\nvar $f333edce04dc84d2$exports = {};\r\nvar $f333edce04dc84d2$var$check = function(it) {\r\n    return it && it.Math == Math && it;\r\n};\r\n// https://github.com/zloirock/core-js/issues/86#issuecomment-115759028\r\n$f333edce04dc84d2$exports = // eslint-disable-next-line es/no-global-this -- safe\r\n$f333edce04dc84d2$var$check(typeof globalThis == 'object' && globalThis) || $f333edce04dc84d2$var$check(typeof window == 'object' && window) || // eslint-disable-next-line no-restricted-globals -- safe\r\n$f333edce04dc84d2$var$check(typeof self == 'object' && self) || $f333edce04dc84d2$var$check(typeof $parcel$global == 'object' && $parcel$global) || // eslint-disable-next-line no-new-func -- fallback\r\n(function() {\r\n    return this;\r\n})() || Function('return this')();\r\n\r\n\r\nvar $0e047cd7e4bd2a61$exports = {};\r\nvar $0e047cd7e4bd2a61$var$FunctionPrototype = Function.prototype;\r\nvar $0e047cd7e4bd2a61$var$bind = $0e047cd7e4bd2a61$var$FunctionPrototype.bind;\r\nvar $0e047cd7e4bd2a61$var$call = $0e047cd7e4bd2a61$var$FunctionPrototype.call;\r\nvar $0e047cd7e4bd2a61$var$callBind = $0e047cd7e4bd2a61$var$bind && $0e047cd7e4bd2a61$var$bind.bind($0e047cd7e4bd2a61$var$call);\r\n$0e047cd7e4bd2a61$exports = $0e047cd7e4bd2a61$var$bind ? function(fn) {\r\n    return fn && $0e047cd7e4bd2a61$var$callBind($0e047cd7e4bd2a61$var$call, fn);\r\n} : function(fn) {\r\n    return fn && function() {\r\n        return $0e047cd7e4bd2a61$var$call.apply(fn, arguments);\r\n    };\r\n};\r\n\r\n\r\nvar $639365070cb811ed$exports = {};\r\n$639365070cb811ed$exports = function(exec) {\r\n    try {\r\n        return !!exec();\r\n    } catch (error) {\r\n        return true;\r\n    }\r\n};\r\n\r\n\r\nvar $5f5cecfe0210d5fc$exports = {};\r\n\r\nvar $5f5cecfe0210d5fc$var$toString = $0e047cd7e4bd2a61$exports({\r\n}.toString);\r\nvar $5f5cecfe0210d5fc$var$stringSlice = $0e047cd7e4bd2a61$exports(''.slice);\r\n$5f5cecfe0210d5fc$exports = function(it) {\r\n    return $5f5cecfe0210d5fc$var$stringSlice($5f5cecfe0210d5fc$var$toString(it), 8, -1);\r\n};\r\n\r\n\r\nvar $36dc2b6d1092d240$var$Object = $f333edce04dc84d2$exports.Object;\r\nvar $36dc2b6d1092d240$var$split = $0e047cd7e4bd2a61$exports(''.split);\r\n// fallback for non-array-like ES3 and non-enumerable old V8 strings\r\n$36dc2b6d1092d240$exports = $639365070cb811ed$exports(function() {\r\n    // throws an error in rhino, see https://github.com/mozilla/rhino/issues/346\r\n    // eslint-disable-next-line no-prototype-builtins -- safe\r\n    return !$36dc2b6d1092d240$var$Object('z').propertyIsEnumerable(0);\r\n}) ? function(it) {\r\n    return $5f5cecfe0210d5fc$exports(it) == 'String' ? $36dc2b6d1092d240$var$split(it, '') : $36dc2b6d1092d240$var$Object(it);\r\n} : $36dc2b6d1092d240$var$Object;\r\n\r\n\r\nvar $61d1221ff70a8a56$exports = {};\r\n\r\nvar $61d1221ff70a8a56$var$TypeError = $f333edce04dc84d2$exports.TypeError;\r\n// `RequireObjectCoercible` abstract operation\r\n// https://tc39.es/ecma262/#sec-requireobjectcoercible\r\n$61d1221ff70a8a56$exports = function(it) {\r\n    if (it == undefined) throw $61d1221ff70a8a56$var$TypeError(\"Can't call method on \" + it);\r\n    return it;\r\n};\r\n\r\n\r\n$97ec2e5c7182541a$exports = function(it) {\r\n    return $36dc2b6d1092d240$exports($61d1221ff70a8a56$exports(it));\r\n};\r\n\r\n\r\nvar $b6aa2c4ec4d930d5$exports = {};\r\nvar $3e9517d770b151f3$exports = {};\r\n\r\nvar $7221bdedd963a313$exports = {};\r\nvar $0a617e53de17f0cf$exports = {};\r\n$0a617e53de17f0cf$exports = false;\r\n\r\n\r\nvar $e54370cbe81dd8f8$exports = {};\r\n\r\nvar $883391211b9e3206$exports = {};\r\n\r\n// eslint-disable-next-line es/no-object-defineproperty -- safe\r\nvar $883391211b9e3206$var$defineProperty = Object.defineProperty;\r\n$883391211b9e3206$exports = function(key, value) {\r\n    try {\r\n        $883391211b9e3206$var$defineProperty($f333edce04dc84d2$exports, key, {\r\n            value: value,\r\n            configurable: true,\r\n            writable: true\r\n        });\r\n    } catch (error) {\r\n        $f333edce04dc84d2$exports[key] = value;\r\n    }\r\n    return value;\r\n};\r\n\r\n\r\nvar $e54370cbe81dd8f8$var$SHARED = '__core-js_shared__';\r\nvar $e54370cbe81dd8f8$var$store = $f333edce04dc84d2$exports[$e54370cbe81dd8f8$var$SHARED] || $883391211b9e3206$exports($e54370cbe81dd8f8$var$SHARED, {\r\n});\r\n$e54370cbe81dd8f8$exports = $e54370cbe81dd8f8$var$store;\r\n\r\n\r\n($7221bdedd963a313$exports = function(key, value) {\r\n    return $e54370cbe81dd8f8$exports[key] || ($e54370cbe81dd8f8$exports[key] = value !== undefined ? value : {\r\n    });\r\n})('versions', []).push({\r\n    version: '3.20.0',\r\n    mode: $0a617e53de17f0cf$exports ? 'pure' : 'global',\r\n    copyright: '© 2021 Denis Pushkarev (zloirock.ru)'\r\n});\r\n\r\n\r\nvar $c98185f2a2200053$exports = {};\r\n\r\nvar $0c22979a3ee624f0$exports = {};\r\n\r\n\r\nvar $0c22979a3ee624f0$var$Object = $f333edce04dc84d2$exports.Object;\r\n// `ToObject` abstract operation\r\n// https://tc39.es/ecma262/#sec-toobject\r\n$0c22979a3ee624f0$exports = function(argument) {\r\n    return $0c22979a3ee624f0$var$Object($61d1221ff70a8a56$exports(argument));\r\n};\r\n\r\n\r\nvar $c98185f2a2200053$var$hasOwnProperty = $0e047cd7e4bd2a61$exports({\r\n}.hasOwnProperty);\r\n// `HasOwnProperty` abstract operation\r\n// https://tc39.es/ecma262/#sec-hasownproperty\r\n$c98185f2a2200053$exports = Object.hasOwn || function hasOwn(it, key) {\r\n    return $c98185f2a2200053$var$hasOwnProperty($0c22979a3ee624f0$exports(it), key);\r\n};\r\n\r\n\r\nvar $0831e930e27ad9c2$exports = {};\r\n\r\nvar $0831e930e27ad9c2$var$id = 0;\r\nvar $0831e930e27ad9c2$var$postfix = Math.random();\r\nvar $0831e930e27ad9c2$var$toString = $0e047cd7e4bd2a61$exports(1..toString);\r\n$0831e930e27ad9c2$exports = function(key) {\r\n    return 'Symbol(' + (key === undefined ? '' : key) + ')_' + $0831e930e27ad9c2$var$toString(++$0831e930e27ad9c2$var$id + $0831e930e27ad9c2$var$postfix, 36);\r\n};\r\n\r\n\r\nvar $2ac071e6478bb61f$exports = {};\r\nvar $f708c8065848ad38$exports = {};\r\n\r\nvar $aa75c90eb2c8cdd8$exports = {};\r\nvar $f4dfad6b8aca7fc7$exports = {};\r\n\r\nvar $fcbda71016cee9bb$exports = {};\r\n// `IsCallable` abstract operation\r\n// https://tc39.es/ecma262/#sec-iscallable\r\n$fcbda71016cee9bb$exports = function(argument) {\r\n    return typeof argument == 'function';\r\n};\r\n\r\n\r\nvar $f4dfad6b8aca7fc7$var$aFunction = function(argument) {\r\n    return $fcbda71016cee9bb$exports(argument) ? argument : undefined;\r\n};\r\n$f4dfad6b8aca7fc7$exports = function(namespace, method) {\r\n    return arguments.length < 2 ? $f4dfad6b8aca7fc7$var$aFunction($f333edce04dc84d2$exports[namespace]) : $f333edce04dc84d2$exports[namespace] && $f333edce04dc84d2$exports[namespace][method];\r\n};\r\n\r\n\r\n$aa75c90eb2c8cdd8$exports = $f4dfad6b8aca7fc7$exports('navigator', 'userAgent') || '';\r\n\r\n\r\nvar $f708c8065848ad38$var$process = $f333edce04dc84d2$exports.process;\r\nvar $f708c8065848ad38$var$Deno = $f333edce04dc84d2$exports.Deno;\r\nvar $f708c8065848ad38$var$versions = $f708c8065848ad38$var$process && $f708c8065848ad38$var$process.versions || $f708c8065848ad38$var$Deno && $f708c8065848ad38$var$Deno.version;\r\nvar $f708c8065848ad38$var$v8 = $f708c8065848ad38$var$versions && $f708c8065848ad38$var$versions.v8;\r\nvar $f708c8065848ad38$var$match, $f708c8065848ad38$var$version;\r\nif ($f708c8065848ad38$var$v8) {\r\n    $f708c8065848ad38$var$match = $f708c8065848ad38$var$v8.split('.');\r\n    // in old Chrome, versions of V8 isn't V8 = Chrome / 10\r\n    // but their correct versions are not interesting for us\r\n    $f708c8065848ad38$var$version = $f708c8065848ad38$var$match[0] > 0 && $f708c8065848ad38$var$match[0] < 4 ? 1 : +($f708c8065848ad38$var$match[0] + $f708c8065848ad38$var$match[1]);\r\n}\r\n// BrowserFS NodeJS `process` polyfill incorrectly set `.v8` to `0.0`\r\n// so check `userAgent` even if `.v8` exists, but 0\r\nif (!$f708c8065848ad38$var$version && $aa75c90eb2c8cdd8$exports) {\r\n    $f708c8065848ad38$var$match = $aa75c90eb2c8cdd8$exports.match(/Edge\\/(\\d+)/);\r\n    if (!$f708c8065848ad38$var$match || $f708c8065848ad38$var$match[1] >= 74) {\r\n        $f708c8065848ad38$var$match = $aa75c90eb2c8cdd8$exports.match(/Chrome\\/(\\d+)/);\r\n        if ($f708c8065848ad38$var$match) $f708c8065848ad38$var$version = +$f708c8065848ad38$var$match[1];\r\n    }\r\n}\r\n$f708c8065848ad38$exports = $f708c8065848ad38$var$version;\r\n\r\n\r\n\r\n// eslint-disable-next-line es/no-object-getownpropertysymbols -- required for testing\r\n$2ac071e6478bb61f$exports = !!Object.getOwnPropertySymbols && !$639365070cb811ed$exports(function() {\r\n    var symbol = Symbol();\r\n    // Chrome 38 Symbol has incorrect toString conversion\r\n    // `get-own-property-symbols` polyfill symbols converted to object are not Symbol instances\r\n    return !String(symbol) || !(Object(symbol) instanceof Symbol) || // Chrome 38-40 symbols are not inherited from DOM collections prototypes to instances\r\n    !Symbol.sham && $f708c8065848ad38$exports && $f708c8065848ad38$exports < 41;\r\n});\r\n\r\n\r\nvar $c0ba2cd94ccee146$exports = {};\r\n\r\n$c0ba2cd94ccee146$exports = $2ac071e6478bb61f$exports && !Symbol.sham && typeof Symbol.iterator == 'symbol';\r\n\r\n\r\nvar $3e9517d770b151f3$var$WellKnownSymbolsStore = $7221bdedd963a313$exports('wks');\r\nvar $3e9517d770b151f3$var$Symbol = $f333edce04dc84d2$exports.Symbol;\r\nvar $3e9517d770b151f3$var$symbolFor = $3e9517d770b151f3$var$Symbol && $3e9517d770b151f3$var$Symbol['for'];\r\nvar $3e9517d770b151f3$var$createWellKnownSymbol = $c0ba2cd94ccee146$exports ? $3e9517d770b151f3$var$Symbol : $3e9517d770b151f3$var$Symbol && $3e9517d770b151f3$var$Symbol.withoutSetter || $0831e930e27ad9c2$exports;\r\n$3e9517d770b151f3$exports = function(name) {\r\n    if (!$c98185f2a2200053$exports($3e9517d770b151f3$var$WellKnownSymbolsStore, name) || !($2ac071e6478bb61f$exports || typeof $3e9517d770b151f3$var$WellKnownSymbolsStore[name] == 'string')) {\r\n        var description = 'Symbol.' + name;\r\n        if ($2ac071e6478bb61f$exports && $c98185f2a2200053$exports($3e9517d770b151f3$var$Symbol, name)) $3e9517d770b151f3$var$WellKnownSymbolsStore[name] = $3e9517d770b151f3$var$Symbol[name];\r\n        else if ($c0ba2cd94ccee146$exports && $3e9517d770b151f3$var$symbolFor) $3e9517d770b151f3$var$WellKnownSymbolsStore[name] = $3e9517d770b151f3$var$symbolFor(description);\r\n        else $3e9517d770b151f3$var$WellKnownSymbolsStore[name] = $3e9517d770b151f3$var$createWellKnownSymbol(description);\r\n    }\r\n    return $3e9517d770b151f3$var$WellKnownSymbolsStore[name];\r\n};\r\n\r\n\r\nvar $d3ac9847cf651bba$exports = {};\r\nvar $8cde29e156f67727$exports = {};\r\n\r\nvar $03cf12799242f409$exports = {};\r\n\r\n$03cf12799242f409$exports = function(it) {\r\n    return typeof it == 'object' ? it !== null : $fcbda71016cee9bb$exports(it);\r\n};\r\n\r\n\r\nvar $8cde29e156f67727$var$String = $f333edce04dc84d2$exports.String;\r\nvar $8cde29e156f67727$var$TypeError = $f333edce04dc84d2$exports.TypeError;\r\n// `Assert: Type(argument) is Object`\r\n$8cde29e156f67727$exports = function(argument) {\r\n    if ($03cf12799242f409$exports(argument)) return argument;\r\n    throw $8cde29e156f67727$var$TypeError($8cde29e156f67727$var$String(argument) + ' is not an object');\r\n};\r\n\r\n\r\nvar $67889ba1099c927e$exports = {};\r\nvar $b2de12f63ee8e8eb$exports = {};\r\n\r\n// Detect IE8's incomplete defineProperty implementation\r\n$b2de12f63ee8e8eb$exports = !$639365070cb811ed$exports(function() {\r\n    // eslint-disable-next-line es/no-object-defineproperty -- required for testing\r\n    return Object.defineProperty({\r\n    }, 1, {\r\n        get: function() {\r\n            return 7;\r\n        }\r\n    })[1] != 7;\r\n});\r\n\r\n\r\n// `Object.defineProperty` method\r\n// https://tc39.es/ecma262/#sec-object.defineproperty\r\nvar $1fe1833a1cb14f9b$export$2d1720544b23b823;\r\n\r\n\r\nvar $530ff8786b8b3414$exports = {};\r\n\r\n\r\nvar $0158366a26a6b285$exports = {};\r\n\r\n\r\nvar $0158366a26a6b285$var$document = $f333edce04dc84d2$exports.document;\r\n// typeof document.createElement is 'object' in old IE\r\nvar $0158366a26a6b285$var$EXISTS = $03cf12799242f409$exports($0158366a26a6b285$var$document) && $03cf12799242f409$exports($0158366a26a6b285$var$document.createElement);\r\n$0158366a26a6b285$exports = function(it) {\r\n    return $0158366a26a6b285$var$EXISTS ? $0158366a26a6b285$var$document.createElement(it) : {\r\n    };\r\n};\r\n\r\n\r\n// Thank's IE8 for his funny defineProperty\r\n$530ff8786b8b3414$exports = !$b2de12f63ee8e8eb$exports && !$639365070cb811ed$exports(function() {\r\n    // eslint-disable-next-line es/no-object-defineproperty -- requied for testing\r\n    return Object.defineProperty($0158366a26a6b285$exports('div'), 'a', {\r\n        get: function() {\r\n            return 7;\r\n        }\r\n    }).a != 7;\r\n});\r\n\r\n\r\n\r\nvar $69748fdc4ab19225$exports = {};\r\nvar $f07d310f67fd0744$exports = {};\r\n\r\nvar $541d4c9e93c87577$exports = {};\r\nvar $541d4c9e93c87577$var$call = Function.prototype.call;\r\n$541d4c9e93c87577$exports = $541d4c9e93c87577$var$call.bind ? $541d4c9e93c87577$var$call.bind($541d4c9e93c87577$var$call) : function() {\r\n    return $541d4c9e93c87577$var$call.apply($541d4c9e93c87577$var$call, arguments);\r\n};\r\n\r\n\r\n\r\nvar $6a4f41ed357b4c29$exports = {};\r\n\r\n\r\n\r\nvar $b5a2a9c765693536$exports = {};\r\n\r\n$b5a2a9c765693536$exports = $0e047cd7e4bd2a61$exports({\r\n}.isPrototypeOf);\r\n\r\n\r\n\r\nvar $6a4f41ed357b4c29$var$Object = $f333edce04dc84d2$exports.Object;\r\n$6a4f41ed357b4c29$exports = $c0ba2cd94ccee146$exports ? function(it) {\r\n    return typeof it == 'symbol';\r\n} : function(it) {\r\n    var $Symbol = $f4dfad6b8aca7fc7$exports('Symbol');\r\n    return $fcbda71016cee9bb$exports($Symbol) && $b5a2a9c765693536$exports($Symbol.prototype, $6a4f41ed357b4c29$var$Object(it));\r\n};\r\n\r\n\r\nvar $bcadeac5df64398e$exports = {};\r\nvar $c2aed39e690846d2$exports = {};\r\n\r\n\r\nvar $7f50243e65ef1e57$exports = {};\r\n\r\nvar $7f50243e65ef1e57$var$String = $f333edce04dc84d2$exports.String;\r\n$7f50243e65ef1e57$exports = function(argument) {\r\n    try {\r\n        return $7f50243e65ef1e57$var$String(argument);\r\n    } catch (error) {\r\n        return 'Object';\r\n    }\r\n};\r\n\r\n\r\nvar $c2aed39e690846d2$var$TypeError = $f333edce04dc84d2$exports.TypeError;\r\n// `Assert: IsCallable(argument) is true`\r\n$c2aed39e690846d2$exports = function(argument) {\r\n    if ($fcbda71016cee9bb$exports(argument)) return argument;\r\n    throw $c2aed39e690846d2$var$TypeError($7f50243e65ef1e57$exports(argument) + ' is not a function');\r\n};\r\n\r\n\r\n// `GetMethod` abstract operation\r\n// https://tc39.es/ecma262/#sec-getmethod\r\n$bcadeac5df64398e$exports = function(V, P) {\r\n    var func = V[P];\r\n    return func == null ? undefined : $c2aed39e690846d2$exports(func);\r\n};\r\n\r\n\r\nvar $cf2e59bf08633327$exports = {};\r\n\r\n\r\n\r\n\r\nvar $cf2e59bf08633327$var$TypeError = $f333edce04dc84d2$exports.TypeError;\r\n// `OrdinaryToPrimitive` abstract operation\r\n// https://tc39.es/ecma262/#sec-ordinarytoprimitive\r\n$cf2e59bf08633327$exports = function(input, pref) {\r\n    var fn, val;\r\n    if (pref === 'string' && $fcbda71016cee9bb$exports(fn = input.toString) && !$03cf12799242f409$exports(val = $541d4c9e93c87577$exports(fn, input))) return val;\r\n    if ($fcbda71016cee9bb$exports(fn = input.valueOf) && !$03cf12799242f409$exports(val = $541d4c9e93c87577$exports(fn, input))) return val;\r\n    if (pref !== 'string' && $fcbda71016cee9bb$exports(fn = input.toString) && !$03cf12799242f409$exports(val = $541d4c9e93c87577$exports(fn, input))) return val;\r\n    throw $cf2e59bf08633327$var$TypeError(\"Can't convert object to primitive value\");\r\n};\r\n\r\n\r\n\r\nvar $f07d310f67fd0744$var$TypeError = $f333edce04dc84d2$exports.TypeError;\r\nvar $f07d310f67fd0744$var$TO_PRIMITIVE = $3e9517d770b151f3$exports('toPrimitive');\r\n// `ToPrimitive` abstract operation\r\n// https://tc39.es/ecma262/#sec-toprimitive\r\n$f07d310f67fd0744$exports = function(input, pref) {\r\n    if (!$03cf12799242f409$exports(input) || $6a4f41ed357b4c29$exports(input)) return input;\r\n    var exoticToPrim = $bcadeac5df64398e$exports(input, $f07d310f67fd0744$var$TO_PRIMITIVE);\r\n    var result;\r\n    if (exoticToPrim) {\r\n        if (pref === undefined) pref = 'default';\r\n        result = $541d4c9e93c87577$exports(exoticToPrim, input, pref);\r\n        if (!$03cf12799242f409$exports(result) || $6a4f41ed357b4c29$exports(result)) return result;\r\n        throw $f07d310f67fd0744$var$TypeError(\"Can't convert object to primitive value\");\r\n    }\r\n    if (pref === undefined) pref = 'number';\r\n    return $cf2e59bf08633327$exports(input, pref);\r\n};\r\n\r\n\r\n\r\n// `ToPropertyKey` abstract operation\r\n// https://tc39.es/ecma262/#sec-topropertykey\r\n$69748fdc4ab19225$exports = function(argument) {\r\n    var key = $f07d310f67fd0744$exports(argument, 'string');\r\n    return $6a4f41ed357b4c29$exports(key) ? key : key + '';\r\n};\r\n\r\n\r\nvar $1fe1833a1cb14f9b$var$TypeError = $f333edce04dc84d2$exports.TypeError;\r\n// eslint-disable-next-line es/no-object-defineproperty -- safe\r\nvar $1fe1833a1cb14f9b$var$$defineProperty = Object.defineProperty;\r\n$1fe1833a1cb14f9b$export$2d1720544b23b823 = $b2de12f63ee8e8eb$exports ? $1fe1833a1cb14f9b$var$$defineProperty : function defineProperty(O, P, Attributes) {\r\n    $8cde29e156f67727$exports(O);\r\n    P = $69748fdc4ab19225$exports(P);\r\n    $8cde29e156f67727$exports(Attributes);\r\n    if ($530ff8786b8b3414$exports) try {\r\n        return $1fe1833a1cb14f9b$var$$defineProperty(O, P, Attributes);\r\n    } catch (error) {\r\n    }\r\n    if ('get' in Attributes || 'set' in Attributes) throw $1fe1833a1cb14f9b$var$TypeError('Accessors not supported');\r\n    if ('value' in Attributes) O[P] = Attributes.value;\r\n    return O;\r\n};\r\n\r\n\r\n\r\n\r\nvar $f6a01c267cdb564c$exports = {};\r\nvar $a2e6841c5b9a21c5$exports = {};\r\n\r\n\r\n\r\nvar $4b0ffb57dd664c88$exports = {};\r\n\r\nvar $ca547ae405e4fbdd$exports = {};\r\nvar $a6b1a426cfae0839$exports = {};\r\nvar $a6b1a426cfae0839$var$ceil = Math.ceil;\r\nvar $a6b1a426cfae0839$var$floor = Math.floor;\r\n// `ToIntegerOrInfinity` abstract operation\r\n// https://tc39.es/ecma262/#sec-tointegerorinfinity\r\n$a6b1a426cfae0839$exports = function(argument) {\r\n    var number = +argument;\r\n    // eslint-disable-next-line no-self-compare -- safe\r\n    return number !== number || number === 0 ? 0 : (number > 0 ? $a6b1a426cfae0839$var$floor : $a6b1a426cfae0839$var$ceil)(number);\r\n};\r\n\r\n\r\nvar $ca547ae405e4fbdd$var$max = Math.max;\r\nvar $ca547ae405e4fbdd$var$min = Math.min;\r\n// Helper for a popular repeating case of the spec:\r\n// Let integer be ? ToInteger(index).\r\n// If integer < 0, let result be max((length + integer), 0); else let result be min(integer, length).\r\n$ca547ae405e4fbdd$exports = function(index, length) {\r\n    var integer = $a6b1a426cfae0839$exports(index);\r\n    return integer < 0 ? $ca547ae405e4fbdd$var$max(integer + length, 0) : $ca547ae405e4fbdd$var$min(integer, length);\r\n};\r\n\r\n\r\nvar $0bac94b09229c49e$exports = {};\r\nvar $e100ab5b9932519a$exports = {};\r\n\r\nvar $e100ab5b9932519a$var$min = Math.min;\r\n// `ToLength` abstract operation\r\n// https://tc39.es/ecma262/#sec-tolength\r\n$e100ab5b9932519a$exports = function(argument) {\r\n    return argument > 0 ? $e100ab5b9932519a$var$min($a6b1a426cfae0839$exports(argument), 9007199254740991) : 0; // 2 ** 53 - 1 == 9007199254740991\r\n};\r\n\r\n\r\n// `LengthOfArrayLike` abstract operation\r\n// https://tc39.es/ecma262/#sec-lengthofarraylike\r\n$0bac94b09229c49e$exports = function(obj) {\r\n    return $e100ab5b9932519a$exports(obj.length);\r\n};\r\n\r\n\r\n// `Array.prototype.{ indexOf, includes }` methods implementation\r\nvar $4b0ffb57dd664c88$var$createMethod = function(IS_INCLUDES) {\r\n    return function($this, el, fromIndex) {\r\n        var O = $97ec2e5c7182541a$exports($this);\r\n        var length = $0bac94b09229c49e$exports(O);\r\n        var index = $ca547ae405e4fbdd$exports(fromIndex, length);\r\n        var value;\r\n        // Array#includes uses SameValueZero equality algorithm\r\n        // eslint-disable-next-line no-self-compare -- NaN check\r\n        if (IS_INCLUDES && el != el) while(length > index){\r\n            value = O[index++];\r\n            // eslint-disable-next-line no-self-compare -- NaN check\r\n            if (value != value) return true;\r\n        // Array#indexOf ignores holes, Array#includes - not\r\n        }\r\n        else for(; length > index; index++){\r\n            if ((IS_INCLUDES || index in O) && O[index] === el) return IS_INCLUDES || index || 0;\r\n        }\r\n        return !IS_INCLUDES && -1;\r\n    };\r\n};\r\n$4b0ffb57dd664c88$exports = {\r\n    // `Array.prototype.includes` method\r\n    // https://tc39.es/ecma262/#sec-array.prototype.includes\r\n    includes: $4b0ffb57dd664c88$var$createMethod(true),\r\n    // `Array.prototype.indexOf` method\r\n    // https://tc39.es/ecma262/#sec-array.prototype.indexof\r\n    indexOf: $4b0ffb57dd664c88$var$createMethod(false)\r\n};\r\n\r\n\r\nvar $a2e6841c5b9a21c5$require$indexOf = $4b0ffb57dd664c88$exports.indexOf;\r\nvar $145f7221e927a627$exports = {};\r\n$145f7221e927a627$exports = {\r\n};\r\n\r\n\r\nvar $a2e6841c5b9a21c5$var$push = $0e047cd7e4bd2a61$exports([].push);\r\n$a2e6841c5b9a21c5$exports = function(object, names) {\r\n    var O = $97ec2e5c7182541a$exports(object);\r\n    var i = 0;\r\n    var result = [];\r\n    var key;\r\n    for(key in O)!$c98185f2a2200053$exports($145f7221e927a627$exports, key) && $c98185f2a2200053$exports(O, key) && $a2e6841c5b9a21c5$var$push(result, key);\r\n    // Don't enum bug & hidden keys\r\n    while(names.length > i)if ($c98185f2a2200053$exports(O, key = names[i++])) ~$a2e6841c5b9a21c5$require$indexOf(result, key) || $a2e6841c5b9a21c5$var$push(result, key);\r\n    return result;\r\n};\r\n\r\n\r\nvar $8d73a41cff741f2c$exports = {};\r\n// IE8- don't enum bug keys\r\n$8d73a41cff741f2c$exports = [\r\n    'constructor',\r\n    'hasOwnProperty',\r\n    'isPrototypeOf',\r\n    'propertyIsEnumerable',\r\n    'toLocaleString',\r\n    'toString',\r\n    'valueOf'\r\n];\r\n\r\n\r\n// `Object.keys` method\r\n// https://tc39.es/ecma262/#sec-object.keys\r\n// eslint-disable-next-line es/no-object-keys -- safe\r\n$f6a01c267cdb564c$exports = Object.keys || function keys(O) {\r\n    return $a2e6841c5b9a21c5$exports(O, $8d73a41cff741f2c$exports);\r\n};\r\n\r\n\r\n// `Object.defineProperties` method\r\n// https://tc39.es/ecma262/#sec-object.defineproperties\r\n// eslint-disable-next-line es/no-object-defineproperties -- safe\r\n$67889ba1099c927e$exports = $b2de12f63ee8e8eb$exports ? Object.defineProperties : function defineProperties(O, Properties) {\r\n    $8cde29e156f67727$exports(O);\r\n    var props = $97ec2e5c7182541a$exports(Properties);\r\n    var keys = $f6a01c267cdb564c$exports(Properties);\r\n    var length = keys.length;\r\n    var index = 0;\r\n    var key;\r\n    while(length > index)$1fe1833a1cb14f9b$export$2d1720544b23b823(O, key = keys[index++], props[key]);\r\n    return O;\r\n};\r\n\r\n\r\n\r\n\r\nvar $9d90cd2397026bfe$exports = {};\r\n\r\n$9d90cd2397026bfe$exports = $f4dfad6b8aca7fc7$exports('document', 'documentElement');\r\n\r\n\r\n\r\nvar $947a80a874e039c6$exports = {};\r\n\r\n\r\nvar $947a80a874e039c6$var$keys = $7221bdedd963a313$exports('keys');\r\n$947a80a874e039c6$exports = function(key) {\r\n    return $947a80a874e039c6$var$keys[key] || ($947a80a874e039c6$var$keys[key] = $0831e930e27ad9c2$exports(key));\r\n};\r\n\r\n\r\nvar $d3ac9847cf651bba$var$GT = '>';\r\nvar $d3ac9847cf651bba$var$LT = '<';\r\nvar $d3ac9847cf651bba$var$PROTOTYPE = 'prototype';\r\nvar $d3ac9847cf651bba$var$SCRIPT = 'script';\r\nvar $d3ac9847cf651bba$var$IE_PROTO = $947a80a874e039c6$exports('IE_PROTO');\r\nvar $d3ac9847cf651bba$var$EmptyConstructor = function() {\r\n};\r\nvar $d3ac9847cf651bba$var$scriptTag = function(content) {\r\n    return $d3ac9847cf651bba$var$LT + $d3ac9847cf651bba$var$SCRIPT + $d3ac9847cf651bba$var$GT + content + $d3ac9847cf651bba$var$LT + '/' + $d3ac9847cf651bba$var$SCRIPT + $d3ac9847cf651bba$var$GT;\r\n};\r\n// Create object with fake `null` prototype: use ActiveX Object with cleared prototype\r\nvar $d3ac9847cf651bba$var$NullProtoObjectViaActiveX = function(activeXDocument) {\r\n    activeXDocument.write($d3ac9847cf651bba$var$scriptTag(''));\r\n    activeXDocument.close();\r\n    var temp = activeXDocument.parentWindow.Object;\r\n    activeXDocument = null; // avoid memory leak\r\n    return temp;\r\n};\r\n// Create object with fake `null` prototype: use iframe Object with cleared prototype\r\nvar $d3ac9847cf651bba$var$NullProtoObjectViaIFrame = function() {\r\n    // Thrash, waste and sodomy: IE GC bug\r\n    var iframe = $0158366a26a6b285$exports('iframe');\r\n    var JS = 'java' + $d3ac9847cf651bba$var$SCRIPT + ':';\r\n    var iframeDocument;\r\n    iframe.style.display = 'none';\r\n    $9d90cd2397026bfe$exports.appendChild(iframe);\r\n    // https://github.com/zloirock/core-js/issues/475\r\n    iframe.src = String(JS);\r\n    iframeDocument = iframe.contentWindow.document;\r\n    iframeDocument.open();\r\n    iframeDocument.write($d3ac9847cf651bba$var$scriptTag('document.F=Object'));\r\n    iframeDocument.close();\r\n    return iframeDocument.F;\r\n};\r\n// Check for document.domain and active x support\r\n// No need to use active x approach when document.domain is not set\r\n// see https://github.com/es-shims/es5-shim/issues/150\r\n// variation of https://github.com/kitcambridge/es5-shim/commit/4f738ac066346\r\n// avoid IE GC bug\r\nvar $d3ac9847cf651bba$var$activeXDocument;\r\nvar $d3ac9847cf651bba$var$NullProtoObject = function() {\r\n    try {\r\n        $d3ac9847cf651bba$var$activeXDocument = new ActiveXObject('htmlfile');\r\n    } catch (error) {\r\n    }\r\n    $d3ac9847cf651bba$var$NullProtoObject = typeof document != 'undefined' ? document.domain && $d3ac9847cf651bba$var$activeXDocument ? $d3ac9847cf651bba$var$NullProtoObjectViaActiveX($d3ac9847cf651bba$var$activeXDocument) // old IE\r\n     : $d3ac9847cf651bba$var$NullProtoObjectViaIFrame() : $d3ac9847cf651bba$var$NullProtoObjectViaActiveX($d3ac9847cf651bba$var$activeXDocument); // WSH\r\n    var length = $8d73a41cff741f2c$exports.length;\r\n    while(length--)delete $d3ac9847cf651bba$var$NullProtoObject[$d3ac9847cf651bba$var$PROTOTYPE][$8d73a41cff741f2c$exports[length]];\r\n    return $d3ac9847cf651bba$var$NullProtoObject();\r\n};\r\n$145f7221e927a627$exports[$d3ac9847cf651bba$var$IE_PROTO] = true;\r\n// `Object.create` method\r\n// https://tc39.es/ecma262/#sec-object.create\r\n$d3ac9847cf651bba$exports = Object.create || function create(O, Properties) {\r\n    var result;\r\n    if (O !== null) {\r\n        $d3ac9847cf651bba$var$EmptyConstructor[$d3ac9847cf651bba$var$PROTOTYPE] = $8cde29e156f67727$exports(O);\r\n        result = new $d3ac9847cf651bba$var$EmptyConstructor();\r\n        $d3ac9847cf651bba$var$EmptyConstructor[$d3ac9847cf651bba$var$PROTOTYPE] = null;\r\n        // add \"__proto__\" for Object.getPrototypeOf polyfill\r\n        result[$d3ac9847cf651bba$var$IE_PROTO] = O;\r\n    } else result = $d3ac9847cf651bba$var$NullProtoObject();\r\n    return Properties === undefined ? result : $67889ba1099c927e$exports(result, Properties);\r\n};\r\n\r\n\r\n\r\nvar $b6aa2c4ec4d930d5$var$UNSCOPABLES = $3e9517d770b151f3$exports('unscopables');\r\nvar $b6aa2c4ec4d930d5$var$ArrayPrototype = Array.prototype;\r\n// Array.prototype[@@unscopables]\r\n// https://tc39.es/ecma262/#sec-array.prototype-@@unscopables\r\nif ($b6aa2c4ec4d930d5$var$ArrayPrototype[$b6aa2c4ec4d930d5$var$UNSCOPABLES] == undefined) $1fe1833a1cb14f9b$export$2d1720544b23b823($b6aa2c4ec4d930d5$var$ArrayPrototype, $b6aa2c4ec4d930d5$var$UNSCOPABLES, {\r\n    configurable: true,\r\n    value: $d3ac9847cf651bba$exports(null)\r\n});\r\n// add a key to Array.prototype[@@unscopables]\r\n$b6aa2c4ec4d930d5$exports = function(key) {\r\n    $b6aa2c4ec4d930d5$var$ArrayPrototype[$b6aa2c4ec4d930d5$var$UNSCOPABLES][key] = true;\r\n};\r\n\r\n\r\nvar $4807385c6bcbbcab$exports = {};\r\n$4807385c6bcbbcab$exports = {\r\n};\r\n\r\n\r\nvar $ea7e65ba02245cf9$exports = {};\r\nvar $2413e250fd67c462$exports = {};\r\n\r\n\r\nvar $5b63997c7c97e8d6$exports = {};\r\n\r\n\r\n\r\nvar $5b63997c7c97e8d6$var$functionToString = $0e047cd7e4bd2a61$exports(Function.toString);\r\n// this helper broken in `core-js@3.4.1-3.4.4`, so we can't use `shared` helper\r\nif (!$fcbda71016cee9bb$exports($e54370cbe81dd8f8$exports.inspectSource)) $e54370cbe81dd8f8$exports.inspectSource = function(it) {\r\n    return $5b63997c7c97e8d6$var$functionToString(it);\r\n};\r\n$5b63997c7c97e8d6$exports = $e54370cbe81dd8f8$exports.inspectSource;\r\n\r\n\r\nvar $2413e250fd67c462$var$WeakMap = $f333edce04dc84d2$exports.WeakMap;\r\n$2413e250fd67c462$exports = $fcbda71016cee9bb$exports($2413e250fd67c462$var$WeakMap) && /native code/.test($5b63997c7c97e8d6$exports($2413e250fd67c462$var$WeakMap));\r\n\r\n\r\n\r\n\r\n\r\nvar $55c1099db5c9e6a0$exports = {};\r\n\r\n\r\nvar $3c8b2ccf7adfb59a$exports = {};\r\n$3c8b2ccf7adfb59a$exports = function(bitmap, value) {\r\n    return {\r\n        enumerable: !(bitmap & 1),\r\n        configurable: !(bitmap & 2),\r\n        writable: !(bitmap & 4),\r\n        value: value\r\n    };\r\n};\r\n\r\n\r\n$55c1099db5c9e6a0$exports = $b2de12f63ee8e8eb$exports ? function(object, key, value) {\r\n    return $1fe1833a1cb14f9b$export$2d1720544b23b823(object, key, $3c8b2ccf7adfb59a$exports(1, value));\r\n} : function(object, key, value) {\r\n    object[key] = value;\r\n    return object;\r\n};\r\n\r\n\r\n\r\n\r\n\r\n\r\nvar $ea7e65ba02245cf9$var$OBJECT_ALREADY_INITIALIZED = 'Object already initialized';\r\nvar $ea7e65ba02245cf9$var$TypeError = $f333edce04dc84d2$exports.TypeError;\r\nvar $ea7e65ba02245cf9$var$WeakMap = $f333edce04dc84d2$exports.WeakMap;\r\nvar $ea7e65ba02245cf9$var$set, $ea7e65ba02245cf9$var$get, $ea7e65ba02245cf9$var$has;\r\nvar $ea7e65ba02245cf9$var$enforce = function(it) {\r\n    return $ea7e65ba02245cf9$var$has(it) ? $ea7e65ba02245cf9$var$get(it) : $ea7e65ba02245cf9$var$set(it, {\r\n    });\r\n};\r\nvar $ea7e65ba02245cf9$var$getterFor = function(TYPE) {\r\n    return function(it) {\r\n        var state;\r\n        if (!$03cf12799242f409$exports(it) || (state = $ea7e65ba02245cf9$var$get(it)).type !== TYPE) throw $ea7e65ba02245cf9$var$TypeError('Incompatible receiver, ' + TYPE + ' required');\r\n        return state;\r\n    };\r\n};\r\nif ($2413e250fd67c462$exports || $e54370cbe81dd8f8$exports.state) {\r\n    var $ea7e65ba02245cf9$var$store = $e54370cbe81dd8f8$exports.state || ($e54370cbe81dd8f8$exports.state = new $ea7e65ba02245cf9$var$WeakMap());\r\n    var $ea7e65ba02245cf9$var$wmget = $0e047cd7e4bd2a61$exports($ea7e65ba02245cf9$var$store.get);\r\n    var $ea7e65ba02245cf9$var$wmhas = $0e047cd7e4bd2a61$exports($ea7e65ba02245cf9$var$store.has);\r\n    var $ea7e65ba02245cf9$var$wmset = $0e047cd7e4bd2a61$exports($ea7e65ba02245cf9$var$store.set);\r\n    $ea7e65ba02245cf9$var$set = function(it, metadata) {\r\n        if ($ea7e65ba02245cf9$var$wmhas($ea7e65ba02245cf9$var$store, it)) throw new $ea7e65ba02245cf9$var$TypeError($ea7e65ba02245cf9$var$OBJECT_ALREADY_INITIALIZED);\r\n        metadata.facade = it;\r\n        $ea7e65ba02245cf9$var$wmset($ea7e65ba02245cf9$var$store, it, metadata);\r\n        return metadata;\r\n    };\r\n    $ea7e65ba02245cf9$var$get = function(it) {\r\n        return $ea7e65ba02245cf9$var$wmget($ea7e65ba02245cf9$var$store, it) || {\r\n        };\r\n    };\r\n    $ea7e65ba02245cf9$var$has = function(it) {\r\n        return $ea7e65ba02245cf9$var$wmhas($ea7e65ba02245cf9$var$store, it);\r\n    };\r\n} else {\r\n    var $ea7e65ba02245cf9$var$STATE = $947a80a874e039c6$exports('state');\r\n    $145f7221e927a627$exports[$ea7e65ba02245cf9$var$STATE] = true;\r\n    $ea7e65ba02245cf9$var$set = function(it, metadata) {\r\n        if ($c98185f2a2200053$exports(it, $ea7e65ba02245cf9$var$STATE)) throw new $ea7e65ba02245cf9$var$TypeError($ea7e65ba02245cf9$var$OBJECT_ALREADY_INITIALIZED);\r\n        metadata.facade = it;\r\n        $55c1099db5c9e6a0$exports(it, $ea7e65ba02245cf9$var$STATE, metadata);\r\n        return metadata;\r\n    };\r\n    $ea7e65ba02245cf9$var$get = function(it) {\r\n        return $c98185f2a2200053$exports(it, $ea7e65ba02245cf9$var$STATE) ? it[$ea7e65ba02245cf9$var$STATE] : {\r\n        };\r\n    };\r\n    $ea7e65ba02245cf9$var$has = function(it) {\r\n        return $c98185f2a2200053$exports(it, $ea7e65ba02245cf9$var$STATE);\r\n    };\r\n}\r\n$ea7e65ba02245cf9$exports = {\r\n    set: $ea7e65ba02245cf9$var$set,\r\n    get: $ea7e65ba02245cf9$var$get,\r\n    has: $ea7e65ba02245cf9$var$has,\r\n    enforce: $ea7e65ba02245cf9$var$enforce,\r\n    getterFor: $ea7e65ba02245cf9$var$getterFor\r\n};\r\n\r\n\r\n\r\nvar $19dfc4060129c05d$require$defineProperty = $1fe1833a1cb14f9b$export$2d1720544b23b823;\r\nvar $ab7a19d4a83b9c08$exports = {};\r\n'use strict';\r\nvar $af460506ee59fa9e$exports = {};\r\n\r\n// `Object.getOwnPropertyDescriptor` method\r\n// https://tc39.es/ecma262/#sec-object.getownpropertydescriptor\r\nvar $a2eb34e3e735edaf$export$2d1720544b23b823;\r\n\r\n\r\n// `Object.prototype.propertyIsEnumerable` method implementation\r\n// https://tc39.es/ecma262/#sec-object.prototype.propertyisenumerable\r\nvar $3e774a1de5b6bb49$export$2d1720544b23b823;\r\n'use strict';\r\nvar $3e774a1de5b6bb49$var$$propertyIsEnumerable = {\r\n}.propertyIsEnumerable;\r\n// eslint-disable-next-line es/no-object-getownpropertydescriptor -- safe\r\nvar $3e774a1de5b6bb49$var$getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\r\n// Nashorn ~ JDK8 bug\r\nvar $3e774a1de5b6bb49$var$NASHORN_BUG = $3e774a1de5b6bb49$var$getOwnPropertyDescriptor && !$3e774a1de5b6bb49$var$$propertyIsEnumerable.call({\r\n    1: 2\r\n}, 1);\r\n$3e774a1de5b6bb49$export$2d1720544b23b823 = $3e774a1de5b6bb49$var$NASHORN_BUG ? function propertyIsEnumerable(V) {\r\n    var descriptor = $3e774a1de5b6bb49$var$getOwnPropertyDescriptor(this, V);\r\n    return !!descriptor && descriptor.enumerable;\r\n} : $3e774a1de5b6bb49$var$$propertyIsEnumerable;\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n// eslint-disable-next-line es/no-object-getownpropertydescriptor -- safe\r\nvar $a2eb34e3e735edaf$var$$getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\r\n$a2eb34e3e735edaf$export$2d1720544b23b823 = $b2de12f63ee8e8eb$exports ? $a2eb34e3e735edaf$var$$getOwnPropertyDescriptor : function getOwnPropertyDescriptor(O, P) {\r\n    O = $97ec2e5c7182541a$exports(O);\r\n    P = $69748fdc4ab19225$exports(P);\r\n    if ($530ff8786b8b3414$exports) try {\r\n        return $a2eb34e3e735edaf$var$$getOwnPropertyDescriptor(O, P);\r\n    } catch (error) {\r\n    }\r\n    if ($c98185f2a2200053$exports(O, P)) return $3c8b2ccf7adfb59a$exports(!$541d4c9e93c87577$exports($3e774a1de5b6bb49$export$2d1720544b23b823, O, P), O[P]);\r\n};\r\n\r\n\r\nvar $af460506ee59fa9e$require$getOwnPropertyDescriptor = $a2eb34e3e735edaf$export$2d1720544b23b823;\r\n\r\nvar $a8719ecb9393e08b$exports = {};\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nvar $1b2726027345f4eb$exports = {};\r\n\r\n\r\nvar $1b2726027345f4eb$var$FunctionPrototype = Function.prototype;\r\n// eslint-disable-next-line es/no-object-getownpropertydescriptor -- safe\r\nvar $1b2726027345f4eb$var$getDescriptor = $b2de12f63ee8e8eb$exports && Object.getOwnPropertyDescriptor;\r\nvar $1b2726027345f4eb$var$EXISTS = $c98185f2a2200053$exports($1b2726027345f4eb$var$FunctionPrototype, 'name');\r\n// additional protection from minified / mangled / dropped function names\r\nvar $1b2726027345f4eb$var$PROPER = $1b2726027345f4eb$var$EXISTS && (function something() {\r\n}).name === 'something';\r\nvar $1b2726027345f4eb$var$CONFIGURABLE = $1b2726027345f4eb$var$EXISTS && (!$b2de12f63ee8e8eb$exports || $b2de12f63ee8e8eb$exports && $1b2726027345f4eb$var$getDescriptor($1b2726027345f4eb$var$FunctionPrototype, 'name').configurable);\r\n$1b2726027345f4eb$exports = {\r\n    EXISTS: $1b2726027345f4eb$var$EXISTS,\r\n    PROPER: $1b2726027345f4eb$var$PROPER,\r\n    CONFIGURABLE: $1b2726027345f4eb$var$CONFIGURABLE\r\n};\r\n\r\n\r\nvar $a8719ecb9393e08b$require$CONFIGURABLE_FUNCTION_NAME = $1b2726027345f4eb$exports.CONFIGURABLE;\r\nvar $a8719ecb9393e08b$var$getInternalState = $ea7e65ba02245cf9$exports.get;\r\nvar $a8719ecb9393e08b$var$enforceInternalState = $ea7e65ba02245cf9$exports.enforce;\r\nvar $a8719ecb9393e08b$var$TEMPLATE = String(String).split('String');\r\n($a8719ecb9393e08b$exports = function(O, key, value, options) {\r\n    var unsafe = options ? !!options.unsafe : false;\r\n    var simple = options ? !!options.enumerable : false;\r\n    var noTargetGet = options ? !!options.noTargetGet : false;\r\n    var name = options && options.name !== undefined ? options.name : key;\r\n    var state;\r\n    if ($fcbda71016cee9bb$exports(value)) {\r\n        if (String(name).slice(0, 7) === 'Symbol(') name = '[' + String(name).replace(/^Symbol\\(([^)]*)\\)/, '$1') + ']';\r\n        if (!$c98185f2a2200053$exports(value, 'name') || $a8719ecb9393e08b$require$CONFIGURABLE_FUNCTION_NAME && value.name !== name) $55c1099db5c9e6a0$exports(value, 'name', name);\r\n        state = $a8719ecb9393e08b$var$enforceInternalState(value);\r\n        if (!state.source) state.source = $a8719ecb9393e08b$var$TEMPLATE.join(typeof name == 'string' ? name : '');\r\n    }\r\n    if (O === $f333edce04dc84d2$exports) {\r\n        if (simple) O[key] = value;\r\n        else $883391211b9e3206$exports(key, value);\r\n        return;\r\n    } else if (!unsafe) delete O[key];\r\n    else if (!noTargetGet && O[key]) simple = true;\r\n    if (simple) O[key] = value;\r\n    else $55c1099db5c9e6a0$exports(O, key, value);\r\n// add fake Function#toString for correct work wrapped methods / constructors with methods like LoDash isNative\r\n})(Function.prototype, 'toString', function toString() {\r\n    return $fcbda71016cee9bb$exports(this) && $a8719ecb9393e08b$var$getInternalState(this).source || $5b63997c7c97e8d6$exports(this);\r\n});\r\n\r\n\r\n\r\nvar $2dfe3c4787ce0e40$exports = {};\r\n\r\nvar $325bf33af776c733$exports = {};\r\n\r\n\r\n// `Object.getOwnPropertyNames` method\r\n// https://tc39.es/ecma262/#sec-object.getownpropertynames\r\n// eslint-disable-next-line es/no-object-getownpropertynames -- safe\r\nvar $a19d62405ddd1ba6$export$2d1720544b23b823;\r\n\r\n\r\nvar $a19d62405ddd1ba6$var$hiddenKeys = $8d73a41cff741f2c$exports.concat('length', 'prototype');\r\n$a19d62405ddd1ba6$export$2d1720544b23b823 = Object.getOwnPropertyNames || function getOwnPropertyNames(O) {\r\n    return $a2e6841c5b9a21c5$exports(O, $a19d62405ddd1ba6$var$hiddenKeys);\r\n};\r\n\r\n\r\n// eslint-disable-next-line es/no-object-getownpropertysymbols -- safe\r\nvar $f2f2dc1124c6efde$export$2d1720544b23b823;\r\n$f2f2dc1124c6efde$export$2d1720544b23b823 = Object.getOwnPropertySymbols;\r\n\r\n\r\n\r\nvar $325bf33af776c733$var$concat = $0e047cd7e4bd2a61$exports([].concat);\r\n// all object keys, includes non-enumerable and symbols\r\n$325bf33af776c733$exports = $f4dfad6b8aca7fc7$exports('Reflect', 'ownKeys') || function ownKeys(it) {\r\n    var keys = $a19d62405ddd1ba6$export$2d1720544b23b823($8cde29e156f67727$exports(it));\r\n    var getOwnPropertySymbols = $f2f2dc1124c6efde$export$2d1720544b23b823;\r\n    return getOwnPropertySymbols ? $325bf33af776c733$var$concat(keys, getOwnPropertySymbols(it)) : keys;\r\n};\r\n\r\n\r\n\r\n\r\n$2dfe3c4787ce0e40$exports = function(target, source, exceptions) {\r\n    var keys = $325bf33af776c733$exports(source);\r\n    var defineProperty = $1fe1833a1cb14f9b$export$2d1720544b23b823;\r\n    var getOwnPropertyDescriptor = $a2eb34e3e735edaf$export$2d1720544b23b823;\r\n    for(var i = 0; i < keys.length; i++){\r\n        var key = keys[i];\r\n        if (!$c98185f2a2200053$exports(target, key) && !(exceptions && $c98185f2a2200053$exports(exceptions, key))) defineProperty(target, key, getOwnPropertyDescriptor(source, key));\r\n    }\r\n};\r\n\r\n\r\nvar $86acbf67a8f43f79$exports = {};\r\n\r\n\r\nvar $86acbf67a8f43f79$var$replacement = /#|\\.prototype\\./;\r\nvar $86acbf67a8f43f79$var$isForced = function(feature, detection) {\r\n    var value = $86acbf67a8f43f79$var$data[$86acbf67a8f43f79$var$normalize(feature)];\r\n    return value == $86acbf67a8f43f79$var$POLYFILL ? true : value == $86acbf67a8f43f79$var$NATIVE ? false : $fcbda71016cee9bb$exports(detection) ? $639365070cb811ed$exports(detection) : !!detection;\r\n};\r\nvar $86acbf67a8f43f79$var$normalize = $86acbf67a8f43f79$var$isForced.normalize = function(string) {\r\n    return String(string).replace($86acbf67a8f43f79$var$replacement, '.').toLowerCase();\r\n};\r\nvar $86acbf67a8f43f79$var$data = $86acbf67a8f43f79$var$isForced.data = {\r\n};\r\nvar $86acbf67a8f43f79$var$NATIVE = $86acbf67a8f43f79$var$isForced.NATIVE = 'N';\r\nvar $86acbf67a8f43f79$var$POLYFILL = $86acbf67a8f43f79$var$isForced.POLYFILL = 'P';\r\n$86acbf67a8f43f79$exports = $86acbf67a8f43f79$var$isForced;\r\n\r\n\r\n/*\r\n  options.target      - name of the target object\r\n  options.global      - target is the global object\r\n  options.stat        - export as static methods of target\r\n  options.proto       - export as prototype methods of target\r\n  options.real        - real prototype method for the `pure` version\r\n  options.forced      - export even if the native feature is available\r\n  options.bind        - bind methods to the target, required for the `pure` version\r\n  options.wrap        - wrap constructors to preventing global pollution, required for the `pure` version\r\n  options.unsafe      - use the simple assignment of property instead of delete + defineProperty\r\n  options.sham        - add a flag to not completely full polyfills\r\n  options.enumerable  - export as enumerable property\r\n  options.noTargetGet - prevent calling a getter on target\r\n  options.name        - the .name of the function if it does not match the key\r\n*/ $af460506ee59fa9e$exports = function(options, source) {\r\n    var TARGET = options.target;\r\n    var GLOBAL = options.global;\r\n    var STATIC = options.stat;\r\n    var FORCED, target, key, targetProperty, sourceProperty, descriptor;\r\n    if (GLOBAL) target = $f333edce04dc84d2$exports;\r\n    else if (STATIC) target = $f333edce04dc84d2$exports[TARGET] || $883391211b9e3206$exports(TARGET, {\r\n    });\r\n    else target = ($f333edce04dc84d2$exports[TARGET] || {\r\n    }).prototype;\r\n    if (target) for(key in source){\r\n        sourceProperty = source[key];\r\n        if (options.noTargetGet) {\r\n            descriptor = $af460506ee59fa9e$require$getOwnPropertyDescriptor(target, key);\r\n            targetProperty = descriptor && descriptor.value;\r\n        } else targetProperty = target[key];\r\n        FORCED = $86acbf67a8f43f79$exports(GLOBAL ? key : TARGET + (STATIC ? '.' : '#') + key, options.forced);\r\n        // contained in target\r\n        if (!FORCED && targetProperty !== undefined) {\r\n            if (typeof sourceProperty == typeof targetProperty) continue;\r\n            $2dfe3c4787ce0e40$exports(sourceProperty, targetProperty);\r\n        }\r\n        // add a flag to not completely full polyfills\r\n        if (options.sham || targetProperty && targetProperty.sham) $55c1099db5c9e6a0$exports(sourceProperty, 'sham', true);\r\n        // extend global\r\n        $a8719ecb9393e08b$exports(target, key, sourceProperty, options);\r\n    }\r\n};\r\n\r\n\r\n\r\n\r\n\r\n\r\nvar $b3515a62650194d5$exports = {};\r\n'use strict';\r\nvar $46cc82908d6c8032$exports = {};\r\n'use strict';\r\n\r\n\r\n\r\nvar $f17f9036e72a9934$exports = {};\r\n\r\n\r\n\r\n\r\n\r\nvar $1f89bb3ed52235da$exports = {};\r\n\r\n$1f89bb3ed52235da$exports = !$639365070cb811ed$exports(function() {\r\n    function F() {\r\n    }\r\n    F.prototype.constructor = null;\r\n    // eslint-disable-next-line es/no-object-getprototypeof -- required for testing\r\n    return Object.getPrototypeOf(new F()) !== F.prototype;\r\n});\r\n\r\n\r\nvar $f17f9036e72a9934$var$IE_PROTO = $947a80a874e039c6$exports('IE_PROTO');\r\nvar $f17f9036e72a9934$var$Object = $f333edce04dc84d2$exports.Object;\r\nvar $f17f9036e72a9934$var$ObjectPrototype = $f17f9036e72a9934$var$Object.prototype;\r\n// `Object.getPrototypeOf` method\r\n// https://tc39.es/ecma262/#sec-object.getprototypeof\r\n$f17f9036e72a9934$exports = $1f89bb3ed52235da$exports ? $f17f9036e72a9934$var$Object.getPrototypeOf : function(O) {\r\n    var object = $0c22979a3ee624f0$exports(O);\r\n    if ($c98185f2a2200053$exports(object, $f17f9036e72a9934$var$IE_PROTO)) return object[$f17f9036e72a9934$var$IE_PROTO];\r\n    var constructor = object.constructor;\r\n    if ($fcbda71016cee9bb$exports(constructor) && object instanceof constructor) return constructor.prototype;\r\n    return object instanceof $f17f9036e72a9934$var$Object ? $f17f9036e72a9934$var$ObjectPrototype : null;\r\n};\r\n\r\n\r\n\r\n\r\n\r\nvar $46cc82908d6c8032$var$ITERATOR = $3e9517d770b151f3$exports('iterator');\r\nvar $46cc82908d6c8032$var$BUGGY_SAFARI_ITERATORS = false;\r\n// `%IteratorPrototype%` object\r\n// https://tc39.es/ecma262/#sec-%iteratorprototype%-object\r\nvar $46cc82908d6c8032$var$IteratorPrototype, $46cc82908d6c8032$var$PrototypeOfArrayIteratorPrototype, $46cc82908d6c8032$var$arrayIterator;\r\n/* eslint-disable es/no-array-prototype-keys -- safe */ if ([].keys) {\r\n    $46cc82908d6c8032$var$arrayIterator = [].keys();\r\n    // Safari 8 has buggy iterators w/o `next`\r\n    if (!('next' in $46cc82908d6c8032$var$arrayIterator)) $46cc82908d6c8032$var$BUGGY_SAFARI_ITERATORS = true;\r\n    else {\r\n        $46cc82908d6c8032$var$PrototypeOfArrayIteratorPrototype = $f17f9036e72a9934$exports($f17f9036e72a9934$exports($46cc82908d6c8032$var$arrayIterator));\r\n        if ($46cc82908d6c8032$var$PrototypeOfArrayIteratorPrototype !== Object.prototype) $46cc82908d6c8032$var$IteratorPrototype = $46cc82908d6c8032$var$PrototypeOfArrayIteratorPrototype;\r\n    }\r\n}\r\nvar $46cc82908d6c8032$var$NEW_ITERATOR_PROTOTYPE = $46cc82908d6c8032$var$IteratorPrototype == undefined || $639365070cb811ed$exports(function() {\r\n    var test = {\r\n    };\r\n    // FF44- legacy iterators case\r\n    return $46cc82908d6c8032$var$IteratorPrototype[$46cc82908d6c8032$var$ITERATOR].call(test) !== test;\r\n});\r\nif ($46cc82908d6c8032$var$NEW_ITERATOR_PROTOTYPE) $46cc82908d6c8032$var$IteratorPrototype = {\r\n};\r\nelse if ($0a617e53de17f0cf$exports) $46cc82908d6c8032$var$IteratorPrototype = $d3ac9847cf651bba$exports($46cc82908d6c8032$var$IteratorPrototype);\r\n// `%IteratorPrototype%[@@iterator]()` method\r\n// https://tc39.es/ecma262/#sec-%iteratorprototype%-@@iterator\r\nif (!$fcbda71016cee9bb$exports($46cc82908d6c8032$var$IteratorPrototype[$46cc82908d6c8032$var$ITERATOR])) $a8719ecb9393e08b$exports($46cc82908d6c8032$var$IteratorPrototype, $46cc82908d6c8032$var$ITERATOR, function() {\r\n    return this;\r\n});\r\n$46cc82908d6c8032$exports = {\r\n    IteratorPrototype: $46cc82908d6c8032$var$IteratorPrototype,\r\n    BUGGY_SAFARI_ITERATORS: $46cc82908d6c8032$var$BUGGY_SAFARI_ITERATORS\r\n};\r\n\r\n\r\nvar $b3515a62650194d5$require$IteratorPrototype = $46cc82908d6c8032$exports.IteratorPrototype;\r\n\r\n\r\nvar $78b33d3572646828$exports = {};\r\n\r\nvar $78b33d3572646828$require$defineProperty = $1fe1833a1cb14f9b$export$2d1720544b23b823;\r\n\r\n\r\nvar $78b33d3572646828$var$TO_STRING_TAG = $3e9517d770b151f3$exports('toStringTag');\r\n$78b33d3572646828$exports = function(target, TAG, STATIC) {\r\n    if (target && !STATIC) target = target.prototype;\r\n    if (target && !$c98185f2a2200053$exports(target, $78b33d3572646828$var$TO_STRING_TAG)) $78b33d3572646828$require$defineProperty(target, $78b33d3572646828$var$TO_STRING_TAG, {\r\n        configurable: true,\r\n        value: TAG\r\n    });\r\n};\r\n\r\n\r\n\r\nvar $b3515a62650194d5$var$returnThis = function() {\r\n    return this;\r\n};\r\n$b3515a62650194d5$exports = function(IteratorConstructor, NAME, next, ENUMERABLE_NEXT) {\r\n    var TO_STRING_TAG = NAME + ' Iterator';\r\n    IteratorConstructor.prototype = $d3ac9847cf651bba$exports($b3515a62650194d5$require$IteratorPrototype, {\r\n        next: $3c8b2ccf7adfb59a$exports(+!ENUMERABLE_NEXT, next)\r\n    });\r\n    $78b33d3572646828$exports(IteratorConstructor, TO_STRING_TAG, false, true);\r\n    $4807385c6bcbbcab$exports[TO_STRING_TAG] = $b3515a62650194d5$var$returnThis;\r\n    return IteratorConstructor;\r\n};\r\n\r\n\r\n\r\nvar $b43955ec518fbd41$exports = {};\r\n\r\n\r\nvar $2881e2b1ec2e0a9f$exports = {};\r\n\r\n\r\nvar $2881e2b1ec2e0a9f$var$String = $f333edce04dc84d2$exports.String;\r\nvar $2881e2b1ec2e0a9f$var$TypeError = $f333edce04dc84d2$exports.TypeError;\r\n$2881e2b1ec2e0a9f$exports = function(argument) {\r\n    if (typeof argument == 'object' || $fcbda71016cee9bb$exports(argument)) return argument;\r\n    throw $2881e2b1ec2e0a9f$var$TypeError(\"Can't set \" + $2881e2b1ec2e0a9f$var$String(argument) + ' as a prototype');\r\n};\r\n\r\n\r\n// `Object.setPrototypeOf` method\r\n// https://tc39.es/ecma262/#sec-object.setprototypeof\r\n// Works with __proto__ only. Old v8 can't work with null proto objects.\r\n// eslint-disable-next-line es/no-object-setprototypeof -- safe\r\n$b43955ec518fbd41$exports = Object.setPrototypeOf || ('__proto__' in {\r\n} ? (function() {\r\n    var CORRECT_SETTER = false;\r\n    var test = {\r\n    };\r\n    var setter;\r\n    try {\r\n        // eslint-disable-next-line es/no-object-getownpropertydescriptor -- safe\r\n        setter = $0e047cd7e4bd2a61$exports(Object.getOwnPropertyDescriptor(Object.prototype, '__proto__').set);\r\n        setter(test, []);\r\n        CORRECT_SETTER = test instanceof Array;\r\n    } catch (error) {\r\n    }\r\n    return function setPrototypeOf(O, proto) {\r\n        $8cde29e156f67727$exports(O);\r\n        $2881e2b1ec2e0a9f$exports(proto);\r\n        if (CORRECT_SETTER) setter(O, proto);\r\n        else O.__proto__ = proto;\r\n        return O;\r\n    };\r\n})() : undefined);\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nvar $ab7a19d4a83b9c08$var$PROPER_FUNCTION_NAME = $1b2726027345f4eb$exports.PROPER;\r\nvar $ab7a19d4a83b9c08$var$CONFIGURABLE_FUNCTION_NAME = $1b2726027345f4eb$exports.CONFIGURABLE;\r\nvar $ab7a19d4a83b9c08$var$IteratorPrototype = $46cc82908d6c8032$exports.IteratorPrototype;\r\nvar $ab7a19d4a83b9c08$var$BUGGY_SAFARI_ITERATORS = $46cc82908d6c8032$exports.BUGGY_SAFARI_ITERATORS;\r\nvar $ab7a19d4a83b9c08$var$ITERATOR = $3e9517d770b151f3$exports('iterator');\r\nvar $ab7a19d4a83b9c08$var$KEYS = 'keys';\r\nvar $ab7a19d4a83b9c08$var$VALUES = 'values';\r\nvar $ab7a19d4a83b9c08$var$ENTRIES = 'entries';\r\nvar $ab7a19d4a83b9c08$var$returnThis = function() {\r\n    return this;\r\n};\r\n$ab7a19d4a83b9c08$exports = function(Iterable, NAME, IteratorConstructor, next, DEFAULT, IS_SET, FORCED) {\r\n    $b3515a62650194d5$exports(IteratorConstructor, NAME, next);\r\n    var getIterationMethod = function(KIND) {\r\n        if (KIND === DEFAULT && defaultIterator) return defaultIterator;\r\n        if (!$ab7a19d4a83b9c08$var$BUGGY_SAFARI_ITERATORS && KIND in IterablePrototype) return IterablePrototype[KIND];\r\n        switch(KIND){\r\n            case $ab7a19d4a83b9c08$var$KEYS:\r\n                return function keys() {\r\n                    return new IteratorConstructor(this, KIND);\r\n                };\r\n            case $ab7a19d4a83b9c08$var$VALUES:\r\n                return function values() {\r\n                    return new IteratorConstructor(this, KIND);\r\n                };\r\n            case $ab7a19d4a83b9c08$var$ENTRIES:\r\n                return function entries() {\r\n                    return new IteratorConstructor(this, KIND);\r\n                };\r\n        }\r\n        return function() {\r\n            return new IteratorConstructor(this);\r\n        };\r\n    };\r\n    var TO_STRING_TAG = NAME + ' Iterator';\r\n    var INCORRECT_VALUES_NAME = false;\r\n    var IterablePrototype = Iterable.prototype;\r\n    var nativeIterator = IterablePrototype[$ab7a19d4a83b9c08$var$ITERATOR] || IterablePrototype['@@iterator'] || DEFAULT && IterablePrototype[DEFAULT];\r\n    var defaultIterator = !$ab7a19d4a83b9c08$var$BUGGY_SAFARI_ITERATORS && nativeIterator || getIterationMethod(DEFAULT);\r\n    var anyNativeIterator = NAME == 'Array' ? IterablePrototype.entries || nativeIterator : nativeIterator;\r\n    var CurrentIteratorPrototype, methods, KEY;\r\n    // fix native\r\n    if (anyNativeIterator) {\r\n        CurrentIteratorPrototype = $f17f9036e72a9934$exports(anyNativeIterator.call(new Iterable()));\r\n        if (CurrentIteratorPrototype !== Object.prototype && CurrentIteratorPrototype.next) {\r\n            if (!$0a617e53de17f0cf$exports && $f17f9036e72a9934$exports(CurrentIteratorPrototype) !== $ab7a19d4a83b9c08$var$IteratorPrototype) {\r\n                if ($b43955ec518fbd41$exports) $b43955ec518fbd41$exports(CurrentIteratorPrototype, $ab7a19d4a83b9c08$var$IteratorPrototype);\r\n                else if (!$fcbda71016cee9bb$exports(CurrentIteratorPrototype[$ab7a19d4a83b9c08$var$ITERATOR])) $a8719ecb9393e08b$exports(CurrentIteratorPrototype, $ab7a19d4a83b9c08$var$ITERATOR, $ab7a19d4a83b9c08$var$returnThis);\r\n            }\r\n            // Set @@toStringTag to native iterators\r\n            $78b33d3572646828$exports(CurrentIteratorPrototype, TO_STRING_TAG, true, true);\r\n            if ($0a617e53de17f0cf$exports) $4807385c6bcbbcab$exports[TO_STRING_TAG] = $ab7a19d4a83b9c08$var$returnThis;\r\n        }\r\n    }\r\n    // fix Array.prototype.{ values, @@iterator }.name in V8 / FF\r\n    if ($ab7a19d4a83b9c08$var$PROPER_FUNCTION_NAME && DEFAULT == $ab7a19d4a83b9c08$var$VALUES && nativeIterator && nativeIterator.name !== $ab7a19d4a83b9c08$var$VALUES) {\r\n        if (!$0a617e53de17f0cf$exports && $ab7a19d4a83b9c08$var$CONFIGURABLE_FUNCTION_NAME) $55c1099db5c9e6a0$exports(IterablePrototype, 'name', $ab7a19d4a83b9c08$var$VALUES);\r\n        else {\r\n            INCORRECT_VALUES_NAME = true;\r\n            defaultIterator = function values() {\r\n                return $541d4c9e93c87577$exports(nativeIterator, this);\r\n            };\r\n        }\r\n    }\r\n    // export additional methods\r\n    if (DEFAULT) {\r\n        methods = {\r\n            values: getIterationMethod($ab7a19d4a83b9c08$var$VALUES),\r\n            keys: IS_SET ? defaultIterator : getIterationMethod($ab7a19d4a83b9c08$var$KEYS),\r\n            entries: getIterationMethod($ab7a19d4a83b9c08$var$ENTRIES)\r\n        };\r\n        if (FORCED) {\r\n            for(KEY in methods)if ($ab7a19d4a83b9c08$var$BUGGY_SAFARI_ITERATORS || INCORRECT_VALUES_NAME || !(KEY in IterablePrototype)) $a8719ecb9393e08b$exports(IterablePrototype, KEY, methods[KEY]);\r\n        } else $af460506ee59fa9e$exports({\r\n            target: NAME,\r\n            proto: true,\r\n            forced: $ab7a19d4a83b9c08$var$BUGGY_SAFARI_ITERATORS || INCORRECT_VALUES_NAME\r\n        }, methods);\r\n    }\r\n    // define iterator\r\n    if ((!$0a617e53de17f0cf$exports || FORCED) && IterablePrototype[$ab7a19d4a83b9c08$var$ITERATOR] !== defaultIterator) $a8719ecb9393e08b$exports(IterablePrototype, $ab7a19d4a83b9c08$var$ITERATOR, defaultIterator, {\r\n        name: DEFAULT\r\n    });\r\n    $4807385c6bcbbcab$exports[NAME] = defaultIterator;\r\n    return methods;\r\n};\r\n\r\n\r\n\r\n\r\nvar $19dfc4060129c05d$var$ARRAY_ITERATOR = 'Array Iterator';\r\nvar $19dfc4060129c05d$var$setInternalState = $ea7e65ba02245cf9$exports.set;\r\nvar $19dfc4060129c05d$var$getInternalState = $ea7e65ba02245cf9$exports.getterFor($19dfc4060129c05d$var$ARRAY_ITERATOR);\r\n// `Array.prototype.entries` method\r\n// https://tc39.es/ecma262/#sec-array.prototype.entries\r\n// `Array.prototype.keys` method\r\n// https://tc39.es/ecma262/#sec-array.prototype.keys\r\n// `Array.prototype.values` method\r\n// https://tc39.es/ecma262/#sec-array.prototype.values\r\n// `Array.prototype[@@iterator]` method\r\n// https://tc39.es/ecma262/#sec-array.prototype-@@iterator\r\n// `CreateArrayIterator` internal method\r\n// https://tc39.es/ecma262/#sec-createarrayiterator\r\n$19dfc4060129c05d$exports = $ab7a19d4a83b9c08$exports(Array, 'Array', function(iterated, kind) {\r\n    $19dfc4060129c05d$var$setInternalState(this, {\r\n        type: $19dfc4060129c05d$var$ARRAY_ITERATOR,\r\n        target: $97ec2e5c7182541a$exports(iterated),\r\n        index: 0,\r\n        kind: kind // kind\r\n    });\r\n// `%ArrayIteratorPrototype%.next` method\r\n// https://tc39.es/ecma262/#sec-%arrayiteratorprototype%.next\r\n}, function() {\r\n    var state = $19dfc4060129c05d$var$getInternalState(this);\r\n    var target = state.target;\r\n    var kind = state.kind;\r\n    var index = state.index++;\r\n    if (!target || index >= target.length) {\r\n        state.target = undefined;\r\n        return {\r\n            value: undefined,\r\n            done: true\r\n        };\r\n    }\r\n    if (kind == 'keys') return {\r\n        value: index,\r\n        done: false\r\n    };\r\n    if (kind == 'values') return {\r\n        value: target[index],\r\n        done: false\r\n    };\r\n    return {\r\n        value: [\r\n            index,\r\n            target[index]\r\n        ],\r\n        done: false\r\n    };\r\n}, 'values');\r\n// argumentsList[@@iterator] is %ArrayProto_values%\r\n// https://tc39.es/ecma262/#sec-createunmappedargumentsobject\r\n// https://tc39.es/ecma262/#sec-createmappedargumentsobject\r\nvar $19dfc4060129c05d$var$values = $4807385c6bcbbcab$exports.Arguments = $4807385c6bcbbcab$exports.Array;\r\n// https://tc39.es/ecma262/#sec-array.prototype-@@unscopables\r\n$b6aa2c4ec4d930d5$exports('keys');\r\n$b6aa2c4ec4d930d5$exports('values');\r\n$b6aa2c4ec4d930d5$exports('entries');\r\n// V8 ~ Chrome 45- bug\r\nif (!$0a617e53de17f0cf$exports && $b2de12f63ee8e8eb$exports && $19dfc4060129c05d$var$values.name !== 'values') try {\r\n    $19dfc4060129c05d$require$defineProperty($19dfc4060129c05d$var$values, 'name', {\r\n        value: 'values'\r\n    });\r\n} catch (error) {\r\n}\r\n\r\n\r\nvar $825f807a817c9a20$exports = {};\r\n\r\nvar $825f807a817c9a20$var$TO_STRING_TAG = $3e9517d770b151f3$exports('toStringTag');\r\nvar $825f807a817c9a20$var$test = {\r\n};\r\n$825f807a817c9a20$var$test[$825f807a817c9a20$var$TO_STRING_TAG] = 'z';\r\n$825f807a817c9a20$exports = String($825f807a817c9a20$var$test) === '[object z]';\r\n\r\n\r\n\r\nvar $d70f2fa92132ae9b$exports = {};\r\n'use strict';\r\n\r\nvar $dd8b053bbc200b54$exports = {};\r\n\r\n\r\n\r\n\r\n\r\nvar $dd8b053bbc200b54$var$TO_STRING_TAG = $3e9517d770b151f3$exports('toStringTag');\r\nvar $dd8b053bbc200b54$var$Object = $f333edce04dc84d2$exports.Object;\r\n// ES3 wrong here\r\nvar $dd8b053bbc200b54$var$CORRECT_ARGUMENTS = $5f5cecfe0210d5fc$exports(function() {\r\n    return arguments;\r\n}()) == 'Arguments';\r\n// fallback for IE11 Script Access Denied error\r\nvar $dd8b053bbc200b54$var$tryGet = function(it, key) {\r\n    try {\r\n        return it[key];\r\n    } catch (error) {\r\n    }\r\n};\r\n// getting tag from ES6+ `Object.prototype.toString`\r\n$dd8b053bbc200b54$exports = $825f807a817c9a20$exports ? $5f5cecfe0210d5fc$exports : function(it) {\r\n    var O, tag, result;\r\n    return it === undefined ? 'Undefined' : it === null ? 'Null' : typeof (tag = $dd8b053bbc200b54$var$tryGet(O = $dd8b053bbc200b54$var$Object(it), $dd8b053bbc200b54$var$TO_STRING_TAG)) == 'string' ? tag : $dd8b053bbc200b54$var$CORRECT_ARGUMENTS ? $5f5cecfe0210d5fc$exports(O) : (result = $5f5cecfe0210d5fc$exports(O)) == 'Object' && $fcbda71016cee9bb$exports(O.callee) ? 'Arguments' : result;\r\n};\r\n\r\n\r\n// `Object.prototype.toString` method implementation\r\n// https://tc39.es/ecma262/#sec-object.prototype.tostring\r\n$d70f2fa92132ae9b$exports = $825f807a817c9a20$exports ? ({\r\n}).toString : function toString() {\r\n    return '[object ' + $dd8b053bbc200b54$exports(this) + ']';\r\n};\r\n\r\n\r\n// `Object.prototype.toString` method\r\n// https://tc39.es/ecma262/#sec-object.prototype.tostring\r\nif (!$825f807a817c9a20$exports) $a8719ecb9393e08b$exports(Object.prototype, 'toString', $d70f2fa92132ae9b$exports, {\r\n    unsafe: true\r\n});\r\n\r\n\r\n'use strict';\r\n\r\n\r\n\r\n\r\n\r\nvar $85dfb1a850120f2f$exports = {};\r\n\r\n$85dfb1a850120f2f$exports = $f333edce04dc84d2$exports.Promise;\r\n\r\n\r\n\r\nvar $8b266b64a252ca00$exports = {};\r\n\r\n$8b266b64a252ca00$exports = function(target, src, options) {\r\n    for(var key in src)$a8719ecb9393e08b$exports(target, key, src[key], options);\r\n    return target;\r\n};\r\n\r\n\r\n\r\n\r\nvar $4bea57d3e3b6d7e9$exports = {};\r\n'use strict';\r\n\r\n\r\n\r\n\r\nvar $4bea57d3e3b6d7e9$var$SPECIES = $3e9517d770b151f3$exports('species');\r\n$4bea57d3e3b6d7e9$exports = function(CONSTRUCTOR_NAME) {\r\n    var Constructor = $f4dfad6b8aca7fc7$exports(CONSTRUCTOR_NAME);\r\n    var defineProperty = $1fe1833a1cb14f9b$export$2d1720544b23b823;\r\n    if ($b2de12f63ee8e8eb$exports && Constructor && !Constructor[$4bea57d3e3b6d7e9$var$SPECIES]) defineProperty(Constructor, $4bea57d3e3b6d7e9$var$SPECIES, {\r\n        configurable: true,\r\n        get: function() {\r\n            return this;\r\n        }\r\n    });\r\n};\r\n\r\n\r\n\r\n\r\n\r\nvar $53d5317711b7b807$exports = {};\r\n\r\n\r\nvar $53d5317711b7b807$var$TypeError = $f333edce04dc84d2$exports.TypeError;\r\n$53d5317711b7b807$exports = function(it, Prototype) {\r\n    if ($b5a2a9c765693536$exports(Prototype, it)) return it;\r\n    throw $53d5317711b7b807$var$TypeError('Incorrect invocation');\r\n};\r\n\r\n\r\n\r\nvar $4d171c5aa8e88bbc$exports = {};\r\n\r\nvar $3b52cbe6777e8e42$exports = {};\r\n\r\n\r\nvar $3b52cbe6777e8e42$var$bind = $0e047cd7e4bd2a61$exports($0e047cd7e4bd2a61$exports.bind);\r\n// optional / simple context binding\r\n$3b52cbe6777e8e42$exports = function(fn, that) {\r\n    $c2aed39e690846d2$exports(fn);\r\n    return that === undefined ? fn : $3b52cbe6777e8e42$var$bind ? $3b52cbe6777e8e42$var$bind(fn, that) : function() {\r\n        return fn.apply(that, arguments);\r\n    };\r\n};\r\n\r\n\r\n\r\n\r\n\r\nvar $98a154d4af8cf138$exports = {};\r\n\r\n\r\nvar $98a154d4af8cf138$var$ITERATOR = $3e9517d770b151f3$exports('iterator');\r\nvar $98a154d4af8cf138$var$ArrayPrototype = Array.prototype;\r\n// check on default Array iterator\r\n$98a154d4af8cf138$exports = function(it) {\r\n    return it !== undefined && ($4807385c6bcbbcab$exports.Array === it || $98a154d4af8cf138$var$ArrayPrototype[$98a154d4af8cf138$var$ITERATOR] === it);\r\n};\r\n\r\n\r\n\r\n\r\nvar $451219649e070f17$exports = {};\r\n\r\n\r\n\r\n\r\n\r\nvar $c4ebf4f531053c94$exports = {};\r\n\r\n\r\n\r\n\r\nvar $c4ebf4f531053c94$var$ITERATOR = $3e9517d770b151f3$exports('iterator');\r\n$c4ebf4f531053c94$exports = function(it) {\r\n    if (it != undefined) return $bcadeac5df64398e$exports(it, $c4ebf4f531053c94$var$ITERATOR) || $bcadeac5df64398e$exports(it, '@@iterator') || $4807385c6bcbbcab$exports[$dd8b053bbc200b54$exports(it)];\r\n};\r\n\r\n\r\nvar $451219649e070f17$var$TypeError = $f333edce04dc84d2$exports.TypeError;\r\n$451219649e070f17$exports = function(argument, usingIterator) {\r\n    var iteratorMethod = arguments.length < 2 ? $c4ebf4f531053c94$exports(argument) : usingIterator;\r\n    if ($c2aed39e690846d2$exports(iteratorMethod)) return $8cde29e156f67727$exports($541d4c9e93c87577$exports(iteratorMethod, argument));\r\n    throw $451219649e070f17$var$TypeError($7f50243e65ef1e57$exports(argument) + ' is not iterable');\r\n};\r\n\r\n\r\n\r\nvar $a6d15f5d91fe9b0b$exports = {};\r\n\r\n\r\n\r\n$a6d15f5d91fe9b0b$exports = function(iterator, kind, value) {\r\n    var innerResult, innerError;\r\n    $8cde29e156f67727$exports(iterator);\r\n    try {\r\n        innerResult = $bcadeac5df64398e$exports(iterator, 'return');\r\n        if (!innerResult) {\r\n            if (kind === 'throw') throw value;\r\n            return value;\r\n        }\r\n        innerResult = $541d4c9e93c87577$exports(innerResult, iterator);\r\n    } catch (error) {\r\n        innerError = true;\r\n        innerResult = error;\r\n    }\r\n    if (kind === 'throw') throw value;\r\n    if (innerError) throw innerResult;\r\n    $8cde29e156f67727$exports(innerResult);\r\n    return value;\r\n};\r\n\r\n\r\nvar $4d171c5aa8e88bbc$var$TypeError = $f333edce04dc84d2$exports.TypeError;\r\nvar $4d171c5aa8e88bbc$var$Result = function(stopped, result) {\r\n    this.stopped = stopped;\r\n    this.result = result;\r\n};\r\nvar $4d171c5aa8e88bbc$var$ResultPrototype = $4d171c5aa8e88bbc$var$Result.prototype;\r\n$4d171c5aa8e88bbc$exports = function(iterable, unboundFunction, options) {\r\n    var that = options && options.that;\r\n    var AS_ENTRIES = !!(options && options.AS_ENTRIES);\r\n    var IS_ITERATOR = !!(options && options.IS_ITERATOR);\r\n    var INTERRUPTED = !!(options && options.INTERRUPTED);\r\n    var fn = $3b52cbe6777e8e42$exports(unboundFunction, that);\r\n    var iterator, iterFn, index, length, result, next, step;\r\n    var stop = function(condition) {\r\n        if (iterator) $a6d15f5d91fe9b0b$exports(iterator, 'normal', condition);\r\n        return new $4d171c5aa8e88bbc$var$Result(true, condition);\r\n    };\r\n    var callFn = function(value) {\r\n        if (AS_ENTRIES) {\r\n            $8cde29e156f67727$exports(value);\r\n            return INTERRUPTED ? fn(value[0], value[1], stop) : fn(value[0], value[1]);\r\n        }\r\n        return INTERRUPTED ? fn(value, stop) : fn(value);\r\n    };\r\n    if (IS_ITERATOR) iterator = iterable;\r\n    else {\r\n        iterFn = $c4ebf4f531053c94$exports(iterable);\r\n        if (!iterFn) throw $4d171c5aa8e88bbc$var$TypeError($7f50243e65ef1e57$exports(iterable) + ' is not iterable');\r\n        // optimisation for array iterators\r\n        if ($98a154d4af8cf138$exports(iterFn)) {\r\n            for(index = 0, length = $0bac94b09229c49e$exports(iterable); length > index; index++){\r\n                result = callFn(iterable[index]);\r\n                if (result && $b5a2a9c765693536$exports($4d171c5aa8e88bbc$var$ResultPrototype, result)) return result;\r\n            }\r\n            return new $4d171c5aa8e88bbc$var$Result(false);\r\n        }\r\n        iterator = $451219649e070f17$exports(iterable, iterFn);\r\n    }\r\n    next = iterator.next;\r\n    while(!(step = $541d4c9e93c87577$exports(next, iterator)).done){\r\n        try {\r\n            result = callFn(step.value);\r\n        } catch (error) {\r\n            $a6d15f5d91fe9b0b$exports(iterator, 'throw', error);\r\n        }\r\n        if (typeof result == 'object' && result && $b5a2a9c765693536$exports($4d171c5aa8e88bbc$var$ResultPrototype, result)) return result;\r\n    }\r\n    return new $4d171c5aa8e88bbc$var$Result(false);\r\n};\r\n\r\n\r\nvar $1078680048fab23f$exports = {};\r\n\r\nvar $1078680048fab23f$var$ITERATOR = $3e9517d770b151f3$exports('iterator');\r\nvar $1078680048fab23f$var$SAFE_CLOSING = false;\r\ntry {\r\n    var $1078680048fab23f$var$called = 0;\r\n    var $1078680048fab23f$var$iteratorWithReturn = {\r\n        next: function() {\r\n            return {\r\n                done: !!$1078680048fab23f$var$called++\r\n            };\r\n        },\r\n        'return': function() {\r\n            $1078680048fab23f$var$SAFE_CLOSING = true;\r\n        }\r\n    };\r\n    $1078680048fab23f$var$iteratorWithReturn[$1078680048fab23f$var$ITERATOR] = function() {\r\n        return this;\r\n    };\r\n    // eslint-disable-next-line es/no-array-from, no-throw-literal -- required for testing\r\n    Array.from($1078680048fab23f$var$iteratorWithReturn, function() {\r\n        throw 2;\r\n    });\r\n} catch (error) {\r\n}\r\n$1078680048fab23f$exports = function(exec, SKIP_CLOSING) {\r\n    if (!SKIP_CLOSING && !$1078680048fab23f$var$SAFE_CLOSING) return false;\r\n    var ITERATION_SUPPORT = false;\r\n    try {\r\n        var object = {\r\n        };\r\n        object[$1078680048fab23f$var$ITERATOR] = function() {\r\n            return {\r\n                next: function() {\r\n                    return {\r\n                        done: ITERATION_SUPPORT = true\r\n                    };\r\n                }\r\n            };\r\n        };\r\n        exec(object);\r\n    } catch (error) {\r\n    }\r\n    return ITERATION_SUPPORT;\r\n};\r\n\r\n\r\nvar $43c04f4d8bd60d85$exports = {};\r\n\r\nvar $f1962c63c936774b$exports = {};\r\n\r\nvar $05d09bbad06d596e$exports = {};\r\n\r\n\r\n\r\n\r\n\r\n\r\nvar $05d09bbad06d596e$var$noop = function() {\r\n};\r\nvar $05d09bbad06d596e$var$empty = [];\r\nvar $05d09bbad06d596e$var$construct = $f4dfad6b8aca7fc7$exports('Reflect', 'construct');\r\nvar $05d09bbad06d596e$var$constructorRegExp = /^\\s*(?:class|function)\\b/;\r\nvar $05d09bbad06d596e$var$exec = $0e047cd7e4bd2a61$exports($05d09bbad06d596e$var$constructorRegExp.exec);\r\nvar $05d09bbad06d596e$var$INCORRECT_TO_STRING = !$05d09bbad06d596e$var$constructorRegExp.exec($05d09bbad06d596e$var$noop);\r\nvar $05d09bbad06d596e$var$isConstructorModern = function isConstructor(argument) {\r\n    if (!$fcbda71016cee9bb$exports(argument)) return false;\r\n    try {\r\n        $05d09bbad06d596e$var$construct($05d09bbad06d596e$var$noop, $05d09bbad06d596e$var$empty, argument);\r\n        return true;\r\n    } catch (error) {\r\n        return false;\r\n    }\r\n};\r\nvar $05d09bbad06d596e$var$isConstructorLegacy = function isConstructor(argument) {\r\n    if (!$fcbda71016cee9bb$exports(argument)) return false;\r\n    switch($dd8b053bbc200b54$exports(argument)){\r\n        case 'AsyncFunction':\r\n        case 'GeneratorFunction':\r\n        case 'AsyncGeneratorFunction':\r\n            return false;\r\n    }\r\n    try {\r\n        // we can't check .prototype since constructors produced by .bind haven't it\r\n        // `Function#toString` throws on some built-it function in some legacy engines\r\n        // (for example, `DOMQuad` and similar in FF41-)\r\n        return $05d09bbad06d596e$var$INCORRECT_TO_STRING || !!$05d09bbad06d596e$var$exec($05d09bbad06d596e$var$constructorRegExp, $5b63997c7c97e8d6$exports(argument));\r\n    } catch (error) {\r\n        return true;\r\n    }\r\n};\r\n$05d09bbad06d596e$var$isConstructorLegacy.sham = true;\r\n// `IsConstructor` abstract operation\r\n// https://tc39.es/ecma262/#sec-isconstructor\r\n$05d09bbad06d596e$exports = !$05d09bbad06d596e$var$construct || $639365070cb811ed$exports(function() {\r\n    var called;\r\n    return $05d09bbad06d596e$var$isConstructorModern($05d09bbad06d596e$var$isConstructorModern.call) || !$05d09bbad06d596e$var$isConstructorModern(Object) || !$05d09bbad06d596e$var$isConstructorModern(function() {\r\n        called = true;\r\n    }) || called;\r\n}) ? $05d09bbad06d596e$var$isConstructorLegacy : $05d09bbad06d596e$var$isConstructorModern;\r\n\r\n\r\n\r\nvar $f1962c63c936774b$var$TypeError = $f333edce04dc84d2$exports.TypeError;\r\n// `Assert: IsConstructor(argument) is true`\r\n$f1962c63c936774b$exports = function(argument) {\r\n    if ($05d09bbad06d596e$exports(argument)) return argument;\r\n    throw $f1962c63c936774b$var$TypeError($7f50243e65ef1e57$exports(argument) + ' is not a constructor');\r\n};\r\n\r\n\r\n\r\nvar $43c04f4d8bd60d85$var$SPECIES = $3e9517d770b151f3$exports('species');\r\n// `SpeciesConstructor` abstract operation\r\n// https://tc39.es/ecma262/#sec-speciesconstructor\r\n$43c04f4d8bd60d85$exports = function(O, defaultConstructor) {\r\n    var C = $8cde29e156f67727$exports(O).constructor;\r\n    var S;\r\n    return C === undefined || (S = $8cde29e156f67727$exports(C)[$43c04f4d8bd60d85$var$SPECIES]) == undefined ? defaultConstructor : $f1962c63c936774b$exports(S);\r\n};\r\n\r\n\r\nvar $36b486d0e5241b2c$exports = {};\r\n\r\nvar $50db109213d498ba$exports = {};\r\nvar $50db109213d498ba$var$FunctionPrototype = Function.prototype;\r\nvar $50db109213d498ba$var$apply = $50db109213d498ba$var$FunctionPrototype.apply;\r\nvar $50db109213d498ba$var$bind = $50db109213d498ba$var$FunctionPrototype.bind;\r\nvar $50db109213d498ba$var$call = $50db109213d498ba$var$FunctionPrototype.call;\r\n// eslint-disable-next-line es/no-reflect -- safe\r\n$50db109213d498ba$exports = typeof Reflect == 'object' && Reflect.apply || ($50db109213d498ba$var$bind ? $50db109213d498ba$var$call.bind($50db109213d498ba$var$apply) : function() {\r\n    return $50db109213d498ba$var$call.apply($50db109213d498ba$var$apply, arguments);\r\n});\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nvar $9b44c639348be14c$exports = {};\r\n\r\n$9b44c639348be14c$exports = $0e047cd7e4bd2a61$exports([].slice);\r\n\r\n\r\n\r\nvar $0c54dcdcb2c0f1e8$exports = {};\r\n\r\n$0c54dcdcb2c0f1e8$exports = /(?:ipad|iphone|ipod).*applewebkit/i.test($aa75c90eb2c8cdd8$exports);\r\n\r\n\r\nvar $05f84e7a0e886990$exports = {};\r\n\r\n\r\n$05f84e7a0e886990$exports = $5f5cecfe0210d5fc$exports($f333edce04dc84d2$exports.process) == 'process';\r\n\r\n\r\nvar $36b486d0e5241b2c$var$set = $f333edce04dc84d2$exports.setImmediate;\r\nvar $36b486d0e5241b2c$var$clear = $f333edce04dc84d2$exports.clearImmediate;\r\nvar $36b486d0e5241b2c$var$process = $f333edce04dc84d2$exports.process;\r\nvar $36b486d0e5241b2c$var$Dispatch = $f333edce04dc84d2$exports.Dispatch;\r\nvar $36b486d0e5241b2c$var$Function = $f333edce04dc84d2$exports.Function;\r\nvar $36b486d0e5241b2c$var$MessageChannel = $f333edce04dc84d2$exports.MessageChannel;\r\nvar $36b486d0e5241b2c$var$String = $f333edce04dc84d2$exports.String;\r\nvar $36b486d0e5241b2c$var$counter = 0;\r\nvar $36b486d0e5241b2c$var$queue = {\r\n};\r\nvar $36b486d0e5241b2c$var$ONREADYSTATECHANGE = 'onreadystatechange';\r\nvar $36b486d0e5241b2c$var$location, $36b486d0e5241b2c$var$defer, $36b486d0e5241b2c$var$channel, $36b486d0e5241b2c$var$port;\r\ntry {\r\n    // Deno throws a ReferenceError on `location` access without `--location` flag\r\n    $36b486d0e5241b2c$var$location = $f333edce04dc84d2$exports.location;\r\n} catch (error) {\r\n}\r\nvar $36b486d0e5241b2c$var$run = function(id) {\r\n    if ($c98185f2a2200053$exports($36b486d0e5241b2c$var$queue, id)) {\r\n        var fn = $36b486d0e5241b2c$var$queue[id];\r\n        delete $36b486d0e5241b2c$var$queue[id];\r\n        fn();\r\n    }\r\n};\r\nvar $36b486d0e5241b2c$var$runner = function(id) {\r\n    return function() {\r\n        $36b486d0e5241b2c$var$run(id);\r\n    };\r\n};\r\nvar $36b486d0e5241b2c$var$listener = function(event) {\r\n    $36b486d0e5241b2c$var$run(event.data);\r\n};\r\nvar $36b486d0e5241b2c$var$post = function(id) {\r\n    // old engines have not location.origin\r\n    $f333edce04dc84d2$exports.postMessage($36b486d0e5241b2c$var$String(id), $36b486d0e5241b2c$var$location.protocol + '//' + $36b486d0e5241b2c$var$location.host);\r\n};\r\n// Node.js 0.9+ & IE10+ has setImmediate, otherwise:\r\nif (!$36b486d0e5241b2c$var$set || !$36b486d0e5241b2c$var$clear) {\r\n    $36b486d0e5241b2c$var$set = function setImmediate(fn) {\r\n        var args = $9b44c639348be14c$exports(arguments, 1);\r\n        $36b486d0e5241b2c$var$queue[++$36b486d0e5241b2c$var$counter] = function() {\r\n            $50db109213d498ba$exports($fcbda71016cee9bb$exports(fn) ? fn : $36b486d0e5241b2c$var$Function(fn), undefined, args);\r\n        };\r\n        $36b486d0e5241b2c$var$defer($36b486d0e5241b2c$var$counter);\r\n        return $36b486d0e5241b2c$var$counter;\r\n    };\r\n    $36b486d0e5241b2c$var$clear = function clearImmediate(id) {\r\n        delete $36b486d0e5241b2c$var$queue[id];\r\n    };\r\n    // Node.js 0.8-\r\n    if ($05f84e7a0e886990$exports) $36b486d0e5241b2c$var$defer = function(id) {\r\n        $36b486d0e5241b2c$var$process.nextTick($36b486d0e5241b2c$var$runner(id));\r\n    };\r\n    else if ($36b486d0e5241b2c$var$Dispatch && $36b486d0e5241b2c$var$Dispatch.now) $36b486d0e5241b2c$var$defer = function(id) {\r\n        $36b486d0e5241b2c$var$Dispatch.now($36b486d0e5241b2c$var$runner(id));\r\n    };\r\n    else if ($36b486d0e5241b2c$var$MessageChannel && !$0c54dcdcb2c0f1e8$exports) {\r\n        $36b486d0e5241b2c$var$channel = new $36b486d0e5241b2c$var$MessageChannel();\r\n        $36b486d0e5241b2c$var$port = $36b486d0e5241b2c$var$channel.port2;\r\n        $36b486d0e5241b2c$var$channel.port1.onmessage = $36b486d0e5241b2c$var$listener;\r\n        $36b486d0e5241b2c$var$defer = $3b52cbe6777e8e42$exports($36b486d0e5241b2c$var$port.postMessage, $36b486d0e5241b2c$var$port);\r\n    // Browsers with postMessage, skip WebWorkers\r\n    // IE8 has postMessage, but it's sync & typeof its postMessage is 'object'\r\n    } else if ($f333edce04dc84d2$exports.addEventListener && $fcbda71016cee9bb$exports($f333edce04dc84d2$exports.postMessage) && !$f333edce04dc84d2$exports.importScripts && $36b486d0e5241b2c$var$location && $36b486d0e5241b2c$var$location.protocol !== 'file:' && !$639365070cb811ed$exports($36b486d0e5241b2c$var$post)) {\r\n        $36b486d0e5241b2c$var$defer = $36b486d0e5241b2c$var$post;\r\n        $f333edce04dc84d2$exports.addEventListener('message', $36b486d0e5241b2c$var$listener, false);\r\n    // IE8-\r\n    } else if ($36b486d0e5241b2c$var$ONREADYSTATECHANGE in $0158366a26a6b285$exports('script')) $36b486d0e5241b2c$var$defer = function(id) {\r\n        $9d90cd2397026bfe$exports.appendChild($0158366a26a6b285$exports('script'))[$36b486d0e5241b2c$var$ONREADYSTATECHANGE] = function() {\r\n            $9d90cd2397026bfe$exports.removeChild(this);\r\n            $36b486d0e5241b2c$var$run(id);\r\n        };\r\n    };\r\n    else $36b486d0e5241b2c$var$defer = function(id) {\r\n        setTimeout($36b486d0e5241b2c$var$runner(id), 0);\r\n    };\r\n}\r\n$36b486d0e5241b2c$exports = {\r\n    set: $36b486d0e5241b2c$var$set,\r\n    clear: $36b486d0e5241b2c$var$clear\r\n};\r\n\r\n\r\nvar $c137f7ca258a8d03$require$task = $36b486d0e5241b2c$exports.set;\r\nvar $e7e2e92c5958175d$exports = {};\r\n\r\n\r\n\r\nvar $e7e2e92c5958175d$require$getOwnPropertyDescriptor = $a2eb34e3e735edaf$export$2d1720544b23b823;\r\n\r\nvar $e7e2e92c5958175d$require$macrotask = $36b486d0e5241b2c$exports.set;\r\n\r\nvar $091b027301632dc4$exports = {};\r\n\r\n\r\n$091b027301632dc4$exports = /ipad|iphone|ipod/i.test($aa75c90eb2c8cdd8$exports) && $f333edce04dc84d2$exports.Pebble !== undefined;\r\n\r\n\r\nvar $9e929de86611c49b$exports = {};\r\n\r\n$9e929de86611c49b$exports = /web0s(?!.*chrome)/i.test($aa75c90eb2c8cdd8$exports);\r\n\r\n\r\n\r\nvar $e7e2e92c5958175d$var$MutationObserver = $f333edce04dc84d2$exports.MutationObserver || $f333edce04dc84d2$exports.WebKitMutationObserver;\r\nvar $e7e2e92c5958175d$var$document = $f333edce04dc84d2$exports.document;\r\nvar $e7e2e92c5958175d$var$process = $f333edce04dc84d2$exports.process;\r\nvar $e7e2e92c5958175d$var$Promise = $f333edce04dc84d2$exports.Promise;\r\n// Node.js 11 shows ExperimentalWarning on getting `queueMicrotask`\r\nvar $e7e2e92c5958175d$var$queueMicrotaskDescriptor = $e7e2e92c5958175d$require$getOwnPropertyDescriptor($f333edce04dc84d2$exports, 'queueMicrotask');\r\nvar $e7e2e92c5958175d$var$queueMicrotask = $e7e2e92c5958175d$var$queueMicrotaskDescriptor && $e7e2e92c5958175d$var$queueMicrotaskDescriptor.value;\r\nvar $e7e2e92c5958175d$var$flush, $e7e2e92c5958175d$var$head, $e7e2e92c5958175d$var$last, $e7e2e92c5958175d$var$notify, $e7e2e92c5958175d$var$toggle, $e7e2e92c5958175d$var$node, $e7e2e92c5958175d$var$promise, $e7e2e92c5958175d$var$then;\r\n// modern engines have queueMicrotask method\r\nif (!$e7e2e92c5958175d$var$queueMicrotask) {\r\n    $e7e2e92c5958175d$var$flush = function() {\r\n        var parent, fn;\r\n        if ($05f84e7a0e886990$exports && (parent = $e7e2e92c5958175d$var$process.domain)) parent.exit();\r\n        while($e7e2e92c5958175d$var$head){\r\n            fn = $e7e2e92c5958175d$var$head.fn;\r\n            $e7e2e92c5958175d$var$head = $e7e2e92c5958175d$var$head.next;\r\n            try {\r\n                fn();\r\n            } catch (error) {\r\n                if ($e7e2e92c5958175d$var$head) $e7e2e92c5958175d$var$notify();\r\n                else $e7e2e92c5958175d$var$last = undefined;\r\n                throw error;\r\n            }\r\n        }\r\n        $e7e2e92c5958175d$var$last = undefined;\r\n        if (parent) parent.enter();\r\n    };\r\n    // browsers with MutationObserver, except iOS - https://github.com/zloirock/core-js/issues/339\r\n    // also except WebOS Webkit https://github.com/zloirock/core-js/issues/898\r\n    if (!$0c54dcdcb2c0f1e8$exports && !$05f84e7a0e886990$exports && !$9e929de86611c49b$exports && $e7e2e92c5958175d$var$MutationObserver && $e7e2e92c5958175d$var$document) {\r\n        $e7e2e92c5958175d$var$toggle = true;\r\n        $e7e2e92c5958175d$var$node = $e7e2e92c5958175d$var$document.createTextNode('');\r\n        new $e7e2e92c5958175d$var$MutationObserver($e7e2e92c5958175d$var$flush).observe($e7e2e92c5958175d$var$node, {\r\n            characterData: true\r\n        });\r\n        $e7e2e92c5958175d$var$notify = function() {\r\n            $e7e2e92c5958175d$var$node.data = $e7e2e92c5958175d$var$toggle = !$e7e2e92c5958175d$var$toggle;\r\n        };\r\n    // environments with maybe non-completely correct, but existent Promise\r\n    } else if (!$091b027301632dc4$exports && $e7e2e92c5958175d$var$Promise && $e7e2e92c5958175d$var$Promise.resolve) {\r\n        // Promise.resolve without an argument throws an error in LG WebOS 2\r\n        $e7e2e92c5958175d$var$promise = $e7e2e92c5958175d$var$Promise.resolve(undefined);\r\n        // workaround of WebKit ~ iOS Safari 10.1 bug\r\n        $e7e2e92c5958175d$var$promise.constructor = $e7e2e92c5958175d$var$Promise;\r\n        $e7e2e92c5958175d$var$then = $3b52cbe6777e8e42$exports($e7e2e92c5958175d$var$promise.then, $e7e2e92c5958175d$var$promise);\r\n        $e7e2e92c5958175d$var$notify = function() {\r\n            $e7e2e92c5958175d$var$then($e7e2e92c5958175d$var$flush);\r\n        };\r\n    // Node.js without promises\r\n    } else if ($05f84e7a0e886990$exports) $e7e2e92c5958175d$var$notify = function() {\r\n        $e7e2e92c5958175d$var$process.nextTick($e7e2e92c5958175d$var$flush);\r\n    };\r\n    else {\r\n        // strange IE + webpack dev server bug - use .bind(global)\r\n        $e7e2e92c5958175d$require$macrotask = $3b52cbe6777e8e42$exports($e7e2e92c5958175d$require$macrotask, $f333edce04dc84d2$exports);\r\n        $e7e2e92c5958175d$var$notify = function() {\r\n            $e7e2e92c5958175d$require$macrotask($e7e2e92c5958175d$var$flush);\r\n        };\r\n    }\r\n}\r\n$e7e2e92c5958175d$exports = $e7e2e92c5958175d$var$queueMicrotask || function(fn) {\r\n    var task = {\r\n        fn: fn,\r\n        next: undefined\r\n    };\r\n    if ($e7e2e92c5958175d$var$last) $e7e2e92c5958175d$var$last.next = task;\r\n    if (!$e7e2e92c5958175d$var$head) {\r\n        $e7e2e92c5958175d$var$head = task;\r\n        $e7e2e92c5958175d$var$notify();\r\n    }\r\n    $e7e2e92c5958175d$var$last = task;\r\n};\r\n\r\n\r\nvar $a9a1537b2ab64544$exports = {};\r\n\r\n\r\n// `NewPromiseCapability` abstract operation\r\n// https://tc39.es/ecma262/#sec-newpromisecapability\r\nvar $a2a7a87741ab16d8$export$2d1720544b23b823;\r\n'use strict';\r\n\r\nvar $a2a7a87741ab16d8$var$PromiseCapability = function(C) {\r\n    var resolve, reject;\r\n    this.promise = new C(function($$resolve, $$reject) {\r\n        if (resolve !== undefined || reject !== undefined) throw TypeError('Bad Promise constructor');\r\n        resolve = $$resolve;\r\n        reject = $$reject;\r\n    });\r\n    this.resolve = $c2aed39e690846d2$exports(resolve);\r\n    this.reject = $c2aed39e690846d2$exports(reject);\r\n};\r\n$a2a7a87741ab16d8$export$2d1720544b23b823 = function(C) {\r\n    return new $a2a7a87741ab16d8$var$PromiseCapability(C);\r\n};\r\n\r\n\r\n$a9a1537b2ab64544$exports = function(C, x) {\r\n    $8cde29e156f67727$exports(C);\r\n    if ($03cf12799242f409$exports(x) && x.constructor === C) return x;\r\n    var promiseCapability = $a2a7a87741ab16d8$export$2d1720544b23b823(C);\r\n    var resolve = promiseCapability.resolve;\r\n    resolve(x);\r\n    return promiseCapability.promise;\r\n};\r\n\r\n\r\nvar $a58c9e1aced3ad5a$exports = {};\r\n\r\n$a58c9e1aced3ad5a$exports = function(a, b) {\r\n    var console = $f333edce04dc84d2$exports.console;\r\n    if (console && console.error) arguments.length == 1 ? console.error(a) : console.error(a, b);\r\n};\r\n\r\n\r\n\r\nvar $222a12d7e40231b3$exports = {};\r\n$222a12d7e40231b3$exports = function(exec) {\r\n    try {\r\n        return {\r\n            error: false,\r\n            value: exec()\r\n        };\r\n    } catch (error) {\r\n        return {\r\n            error: true,\r\n            value: error\r\n        };\r\n    }\r\n};\r\n\r\n\r\n\r\n\r\n\r\nvar $af948342d2b0764d$exports = {};\r\n$af948342d2b0764d$exports = typeof window == 'object';\r\n\r\n\r\n\r\n\r\nvar $c137f7ca258a8d03$var$SPECIES = $3e9517d770b151f3$exports('species');\r\nvar $c137f7ca258a8d03$var$PROMISE = 'Promise';\r\nvar $c137f7ca258a8d03$var$getInternalState = $ea7e65ba02245cf9$exports.getterFor($c137f7ca258a8d03$var$PROMISE);\r\nvar $c137f7ca258a8d03$var$setInternalState = $ea7e65ba02245cf9$exports.set;\r\nvar $c137f7ca258a8d03$var$getInternalPromiseState = $ea7e65ba02245cf9$exports.getterFor($c137f7ca258a8d03$var$PROMISE);\r\nvar $c137f7ca258a8d03$var$NativePromisePrototype = $85dfb1a850120f2f$exports && $85dfb1a850120f2f$exports.prototype;\r\nvar $c137f7ca258a8d03$var$PromiseConstructor = $85dfb1a850120f2f$exports;\r\nvar $c137f7ca258a8d03$var$PromisePrototype = $c137f7ca258a8d03$var$NativePromisePrototype;\r\nvar $c137f7ca258a8d03$var$TypeError = $f333edce04dc84d2$exports.TypeError;\r\nvar $c137f7ca258a8d03$var$document = $f333edce04dc84d2$exports.document;\r\nvar $c137f7ca258a8d03$var$process = $f333edce04dc84d2$exports.process;\r\nvar $c137f7ca258a8d03$var$newPromiseCapability = $a2a7a87741ab16d8$export$2d1720544b23b823;\r\nvar $c137f7ca258a8d03$var$newGenericPromiseCapability = $c137f7ca258a8d03$var$newPromiseCapability;\r\nvar $c137f7ca258a8d03$var$DISPATCH_EVENT = !!($c137f7ca258a8d03$var$document && $c137f7ca258a8d03$var$document.createEvent && $f333edce04dc84d2$exports.dispatchEvent);\r\nvar $c137f7ca258a8d03$var$NATIVE_REJECTION_EVENT = $fcbda71016cee9bb$exports($f333edce04dc84d2$exports.PromiseRejectionEvent);\r\nvar $c137f7ca258a8d03$var$UNHANDLED_REJECTION = 'unhandledrejection';\r\nvar $c137f7ca258a8d03$var$REJECTION_HANDLED = 'rejectionhandled';\r\nvar $c137f7ca258a8d03$var$PENDING = 0;\r\nvar $c137f7ca258a8d03$var$FULFILLED = 1;\r\nvar $c137f7ca258a8d03$var$REJECTED = 2;\r\nvar $c137f7ca258a8d03$var$HANDLED = 1;\r\nvar $c137f7ca258a8d03$var$UNHANDLED = 2;\r\nvar $c137f7ca258a8d03$var$SUBCLASSING = false;\r\nvar $c137f7ca258a8d03$var$Internal, $c137f7ca258a8d03$var$OwnPromiseCapability, $c137f7ca258a8d03$var$PromiseWrapper, $c137f7ca258a8d03$var$nativeThen;\r\nvar $c137f7ca258a8d03$var$FORCED = $86acbf67a8f43f79$exports($c137f7ca258a8d03$var$PROMISE, function() {\r\n    var PROMISE_CONSTRUCTOR_SOURCE = $5b63997c7c97e8d6$exports($c137f7ca258a8d03$var$PromiseConstructor);\r\n    var GLOBAL_CORE_JS_PROMISE = PROMISE_CONSTRUCTOR_SOURCE !== String($c137f7ca258a8d03$var$PromiseConstructor);\r\n    // V8 6.6 (Node 10 and Chrome 66) have a bug with resolving custom thenables\r\n    // https://bugs.chromium.org/p/chromium/issues/detail?id=830565\r\n    // We can't detect it synchronously, so just check versions\r\n    if (!GLOBAL_CORE_JS_PROMISE && $f708c8065848ad38$exports === 66) return true;\r\n    // We need Promise#finally in the pure version for preventing prototype pollution\r\n    if ($0a617e53de17f0cf$exports && !$c137f7ca258a8d03$var$PromisePrototype['finally']) return true;\r\n    // We can't use @@species feature detection in V8 since it causes\r\n    // deoptimization and performance degradation\r\n    // https://github.com/zloirock/core-js/issues/679\r\n    if ($f708c8065848ad38$exports >= 51 && /native code/.test(PROMISE_CONSTRUCTOR_SOURCE)) return false;\r\n    // Detect correctness of subclassing with @@species support\r\n    var promise = new $c137f7ca258a8d03$var$PromiseConstructor(function(resolve) {\r\n        resolve(1);\r\n    });\r\n    var FakePromise = function(exec) {\r\n        exec(function() {\r\n        }, function() {\r\n        });\r\n    };\r\n    var constructor = promise.constructor = {\r\n    };\r\n    constructor[$c137f7ca258a8d03$var$SPECIES] = FakePromise;\r\n    $c137f7ca258a8d03$var$SUBCLASSING = promise.then(function() {\r\n    }) instanceof FakePromise;\r\n    if (!$c137f7ca258a8d03$var$SUBCLASSING) return true;\r\n    // Unhandled rejections tracking support, NodeJS Promise without it fails @@species test\r\n    return !GLOBAL_CORE_JS_PROMISE && $af948342d2b0764d$exports && !$c137f7ca258a8d03$var$NATIVE_REJECTION_EVENT;\r\n});\r\nvar $c137f7ca258a8d03$var$INCORRECT_ITERATION = $c137f7ca258a8d03$var$FORCED || !$1078680048fab23f$exports(function(iterable) {\r\n    $c137f7ca258a8d03$var$PromiseConstructor.all(iterable)['catch'](function() {\r\n    });\r\n});\r\n// helpers\r\nvar $c137f7ca258a8d03$var$isThenable = function(it) {\r\n    var then;\r\n    return $03cf12799242f409$exports(it) && $fcbda71016cee9bb$exports(then = it.then) ? then : false;\r\n};\r\nvar $c137f7ca258a8d03$var$notify = function(state, isReject) {\r\n    if (state.notified) return;\r\n    state.notified = true;\r\n    var chain = state.reactions;\r\n    $e7e2e92c5958175d$exports(function() {\r\n        var value = state.value;\r\n        var ok = state.state == $c137f7ca258a8d03$var$FULFILLED;\r\n        var index = 0;\r\n        // variable length - can't use forEach\r\n        while(chain.length > index){\r\n            var reaction = chain[index++];\r\n            var handler = ok ? reaction.ok : reaction.fail;\r\n            var resolve = reaction.resolve;\r\n            var reject = reaction.reject;\r\n            var domain = reaction.domain;\r\n            var result, then, exited;\r\n            try {\r\n                if (handler) {\r\n                    if (!ok) {\r\n                        if (state.rejection === $c137f7ca258a8d03$var$UNHANDLED) $c137f7ca258a8d03$var$onHandleUnhandled(state);\r\n                        state.rejection = $c137f7ca258a8d03$var$HANDLED;\r\n                    }\r\n                    if (handler === true) result = value;\r\n                    else {\r\n                        if (domain) domain.enter();\r\n                        result = handler(value); // can throw\r\n                        if (domain) {\r\n                            domain.exit();\r\n                            exited = true;\r\n                        }\r\n                    }\r\n                    if (result === reaction.promise) reject($c137f7ca258a8d03$var$TypeError('Promise-chain cycle'));\r\n                    else if (then = $c137f7ca258a8d03$var$isThenable(result)) $541d4c9e93c87577$exports(then, result, resolve, reject);\r\n                    else resolve(result);\r\n                } else reject(value);\r\n            } catch (error) {\r\n                if (domain && !exited) domain.exit();\r\n                reject(error);\r\n            }\r\n        }\r\n        state.reactions = [];\r\n        state.notified = false;\r\n        if (isReject && !state.rejection) $c137f7ca258a8d03$var$onUnhandled(state);\r\n    });\r\n};\r\nvar $c137f7ca258a8d03$var$dispatchEvent = function(name, promise, reason) {\r\n    var event, handler;\r\n    if ($c137f7ca258a8d03$var$DISPATCH_EVENT) {\r\n        event = $c137f7ca258a8d03$var$document.createEvent('Event');\r\n        event.promise = promise;\r\n        event.reason = reason;\r\n        event.initEvent(name, false, true);\r\n        $f333edce04dc84d2$exports.dispatchEvent(event);\r\n    } else event = {\r\n        promise: promise,\r\n        reason: reason\r\n    };\r\n    if (!$c137f7ca258a8d03$var$NATIVE_REJECTION_EVENT && (handler = $f333edce04dc84d2$exports['on' + name])) handler(event);\r\n    else if (name === $c137f7ca258a8d03$var$UNHANDLED_REJECTION) $a58c9e1aced3ad5a$exports('Unhandled promise rejection', reason);\r\n};\r\nvar $c137f7ca258a8d03$var$onUnhandled = function(state) {\r\n    $541d4c9e93c87577$exports($c137f7ca258a8d03$require$task, $f333edce04dc84d2$exports, function() {\r\n        var promise = state.facade;\r\n        var value = state.value;\r\n        var IS_UNHANDLED = $c137f7ca258a8d03$var$isUnhandled(state);\r\n        var result;\r\n        if (IS_UNHANDLED) {\r\n            result = $222a12d7e40231b3$exports(function() {\r\n                if ($05f84e7a0e886990$exports) $c137f7ca258a8d03$var$process.emit('unhandledRejection', value, promise);\r\n                else $c137f7ca258a8d03$var$dispatchEvent($c137f7ca258a8d03$var$UNHANDLED_REJECTION, promise, value);\r\n            });\r\n            // Browsers should not trigger `rejectionHandled` event if it was handled here, NodeJS - should\r\n            state.rejection = $05f84e7a0e886990$exports || $c137f7ca258a8d03$var$isUnhandled(state) ? $c137f7ca258a8d03$var$UNHANDLED : $c137f7ca258a8d03$var$HANDLED;\r\n            if (result.error) throw result.value;\r\n        }\r\n    });\r\n};\r\nvar $c137f7ca258a8d03$var$isUnhandled = function(state) {\r\n    return state.rejection !== $c137f7ca258a8d03$var$HANDLED && !state.parent;\r\n};\r\nvar $c137f7ca258a8d03$var$onHandleUnhandled = function(state) {\r\n    $541d4c9e93c87577$exports($c137f7ca258a8d03$require$task, $f333edce04dc84d2$exports, function() {\r\n        var promise = state.facade;\r\n        if ($05f84e7a0e886990$exports) $c137f7ca258a8d03$var$process.emit('rejectionHandled', promise);\r\n        else $c137f7ca258a8d03$var$dispatchEvent($c137f7ca258a8d03$var$REJECTION_HANDLED, promise, state.value);\r\n    });\r\n};\r\nvar $c137f7ca258a8d03$var$bind = function(fn, state, unwrap) {\r\n    return function(value) {\r\n        fn(state, value, unwrap);\r\n    };\r\n};\r\nvar $c137f7ca258a8d03$var$internalReject = function(state, value, unwrap) {\r\n    if (state.done) return;\r\n    state.done = true;\r\n    if (unwrap) state = unwrap;\r\n    state.value = value;\r\n    state.state = $c137f7ca258a8d03$var$REJECTED;\r\n    $c137f7ca258a8d03$var$notify(state, true);\r\n};\r\nvar $c137f7ca258a8d03$var$internalResolve = function(state, value, unwrap) {\r\n    if (state.done) return;\r\n    state.done = true;\r\n    if (unwrap) state = unwrap;\r\n    try {\r\n        if (state.facade === value) throw $c137f7ca258a8d03$var$TypeError(\"Promise can't be resolved itself\");\r\n        var then = $c137f7ca258a8d03$var$isThenable(value);\r\n        if (then) $e7e2e92c5958175d$exports(function() {\r\n            var wrapper = {\r\n                done: false\r\n            };\r\n            try {\r\n                $541d4c9e93c87577$exports(then, value, $c137f7ca258a8d03$var$bind($c137f7ca258a8d03$var$internalResolve, wrapper, state), $c137f7ca258a8d03$var$bind($c137f7ca258a8d03$var$internalReject, wrapper, state));\r\n            } catch (error) {\r\n                $c137f7ca258a8d03$var$internalReject(wrapper, error, state);\r\n            }\r\n        });\r\n        else {\r\n            state.value = value;\r\n            state.state = $c137f7ca258a8d03$var$FULFILLED;\r\n            $c137f7ca258a8d03$var$notify(state, false);\r\n        }\r\n    } catch (error) {\r\n        $c137f7ca258a8d03$var$internalReject({\r\n            done: false\r\n        }, error, state);\r\n    }\r\n};\r\n// constructor polyfill\r\nif ($c137f7ca258a8d03$var$FORCED) {\r\n    // 25.4.3.1 Promise(executor)\r\n    $c137f7ca258a8d03$var$PromiseConstructor = function Promise(executor) {\r\n        $53d5317711b7b807$exports(this, $c137f7ca258a8d03$var$PromisePrototype);\r\n        $c2aed39e690846d2$exports(executor);\r\n        $541d4c9e93c87577$exports($c137f7ca258a8d03$var$Internal, this);\r\n        var state = $c137f7ca258a8d03$var$getInternalState(this);\r\n        try {\r\n            executor($c137f7ca258a8d03$var$bind($c137f7ca258a8d03$var$internalResolve, state), $c137f7ca258a8d03$var$bind($c137f7ca258a8d03$var$internalReject, state));\r\n        } catch (error) {\r\n            $c137f7ca258a8d03$var$internalReject(state, error);\r\n        }\r\n    };\r\n    $c137f7ca258a8d03$var$PromisePrototype = $c137f7ca258a8d03$var$PromiseConstructor.prototype;\r\n    // eslint-disable-next-line no-unused-vars -- required for `.length`\r\n    $c137f7ca258a8d03$var$Internal = function Promise(executor) {\r\n        $c137f7ca258a8d03$var$setInternalState(this, {\r\n            type: $c137f7ca258a8d03$var$PROMISE,\r\n            done: false,\r\n            notified: false,\r\n            parent: false,\r\n            reactions: [],\r\n            rejection: false,\r\n            state: $c137f7ca258a8d03$var$PENDING,\r\n            value: undefined\r\n        });\r\n    };\r\n    $c137f7ca258a8d03$var$Internal.prototype = $8b266b64a252ca00$exports($c137f7ca258a8d03$var$PromisePrototype, {\r\n        // `Promise.prototype.then` method\r\n        // https://tc39.es/ecma262/#sec-promise.prototype.then\r\n        then: function then(onFulfilled, onRejected) {\r\n            var state = $c137f7ca258a8d03$var$getInternalPromiseState(this);\r\n            var reactions = state.reactions;\r\n            var reaction = $c137f7ca258a8d03$var$newPromiseCapability($43c04f4d8bd60d85$exports(this, $c137f7ca258a8d03$var$PromiseConstructor));\r\n            reaction.ok = $fcbda71016cee9bb$exports(onFulfilled) ? onFulfilled : true;\r\n            reaction.fail = $fcbda71016cee9bb$exports(onRejected) && onRejected;\r\n            reaction.domain = $05f84e7a0e886990$exports ? $c137f7ca258a8d03$var$process.domain : undefined;\r\n            state.parent = true;\r\n            reactions[reactions.length] = reaction;\r\n            if (state.state != $c137f7ca258a8d03$var$PENDING) $c137f7ca258a8d03$var$notify(state, false);\r\n            return reaction.promise;\r\n        },\r\n        // `Promise.prototype.catch` method\r\n        // https://tc39.es/ecma262/#sec-promise.prototype.catch\r\n        'catch': function(onRejected) {\r\n            return this.then(undefined, onRejected);\r\n        }\r\n    });\r\n    $c137f7ca258a8d03$var$OwnPromiseCapability = function() {\r\n        var promise = new $c137f7ca258a8d03$var$Internal();\r\n        var state = $c137f7ca258a8d03$var$getInternalState(promise);\r\n        this.promise = promise;\r\n        this.resolve = $c137f7ca258a8d03$var$bind($c137f7ca258a8d03$var$internalResolve, state);\r\n        this.reject = $c137f7ca258a8d03$var$bind($c137f7ca258a8d03$var$internalReject, state);\r\n    };\r\n    $a2a7a87741ab16d8$export$2d1720544b23b823 = $c137f7ca258a8d03$var$newPromiseCapability = function(C) {\r\n        return C === $c137f7ca258a8d03$var$PromiseConstructor || C === $c137f7ca258a8d03$var$PromiseWrapper ? new $c137f7ca258a8d03$var$OwnPromiseCapability(C) : $c137f7ca258a8d03$var$newGenericPromiseCapability(C);\r\n    };\r\n    if (!$0a617e53de17f0cf$exports && $fcbda71016cee9bb$exports($85dfb1a850120f2f$exports) && $c137f7ca258a8d03$var$NativePromisePrototype !== Object.prototype) {\r\n        $c137f7ca258a8d03$var$nativeThen = $c137f7ca258a8d03$var$NativePromisePrototype.then;\r\n        if (!$c137f7ca258a8d03$var$SUBCLASSING) {\r\n            // make `Promise#then` return a polyfilled `Promise` for native promise-based APIs\r\n            $a8719ecb9393e08b$exports($c137f7ca258a8d03$var$NativePromisePrototype, 'then', function then(onFulfilled, onRejected) {\r\n                var that = this;\r\n                return new $c137f7ca258a8d03$var$PromiseConstructor(function(resolve, reject) {\r\n                    $541d4c9e93c87577$exports($c137f7ca258a8d03$var$nativeThen, that, resolve, reject);\r\n                }).then(onFulfilled, onRejected);\r\n            // https://github.com/zloirock/core-js/issues/640\r\n            }, {\r\n                unsafe: true\r\n            });\r\n            // makes sure that native promise-based APIs `Promise#catch` properly works with patched `Promise#then`\r\n            $a8719ecb9393e08b$exports($c137f7ca258a8d03$var$NativePromisePrototype, 'catch', $c137f7ca258a8d03$var$PromisePrototype['catch'], {\r\n                unsafe: true\r\n            });\r\n        }\r\n        // make `.constructor === Promise` work for native promise-based APIs\r\n        try {\r\n            delete $c137f7ca258a8d03$var$NativePromisePrototype.constructor;\r\n        } catch (error) {\r\n        }\r\n        // make `instanceof Promise` work for native promise-based APIs\r\n        if ($b43955ec518fbd41$exports) $b43955ec518fbd41$exports($c137f7ca258a8d03$var$NativePromisePrototype, $c137f7ca258a8d03$var$PromisePrototype);\r\n    }\r\n}\r\n$af460506ee59fa9e$exports({\r\n    global: true,\r\n    wrap: true,\r\n    forced: $c137f7ca258a8d03$var$FORCED\r\n}, {\r\n    Promise: $c137f7ca258a8d03$var$PromiseConstructor\r\n});\r\n$78b33d3572646828$exports($c137f7ca258a8d03$var$PromiseConstructor, $c137f7ca258a8d03$var$PROMISE, false, true);\r\n$4bea57d3e3b6d7e9$exports($c137f7ca258a8d03$var$PROMISE);\r\n$c137f7ca258a8d03$var$PromiseWrapper = $f4dfad6b8aca7fc7$exports($c137f7ca258a8d03$var$PROMISE);\r\n// statics\r\n$af460506ee59fa9e$exports({\r\n    target: $c137f7ca258a8d03$var$PROMISE,\r\n    stat: true,\r\n    forced: $c137f7ca258a8d03$var$FORCED\r\n}, {\r\n    // `Promise.reject` method\r\n    // https://tc39.es/ecma262/#sec-promise.reject\r\n    reject: function reject(r) {\r\n        var capability = $c137f7ca258a8d03$var$newPromiseCapability(this);\r\n        $541d4c9e93c87577$exports(capability.reject, undefined, r);\r\n        return capability.promise;\r\n    }\r\n});\r\n$af460506ee59fa9e$exports({\r\n    target: $c137f7ca258a8d03$var$PROMISE,\r\n    stat: true,\r\n    forced: $0a617e53de17f0cf$exports || $c137f7ca258a8d03$var$FORCED\r\n}, {\r\n    // `Promise.resolve` method\r\n    // https://tc39.es/ecma262/#sec-promise.resolve\r\n    resolve: function resolve(x) {\r\n        return $a9a1537b2ab64544$exports($0a617e53de17f0cf$exports && this === $c137f7ca258a8d03$var$PromiseWrapper ? $c137f7ca258a8d03$var$PromiseConstructor : this, x);\r\n    }\r\n});\r\n$af460506ee59fa9e$exports({\r\n    target: $c137f7ca258a8d03$var$PROMISE,\r\n    stat: true,\r\n    forced: $c137f7ca258a8d03$var$INCORRECT_ITERATION\r\n}, {\r\n    // `Promise.all` method\r\n    // https://tc39.es/ecma262/#sec-promise.all\r\n    all: function all(iterable) {\r\n        var C = this;\r\n        var capability = $c137f7ca258a8d03$var$newPromiseCapability(C);\r\n        var resolve = capability.resolve;\r\n        var reject = capability.reject;\r\n        var result = $222a12d7e40231b3$exports(function() {\r\n            var $promiseResolve = $c2aed39e690846d2$exports(C.resolve);\r\n            var values = [];\r\n            var counter = 0;\r\n            var remaining = 1;\r\n            $4d171c5aa8e88bbc$exports(iterable, function(promise) {\r\n                var index = counter++;\r\n                var alreadyCalled = false;\r\n                remaining++;\r\n                $541d4c9e93c87577$exports($promiseResolve, C, promise).then(function(value) {\r\n                    if (alreadyCalled) return;\r\n                    alreadyCalled = true;\r\n                    values[index] = value;\r\n                    --remaining || resolve(values);\r\n                }, reject);\r\n            });\r\n            --remaining || resolve(values);\r\n        });\r\n        if (result.error) reject(result.value);\r\n        return capability.promise;\r\n    },\r\n    // `Promise.race` method\r\n    // https://tc39.es/ecma262/#sec-promise.race\r\n    race: function race(iterable) {\r\n        var C = this;\r\n        var capability = $c137f7ca258a8d03$var$newPromiseCapability(C);\r\n        var reject = capability.reject;\r\n        var result = $222a12d7e40231b3$exports(function() {\r\n            var $promiseResolve = $c2aed39e690846d2$exports(C.resolve);\r\n            $4d171c5aa8e88bbc$exports(iterable, function(promise) {\r\n                $541d4c9e93c87577$exports($promiseResolve, C, promise).then(capability.resolve, reject);\r\n            });\r\n        });\r\n        if (result.error) reject(result.value);\r\n        return capability.promise;\r\n    }\r\n});\r\n\r\n\r\n'use strict';\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n// Safari bug https://bugs.webkit.org/show_bug.cgi?id=200829\r\nvar $cde27604e2829f62$var$NON_GENERIC = !!$85dfb1a850120f2f$exports && $639365070cb811ed$exports(function() {\r\n    $85dfb1a850120f2f$exports.prototype['finally'].call({\r\n        then: function() {\r\n        }\r\n    }, function() {\r\n    });\r\n});\r\n// `Promise.prototype.finally` method\r\n// https://tc39.es/ecma262/#sec-promise.prototype.finally\r\n$af460506ee59fa9e$exports({\r\n    target: 'Promise',\r\n    proto: true,\r\n    real: true,\r\n    forced: $cde27604e2829f62$var$NON_GENERIC\r\n}, {\r\n    'finally': function(onFinally) {\r\n        var C = $43c04f4d8bd60d85$exports(this, $f4dfad6b8aca7fc7$exports('Promise'));\r\n        var isFunction = $fcbda71016cee9bb$exports(onFinally);\r\n        return this.then(isFunction ? function(x) {\r\n            return $a9a1537b2ab64544$exports(C, onFinally()).then(function() {\r\n                return x;\r\n            });\r\n        } : onFinally, isFunction ? function(e) {\r\n            return $a9a1537b2ab64544$exports(C, onFinally()).then(function() {\r\n                throw e;\r\n            });\r\n        } : onFinally);\r\n    }\r\n});\r\n// makes sure that native promise-based APIs `Promise#finally` properly works with patched `Promise#then`\r\nif (!$0a617e53de17f0cf$exports && $fcbda71016cee9bb$exports($85dfb1a850120f2f$exports)) {\r\n    var $cde27604e2829f62$var$method = $f4dfad6b8aca7fc7$exports('Promise').prototype['finally'];\r\n    if ($85dfb1a850120f2f$exports.prototype['finally'] !== $cde27604e2829f62$var$method) $a8719ecb9393e08b$exports($85dfb1a850120f2f$exports.prototype, 'finally', $cde27604e2829f62$var$method, {\r\n        unsafe: true\r\n    });\r\n}\r\n\r\n\r\n'use strict';\r\nvar $279d552dd5f5c4d7$exports = {};\r\n\r\n\r\nvar $30043a530ee32230$exports = {};\r\n\r\n\r\nvar $30043a530ee32230$var$String = $f333edce04dc84d2$exports.String;\r\n$30043a530ee32230$exports = function(argument) {\r\n    if ($dd8b053bbc200b54$exports(argument) === 'Symbol') throw TypeError('Cannot convert a Symbol value to a string');\r\n    return $30043a530ee32230$var$String(argument);\r\n};\r\n\r\n\r\n\r\nvar $279d552dd5f5c4d7$var$charAt = $0e047cd7e4bd2a61$exports(''.charAt);\r\nvar $279d552dd5f5c4d7$var$charCodeAt = $0e047cd7e4bd2a61$exports(''.charCodeAt);\r\nvar $279d552dd5f5c4d7$var$stringSlice = $0e047cd7e4bd2a61$exports(''.slice);\r\nvar $279d552dd5f5c4d7$var$createMethod = function(CONVERT_TO_STRING) {\r\n    return function($this, pos) {\r\n        var S = $30043a530ee32230$exports($61d1221ff70a8a56$exports($this));\r\n        var position = $a6b1a426cfae0839$exports(pos);\r\n        var size = S.length;\r\n        var first, second;\r\n        if (position < 0 || position >= size) return CONVERT_TO_STRING ? '' : undefined;\r\n        first = $279d552dd5f5c4d7$var$charCodeAt(S, position);\r\n        return first < 55296 || first > 56319 || position + 1 === size || (second = $279d552dd5f5c4d7$var$charCodeAt(S, position + 1)) < 56320 || second > 57343 ? CONVERT_TO_STRING ? $279d552dd5f5c4d7$var$charAt(S, position) : first : CONVERT_TO_STRING ? $279d552dd5f5c4d7$var$stringSlice(S, position, position + 2) : (first - 55296 << 10) + (second - 56320) + 65536;\r\n    };\r\n};\r\n$279d552dd5f5c4d7$exports = {\r\n    // `String.prototype.codePointAt` method\r\n    // https://tc39.es/ecma262/#sec-string.prototype.codepointat\r\n    codeAt: $279d552dd5f5c4d7$var$createMethod(false),\r\n    // `String.prototype.at` method\r\n    // https://github.com/mathiasbynens/String.prototype.at\r\n    charAt: $279d552dd5f5c4d7$var$createMethod(true)\r\n};\r\n\r\n\r\nvar $820cb16258581a1e$require$charAt = $279d552dd5f5c4d7$exports.charAt;\r\n\r\n\r\n\r\nvar $820cb16258581a1e$var$STRING_ITERATOR = 'String Iterator';\r\nvar $820cb16258581a1e$var$setInternalState = $ea7e65ba02245cf9$exports.set;\r\nvar $820cb16258581a1e$var$getInternalState = $ea7e65ba02245cf9$exports.getterFor($820cb16258581a1e$var$STRING_ITERATOR);\r\n// `String.prototype[@@iterator]` method\r\n// https://tc39.es/ecma262/#sec-string.prototype-@@iterator\r\n$ab7a19d4a83b9c08$exports(String, 'String', function(iterated) {\r\n    $820cb16258581a1e$var$setInternalState(this, {\r\n        type: $820cb16258581a1e$var$STRING_ITERATOR,\r\n        string: $30043a530ee32230$exports(iterated),\r\n        index: 0\r\n    });\r\n// `%StringIteratorPrototype%.next` method\r\n// https://tc39.es/ecma262/#sec-%stringiteratorprototype%.next\r\n}, function next() {\r\n    var state = $820cb16258581a1e$var$getInternalState(this);\r\n    var string = state.string;\r\n    var index = state.index;\r\n    var point;\r\n    if (index >= string.length) return {\r\n        value: undefined,\r\n        done: true\r\n    };\r\n    point = $820cb16258581a1e$require$charAt(string, index);\r\n    state.index += point.length;\r\n    return {\r\n        value: point,\r\n        done: false\r\n    };\r\n});\r\n\r\n\r\n'use strict';\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nvar $6b61db78a80e5257$exports = {};\r\n\r\nvar $6b61db78a80e5257$var$replace = $0e047cd7e4bd2a61$exports(''.replace);\r\nvar $6b61db78a80e5257$var$TEST = function(arg) {\r\n    return String(Error(arg).stack);\r\n}('zxcasd');\r\nvar $6b61db78a80e5257$var$V8_OR_CHAKRA_STACK_ENTRY = /\\n\\s*at [^:]*:[^\\n]*/;\r\nvar $6b61db78a80e5257$var$IS_V8_OR_CHAKRA_STACK = $6b61db78a80e5257$var$V8_OR_CHAKRA_STACK_ENTRY.test($6b61db78a80e5257$var$TEST);\r\n$6b61db78a80e5257$exports = function(stack, dropEntries) {\r\n    if ($6b61db78a80e5257$var$IS_V8_OR_CHAKRA_STACK && typeof stack == 'string') while(dropEntries--)stack = $6b61db78a80e5257$var$replace(stack, $6b61db78a80e5257$var$V8_OR_CHAKRA_STACK_ENTRY, '');\r\n    return stack;\r\n};\r\n\r\n\r\nvar $f738139e080ada87$exports = {};\r\n\r\n\r\n// `InstallErrorCause` abstract operation\r\n// https://tc39.es/proposal-error-cause/#sec-errorobjects-install-error-cause\r\n$f738139e080ada87$exports = function(O, options) {\r\n    if ($03cf12799242f409$exports(options) && 'cause' in options) $55c1099db5c9e6a0$exports(O, 'cause', options.cause);\r\n};\r\n\r\n\r\n\r\nvar $ee4e17cb5169c3c6$exports = {};\r\n\r\n$ee4e17cb5169c3c6$exports = function(argument, $default) {\r\n    return argument === undefined ? arguments.length < 2 ? '' : $default : $30043a530ee32230$exports(argument);\r\n};\r\n\r\n\r\n\r\nvar $63755b3b52896780$exports = {};\r\n\r\n\r\n$63755b3b52896780$exports = !$639365070cb811ed$exports(function() {\r\n    var error = Error('a');\r\n    if (!('stack' in error)) return true;\r\n    // eslint-disable-next-line es/no-object-defineproperty -- safe\r\n    Object.defineProperty(error, 'stack', $3c8b2ccf7adfb59a$exports(1, 7));\r\n    return error.stack !== 7;\r\n});\r\n\r\n\r\nvar $7f1f401813623a17$var$TO_STRING_TAG = $3e9517d770b151f3$exports('toStringTag');\r\nvar $7f1f401813623a17$var$Error = $f333edce04dc84d2$exports.Error;\r\nvar $7f1f401813623a17$var$push = [].push;\r\nvar $7f1f401813623a17$var$$AggregateError = function AggregateError(errors, message /* , options */ ) {\r\n    var options = arguments.length > 2 ? arguments[2] : undefined;\r\n    var isInstance = $b5a2a9c765693536$exports($7f1f401813623a17$var$AggregateErrorPrototype, this);\r\n    var that;\r\n    if ($b43955ec518fbd41$exports) that = $b43955ec518fbd41$exports(new $7f1f401813623a17$var$Error(), isInstance ? $f17f9036e72a9934$exports(this) : $7f1f401813623a17$var$AggregateErrorPrototype);\r\n    else {\r\n        that = isInstance ? this : $d3ac9847cf651bba$exports($7f1f401813623a17$var$AggregateErrorPrototype);\r\n        $55c1099db5c9e6a0$exports(that, $7f1f401813623a17$var$TO_STRING_TAG, 'Error');\r\n    }\r\n    if (message !== undefined) $55c1099db5c9e6a0$exports(that, 'message', $ee4e17cb5169c3c6$exports(message));\r\n    if ($63755b3b52896780$exports) $55c1099db5c9e6a0$exports(that, 'stack', $6b61db78a80e5257$exports(that.stack, 1));\r\n    $f738139e080ada87$exports(that, options);\r\n    var errorsArray = [];\r\n    $4d171c5aa8e88bbc$exports(errors, $7f1f401813623a17$var$push, {\r\n        that: errorsArray\r\n    });\r\n    $55c1099db5c9e6a0$exports(that, 'errors', errorsArray);\r\n    return that;\r\n};\r\nif ($b43955ec518fbd41$exports) $b43955ec518fbd41$exports($7f1f401813623a17$var$$AggregateError, $7f1f401813623a17$var$Error);\r\nelse $2dfe3c4787ce0e40$exports($7f1f401813623a17$var$$AggregateError, $7f1f401813623a17$var$Error, {\r\n    name: true\r\n});\r\nvar $7f1f401813623a17$var$AggregateErrorPrototype = $7f1f401813623a17$var$$AggregateError.prototype = $d3ac9847cf651bba$exports($7f1f401813623a17$var$Error.prototype, {\r\n    constructor: $3c8b2ccf7adfb59a$exports(1, $7f1f401813623a17$var$$AggregateError),\r\n    message: $3c8b2ccf7adfb59a$exports(1, ''),\r\n    name: $3c8b2ccf7adfb59a$exports(1, 'AggregateError')\r\n});\r\n// `AggregateError` constructor\r\n// https://tc39.es/ecma262/#sec-aggregate-error-constructor\r\n$af460506ee59fa9e$exports({\r\n    global: true\r\n}, {\r\n    AggregateError: $7f1f401813623a17$var$$AggregateError\r\n});\r\n\r\n\r\n\r\n\r\n'use strict';\r\n\r\n\r\n\r\n\r\n\r\n\r\n// `Promise.allSettled` method\r\n// https://tc39.es/ecma262/#sec-promise.allsettled\r\n$af460506ee59fa9e$exports({\r\n    target: 'Promise',\r\n    stat: true\r\n}, {\r\n    allSettled: function allSettled(iterable) {\r\n        var C = this;\r\n        var capability = $a2a7a87741ab16d8$export$2d1720544b23b823(C);\r\n        var resolve = capability.resolve;\r\n        var reject = capability.reject;\r\n        var result = $222a12d7e40231b3$exports(function() {\r\n            var promiseResolve = $c2aed39e690846d2$exports(C.resolve);\r\n            var values = [];\r\n            var counter = 0;\r\n            var remaining = 1;\r\n            $4d171c5aa8e88bbc$exports(iterable, function(promise) {\r\n                var index = counter++;\r\n                var alreadyCalled = false;\r\n                remaining++;\r\n                $541d4c9e93c87577$exports(promiseResolve, C, promise).then(function(value) {\r\n                    if (alreadyCalled) return;\r\n                    alreadyCalled = true;\r\n                    values[index] = {\r\n                        status: 'fulfilled',\r\n                        value: value\r\n                    };\r\n                    --remaining || resolve(values);\r\n                }, function(error) {\r\n                    if (alreadyCalled) return;\r\n                    alreadyCalled = true;\r\n                    values[index] = {\r\n                        status: 'rejected',\r\n                        reason: error\r\n                    };\r\n                    --remaining || resolve(values);\r\n                });\r\n            });\r\n            --remaining || resolve(values);\r\n        });\r\n        if (result.error) reject(result.value);\r\n        return capability.promise;\r\n    }\r\n});\r\n\r\n\r\n\r\n\r\n'use strict';\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nvar $63a11553943a5acf$var$PROMISE_ANY_ERROR = 'No one promise resolved';\r\n// `Promise.any` method\r\n// https://tc39.es/ecma262/#sec-promise.any\r\n$af460506ee59fa9e$exports({\r\n    target: 'Promise',\r\n    stat: true\r\n}, {\r\n    any: function any(iterable) {\r\n        var C = this;\r\n        var AggregateError = $f4dfad6b8aca7fc7$exports('AggregateError');\r\n        var capability = $a2a7a87741ab16d8$export$2d1720544b23b823(C);\r\n        var resolve = capability.resolve;\r\n        var reject = capability.reject;\r\n        var result = $222a12d7e40231b3$exports(function() {\r\n            var promiseResolve = $c2aed39e690846d2$exports(C.resolve);\r\n            var errors = [];\r\n            var counter = 0;\r\n            var remaining = 1;\r\n            var alreadyResolved = false;\r\n            $4d171c5aa8e88bbc$exports(iterable, function(promise) {\r\n                var index = counter++;\r\n                var alreadyRejected = false;\r\n                remaining++;\r\n                $541d4c9e93c87577$exports(promiseResolve, C, promise).then(function(value) {\r\n                    if (alreadyRejected || alreadyResolved) return;\r\n                    alreadyResolved = true;\r\n                    resolve(value);\r\n                }, function(error) {\r\n                    if (alreadyRejected || alreadyResolved) return;\r\n                    alreadyRejected = true;\r\n                    errors[index] = error;\r\n                    --remaining || reject(new AggregateError(errors, $63a11553943a5acf$var$PROMISE_ANY_ERROR));\r\n                });\r\n            });\r\n            --remaining || reject(new AggregateError(errors, $63a11553943a5acf$var$PROMISE_ANY_ERROR));\r\n        });\r\n        if (result.error) reject(result.value);\r\n        return capability.promise;\r\n    }\r\n});\r\n\r\n\r\n\r\n\r\n'use strict';\r\n\r\n\r\n\r\n// `Promise.try` method\r\n// https://github.com/tc39/proposal-promise-try\r\n$af460506ee59fa9e$exports({\r\n    target: 'Promise',\r\n    stat: true\r\n}, {\r\n    'try': function(callbackfn) {\r\n        var promiseCapability = $a2a7a87741ab16d8$export$2d1720544b23b823(this);\r\n        var result = $222a12d7e40231b3$exports(callbackfn);\r\n        (result.error ? promiseCapability.reject : promiseCapability.resolve)(result.value);\r\n        return promiseCapability.promise;\r\n    }\r\n});\r\n\r\n\r\n\r\nvar $42931a78786f2e5d$exports = {};\r\n// iterable DOM collections\r\n// flag - `iterable` interface - 'entries', 'keys', 'values', 'forEach' methods\r\n$42931a78786f2e5d$exports = {\r\n    CSSRuleList: 0,\r\n    CSSStyleDeclaration: 0,\r\n    CSSValueList: 0,\r\n    ClientRectList: 0,\r\n    DOMRectList: 0,\r\n    DOMStringList: 0,\r\n    DOMTokenList: 1,\r\n    DataTransferItemList: 0,\r\n    FileList: 0,\r\n    HTMLAllCollection: 0,\r\n    HTMLCollection: 0,\r\n    HTMLFormElement: 0,\r\n    HTMLSelectElement: 0,\r\n    MediaList: 0,\r\n    MimeTypeArray: 0,\r\n    NamedNodeMap: 0,\r\n    NodeList: 1,\r\n    PaintRequestList: 0,\r\n    Plugin: 0,\r\n    PluginArray: 0,\r\n    SVGLengthList: 0,\r\n    SVGNumberList: 0,\r\n    SVGPathSegList: 0,\r\n    SVGPointList: 0,\r\n    SVGStringList: 0,\r\n    SVGTransformList: 0,\r\n    SourceBufferList: 0,\r\n    StyleSheetList: 0,\r\n    TextTrackCueList: 0,\r\n    TextTrackList: 0,\r\n    TouchList: 0\r\n};\r\n\r\n\r\nvar $a411ca82190b83df$exports = {};\r\n\r\nvar $a411ca82190b83df$var$classList = $0158366a26a6b285$exports('span').classList;\r\nvar $a411ca82190b83df$var$DOMTokenListPrototype = $a411ca82190b83df$var$classList && $a411ca82190b83df$var$classList.constructor && $a411ca82190b83df$var$classList.constructor.prototype;\r\n$a411ca82190b83df$exports = $a411ca82190b83df$var$DOMTokenListPrototype === Object.prototype ? undefined : $a411ca82190b83df$var$DOMTokenListPrototype;\r\n\r\n\r\n\r\n\r\n\r\nvar $af54aef524dfbde4$var$ITERATOR = $3e9517d770b151f3$exports('iterator');\r\nvar $af54aef524dfbde4$var$TO_STRING_TAG = $3e9517d770b151f3$exports('toStringTag');\r\nvar $af54aef524dfbde4$var$ArrayValues = $19dfc4060129c05d$exports.values;\r\nvar $af54aef524dfbde4$var$handlePrototype = function(CollectionPrototype, COLLECTION_NAME) {\r\n    if (CollectionPrototype) {\r\n        // some Chrome versions have non-configurable methods on DOMTokenList\r\n        if (CollectionPrototype[$af54aef524dfbde4$var$ITERATOR] !== $af54aef524dfbde4$var$ArrayValues) try {\r\n            $55c1099db5c9e6a0$exports(CollectionPrototype, $af54aef524dfbde4$var$ITERATOR, $af54aef524dfbde4$var$ArrayValues);\r\n        } catch (error) {\r\n            CollectionPrototype[$af54aef524dfbde4$var$ITERATOR] = $af54aef524dfbde4$var$ArrayValues;\r\n        }\r\n        if (!CollectionPrototype[$af54aef524dfbde4$var$TO_STRING_TAG]) $55c1099db5c9e6a0$exports(CollectionPrototype, $af54aef524dfbde4$var$TO_STRING_TAG, COLLECTION_NAME);\r\n        if ($42931a78786f2e5d$exports[COLLECTION_NAME]) for(var METHOD_NAME in $19dfc4060129c05d$exports){\r\n            // some Chrome versions have non-configurable methods on DOMTokenList\r\n            if (CollectionPrototype[METHOD_NAME] !== $19dfc4060129c05d$exports[METHOD_NAME]) try {\r\n                $55c1099db5c9e6a0$exports(CollectionPrototype, METHOD_NAME, $19dfc4060129c05d$exports[METHOD_NAME]);\r\n            } catch (error) {\r\n                CollectionPrototype[METHOD_NAME] = $19dfc4060129c05d$exports[METHOD_NAME];\r\n            }\r\n        }\r\n    }\r\n};\r\nfor(var $af54aef524dfbde4$var$COLLECTION_NAME in $42931a78786f2e5d$exports)$af54aef524dfbde4$var$handlePrototype($f333edce04dc84d2$exports[$af54aef524dfbde4$var$COLLECTION_NAME] && $f333edce04dc84d2$exports[$af54aef524dfbde4$var$COLLECTION_NAME].prototype, $af54aef524dfbde4$var$COLLECTION_NAME);\r\n$af54aef524dfbde4$var$handlePrototype($a411ca82190b83df$exports, 'DOMTokenList');\r\n\r\n\r\n$4b1f252cc54b0e64$var$main();\r\nfunction $4b1f252cc54b0e64$var$main() {\r\n    return $4b1f252cc54b0e64$var$_main.apply(this, arguments);\r\n}\r\nfunction $4b1f252cc54b0e64$var$_main() {\r\n    $4b1f252cc54b0e64$var$_main = (/*@__PURE__*/$parcel$interopDefault($bbb9b92677e7f4e1$exports))(/*#__PURE__*/ (/*@__PURE__*/$parcel$interopDefault($efaf621fa185bd77$exports)).mark(function _callee2() {\r\n        var fn1, fn2;\r\n        return (/*@__PURE__*/$parcel$interopDefault($efaf621fa185bd77$exports)).wrap(function _callee2$(_context2) {\r\n            while(true)switch(_context2.prev = _context2.next){\r\n                case 0:\r\n                    fn1 = $4b1f252cc54b0e64$var$the_thing();\r\n                    fn2 = $4b1f252cc54b0e64$var$the_thing();\r\n                    fn2(1);\r\n                    fn1(2);\r\n                case 4:\r\n                case \"end\":\r\n                    return _context2.stop();\r\n            }\r\n        }, _callee2);\r\n    }));\r\n    return $4b1f252cc54b0e64$var$_main.apply(this, arguments);\r\n}\r\nfunction $4b1f252cc54b0e64$var$the_thing() {\r\n    var resolved_promise = Promise.resolve();\r\n    return(/*#__PURE__*/ (function() {\r\n        var _ref = (/*@__PURE__*/$parcel$interopDefault($bbb9b92677e7f4e1$exports))(/*#__PURE__*/ (/*@__PURE__*/$parcel$interopDefault($efaf621fa185bd77$exports)).mark(function _callee(value) {\r\n            return (/*@__PURE__*/$parcel$interopDefault($efaf621fa185bd77$exports)).wrap(function _callee$(_context) {\r\n                while(true)switch(_context.prev = _context.next){\r\n                    case 0:\r\n                        console.log(\"Function for\", value, \"is awaiting resolved promise\");\r\n                        _context.next = 3;\r\n                        return resolved_promise;\r\n                    case 3:\r\n                        console.log(\"Function for\", value, \"continued\");\r\n                    case 4:\r\n                    case \"end\":\r\n                        return _context.stop();\r\n                }\r\n            }, _callee);\r\n        }));\r\n        return function(_x) {\r\n            return _ref.apply(this, arguments);\r\n        };\r\n    })());\r\n}\r\n\r\n})();\r\n```\r\n\r\n</details>\r\n\r\n\r\nHow to transpile: Go to https://babeljs.io/repl/#?browsers=ie%2011&build=&builtIns=entry&corejs=3.6&spec=false&loose=false&code_lz=LYQwlgdgFAlA3AKASAzgTwgYwAQDMCuWALmAPYTaiSzYDeC22m5KReEAjNgLzZEAWAUwD6AyAHNYiRswit2AJh58ho_hKkNFUDvC25OUBXoC-SAsTIUBIsREkw6W2fIBOglKQA2AN0EATYQAHV1JgMBRBZQAFUPDIgDp3T19BTUZ3InxXClQMHB8QL3wo7gA-J0YZFm9BBK9SSQAiADFCTBJyPFJXJoAabELiwQGmiOwQAHdwEntsZO8_f2wQsIjBJr0qiemwNgXUwNX4wWkql1r6xqhW9s6KXB7-waKS0dlZkv9Ns5NEEyAA&debug=false&forceAllTransforms=false&shippedProposals=false&circleciRepo=&evaluate=true&fileSize=false&timeTravel=false&sourceType=module&lineWrap=false&presets=env%2Ctypescript&prettier=false&targets=&version=7.16.6&externalPlugins=&assumptions=%7B%7D\r\n\r\nCopy the contents of https://unpkg.com/core-js-bundle@3.20.0/index.js and https://unpkg.com/regenerator-runtime@0.12.1/runtime.js and the result to the right from the babel REPL into a js file and run it in IE11",
                              "label": "bug",
                              "createdAt": "2021-12-20T21:39:27Z",
                              "closedAt": "2021-12-22T18:10:09Z",
                              "lastComment": "2021-12-23T11:42:57Z",
                              "commentCount": 5
                         },
                         {
                              "title": "Observable without `this` should not fail silently",
                              "description": "Version: `core-js@3.19.2`\r\n\r\nWhen `SubscriberFunction.next` is executed without `this`, it will fail silently.\r\n\r\nIn the following code ([CodeSandbox](https://codesandbox.io/s/snowy-bash-bphxc?file=/src/index.js)), only `1` and `3` is observed.\r\n\r\n```js\r\nimport Observable from \"core-js/features/observable\";\r\n\r\nconst observer = new Observable((observer) => {\r\n  const { next } = observer;\r\n\r\n  observer.next(1); // Will reach subscriber\r\n  next(2);          // Will not reach subscriber, and fail silently\r\n  observer.next(3); // Will reach subscriber\r\n});\r\n\r\nobserver.subscribe({\r\n  next: (value) => console.log(value)\r\n});\r\n```\r\n\r\nIn the console log:\r\n\r\n```sh\r\n1\r\n3\r\n```\r\n\r\nI believe when calling `next(2)`, it should be either:\r\n\r\n- Fail with exception\r\n- Succeed/observed (`this` is bound)\r\n",
                              "label": "bug",
                              "createdAt": "2021-12-02T21:33:18Z",
                              "closedAt": "2021-12-03T05:48:20Z",
                              "lastComment": "2021-12-03T05:46:10Z",
                              "commentCount": 1
                         },
                         {
                              "title": "Issue with wkhtmltopdf (webkit version = ~Safari 5) after fcbc2c878535",
                              "description": "Hi, I am seeing an issue with my application when building against core-js 3.19.x and I resolved this by downgrading to the 3.18.3 release. Specifically this looks like it's related to fcbc2c878535. My test case is using wkhtmltopdf, which is built with Qt and has an old version of webkit that is missing a few things.\r\n\r\nI polyfill `Function.prototype.bind` manually since webpack uses it before I've loaded core-js, and I've also tried forcing core-js to override the polyfill in case the core-js version behaved differently / better.\r\n\r\nThe problem is that I'm getting a call stack size exceeded error, and this happens when patching `es.array.copy-within.js`. When exporting the polyfill, specifically when redefining the target, `hasOwn` is called with `(<copyWithin()>, 'name')` which causes the error.\r\n\r\nWhile debugging I changed the definition of `function-uncurry-this.js` to not use `callBind` but instead the other side of the ternary expression:\r\n\r\n```javascript\r\nfunction (fn) {\r\n  return fn && function () {\r\n    return call.apply(fn, arguments);\r\n  };\r\n};\r\n```\r\n\r\nThis removed the error I was seeing. I'm not sure why `function-uncurry-this.js` is so specialized. I previously wasn't aware why you'd be calling `bind` on a function (for `callBind`), but I see https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_objects/Function/bind#creating_shortcuts.  Is there a significantly measureable difference by using:\r\n\r\n```javascript\r\nfunction (fn) {\r\n  return fn && callBind(call, fn);\r\n}\r\n```\r\n\r\nOr can we simplify the code to use the other side of the termary expression?\r\n\r\nWhen debugging what this was doing in chrome it looked like `hasOwnProperty` was the native version, but because there was a call stack issue I assume in wkhtmltopdf it is wrapped somehow (this is likely because `bind` is being polyfilled).\r\n\r\nAnyways, hopefully this information is useful and I can provide more details as needed.",
                              "label": "unlabeledBug",
                              "createdAt": "2021-11-19T09:03:37Z",
                              "closedAt": "2021-11-19T18:25:05Z",
                              "lastComment": "2021-11-19T18:25:05Z",
                              "commentCount": 3
                         },
                         {
                              "title": "TypeError: forEach is not a function in a HTMLCollection",
                              "description": "`const all = document.querySelectorAll('*')\r\n    console.log('all', all)\r\n    all.forEach(it => console.log(it)); // works\r\n    const divs = document.getElementsByTagName('p')\r\n    console.log('divs', divs)\r\n    divs.forEach(div => {\r\n        console.log('div', div) // error\r\n    });`\r\n\r\nsecond forEach gives an error although debug notes says the polyfills are included:\r\n\r\nAdded following core-js polyfills:\r\n  es.array.for-each { \"ie\":\"11\" }\r\n  web.dom-collections.for-each { \"ie\":\"11\" }\r\n\r\nHappens with babel7, webpack or rollup.",
                              "label": "unlabeledBug",
                              "createdAt": "2021-09-28T10:20:38Z",
                              "closedAt": "2021-09-28T10:41:59Z",
                              "lastComment": "2021-09-28T10:39:48Z",
                              "commentCount": 2
                         },
                         {
                              "title": "`forEach` is applied to all DOM Iterators",
                              "description": "The [README](https://github.com/zloirock/core-js#iterable-dom-collections) and [compatibility test](https://github.com/zloirock/core-js/blob/master/tests/compat/tests.js#L1513-L1516) say that `'web.dom-collections.for-each'` is only for `NodeList` and `DOMTokenList`.\r\n\r\nThe [implementation](https://github.com/zloirock/core-js/blob/master/packages/core-js/modules/web.dom-collections.for-each.js#L16) applies it to all [`dom-iterables`](https://github.com/zloirock/core-js/blob/master/packages/core-js/internals/dom-iterables.js) which includes much more than just those two.",
                              "label": "bug",
                              "createdAt": "2021-09-21T18:42:43Z",
                              "closedAt": "2021-09-21T19:10:06Z",
                              "lastComment": "2021-09-21T19:07:03Z",
                              "commentCount": 1
                         },
                         {
                              "title": "ignore reserved word in es3 ?",
                              "description": "in `/packages/core-js/modules/web.url.js` There is  a `char` . \r\n\r\n```\r\nvar parseIPv6 = function (input) {\r\n  var address = [0, 0, 0, 0, 0, 0, 0, 0];\r\n  var pieceIndex = 0;\r\n  var compress = null;\r\n  var pointer = 0;\r\n  var value, length, numbersSeen, ipv4Piece, number, swaps, swap;\r\n\r\n  // here , char\r\n  var char = function () {\r\n    return input.charAt(pointer);\r\n  };\r\n\r\n  if (char() == ':') {\r\n    if (input.charAt(1) != ':') return;\r\n    pointer += 2;\r\n    pieceIndex++;\r\n    compress = pieceIndex;\r\n  }\r\n  while (char()) {\r\n    if (pieceIndex == 8) return;\r\n    if (char() == ':') {\r\n      if (compress !== null) return;\r\n      pointer++;\r\n```\r\nHowever in  ES3 , `char` is  a  reserved word . \r\n\r\nAnd in cdn `https://unpkg.com/core-js-bundle@3.16.4/index.js` or `https://unpkg.com/core-js-bundle@3.16.4/minified.js`,\r\n`char` is not be transformed to `_char` or other indetifer , which means the cdn polyfill might not work in ie6/ie7.\r\n\r\n",
                              "label": "bug",
                              "createdAt": "2021-09-01T12:45:28Z",
                              "closedAt": "2021-09-01T13:54:15Z",
                              "lastComment": "2021-09-01T14:11:02Z",
                              "commentCount": 3
                         },
                         {
                              "title": "this is a bug? ",
                              "description": "when i define a 'finally' function on other function's prototype, why dist code includes \"core-js/modules/es.promise.finally.js\",\r\n\"core-js/modules/es.promise.js\". \r\n\r\nex:\r\n\r\n![image](https://user-images.githubusercontent.com/20663807/130170729-0a1f1ce6-a651-46a1-896b-ec37fe71f100.png)\r\n\r\n",
                              "label": "unlabeledBug",
                              "createdAt": "2021-08-20T02:43:08Z",
                              "closedAt": "2021-08-20T05:50:57Z",
                              "lastComment": "2021-08-20T05:51:45Z",
                              "commentCount": 1
                         },
                         {
                              "title": "`URLSearchParams` passed to `Request` does not set the correct body and headers",
                              "description": "This is essentially the same issue as : https://github.com/zloirock/core-js/issues/674\r\n\r\nA similar wrapper for `Request` might resolve this.\r\n`Request` being a constructor whereas `fetch` is just a function might complicate things :/\r\n\r\nsee : https://github.com/mrhenry/web-tests/issues/171\r\n\r\n(maybe this should not be fixed here, that is also fine!)",
                              "label": "unlabeledBug",
                              "createdAt": "2021-07-23T06:06:15Z",
                              "closedAt": "2021-07-26T11:15:43Z",
                              "lastComment": "2021-07-30T06:51:57Z",
                              "commentCount": 6
                         },
                         {
                              "title": "Some minify plugins have a spacing bugs.",
                              "description": "I used to using new Set(), but some environment have remove spacing bug.\r\n\r\n- internal-metadata.js\r\nvar setMetadata = function (it) {\r\n  defineProperty(it, METADATA, { value: {\r\n    objectID: 'O' + ++id, // object ID\r\n    weakData: {}          // weak collections IDs\r\n  } });\r\n};\r\n\r\n- to be\r\nvar setMetadata = function (it) {\r\n  defineProperty(it, METADATA, { value: {\r\n    objectID: 'O'+++id, // object ID.                           <----- plus spacing remove\r\n    weakData: {}          // weak collections IDs\r\n  } });\r\n};\r\n\r\nIt's not normal environment, but I hope resolve this issue.\r\n\r\nIf I can't fixed remove spacing bugs, How can I do this?\r\n\r\nPlease help.",
                              "label": "unlabeledBug",
                              "createdAt": "2021-06-26T01:19:25Z",
                              "closedAt": "2021-06-26T05:18:24Z",
                              "lastComment": "2021-06-26T05:12:34Z",
                              "commentCount": 6
                         },
                         {
                              "title": "In corejs 3.15.0 version, regexp polifill does not work properly.",
                              "description": "Hi. In corejs 3.15.0 version, regexp polifill does not work properly.\r\nI am using corejs polyfill in ie11.\r\n\r\nA sample script is as follows.\r\n```js\r\nregExp = new RegExp(/^https?:\\/\\//i)\r\nurl = 'http://github.com'\r\n\r\nresult = url.match(regExp)\r\nconsole.log(result) // null\r\n```\r\n\r\nIn version 3.14, the following matching values ​​were found for the same script. \r\n```js\r\nconsole.log(result) // [object Array] [\"http://\"]\r\n```\r\n\r\n\r\n\r\nMy project's babel.config.js looks like this:\r\n\r\n```js\r\nmodule.exports = {\r\n  presets: [\r\n    ['@vue/cli-plugin-babel/preset', {\r\n      targets: {ie: '11'},\r\n      modules: 'cjs',\r\n    }],\r\n  ],\r\n  plugins: [\r\n    ['@babel/plugin-transform-runtime', {\r\n      corejs: 3,\r\n    }],\r\n  ],\r\n  env: {\r\n    production: {\r\n      plugins: [['transform-remove-console', {exclude: ['error']}]],\r\n    },\r\n  },\r\n};\r\n```\r\n\r\nVersion 3.15.0\r\n\r\n",
                              "label": "bug",
                              "createdAt": "2021-06-22T12:18:04Z",
                              "closedAt": "2021-06-22T18:02:16Z",
                              "lastComment": "2021-06-22T12:40:54Z",
                              "commentCount": 4
                         },
                         {
                              "title": "features/global-this - works only when I generate publish but doesn't work in debug mode",
                              "description": "Hi ! I have created React js app\r\nI used   \"core-js\": \"^3.13.1\", in my dependencies scope in package.json\r\nand imported in my index.js this line : \r\nimport 'core-js/features/global-this';\r\n\r\n(I had issue with globalThis in ios 11.4 and before that version)\r\nwhen I generate  production Publish it works fine\r\nbut when I run my project in debug mode (VS.2019) with iis-Express, my ios Emulator still return the globalThis Error\r\n\"what is wrong with my usage of this package ?\"\r\nI want to use it in debug mode too.\r\nThank you",
                              "label": "unlabeledBug",
                              "createdAt": "2021-05-31T07:06:22Z",
                              "closedAt": "2021-05-31T07:25:44Z",
                              "lastComment": "2021-05-31T07:25:44Z",
                              "commentCount": 1
                         },
                         {
                              "title": "Bug Involving queueMicrotask",
                              "description": "\"@babel/core\": \"^7.14.0\"\r\n\"@babel/preset-env\": \"^7.14.0\"\r\n\"core-js\": \"^3.11.1\"\r\n\r\nTesting on iOS 10.3.2 in (Mobile Safari 10.0):\r\n\r\n```\r\n// modern engines have queueMicrotask method\r\nif (!queueMicrotask) {\r\n  flush = function () {\r\n    var parent, fn;\r\n    if (IS_NODE && (parent = process.domain)) parent.exit();\r\n    while (head) {\r\n      alert(JSON.stringify(head)); // inifinite loop, where head evaluates to \"{}\"\r\n      fn = head.fn;\r\n      head = head.next;\r\n      try {\r\n        fn();\r\n      } catch (error) {\r\n        if (head) notify();\r\n        else last = undefined;\r\n        throw error;\r\n      }\r\n    } last = undefined;\r\n    if (parent) parent.enter();\r\n  };\r\n```\r\nIn this excerpt of code, I'm somehow getting stuck in a loop where `alert(JSON.stringify(head))` constantly evaluates to false.\r\n\r\n\r\nI'm not able to debug more, but this code is also triggered in my dev environment:\r\n```\r\n  // environments with maybe non-completely correct, but existent Promise\r\n  } else if (Promise && Promise.resolve) {\r\n    // Promise.resolve without an argument throws an error in LG WebOS 2\r\n    promise = Promise.resolve(undefined);\r\n    then = promise.then;\r\n    notify = function () {\r\n      then.call(promise, flush);\r\n    };\r\n  } ...\r\n```\r\n\r\n",
                              "label": "bug",
                              "createdAt": "2021-05-03T05:38:09Z",
                              "closedAt": "2021-05-03T08:53:02Z",
                              "lastComment": "2021-05-03T11:10:01Z",
                              "commentCount": 2
                         },
                         {
                              "title": "core-js-compat install broken at latest due to unpublished dependency browserslist",
                              "description": "browserslist@4.16.5 is no longer available, breaking this installation\r\n\r\n```\r\nnpm install core-js-compat\r\nnpm ERR! code ETARGET\r\nnpm ERR! notarget No matching version found for browserslist@^4.16.5.\r\nnpm ERR! notarget In most cases you or one of your dependencies are requesting\r\nnpm ERR! notarget a package version that doesn't exist.\r\nnpm ERR! notarget\r\nnpm ERR! notarget It was specified as a dependency of 'core-js-compat'\r\nnpm ERR! notarget\r\n```\r\n\r\n\r\n```\r\nnpm view browserslist\r\n\r\nbrowserslist@4.16.5 | MIT | deps: 5 | versions: 150\r\nShare target browsers between different front-end tools, like Autoprefixer, Stylelint and babel-env-preset\r\nhttps://github.com/browserslist/browserslist#readme\r\n\r\nkeywords: caniuse, browsers, target\r\n\r\nbin: browserslist\r\n\r\ndist\r\n.tarball: https://registry.npmjs.org/browserslist/-/browserslist-4.16.5.tgz\r\n.shasum: 952825440bca8913c62d0021334cbe928ef062ae\r\n.integrity: sha512-C2HAjrM1AI/djrpAUU/tr4pml1DqLIzJKSLDBXBrNErl9ZCCTXdhwxdJjYc16953+mBWf7Lw+uUJgpgb8cN71A==\r\n.unpackedSize: 87.3 kB\r\n\r\ndependencies:\r\ncaniuse-lite: ^1.0.30001214    electron-to-chromium: ^1.3.719 node-releases: ^1.1.71\r\ncolorette: ^1.2.2              escalade: ^3.1.1\r\n\r\nmaintainers:\r\n- ai <andrey@sitnik.ru>\r\n\r\ndist-tags:\r\nlatest: 4.16.5\r\n\r\npublished 6 days ago by ai <andrey@sitnik.ru>\r\n```\r\n\r\nI may cross-link a post in browserslist too.",
                              "label": "unlabeledBug",
                              "createdAt": "2021-04-28T15:21:10Z",
                              "closedAt": "2021-04-28T15:26:39Z",
                              "lastComment": "2021-04-28T15:26:39Z",
                              "commentCount": 3
                         },
                         {
                              "title": "Regex exec problems in simulated IE8",
                              "description": "I've hit a strange problem while trying to add `useBuiltins: 'usage'` to an app that is forced to support IE8 as well as newer IE in IE8 compatibility mode.  I have multiple webpack entrypoints that get loaded on a single page (I know that's weird, but it's been working that way for a long time).  When I try to add core-js via babel, I find that the regex polyfill is running twice, and it seems to assume that it's only ever going to run one time.  Specifically, I'm referring to this line:  https://github.com/zloirock/core-js/blob/8b121e399ff3baa484ece5701fdd38add8d48b97/packages/core-js/internals/regexp-exec.js#L9 `nativeReplace` is assumed to always be native, and seemingly because of this assumption, IE8 in compat mode enters an infinite loop and runs out of memory down here: https://github.com/zloirock/core-js/blob/8b121e399ff3baa484ece5701fdd38add8d48b97/packages/core-js/internals/regexp-exec.js#L76 if it has already been polyfilled.  I'm not sure why, but it seems to be okay in real IE8.  For now I'm going to work on preventing this from being called twice, but I wanted to at least open the issue in case it warrants a look.  Thanks!",
                              "label": "bug",
                              "createdAt": "2021-03-25T20:42:03Z",
                              "closedAt": "2021-03-30T15:31:28Z",
                              "lastComment": "2021-03-30T23:34:56Z",
                              "commentCount": 1
                         },
                         {
                              "title": "Some Qunit.skip tests fail on Chrome",
                              "description": "Steps to reproduce:\r\n- go to the file `<project folder>\\tests\\tests.js`\r\n- change string \r\n`QUnit.skip('Unhandled rejection tracking', function(assert){`\r\nto string\r\n`QUnit.test('Unhandled rejection tracking', function(assert){`\r\n- comment line \r\nassert.expect(4)\r\n, so tests will fail on Promise, not on this line\r\n- run `<project folder>/tests/karma.conf.js` via runner (pinner image)\r\n- go to Chrome (my version is Version 89.0.4389.82) and open `http://localhost:9876/` then click debug.\r\n- open developer console -> go to Sourses  tab -> find file `base/tests/tests.js` -> find test by string: `'Unhandled rejection tracking'`\r\n- Error on string: `$promise = Promise.reject(42);` also in pinned image\r\n\r\nWill there some plans to fix it?\r\n\r\n![erro56r](https://user-images.githubusercontent.com/11044973/111468048-327d7a80-8736-11eb-8bd5-e7c315db7198.jpg)\r\n\r\n![karma-konfig](https://user-images.githubusercontent.com/11044973/111468031-2d203000-8736-11eb-9b45-427105c86ca7.png)\r\n",
                              "label": "unlabeledBug",
                              "createdAt": "2021-03-17T12:39:09Z",
                              "closedAt": "2021-03-17T13:39:01Z",
                              "lastComment": "2021-03-17T16:29:13Z",
                              "commentCount": 1
                         },
                         {
                              "title": "core-js is too big",
                              "description": "I'm writing some npm package and also would like to provide cdn version of my package.\r\n\r\nI use webpack with the following config\r\n\r\n```\r\nmodule.exports = env => ({\r\n  entry: path.resolve(__dirname, './src/index.js'),\r\n  mode: 'production',\r\n  output: {\r\n    path: path.resolve(__dirname, 'dist'),\r\n    filename: 'lib.js',\r\n    library: 'lib',\r\n    libraryTarget: 'umd',\r\n    globalObject: 'this',\r\n  },\r\n  module: {\r\n    rules: [\r\n      {\r\n        test: /\\.m?js$/,\r\n        exclude: /node_modules/,\r\n        use: {\r\n          loader: 'babel-loader',\r\n          options: {\r\n            envName: 'umd',\r\n          },\r\n        },\r\n      },\r\n    ],\r\n  }\r\n})\r\n```\r\nAnd .babelrc config\r\n```\r\n{\r\n      \"presets\": [[\"@babel/preset-env\", { \r\n        \"modules\": \"umd\",\r\n        \"useBuiltIns\": \"usage\",\r\n        \"targets\": {\r\n          \"browsers\": \"last 2 versions\"\r\n        },\r\n        \"bugfixes\": true,\r\n        \"corejs\": 3,\r\n        \"debug\": true\r\n      }]]\r\n    }\r\n```\r\n\r\nUnfortunately it produce a huge bundle size (461kb) where 185kb is core-js\r\n![image](https://user-images.githubusercontent.com/12122603/111429336-8cb01880-8701-11eb-9991-b564a569878e.png)\r\n\r\nIs there any solution how to reduce it?\r\n\r\n\r\n",
                              "label": "unlabeledBug",
                              "createdAt": "2021-03-17T07:17:24Z",
                              "closedAt": "2021-03-17T09:36:01Z",
                              "lastComment": "2021-03-17T09:37:26Z",
                              "commentCount": 1
                         },
                         {
                              "title": "Cannot create user data directory",
                              "description": "I was installing `expo-cli` as a global package, and core-js is a dependency. It failed installing correctly.\r\n```\r\nsudo npm install -g expo-cli --scripts-prepend-node-path=/snap/bin/node\r\nnpm WARN invalid config scripts-prepend-node-path=\"/snap/bin/node\"\r\nnpm WARN deprecated @hapi/joi@17.1.1: Switch to 'npm install joi'\r\nnpm WARN deprecated resolve-url@0.2.1: https://github.com/lydell/resolve-url#deprecated\r\nnpm WARN deprecated urix@0.1.0: Please see https://github.com/lydell/urix#deprecated\r\nnpm WARN deprecated chokidar@2.1.8: Chokidar 2 will break on node v14+. Upgrade to chokidar 3 with 15x less dependencies.\r\nnpm WARN deprecated fsevents@1.2.13: fsevents 1 will break on node v14+ and could be using insecure binaries. Upgrade to fsevents 2.\r\nnpm WARN deprecated core-js@2.6.12: core-js@<3 is no longer maintained and not recommended for usage due to the number of issues. Please, upgrade your dependencies to the actual version of core-js@3.\r\nnpm WARN deprecated joi@11.4.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).\r\nnpm WARN deprecated topo@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).\r\nnpm WARN deprecated hoek@4.2.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).\r\nnpm WARN deprecated @hapi/formula@2.0.0: Moved to 'npm install @sideway/formula'\r\nnpm WARN deprecated @hapi/address@4.1.0: Moved to 'npm install @sideway/address'\r\nnpm WARN deprecated @hapi/pinpoint@2.0.0: Moved to 'npm install @sideway/pinpoint'\r\nnpm WARN deprecated request@2.88.2: request has been deprecated, see https://github.com/request/request/issues/3142\r\nnpm WARN deprecated har-validator@5.1.5: this library is no longer supported\r\n/usr/local/bin/expo -> /usr/local/lib/node_modules/expo-cli/bin/expo.js\r\n/usr/local/bin/expo-cli -> /usr/local/lib/node_modules/expo-cli/bin/expo.js\r\nnpm WARN lifecycle The node binary used for scripts is /snap/bin/node but npm is using /snap/node/3790/bin/node itself. Use the `--scripts-prepend-node-path` option to include the path for the node binary npm was executed with.\r\n\r\n> core-js@2.6.12 postinstall /usr/local/lib/node_modules/expo-cli/node_modules/babel-runtime/node_modules/core-js\r\n> node -e \"try{require('./postinstall')}catch(e){}\"\r\n\r\n2021/03/01 00:35:18.959395 cmd_run.go:994: WARNING: cannot create user data directory: cannot create \"/nonexistent/snap/node/3790\": mkdir /nonexistent: permission denied\r\ncannot create user data directory: /nonexistent/snap/node/3790: Permission denied\r\nnpm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/expo-cli/node_modules/chokidar/node_modules/fsevents):\r\nnpm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {\"os\":\"darwin\",\"arch\":\"any\"} (current: {\"os\":\"linux\",\"arch\":\"x64\"})\r\nnpm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@^1.2.7 (node_modules/expo-cli/node_modules/watchpack-chokidar2/node_modules/chokidar/node_modules/fsevents):\r\nnpm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@1.2.13: wanted {\"os\":\"darwin\",\"arch\":\"any\"} (current: {\"os\":\"linux\",\"arch\":\"x64\"})\r\nnpm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@^1.2.7 (node_modules/expo-cli/node_modules/webpack-dev-server/node_modules/chokidar/node_modules/fsevents):\r\nnpm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@1.2.13: wanted {\"os\":\"darwin\",\"arch\":\"any\"} (current: {\"os\":\"linux\",\"arch\":\"x64\"})\r\nnpm WARN @pmmmwh/react-refresh-webpack-plugin@0.3.3 requires a peer of react-refresh@^0.8.2 but none is installed. You must install peer dependencies yourself.\r\nnpm WARN ajv-keywords@3.5.2 requires a peer of ajv@^6.9.1 but none is installed. You must install peer dependencies yourself.\r\n\r\nnpm ERR! code ELIFECYCLE\r\nnpm ERR! errno 1\r\nnpm ERR! core-js@2.6.12 postinstall: `node -e \"try{require('./postinstall')}catch(e){}\"`\r\nnpm ERR! Exit status 1\r\nnpm ERR! \r\nnpm ERR! Failed at the core-js@2.6.12 postinstall script.\r\nnpm ERR! This is probably not a problem with npm. There is likely additional logging output above.\r\n\r\nnpm ERR! A complete log of this run can be found in:\r\nnpm ERR!     /root/.npm/_logs/2021-02-28T22_35_19_895Z-debug.log\r\n```\r\n\r\nMy system is Ubuntu 20.04 and I'm using [node as a snap](https://github.com/nodejs/snap).\r\nI installed the snap with the node and npm environment with `sudo snap install node --classic --channel=14` if it matters.",
                              "label": "unlabeledBug",
                              "createdAt": "2021-02-28T22:41:26Z",
                              "closedAt": "2021-03-01T08:59:55Z",
                              "lastComment": "2021-03-30T10:29:47Z",
                              "commentCount": 9
                         },
                         {
                              "title": "Publish my codes using Promise.any() can't work on Chrome 85+ (with native Promise.any support)",
                              "description": "I first asked the question at [SO](https://stackoverflow.com/questions/66088525/how-do-i-polyfill-promise-any-using-babel-7) , basically my codes use `Promise.any()` and I use webpack to publish my codes to the clients who use Chrome 80 that doesn't support Promise.any() natively. So I have been trying to polyfill `Promise.any()` for them. But now with Babel 7 my published code can't event work on Chrome 85 that supports `Promise.any()` natively. \r\n\r\nBut because if I use Babel 6, the bundled code don't have any problem to work on Chrome85+, so I feel like it may be a bug.\r\n\r\nMy .bablerc\r\n\r\n```\r\n{\r\n    \"env\": {\r\n        \"production\": {\r\n            \"presets\": [\r\n                [\r\n                    \"@babel/preset-env\",\r\n                    {\r\n                        \"targets\": {\r\n                            \"browsers\": [\r\n                                \"last 5 Chrome versions\",\r\n                                \"last 3 Firefox versions\",\r\n                            ]\r\n                        },\r\n                        \"modules\": \"commonjs\",\r\n                        \"debug\": true,\r\n                        \"useBuiltIns\": \"usage\"\r\n                    }\r\n                ]\r\n            ],\r\n            \"plugins\": [\r\n                [\r\n                    \"@babel/plugin-transform-runtime\",\r\n                    {\r\n                        \"corejs\": 2,\r\n                        \"regenerator\": true\r\n                    }\r\n                ]\r\n            ]\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nMy webpack.config.js\r\n\r\n```\r\nmodule.exports = {\r\n    entry: {\r\n        index: './src/index.js'\r\n        ui:'./src/ui/index.js'\r\n    },\r\n    output: {\r\n        path: path.resolve(__dirname, './dist'),\r\n        filename: '[name].js',\r\n        libraryTarget: 'umd',\r\n        libraryExport: 'default',\r\n        umdNamedDefine: true,\r\n        library: '[name]'\r\n    },\r\n    module: {\r\n        rules: [\r\n            {\r\n                test: /\\.js$/,\r\n                exclude: /node_modules/,\r\n                use: {\r\n                    loader: 'babel-loader'\r\n                }\r\n            },\r\n   ...\r\n}\r\n```\r\n\r\nThe bebel packages I used in package.json\r\n\r\n```\r\n    \"devDependencies\": {\r\n        \"@babel/core\": \"^7.0.0\",\r\n        \"@babel/plugin-transform-runtime\": \"^7.0.0\",\r\n        \"@babel/polyfill\": \"^7.12.1\",\r\n        \"@babel/preset-env\": \"^7.0.0\",\r\n        \"@babel/runtime-corejs2\": \"^7.12.13\",\r\n        \"babel-eslint\": \"^10.0.1\",\r\n        \"babel-loader\": \"^8.0.0\",\r\n```\r\n\r\nWith those settings, when I run my published codes on Chrome 85+ I got the error  **\"Uncaught (in promise) rejected\"**.\r\nWhen I switch to Babel 6 I don't have the error, Promise.any() works.",
                              "label": "unlabeledBug",
                              "createdAt": "2021-02-08T03:15:26Z",
                              "closedAt": "2021-02-08T03:56:38Z",
                              "lastComment": "2021-06-11T05:55:33Z",
                              "commentCount": 13
                         },
                         {
                              "title": "WeakMap error in IE11",
                              "description": "Hi. I am getting the following error in IE11 when running my Webpack/Babel app:\r\n\r\n<img width=\"418\" alt=\"Screen Shot 2021-01-27 at 09 18 10\" src=\"https://user-images.githubusercontent.com/3153568/105962863-96fa5280-6080-11eb-9dff-c82e3fb41a8d.png\">\r\n\r\nIE's debugger points to line 37 of `core-js/internals/collection.js`. If I remove the `core-js/stable` import from my app, the next WeakMap occurence will throw the same error. It was my impression, however, that `core-js` was supposed polyfill WeakMap in IE\r\n\r\nI am using:\r\n- core-js 3.8.3\r\n- webpack 5.9.0\r\n- @babel/core 7.12.9 (with `/node_modules/` excluded)\r\n\r\nI `import 'core-js/stable` as the first thing in my entry point.\r\n\r\nI have tried the suggestion from [Issue 485](https://github.com/zloirock/core-js/issues/485) with no luck.",
                              "label": "unlabeledBug",
                              "createdAt": "2021-01-27T09:40:40Z",
                              "closedAt": "2021-02-01T13:23:41Z",
                              "lastComment": "2021-02-01T13:23:41Z",
                              "commentCount": 3
                         },
                         {
                              "title": "What's the best practice of babel & core-js?",
                              "description": "When I use core-js with babel, I want to try my best to reduce the output file size. So I will configure babel to import only some polyfills. First, I use `@babel/preset-env` with `useBuiltIns: usage` like this:\r\n\r\n```\r\n\"presets\": [\r\n        [\"@babel/preset-env\", {\r\n            \"modules\": false,\r\n            \"useBuiltIns\": \"usage\",\r\n            \"corejs\": 3,\r\n            \"targets\": \"ie >= 8\"\r\n        }]\r\n  ],\r\n```\r\n\r\nThanks to core-js and @babel/preset-env, this works well. But I want to use `@babel/runtime` to import some common helper functions to save more output file size:\r\n\r\n```\r\n\"presets\": [\r\n        [\"@babel/preset-env\", {\r\n            \"modules\": false,\r\n            \"useBuiltIns\": \"usage\",\r\n            \"corejs\": 3,\r\n            \"targets\": \"ie >= 8\",\r\n            \"debug\": true\r\n        }]\r\n    ],\r\n    \"plugins\": [\r\n        [\"@babel/plugin-transform-runtime\", {\r\n            \"corejs\": false\r\n        }]\r\n ]\r\n```\r\n\r\nHowever, there is a problem: when I use `corejs: false` in `@babel/plugin-transform-runtime`, some helper functions may need polyfill which I don't import with `useBuiltIns: usage`. For example, when I import a helper function : `import '@babel/runtime/helpers/asyncToGenerator';` .  With the source code of asyncToGenerator, we can see that this helper needs a Promise polyfill:\r\n\r\n```\r\n if (info.done) {\r\n    resolve(value);\r\n  } else {\r\n   // Here is a Promise\r\n    Promise.resolve(value).then(_next, _throw);\r\n  }\r\n}\r\n```\r\n\r\nHowever, If my source code doesn't have a Promise function,  then the promise polyfill won't be imported. So the runtime function will be broken is some old browsers. \r\n\r\nAnother way, if I use core-js with @babel/runtime instead of preset-env:\r\n\r\n```\r\n{\r\n    \"presets\": [\r\n        [\"@babel/preset-env\", {\r\n            \"modules\": false,\r\n            \"useBuiltIns\": \"usage\",\r\n            \"corejs\": false,\r\n            \"targets\": \"ie >= 8\"\r\n        }]\r\n    ],\r\n    \"plugins\": [\r\n        [\"@babel/plugin-transform-runtime\", {\r\n            \"corejs\": 3\r\n        }]\r\n    ]\r\n}\r\n```\r\n\r\nAs we know, @babel/runtime-corejs3 will not only polyfill runtime helpers, but also polyfill my source code. But there is also a big problem: @babel/runtime-corejs3 will ignore the target configure. So it will import all possible polyfills.\r\n\r\nSo, what's the best practice of babel and core-js? Any help will be appreciated!",
                              "label": "unlabeledBug",
                              "createdAt": "2021-01-06T08:52:56Z",
                              "closedAt": "2021-04-09T13:45:23Z",
                              "lastComment": "2021-05-25T07:53:13Z",
                              "commentCount": 4
                         },
                         {
                              "title": "String.prototype.replaceAll",
                              "description": "I'm using core-js@3.8.1 and I've noticed that `String.prototype.replaceAll` polyfill has a bug. It should support an algorithm defined by [special replacements patterns](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/replaceAll#Specifying_a_string_as_a_parameter).\r\n\r\n### POC:\r\n\r\n```js\r\n'foo.bar'.replaceAll('.', '$$$$$'); \r\n```\r\nThis call actually returns `foo$$$$$bar` but it should return `foo$$$bar` instead.",
                              "label": "unlabeledBug",
                              "createdAt": "2020-12-27T17:02:08Z",
                              "closedAt": "2021-01-02T10:40:08Z",
                              "lastComment": "",
                              "commentCount": 0
                         },
                         {
                              "title": "Security vulnerability: Insecure Randomness and Overly Permissive Message Posting Policy",
                              "description": "Hi I using babel with react application. After building my application I am running Fortify tool to scan for security vulnerabilities. In which I am getting two reports in core-js module, 1st is \"Insecure Randomness\" and 2nd is \"Overly Permissive Message Posting Policy\"\r\n\r\nSnapshot of the reports\r\n\r\n**Overly Permissive Message Posting Policy-**\r\n\r\n![image](https://user-images.githubusercontent.com/805631/100224077-56783e80-2f42-11eb-9bf7-900806d14e09.png)\r\n\r\n**Insecure Randomness-**\r\n![image](https://user-images.githubusercontent.com/805631/100224178-7f98cf00-2f42-11eb-9f8a-d22ceef002b4.png)\r\n\r\nCan you please take a look at these and let me know when these will be fixed.\r\n\r\nBabel:\r\n@babel/core\": \"^7.4.3\r\n@babel/plugin-proposal-class-properties\": \"^7.4.0\r\n@babel/plugin-transform-runtime\": \"^7.4.4\r\n@babel/polyfill\": \"^7.0.0\r\n@babel/preset-env\": \"^7.4.3\r\n@babel/preset-react\": \"^7.0.0\r\n@babel/preset-typescript\": \"^7.3.3\r\n@babel/runtime-corejs2\": \"^7.1.2\r\n@babel/runtime-corejs3\": \"^7.4.0\r\n\r\nForityfy: 19.2\r\ncore-js: 2.6.11",
                              "label": "unlabeledBug",
                              "createdAt": "2020-11-25T11:52:45Z",
                              "closedAt": "2020-11-26T05:58:46Z",
                              "lastComment": "2022-07-08T16:00:06Z",
                              "commentCount": 6
                         },
                         {
                              "title": "sb migrate doesn't work",
                              "description": "**Describe the bug**\r\nI tried to migrate from storiesOf to CSF and I had this issue. I also had the same issue when running `upgrade-hierarchy-separators`.\r\n\r\n```\r\nnpx -p @storybook/cli@next sb migrate --parser=tsx storiesof-to-csf --glob=\"**/*.stories.tsx\"\r\n=> Applying storiesof-to-csf: 57 files\r\nnpx: installed 217 in 8.391s\r\nProcessing 57 files... \r\nSpawning 11 workers...\r\nSending 6 files to free worker...\r\nSending 6 files to free worker...\r\nSending 6 files to free worker...\r\nSending 6 files to free worker...\r\nSending 6 files to free worker...\r\nSending 6 files to free worker...\r\nSending 6 files to free worker...\r\nSending 6 files to free worker...\r\nSending 6 files to free worker...\r\nSending 3 files to free worker...\r\n/Users/henrycity/.npm/_npx/72712/lib/node_modules/@storybook/cli/node_modules/core-js/internals/global.js:13\r\ncheck((typeof globalThis === \"undefined\" ? \"undefined\" : (0, _typeof2.default)(globalThis)) == 'object' && globalThis) || check((typeof window === \"undefined\" ? \"undefined\" : (0, _typeof2.default)(window)) == 'object' && window) || check((typeof self === \"undefined\" ? \"undefined\" : (0, _typeof2.default)(self)) == 'object' && self) || check((typeof global === \"undefined\" ? \"undefined\" : (0, _typeof2.default)(global)) == 'object' && global) || // eslint-disable-next-line no-new-func\r\n                                                                              ^\r\n\r\nTypeError: (0 , _typeof2.default) is not a function\r\n    at Object.<anonymous> (/Users/henrycity/.npm/_npx/72712/lib/node_modules/@storybook/cli/node_modules/core-js/internals/global.js:8:9)\r\n    at Module._compile (internal/modules/cjs/loader.js:1185:30)\r\n    at Module._compile (/Users/henrycity/.npm/_npx/72734/lib/node_modules/jscodeshift/node_modules/pirates/lib/index.js:99:24)\r\n    at Module._extensions..js (internal/modules/cjs/loader.js:1205:10)\r\n    at Object.newLoader [as .js] (/Users/henrycity/.npm/_npx/72734/lib/node_modules/jscodeshift/node_modules/pirates/lib/index.js:104:7)\r\n    at Module.load (internal/modules/cjs/loader.js:1034:32)\r\n    at Function.Module._load (internal/modules/cjs/loader.js:923:14)\r\n    at Module.require (internal/modules/cjs/loader.js:1074:19)\r\n    at require (internal/modules/cjs/helpers.js:72:18)\r\n    at Object.<anonymous> (/Users/tri.tran/.npm/_npx/72712/lib/node_modules/@storybook/cli/node_modules/core-js/internals/path.js:1:14)\r\n/Users/henrycity/.npm/_npx/72712/lib/node_modules/@storybook/cli/node_modules/core-js/internals/global.js:13\r\ncheck((typeof globalThis === \"undefined\" ? \"undefined\" : (0, _typeof2.default)(globalThis)) == 'object' && globalThis) || check((typeof window === \"undefined\" ? \"undefined\" : (0, _typeof2.default)(window)) == 'object' && window) || check((typeof self === \"undefined\" ? \"undefined\" : (0, _typeof2.default)(self)) == 'object' && self) || check((typeof global === \"undefined\" ? \"undefined\" : (0, _typeof2.default)(global)) == 'object' && global) || // eslint-disable-next-line no-new-func\r\n\r\nAll done. \r\nResults: \r\n0 errors\r\n0 unmodified\r\n0 skipped\r\n0 ok\r\n```\r\n\r\n**System** \r\n```\r\nSystem:\r\n    OS: macOS 10.15.6\r\n  Binaries:\r\n    Node: 14.0.0\r\n    npm: 6.14.4\r\n  npmPackages:\r\n    \"@storybook/addon-a11y\": \"6.0.5\",\r\n    \"@storybook/addon-actions\": \"6.0.5\",\r\n    \"@storybook/addon-docs\": \"^6.0.6\",\r\n    \"@storybook/addon-jest\": \"6.0.5\",\r\n    \"@storybook/addon-knobs\": \"6.0.5\",\r\n    \"@storybook/addon-links\": \"6.0.5\",\r\n    \"@storybook/addon-viewport\": \"6.0.5\",\r\n    \"@storybook/preset-create-react-app\": \"^3.1.4\",\r\n    \"@storybook/react\": \"6.0.5\",\r\n    \"@storybook/theming\": \"6.0.5\",\r\n    \"core-js\": \"^3.6.5\",\r\n```",
                              "label": "unlabeledBug",
                              "createdAt": "2020-08-14T11:15:56Z",
                              "closedAt": "2020-08-14T11:16:08Z",
                              "lastComment": "2020-08-14T11:16:13Z",
                              "commentCount": 1
                         },
                         {
                              "title": "IE11 - \"out of stack space\" - caused by Symbol polyfill",
                              "description": "I did read the other IE11 stack issues, but none appear to be caused by this code:\r\n\r\n![ie11-symbol-error](https://user-images.githubusercontent.com/452809/88910231-11722300-d254-11ea-9c36-6b39ef6e0f3a.jpg)\r\n\r\nI'm using Parcel2 to bundle, not Webpack.\r\n\r\nVersion of `core-js` = `3.6.4`.\r\n\r\nHere are important bits from my `package.json`:\r\n```json\r\n{\r\n    \"dependencies\": {\r\n        \"css-vars-ponyfill\": \"^2.1.2\",\r\n        \"domready\": \"^1.0.8\",\r\n        \"hoverintent\": \"^2.2.1\",\r\n        \"intersection-observer\": \"^0.10.0\",\r\n        \"mdn-polyfills\": \"^5.20.0\",\r\n        \"svg4everybody\": \"^2.1.9\",\r\n        \"what-input\": \"^5.2.7\",\r\n        \"whatwg-fetch\": \"^3.0.0\"\r\n    },\r\n    \"devDependencies\": {\r\n        \"@storybook/addon-a11y\": \"^5.3.14\",\r\n        \"@storybook/addon-docs\": \"^5.3.14\",\r\n        \"@storybook/addon-knobs\": \"^5.3.14\",\r\n        \"@storybook/html\": \"^5.3.14\",\r\n        \"@types/jquery\": \"^3.3.33\",\r\n        \"@typescript-eslint/eslint-plugin\": \"^2.21.0\",\r\n        \"@typescript-eslint/parser\": \"^2.21.0\",\r\n        \"autoprefixer\": \"^9.7.4\",\r\n        \"babel-loader\": \"^8.0.6\",\r\n        \"colors\": \"^1.4.0\",\r\n        \"eslint\": \"^6.8.0\",\r\n        \"eslint-config-airbnb-base\": \"^14.0.0\",\r\n        \"eslint-config-prettier\": \"^6.9.0\",\r\n        \"eslint-plugin-import\": \"^2.20.0\",\r\n        \"eslint-plugin-prettier\": \"^3.1.2\",\r\n        \"husky\": \"4.2.1\",\r\n        \"lint-staged\": \"^10.0.2\",\r\n        \"parcel\": \"^2.0.0-nightly.264\",\r\n        \"postcss-dir-pseudo-class\": \"^5.0.0\",\r\n        \"postcss-logical\": \"^4.0.2\",\r\n        \"prettier\": \"1.19.1\",\r\n        \"react\": \"^16.13.1\",\r\n        \"react-is\": \"^16.13.0\",\r\n        \"rimraf\": \"^3.0.1\",\r\n        \"sass\": \"^1.25.0\",\r\n        \"sass-export\": \"^1.0.6\",\r\n        \"stylelint\": \"^13.0.0\",\r\n        \"stylelint-config-prettier\": \"^8.0.1\",\r\n        \"stylelint-config-recommended-scss\": \"^4.1.0\",\r\n        \"stylelint-order\": \"^4.0.0\",\r\n        \"stylelint-prettier\": \"^1.1.2\",\r\n        \"stylelint-scss\": \"^3.13.0\",\r\n        \"typescript\": \"^3.8.2\"\r\n    },\r\n    \"browserslist\": [\r\n        \"defaults\"\r\n    ],\r\n    \"targets\": {\r\n        \"app\": {}\r\n    }\r\n}   \r\n```\r\n\r\nHere are all the polyfills I'm using in my entry point:\r\n```js\r\nimport 'core-js/es/array/from';\r\nimport 'core-js/es/string/starts-with';\r\nimport 'core-js/es/symbol';\r\nimport 'core-js/es/symbol/iterator';\r\nimport 'intersection-observer';\r\nimport 'mdn-polyfills/Node.prototype.prepend';\r\nimport 'whatwg-fetch';\r\nimport cssVars from 'css-vars-ponyfill';\r\nimport svg4everybody from 'svg4everybody';\r\n```\r\n",
                              "label": "unlabeledBug",
                              "createdAt": "2020-07-30T10:11:33Z",
                              "closedAt": "2020-07-30T12:58:13Z",
                              "lastComment": "2020-07-30T12:58:13Z",
                              "commentCount": 1
                         },
                         {
                              "title": "Importing es/reflect/set pollutes Object's prototype with `{a: 1}` in IE11",
                              "description": "Following piece of code leaves field `a` set to `1` in Object's prototype in IE11. This breaks `jquery.keyfilter` for instance and also looks strange in dev console.\r\n\r\n```javascript\r\n// MS Edge 17-18 Reflect.set allows setting the property to object\r\n// with non-writable property on the prototype\r\nvar MS_EDGE_BUG = fails(function () {\r\n  var object = definePropertyModule.f({}, 'a', { configurable: true });\r\n  // eslint-disable-next-line no-undef\r\n  return Reflect.set(getPrototypeOf(object), 'a', 1, object) !== false;\r\n});\r\n\r\n$({ target: 'Reflect', stat: true, forced: MS_EDGE_BUG }, {\r\n  set: set\r\n});\r\n```\r\n\r\n![photo_2020-07-21_19-03-45](https://user-images.githubusercontent.com/477921/88078337-06006700-cb85-11ea-8d2c-27240fd9f16a.jpg)\r\n\r\n\r\nThink it should be cleaned up right after the test with something like `delete Object.prototype.a`",
                              "label": "unlabeledBug",
                              "createdAt": "2020-07-21T15:49:35Z",
                              "closedAt": "2020-10-27T13:54:06Z",
                              "lastComment": "2020-10-27T14:03:58Z",
                              "commentCount": 4
                         },
                         {
                              "title": "IE11: Cannot refefine non-configurable property 'includes' version: ^3.6.5",
                              "description": "When using this version of core-js I get this error in IE11\r\n\r\n![Screenshot 2020-07-08 at 15 22 33](https://user-images.githubusercontent.com/24386111/86923832-d9812f80-c12e-11ea-971f-a3d4ec6a805b.png)\r\n\r\n**Package.json**\r\n`\r\n{\r\n  \"name\": \"static\",\r\n  \"version\": \"1.0.0\",\r\n  \"description\": \"\",\r\n  \"main\": \"src/App.js\",\r\n  \"scripts\": {\r\n    \"test\": \"jest\",\r\n    \"start-mock\": \"cross-env NODE_ENV=mock webpack-dev-server --open\",\r\n    \"start\": \"cross-env NODE_ENV=local webpack-dev-server --open\",\r\n    \"build\": \"cross-env NODE_ENV=production webpack -p --progress\",\r\n    \"watch\": \"aem-front -w ../ui.apps/src/main/content/jcr_root -e **/webpack.module/** -e **/*hot-update.json*\",\r\n    \"build:watch\": \"webpack -p --config webpack.config.js --display-error-details --watch && clientlib\"\r\n  },\r\n  \"author\": \"\",\r\n  \"license\": \"ISC\",\r\n  \"devDependencies\": {\r\n    \"@babel/core\": \"^7.10.4\",\r\n    \"@babel/preset-env\": \"^7.10.4\",\r\n    \"@babel/preset-react\": \"^7.10.4\",\r\n    \"babel-loader\": \"^8.1.0\",\r\n    \"babili-webpack-plugin\": \"0.0.11\",\r\n    \"bootstrap-sass\": \"^3.3.7\",\r\n    \"classnames\": \"^2.2.5\",\r\n    \"cross-env\": \"^5.2.0\",\r\n    \"css-loader\": \"^3.6.0\",\r\n    \"extract-text-webpack-plugin\": \"^3.0.2\",\r\n    \"file-loader\": \"^6.0.0\",\r\n    \"html-loader\": \"^1.1.0\",\r\n    \"html-webpack-plugin\": \"^4.3.0\",\r\n    \"image-webpack-loader\": \"^3.3.1\",\r\n    \"install\": \"^0.13.0\",\r\n    \"jest\": \"^23.6.0\",\r\n    \"jquery\": \"^3.5.1\",\r\n    \"json-server\": \"^0.16.1\",\r\n    \"mini-css-extract-plugin\": \"^0.9.0\",\r\n    \"moment\": \"^2.27.0\",\r\n    \"node-sass\": \"^4.14.1\",\r\n    \"react\": \"^16.13.1\",\r\n    \"react-dom\": \"^16.13.1\",\r\n    \"react-dotdotdot\": \"^1.0.17\",\r\n    \"react-router\": \"^4.0.0\",\r\n    \"react-router-dom\": \"^4.0.0\",\r\n    \"react-slick\": \"^0.23.1\",\r\n    \"sass\": \"^1.26.9\",\r\n    \"sass-loader\": \"^9.0.1\",\r\n    \"slick-carousel\": \"^1.8.1\",\r\n    \"style-loader\": \"^0.16.1\",\r\n    \"url-loader\": \"^4.1.0\",\r\n    \"webpack\": \"^4.43.0\",\r\n    \"webpack-cli\": \"^3.3.12\",\r\n    \"webpack-dev-server\": \"^2.11.5\"\r\n  },\r\n  \"dependencies\": {\r\n    \"@babel/plugin-proposal-decorators\": \"^7.10.4\",\r\n    \"@babel/plugin-transform-runtime\": \"^7.10.4\",\r\n    \"@babel/runtime\": \"^7.10.4\",\r\n    \"aem-front\": \"^0.3.0\",\r\n    \"autoprefixer\": \"^7.1.6\",\r\n    \"base-64\": \"^0.1.0\",\r\n    \"bootstrap\": \"^4.5.0\",\r\n    \"core-js\": \"^3.4.0\",\r\n    \"es2015\": \"0.0.0\",\r\n    \"font-awesome\": \"^4.7.0\",\r\n    \"fsevents\": \"^2.1.3\",\r\n    \"html-react-parser\": \"^0.4.7\",\r\n    \"i18next\": \"^6.0.1\",\r\n    \"i18next-browser-languagedetector\": \"^2.2.3\",\r\n    \"i18next-xhr-backend\": \"1.5.1\",\r\n    \"moment-range\": \"^4.0.1\",\r\n    \"moment-timezone\": \"^0.5.14\",\r\n    \"postcss-loader\": \"^2.0.6\",\r\n    \"prop-types\": \"latest\",\r\n    \"react-add-to-calendar\": \"^0.1.5\",\r\n    \"react-app-polyfill\": \"^1.0.6\",\r\n    \"react-bootstrap\": \"^1.0.1\",\r\n    \"react-bootstrap-date-picker\": \"^5.1.0\",\r\n    \"react-collapse\": \"^4.0.3\",\r\n    \"react-dates\": \"^21.8.0\",\r\n    \"react-i18next\": \"7.6.1\",\r\n    \"react-moment\": \"^0.6.8\",\r\n    \"react-motion\": \"^0.5.2\",\r\n    \"react-platform-js\": \"0.0.1\",\r\n    \"react-select\": \"^3.1.0\",\r\n    \"react-show-more-text\": \"^1.4.2\",\r\n    \"react-tabs\": \"^2.3.0\",\r\n    \"react-with-direction\": \"^1.3.1\",\r\n    \"utf8\": \"^2.1.2\"\r\n  }\r\n}\r\n\r\n`\r\n\r\n**babel.config.js**\r\n`\r\nmodule.exports = function (api) {\r\n    api.cache(false);\r\n    const presets = [\r\n        [ \"@babel/preset-react\"],\r\n        [\r\n            \"@babel/preset-env\",\r\n            {\r\n                \"corejs\": { \"version\":3 },\r\n                \"useBuiltIns\": \"usage\",\r\n                \"targets\": {\r\n                    \"edge\": \"17\",\r\n                    \"firefox\": \"60\",\r\n                    \"chrome\": \"67\",\r\n                    \"safari\": \"11.1\",\r\n                    \"ie\": \"11\"\r\n                }\r\n            }\r\n        ]\r\n    ];\r\n    const plugins = [\r\n        [\"@babel/plugin-proposal-decorators\",{\"decoratorsBeforeExport\":true}],\r\n        [\"@babel/plugin-proposal-class-properties\"],\r\n        [\"@babel/transform-runtime\"]];\r\n    return {\r\n        presets,\r\n        plugins\r\n    };\r\n};\r\n\r\n`",
                              "label": "unlabeledBug",
                              "createdAt": "2020-07-08T13:23:00Z",
                              "closedAt": "2020-10-27T09:41:59Z",
                              "lastComment": "2020-12-14T23:20:03Z",
                              "commentCount": 13
                         },
                         {
                              "title": "IE11: Calling delete on 'includes' is not allowed in strict mode",
                              "description": "Hello,\r\n\r\nThere seems to be a bug when running core-js on IE in strict mode:\r\n![image](https://user-images.githubusercontent.com/5055248/86816789-2bb54880-c07c-11ea-8f37-e4178b56b9d3.png)\r\n\r\nIt happens here when importing \"includes\" for Arrays:\r\nhttps://github.com/zloirock/core-js/blob/76d9bf50b1b15439366af92885c5a7a1d0ad61c6/packages/core-js/internals/redefine.js#L25\r\n\r\nto reproduce it you can:\r\n- Create a new CreateReactApp project\r\n- Install the `auth0-spa-js` library that includes `core-js`\r\n- Import `import { Auth0Client } from '@auth0/auth0-spa-js';` in the main index.js file\r\n- Run `npm start` and open the app on IE",
                              "label": "unlabeledBug",
                              "createdAt": "2020-07-07T17:20:21Z",
                              "closedAt": "2020-10-27T15:02:04Z",
                              "lastComment": "2020-10-27T15:02:04Z",
                              "commentCount": 2
                         },
                         {
                              "title": "typed-array-constructor: Cannot find module '../internals/to-offset'",
                              "description": "hi, I am getting this error when trying to use core-js: \r\n```\r\ntyped-array-constructor.js:13 Uncaught Error: Cannot find module '../internals/to-offset'\r\n    at webpackMissingModule (typed-array-constructor.js:13)\r\n```\r\nI searched for the file in the node-modules/core-js package and it's there (twice: at core-js and core-js-pure packages.. there is also a core-js-compact that I don't know why it is there)\r\nbut when I check the browser debugger, it seems to be loading \"core-js\" and in the expected folder there is no evidence of the required file! should I import it by hand, or what I am missing here? \r\n\r\nmy .babelrc: \r\n```\r\n{\r\n  \"presets\": [\r\n     [\"@babel/preset-env\", {\r\n      useBuiltIns: \"usage\", // or \"entry\"\r\n      corejs: {           version: '3.6',           proposals: false       }\r\n    }],\r\n    \"@babel/preset-react\"\r\n  ],\r\n  \"plugins\": []\r\n}\r\n```\r\nmy index.js:\r\n```\r\nimport 'core-js/stable';\r\nimport 'regenerator-runtime/runtime';\r\nrequire('./app');\r\n```\r\nmy webpack.config.js:\r\n```\r\nconst path = require('path');\r\n\r\nmodule.exports = {\r\n  entry: './src/app.js', // relative path\r\n  output: {\r\n    path: path.join(__dirname, 'public'), // absolute path\r\n    filename: 'bundle.js' // file name\r\n  },\r\n  module: {\r\n    rules: [\r\n      {\r\n        test: /\\.js$/,\r\n        exclude: /node_modules/,\r\n        loader: 'babel-loader'\r\n      }\r\n    ]\r\n  }\r\n};\r\n```\r\n..and package json:\r\n```\r\n{\r\n  \"name\": \"client\",\r\n  \"version\": \"1.0.0\",\r\n  \"description\": \"\",\r\n  \"private\": true,\r\n  \"main\": \"index.js\",\r\n  \"scripts\": {\r\n    \"test\": \"echo \\\"Error: no test specified\\\" && exit 1\",\r\n    \"watch\": \"webpack --watch\",\r\n    \"build\": \"webpack\",\r\n    \"start\": \"webpack-dev-server --open\",\r\n    \"assets\": \"cp -r ../assets ~/s3/local-medialibrary\"\r\n  },\r\n  \"author\": \"\",\r\n  \"license\": \"ISC\",\r\n  \"devDependencies\": {\r\n    \"@babel/preset-env\": \"^7.10.2\",\r\n    \"@babel/preset-react\": \"^7.10.1\",\r\n    \"eslint\": \"^6.8.0\",\r\n    \"eslint-config-airbnb\": \"^18.1.0\",\r\n    \"eslint-plugin-import\": \"^2.20.1\",\r\n    \"eslint-plugin-jsx-a11y\": \"^6.2.3\",\r\n    \"eslint-plugin-react\": \"^7.19.0\",\r\n    \"eslint-plugin-react-hooks\": \"^1.7.0\",\r\n    \"webpack\": \"^4.43.0\",\r\n    \"webpack-cli\": \"^3.3.12\",\r\n    \"webpack-dev-server\": \"^3.11.0\"\r\n  },\r\n  \"dependencies\": {\r\n    \"regenerator-runtime\": \"^0.13.5\",\r\n    \"@babel/core\": \"^7.10.2\",\r\n    \"@babel/plugin-transform-runtime\": \"^7.10.1\",\r\n    \"@babel/runtime-corejs3\": \"^7.10.2\",\r\n    \"ammo.js\": \"github:kripken/ammo.js\",\r\n    \"babel-loader\": \"^8.1.0\",\r\n    \"core-js\": \"^3.6.5\",\r\n    \"dat.gui\": \"^0.7.6\",\r\n    \"pathfinding\": \"^0.4.18\",\r\n    \"react\": \"^16.13.1\",\r\n    \"react-dom\": \"^16.13.1\",\r\n    \"stats.js\": \"^0.17.0\",\r\n    \"three\": \"^0.114.0\"\r\n  },\r\n  \"browserslist\": {\r\n    \"production\": [\r\n      \">0.2%\",\r\n      \"not dead\",\r\n      \"not op_mini all\"\r\n    ],\r\n    \"development\": [\r\n      \"last 1 chrome version\",\r\n      \"last 1 firefox version\",\r\n      \"last 1 safari version\"\r\n    ]\r\n  }\r\n}\r\n\r\n```\r\n",
                              "label": "unlabeledBug",
                              "createdAt": "2020-06-18T18:05:39Z",
                              "closedAt": "2020-10-28T10:10:38Z",
                              "lastComment": "2020-10-28T10:10:38Z",
                              "commentCount": 2
                         },
                         {
                              "title": "toFixed()",
                              "description": "Does it make sense to add the \"toFixed\" option to enter a negative parameter? I.e.\r\n```\r\n5.toFixed(-1) == \"05\";\r\n5.1.toFixed(-2) == \"005\";\r\n```\r\nThis is often required.\r\nI could do it if necessary. But do not mind if someone else.",
                              "label": "unlabeledBug",
                              "createdAt": "2020-05-23T21:42:49Z",
                              "closedAt": "2020-05-24T07:31:14Z",
                              "lastComment": "2020-05-24T07:30:53Z",
                              "commentCount": 1
                         },
                         {
                              "title": "Core-js breaks create-react-app",
                              "description": "In my terminal:\r\n`D:\\>npx create-react-app myapp                                                                                      \r\nnpx: installed 98 in 21.893s                                                                                        \r\n\r\nCreating a new React app in D:\\myapp.                                                                               \r\n\r\nInstalling packages. This might take a couple of minutes.                                                           \r\nInstalling react, react-dom, and react-scripts with cra-template...                                                 \r\n\r\n\r\n> core-js@2.6.11 postinstall D:\\myapp\\node_modules\\babel-runtime\\node_modules\\core-js                               \r\n> node -e \"try{require('./postinstall')}catch(e){}\"                                                                 \r\n\r\n\r\n> core-js@3.6.5 postinstall D:\\myapp\\node_modules\\core-js                                                           \r\n> node -e \"try{require('./postinstall')}catch(e){}\"                                                                 \r\n\r\n\r\n> core-js-pure@3.6.5 postinstall D:\\myapp\\node_modules\\core-js-pure                                                 \r\n> node -e \"try{require('./postinstall')}catch(e){}\"                                                                 \r\n\r\n+ react-scripts@3.4.1                                                                                               \r\n+ react-dom@16.13.1                                                                                                 \r\n+ cra-template@1.0.3                                                                                                \r\n+ react@16.13.1                                                                                                     \r\nadded 1613 packages from 750 contributors and audited 921730 packages in 287.89s                                    \r\n\r\n58 packages are looking for funding                                                                                 \r\n  run `npm fund` for details                                                                                        \r\n\r\nfound 1 low severity vulnerability                                                                                  \r\n  run `npm audit fix` to fix them, or `npm audit` for details      \r\n\r\n CRA installation runs smoothly until core-js and it stuck there. Only package.json, package-lock.json and node_modules folder installed.",
                              "label": "unlabeledBug",
                              "createdAt": "2020-05-11T06:01:57Z",
                              "closedAt": "2020-11-05T18:32:57Z",
                              "lastComment": "2020-08-21T12:54:44Z",
                              "commentCount": 8
                         },
                         {
                              "title": "core-js-builder would throw if no polyfill is needed after browserslist query",
                              "description": "```js\r\nconst fs = require('fs');\r\nconst filename = './my-core-js-bundle.js';\r\nrequire('core-js-builder')({\r\n  modules: ['es'],        // modules / namespaces, by default - all `core-js` modules\r\n  blacklist: [], // blacklist of modules / namespaces, by default - empty list\r\n  targets: 'chrome 80',                               // optional browserslist query\r\n  filename,              // optional target filename, if it's missed a file will not be created\r\n}).then(code => {                                  // code of result polyfill\r\nconsole.log(code);\r\n  fs.writeFileSync(filename, code);\r\n}).catch(error => {\r\n  // WebpackOptionsValidationError: Invalid configuration object. Webpack has been initialised using a configuration object that does not match the API schema.\r\n  console.error(error);\r\n});\r\n```",
                              "label": "bug",
                              "createdAt": "2020-05-08T05:42:21Z",
                              "closedAt": "2020-10-28T14:26:15Z",
                              "lastComment": "",
                              "commentCount": 0
                         },
                         {
                              "title": "Core-JS 3.6.5 results in mini-css-extract-plugin error but 2.6.11 does not",
                              "description": "I have set up my Webpack 4 config to handle `babel-loader` like this:\r\n\r\n```\r\n {\r\n      module : {\r\n        rules : [{\r\n          test : /\\.js$/,\r\n          // Some module should not be transpiled by Babel\r\n          // See https://github.com/zloirock/core-js/issues/743#issuecomment-572074215\r\n          exclude: ['/node_modules/', /\\bcore-js\\b/, /\\bwebpack\\/buildin\\b/, /@babel\\/runtime-corejs3/],\r\n          loader : \"babel-loader\",\r\n          options : {\r\n            babelrc : false,\r\n            // Fixes \"TypeError: __webpack_require__(...) is not a function\"\r\n            // https://github.com/webpack/webpack/issues/9379#issuecomment-509628205\r\n            // https://babeljs.io/docs/en/options#sourcetype\r\n            sourceType : \"unambiguous\",\r\n            presets : [\r\n              [\"@babel/preset-env\", {\r\n                // Webpack supports ES Modules out of the box and therefore doesn’t require\r\n                // import/export to be transpiled resulting in smaller builds, and better tree\r\n                // shaking. See https://webpack.js.org/guides/tree-shaking/#conclusion\r\n                modules : false,\r\n                // Adds specific imports for polyfills when they are used in each file.\r\n                // Take advantage of the fact that a bundler will load the polyfill only once.\r\n                useBuiltIns : \"usage\",\r\n                corejs : {\r\n                  version : \"3\",\r\n                  proposals : true\r\n                }\r\n              }]\r\n            ]\r\n          }\r\n        }\r\n      }\r\n    }\r\n```\r\nI expect my build to build but it does not. I get an error stating:\r\n\r\n>     Module build failed (from ./node_modules/mini-css-extract-plugin/dist/loader.js):\r\n>     TypeError: Cannot convert undefined or null to object\r\n>     at hasOwnProperty (<anonymous>)\r\n>     at module.exports.module.exports (C:\\Site\\node_modules\\css-loader\\dist\\cjs.js!C:\\Site\\src\\assets\\css\\site.css:115:25)\r\n\r\nThere is nothing wrong with the CSS file at all, and nothing at line 115 that is invalid. I know this because the same error occurs with an empty CSS file!\r\n\r\nIf I run the same build but downgrade to `core-js@2.6.11` in my `package.json` and change `corejs: { version: \"3\" }` to `corejs: { version: \"2\" }` then everything compiles fine.\r\n\r\nIn my `node_modules` and my own code I am unable to find anything that starts with `import 'core-js/es6/'` or `import 'core-js/es7/array'`. \r\n\r\nWhat is the fix for this?\r\n",
                              "label": "unlabeledBug",
                              "createdAt": "2020-05-04T18:36:38Z",
                              "closedAt": "2021-04-09T13:51:14Z",
                              "lastComment": "2020-07-09T10:45:22Z",
                              "commentCount": 3
                         },
                         {
                              "title": "Polyfill for Promise might breaks wasm on edge",
                              "description": "We might fix for `WebAssembly.instantiateStreaming`.\r\n\r\n```js\r\n(function() {\r\n\tvar proxied = WebAssembly.instantiateStreaming;\r\n\tWebAssembly.instantiateStreaming = function(response, importObject) {\r\n\t\treturn Promise.resolve(response).then(res => {\r\n\t\t\treturn proxied(res, importObject);\r\n\t\t});\r\n\t};\r\n})();\r\n```\r\n\r\nSee also https://github.com/webpack/webpack/issues/10560",
                              "label": "unlabeledBug",
                              "createdAt": "2020-04-21T05:45:24Z",
                              "closedAt": "2021-05-05T12:59:49Z",
                              "lastComment": "2021-05-05T13:30:31Z",
                              "commentCount": 7
                         },
                         {
                              "title": "TypeError: can't define property \"__core-js_shared__\": Object is not extensible",
                              "description": "Getting this error with the following rollup / babel setup:\r\n\r\n```\r\nTypeError: can't define property \"__core-js_shared__\": Object is not extensible\r\nsetGlobal set-global.js:8\r\n    <anonymous> shared-store.js:5\r\n    InnerModuleEvaluation self-hosted:1604\r\n    evaluation self-hosted:1558\r\n```\r\n\r\nrollup:\r\n```\r\nimport dotenv from 'dotenv';\r\nimport svelte from 'rollup-plugin-svelte';\r\nimport resolve from '@rollup/plugin-node-resolve';\r\nimport commonjs from '@rollup/plugin-commonjs';\r\nimport yaml from '@rollup/plugin-yaml';\r\nimport babel from 'rollup-plugin-babel';\r\nimport nodePolyfills from 'rollup-plugin-node-polyfills';\r\nimport { terser } from 'rollup-plugin-terser';\r\nimport sveltePreprocess from 'svelte-preprocess';\r\nimport postcss from 'rollup-plugin-postcss-config';\r\n\r\nconst production = !process.env.ROLLUP_WATCH;\r\n\r\ndotenv.config({\r\n    path: production ? './.env.production' : './.env',\r\n});\r\n\r\nexport default [\r\n    {\r\n        input: 'resources/assets/js/app.js',\r\n        output: {\r\n            sourcemap: true,\r\n            format: 'esm',\r\n            name: 'app',\r\n            file: 'public/js/app.js',\r\n        },\r\n        plugins: [\r\n            nodePolyfills(),\r\n            svelte({\r\n                // enable run-time checks when not in production\r\n                dev: !production,\r\n                // we'll extract any component CSS out into\r\n                // a separate file - better for performance\r\n                css: (css) => {\r\n                    css.write('public/css/bundle.css');\r\n                },\r\n                preprocess: sveltePreprocess({\r\n                    postcss: true,\r\n                    globalStyle: true,\r\n                    replace: [\r\n                        [\r\n                            /process\\.env\\.(\\w+)/g,\r\n                            (_, prop) => JSON.stringify(process.env[prop]),\r\n                        ],\r\n                    ],\r\n                }),\r\n            }),\r\n            // If you have external dependencies installed from\r\n            // npm, you'll most likely need these plugins. In\r\n            // some cases you'll need additional configuration -\r\n            // consult the documentation for details:\r\n            // https://github.com/rollup/plugins/tree/master/packages/commonjs\r\n            resolve({\r\n                browser: true,\r\n                dedupe: (importee) => importee === 'svelte' || importee.startsWith('svelte/'),\r\n                preferBuiltins: true,\r\n            }),\r\n            yaml(),\r\n            commonjs(),\r\n            babel({\r\n                extensions: ['.js', '.mjs', '.html', '.svelte'],\r\n                include: ['resources/assets/**', 'node_modules/svelte/**'],\r\n                runtimeHelpers: true,\r\n            }),\r\n            // If we're building for production (npm run build\r\n            // instead of npm run dev), minify\r\n            production && terser(),\r\n        ],\r\n        watch: {\r\n            clearScreen: false,\r\n        },\r\n    },\r\n    {\r\n        input: 'resources/assets/css/global.css',\r\n        output: {\r\n            file: 'public/css/global.css',\r\n        },\r\n        plugins: [\r\n            postcss(),\r\n        ],\r\n        watch: {\r\n            clearScreen: true,\r\n        },\r\n    },\r\n];\r\n```\r\n\r\nbabel:\r\n```\r\nmodule.exports = {\r\n    //exclude: ['node_modules/@babel/**', 'node_modules/core-js/**'],\r\n    presets: [\r\n        [\r\n            '@babel/preset-env',\r\n            {\r\n                bugfixes: true,\r\n                useBuiltIns: 'usage',\r\n                corejs: 3,\r\n            },\r\n        ],\r\n    ],\r\n    plugins: [\r\n        '@babel/plugin-syntax-dynamic-import',\r\n        '@babel/plugin-proposal-nullish-coalescing-operator',\r\n        [\r\n            '@babel/plugin-transform-runtime',\r\n            {\r\n                useESModules: true,\r\n            },\r\n        ],\r\n    ],\r\n};\r\n```\r\n\r\nI'm on Firefox 75 and Chrome 83 on macOS 10.15.4. Using core-js@3.6.5.",
                              "label": "unlabeledBug",
                              "createdAt": "2020-04-18T00:14:07Z",
                              "closedAt": "2021-04-09T14:12:51Z",
                              "lastComment": "2021-04-09T14:12:51Z",
                              "commentCount": 3
                         },
                         {
                              "title": "Remove ads or support OPEN_SOURCE_CONTRIBUTOR=true",
                              "description": "```\r\nThank you for using core-js ( https://github.com/zloirock/core-js ) for polyfilling JavaScript standard library!\r\n\r\nThe project needs your help! Please consider supporting of core-js on Open Collective or Patreon:\r\n> https://opencollective.com/core-js\r\n> https://www.patreon.com/zloirock\r\n\r\nAlso, the author of core-js ( https://github.com/zloirock ) is looking for a good job -)\r\n```\r\n\r\n[Ads are banned per npm policy](https://www.infoq.com/news/2019/08/npm-bans-package-ads/) so these shouldn't appear, but even if they do, the package should support `OPEN_SOURCE_CONTRIBUTOR` (which I am) to suppress this output.\r\n\r\nAbout to file a bug on two other projects with ads in console output.",
                              "label": "unlabeledBug",
                              "createdAt": "2020-03-17T15:06:02Z",
                              "closedAt": "2020-03-25T11:31:09Z",
                              "lastComment": "2020-03-18T12:42:54Z",
                              "commentCount": 1
                         },
                         {
                              "title": "npx create-react-app fails because of core-js update.",
                              "description": "<!--\r\n    Please note that your issue will be fixed much faster if you spend about\r\n    half an hour preparing it, including the exact reproduction steps and a demo.\r\n\r\n    If you're in a hurry or don't feel confident, it's fine to report bugs with\r\n    less details, but this makes it less likely they'll get fixed soon.\r\n\r\n    In either case, please use this template and fill in as many fields below as you can.\r\n\r\n    Note that we don't provide help for webpack questions after ejecting.\r\n    You can find webpack docs at https://webpack.js.org/.\r\n-->\r\n\r\n### Describe the bug\r\n\r\nWhen I run ``` npx create-react-app client```, it terminates while trying to update core-js, and \r\ncore-js does not update properly. \r\n\r\n### Did you try recovering your dependencies?\r\n\r\n<!--\r\n  Your module tree might be corrupted, and that might be causing the issues.\r\n  Let's try to recover it. First, delete these files and folders in your project:\r\n\r\n    * node_modules\r\n    * package-lock.json\r\n    * yarn.lock\r\n\r\n  Then you need to decide which package manager you prefer to use.\r\n  We support both npm (https://npmjs.com) and yarn (http://yarnpkg.com/).\r\n  However, **they can't be used together in one project** so you need to pick one.\r\n\r\n  If you decided to use npm, run this in your project directory:\r\n\r\n    npm install -g npm@latest\r\n    npm install\r\n\r\n  This should fix your project.\r\n\r\n  If you decided to use yarn, update it first (https://yarnpkg.com/en/docs/install).\r\n  Then run in your project directory:\r\n\r\n    yarn\r\n\r\n  This should fix your project.\r\n\r\n  Importantly, **if you decided to use yarn, you should never run `npm install` in the project**.\r\n  For example, yarn users should run `yarn add <library>` instead of `npm install <library>`.\r\n  Otherwise your project will break again.\r\n\r\n  Have you done all these steps and still see the issue?\r\n  Please paste the output of `npm --version` and/or `yarn --version` to confirm.\r\n-->\r\n\r\nC:\\mitesh\\javascriptcode\\calendar>npm --version\r\n6.14.2\r\n\r\n\r\n### Which terms did you search for in User Guide?\r\n\r\n<!--\r\n  There are a few common documented problems, such as watcher not detecting changes, or build failing.\r\n  They are described in the Troubleshooting section of the User Guide:\r\n\r\n  https://facebook.github.io/create-react-app/docs/troubleshooting\r\n\r\n  Please scan these few sections for common problems.\r\n  Additionally, you can search the User Guide itself for something you're having issues with:\r\n\r\n  https://facebook.github.io/create-react-app/\r\n\r\n  If you didn't find the solution, please share which words you searched for.\r\n  This helps us improve documentation for future readers who might encounter the same problem.\r\n-->\r\n\r\nI did not find anything similar to my output. \r\n\r\n### Environment\r\n\r\n<!--\r\n  To help identify if a problem is specific to a platform, browser, or module version, information about your environment is required.\r\n  This enables the maintainers quickly reproduce the issue and give feedback.\r\n\r\n  Run the following command in your React app's folder in terminal.\r\n  Note: The result is copied to your clipboard directly.\r\n\r\n  `npx create-react-app --info`\r\n\r\n  Paste the output of the command in the section below.\r\n-->\r\n```\r\nC:\\mitesh\\javascriptcode\\calendar\\client>npx create-react-app --info\r\n```\r\n```\r\nEnvironment Info:\r\n\r\n  current version of create-react-app: 3.4.0\r\n  running from C:\\Users\\kumarm4\\AppData\\Roaming\\npm\\node_modules\\create-react-app\r\n\r\n  System:\r\n    OS: Windows 10 10.0.18363\r\n    CPU: (12) x64 Intel(R) Core(TM) i7-8750H CPU @ 2.20GHz\r\n  Binaries:\r\n    Node: 12.16.1 - C:\\Program Files\\nodejs\\node.EXE\r\n    Yarn: Not Found\r\n    npm: 6.14.2 - C:\\Users\\kumarm4\\AppData\\Roaming\\npm\\npm.CMD\r\n  Browsers:\r\n    Edge: 44.18362.449.0\r\n    Internet Explorer: 11.0.18362.1\r\n  npmPackages:\r\n    react:  16.13.0\r\n    react-dom:  16.13.0\r\n    react-scripts: Not Found\r\n  npmGlobalPackages:\r\n    create-react-app: Not Found\r\n```\r\n\r\n### Steps to reproduce\r\n\r\n<!--\r\n  How would you describe your issue to someone who doesn’t know you or your project?\r\n  Try to write a sequence of steps that anybody can repeat to see the issue.\r\n-->\r\n\r\n\r\n1. Go to working directory. Run npm install create-react-app -g\r\n2. Run npx create-react-app client\r\n3. cd client\r\n4. npm version core-js\r\n\r\n\r\n### Expected behavior\r\n\r\n<!--\r\n  How did you expect the tool to behave?\r\n  It’s fine if you’re not sure your understanding is correct.\r\n  Just write down what you thought would happen.\r\n-->\r\ncreate-react-app client will finish and tell you to cd \r\ninto client directory. \r\n\r\nnpm version core-js will display version of core-js\r\n\r\n### Actual behavior\r\n\r\n<!--\r\n  Did something go wrong?\r\n  Is something broken, or not behaving as you expected?\r\n  Please attach screenshots if possible! They are extremely helpful for diagnosing issues.\r\n-->\r\n\r\n``` npx create-react-app client``` gives me the following output: \r\n```\r\nC:\\mitesh\\javascriptcode\\calendar>npx create-react-app client\r\n\r\nCreating a new React app in C:\\mitesh\\javascriptcode\\calendar\\client.\r\n\r\nInstalling packages. This might take a couple of minutes.\r\nInstalling react, react-dom, and react-scripts with cra-template...\r\n\r\n\r\n> core-js@2.6.11 postinstall C:\\mitesh\\javascriptcode\\calendar\\client\\node_modules\\babel-runtime\\node_modules\\core-js  > node -e \"try{require('./postinstall')}catch(e){}\"\r\n\r\nMicrosoft Windows [Version 10.0.18363.720]\r\n(c) 2019 Microsoft Corporation. All rights reserved.\r\n\r\nC:\\mitesh\\javascriptcode\\calendar\\client\\node_modules\\babel-runtime\\node_modules\\core-js>\r\n\r\n```\r\nIt places me in core-js folder. \r\n\r\nThen ``` npm install -g core-js``` gives me the following output: \r\n\r\n```\r\nC:\\mitesh\\javascriptcode\\calendar\\client>npm view core-js version\r\n3.6.4\r\n\r\nC:\\mitesh\\javascriptcode\\calendar\\client>npm install core-js -g\r\n\r\n> core-js@3.6.4 postinstall C:\\Users\\kumarm4\\AppData\\Roaming\\npm\\node_modules\\core-js\r\n> node -e \"try{require('./postinstall')}catch(e){}\"\r\n\r\nMicrosoft Windows [Version 10.0.18363.720]\r\n(c) 2019 Microsoft Corporation. All rights reserved.\r\n\r\nC:\\Users\\kumarm4\\AppData\\Roaming\\npm\\node_modules\\core-js>\r\n```\r\n\r\n\r\n### Reproducible demo\r\n\r\n<!--\r\n  If you can, please share a project that reproduces the issue.\r\n  This is the single most effective way to get an issue fixed soon.\r\n\r\n  There are two ways to do it:\r\n\r\n    * Create a new app and try to reproduce the issue in it.\r\n      This is useful if you roughly know where the problem is, or can’t share the real code.\r\n\r\n    * Or, copy your app and remove things until you’re left with the minimal reproducible demo.\r\n      This is useful for finding the root cause. You may then optionally create a new project.\r\n\r\n  This is a good guide to creating bug demos: https://stackoverflow.com/help/mcve\r\n  Once you’re done, push the project to GitHub and paste the link to it below:\r\n-->\r\n\r\nTo reproduce, do ```npm create-react-app client```. \r\nThen corrupt your core-js dependency in ```%appdata%/npm/node_modules/core-js```.\r\n(Note. I didn't corrupt my dependency myself.)\r\n\r\n\r\n``` npx create-react-app client``` gives me the following output: \r\n```\r\nC:\\mitesh\\javascriptcode\\calendar>npx create-react-app client\r\n\r\nCreating a new React app in C:\\mitesh\\javascriptcode\\calendar\\client.\r\n\r\nInstalling packages. This might take a couple of minutes.\r\nInstalling react, react-dom, and react-scripts with cra-template...\r\n\r\n\r\n> core-js@2.6.11 postinstall C:\\mitesh\\javascriptcode\\calendar\\client\\node_modules\\babel-runtime\\node_modules\\core-js  > node -e \"try{require('./postinstall')}catch(e){}\"\r\n\r\nMicrosoft Windows [Version 10.0.18363.720]\r\n(c) 2019 Microsoft Corporation. All rights reserved.\r\n\r\nC:\\mitesh\\javascriptcode\\calendar\\client\\node_modules\\babel-runtime\\node_modules\\core-js>\r\n\r\n```\r\nIt places me in core-js folder. \r\n\r\nThen ``` npm install -g core-js``` gives me the following output: \r\n\r\n```\r\nC:\\mitesh\\javascriptcode\\calendar\\client>npm view core-js version\r\n3.6.4\r\n\r\nC:\\mitesh\\javascriptcode\\calendar\\client>npm install core-js -g\r\n\r\n> core-js@3.6.4 postinstall C:\\Users\\kumarm4\\AppData\\Roaming\\npm\\node_modules\\core-js\r\n> node -e \"try{require('./postinstall')}catch(e){}\"\r\n\r\nMicrosoft Windows [Version 10.0.18363.720]\r\n(c) 2019 Microsoft Corporation. All rights reserved.\r\n\r\nC:\\Users\\kumarm4\\AppData\\Roaming\\npm\\node_modules\\core-js>\r\n```\r\n\r\n\r\n<!--\r\n  What happens if you skip this step?\r\n\r\n  We will try to help you, but in many cases it is impossible because crucial\r\n  information is missing. In that case we'll tag an issue as having a low priority,\r\n  and eventually close it if there is no clear direction.\r\n\r\n  We still appreciate the report though, as eventually somebody else might\r\n  create a reproducible example for it.\r\n\r\n  Thanks for helping us help you!\r\n-->\r\n",
                              "label": "unlabeledBug",
                              "createdAt": "2020-03-16T05:42:27Z",
                              "closedAt": "2020-06-05T23:28:18Z",
                              "lastComment": "2020-05-11T08:52:04Z",
                              "commentCount": 2
                         },
                         {
                              "title": "[IE11][Since 3.6.2] \"Calling delete on 'find' is not allowed in strict mode\"",
                              "description": "**Browser**: IE11\r\n**Compatibility Mode**: Disabled\r\n**Platform**: Windows 7\r\n**Version**: v3.6.2 - v3.6.4\r\n**Babel**: v6.26.3 (with `useBuiltins` = `false`). \r\n**Expected behavior**: `core-js` package loads without throwing any errors in IE11\r\n**Actual behavior**: `core-js` package throws an uncaught exception: `Calling delete on 'find' is not allowed in strict mode`. \r\n\r\nWe are loading core-js by prepending `core-js-bundle/minified` to our bundle as is. \r\n\r\n![image](https://user-images.githubusercontent.com/2001071/74862117-66eaf100-5300-11ea-9383-82dde595cc51.png)\r\n\r\nI've traced the error to this line: https://github.com/zloirock/core-js/blob/4546ffeca298cbccf0843e31e8af6403693ab8ae/packages/core-js/internals/redefine.js#L25\r\n\r\nAccording to the debugger, it looks like the error is thrown when it's trying to redefine the `find` method on `Array`:\r\n\r\n![image](https://user-images.githubusercontent.com/2001071/74863151-41f77d80-5302-11ea-9654-8f7e4daab7e5.png)\r\n",
                              "label": "unlabeledBug",
                              "createdAt": "2020-02-19T18:35:16Z",
                              "closedAt": "2020-10-27T16:20:28Z",
                              "lastComment": "2022-02-09T16:15:54Z",
                              "commentCount": 8
                         },
                         {
                              "title": "`setImmediate` is broken in `file://` protocols in iOS.",
                              "description": "## Background\r\n\r\nWe at @taskworld noticed that when our application is running inside Cordova, some Promise would never resolve. Instead, we’d get a weird error message on the console: “_Unable to post message to file://. Recipient has origin null._”\r\n\r\nUpon further investigation, we found that some of our 3rd-party libraries are using an outdated Promise implementation which depends on `setImmediate`. `setImmediate` is broken in Cordova, so I decided to file an issue here in `core-js`.\r\n\r\n## Investigation\r\n\r\nThis situation happens in Cordova apps,\r\n\r\n- Web application is run on `file://` protocol using Safari’s engine.\r\n\r\n- The `defer` selection logic selects `postMessage` to be used (`MessageChannel` is not used due to `IS_IOS` clause):\r\n\r\n  https://github.com/zloirock/core-js/blob/4546ffeca298cbccf0843e31e8af6403693ab8ae/packages/core-js/internals/task.js#L61-L81\r\n\r\n- The `postMessage` implementation of defer doesn’t work with `file:` protocol, it errors out with this:\r\n\r\n  ```\r\n  Unable to post message to file://. Recipient has origin null.\r\n  ```\r\n\r\n## Suggested fix\r\n\r\nIf `location.protocol === 'file:'`, fallback to alternative methods. I made a PR #771 that implements the suggested fix.\r\n\r\n## Current workaround\r\n\r\n```js\r\nrequire('core-js/stable')\r\n\r\n// `setImmediate` is currently broken on Cordova.\r\n// Falling back to `setTimeout` implementation.\r\n//\r\n// See: https://github.com/zloirock/core-js/issues/770\r\n// See also: https://developer.mozilla.org/en-US/docs/Web/API/Window/setImmediate#Notes\r\n//\r\nwindow.setImmediate = f => {\r\n  setTimeout(f, 0)\r\n}\r\n```\r\n\r\n---\r\n\r\nI investigated this issue while working on [Taskworld](https://taskworld.com/), so gotta plug that in. 😄",
                              "label": "unlabeledBug",
                              "createdAt": "2020-02-17T07:49:11Z",
                              "closedAt": "2020-03-23T09:56:42Z",
                              "lastComment": "2020-03-23T10:14:37Z",
                              "commentCount": 3
                         },
                         {
                              "title": "Promise .then().catch().then() chaining not working in IE11",
                              "description": "I have a problem with the IE11... again\r\n\r\nwhen i try to do some async task i do show a preloader in certain cases\r\n\r\nso my code will be like\r\n```\r\nshowPreloader()                 //to show my custom preloader\r\nfetch(...)                      //initiate request to server\r\n.then(...do some actionhere...)\r\n.catch(console.log)             //log errors if any\r\n.then(hidePreloader)            //hide my custom preloader\r\n```\r\nThe deal here is that regardless if the promice fails or not i want second .then() to fire. Kinda like finally clause in C#\r\n\r\nAnd of course this works in any browser except IE. This beast breaks chain after the catch() if it happens and my preloader stays on indefinelty. So is there a way to fix this so it works in IE as well?",
                              "label": "unlabeledBug",
                              "createdAt": "2020-02-14T15:47:30Z",
                              "closedAt": "2020-03-23T10:00:32Z",
                              "lastComment": "2020-03-05T18:23:12Z",
                              "commentCount": 2
                         },
                         {
                              "title": "Force override Array.prototype.reduce in Chrome 80",
                              "description": "[Apparently `reduce` is broken in Chrome 80.](https://www.reddit.com/r/angular/comments/f1ucoj/chrome_80_introduces_angular_breaking_bug)\r\n\r\nGiven that users may stay on old browser versions for unknown amounts of time, even after this is fixed ideally every website would continue including a workaround for the problem, so core-js seems like a natural place to handle it.",
                              "label": "unlabeledBug",
                              "createdAt": "2020-02-10T19:14:58Z",
                              "closedAt": "2020-02-13T01:01:59Z",
                              "lastComment": "2020-02-13T01:01:59Z",
                              "commentCount": 2
                         },
                         {
                              "title": "window.onunhandledrejection called twice",
                              "description": "Hi, in a browser environment, we have a callback defined as:\r\n\r\n`window.onunhandledrejection = ...`\r\n\r\nIn case of unhandled promise rejection, our callback is called twice.\r\nWe inspected core-js source code and the problem seems to be in `es.promise.js`:\r\n\r\n```js\r\nvar dispatchEvent = function (name, promise, reason) {\r\n  var event, handler;\r\n  if (DISPATCH_EVENT) {\r\n    event = document.createEvent('Event');\r\n    event.promise = promise;\r\n    event.reason = reason;\r\n    event.initEvent(name, false, true);\r\n    global.dispatchEvent(event);\r\n  } else event = { promise: promise, reason: reason };\r\n  if (handler = global['on' + name]) handler(event);\r\n  else if (name === UNHANDLED_REJECTION) hostReportErrors('Unhandled promise rejection', reason);\r\n};\r\n```\r\n\r\nIndeed, it seems in modern browser implementations `global.dispatchEvent(event);` calls the `window.onunhandledrejection` callback if the event type is `unhandledrejection`.\r\n\r\nTwo lines after, `if (handler = global['on' + name]) handler(event);` calls the exact same callback, as `global == window` and `'on' + name == onunhandledrejection`.\r\n\r\nDid I miss something? Is it a `core-js` bug?",
                              "label": "unlabeledBug",
                              "createdAt": "2020-01-28T16:39:05Z",
                              "closedAt": "2020-02-10T15:26:47Z",
                              "lastComment": "2020-02-10T15:26:47Z",
                              "commentCount": 1
                         },
                         {
                              "title": "IE11 + core-js@3.6.4 String.prototype.split doesn't work with regexp",
                              "description": "<img width=\"704\" alt=\"Screen Shot 2020-01-15 at 9 40 26 PM\" src=\"https://user-images.githubusercontent.com/880569/72438430-c32d9300-37df-11ea-9d16-d246cb5469c1.png\">\r\n\r\nrepo to reproduce\r\nhttps://github.com/kmsheng/core-js-bug\r\n\r\nNote that core-js was imported twice,\r\none in src/js/index.js and the other one in assets/js/default.js\r\n\r\nsimlar issue\r\nhttps://github.com/zloirock/core-js/issues/741",
                              "label": "bug",
                              "createdAt": "2020-01-15T13:42:42Z",
                              "closedAt": "2021-04-07T16:15:18Z",
                              "lastComment": "2021-09-28T23:21:04Z",
                              "commentCount": 21
                         },
                         {
                              "title": "Maps not getting loaded in Internet Explorer 11",
                              "description": "Google maps API is not showing maps and throwing error in console of Internet Explorer 11, while it is working perfectly fine in other browsers. \r\n\r\n**SCRIPT5005: String expected \r\njs(50,286)**\r\n\r\nI am using maps API version 3.14 & 3.36, but both are giving same error. Is there any known bug which is causing this issue?",
                              "label": "unlabeledBug",
                              "createdAt": "2019-12-17T00:14:55Z",
                              "closedAt": "2019-12-17T00:26:30Z",
                              "lastComment": "2019-12-17T00:26:30Z",
                              "commentCount": 1
                         },
                         {
                              "title": "Error:  node -e \"try{require('./postinstall')}catch(e){}\"",
                              "description": "Please fix this error. Three days ago, my project does not have any error. But now, it has some bug, the Popover in react-boostrap does not show where I want.\r\nWhen I install packages, the terminal show:\r\n\r\n![Screen Shot 2019-12-16 at 16 56 53](https://user-images.githubusercontent.com/20403819/70898004-5e3b1d80-2026-11ea-99b8-962a64f9412f.png)\r\n",
                              "label": "unlabeledBug",
                              "createdAt": "2019-12-16T10:06:23Z",
                              "closedAt": "2019-12-16T10:50:57Z",
                              "lastComment": "2020-09-09T07:11:31Z",
                              "commentCount": 8
                         },
                         {
                              "title": "Uncaught TypeError: inspectSource is not a function",
                              "description": "Hi,\r\nafter update core-js to version 3.4.5 I've got an error when using Promise.all() function.\r\n\r\n`\r\nUncaught TypeError: inspectSource is not a function\r\n    at Object../node_modules/core-js/internals/native-weak-map.js\r\n    at __webpack_require__\r\n    at Object../node_modules/core-js/internals/internal-state.js\r\n    at __webpack_require__\r\n    at Object../node_modules/core-js/internals/redefine.js\r\n    at __webpack_require__\r\n    at Object../node_modules/core-js/internals/export.js\r\n    at __webpack_require__\r\n    at Object../node_modules/core-js/modules/es.promise.js\r\n    at __webpack_require__\r\n`\r\n\r\nI can see that there was an 'fix' for inspectSource in 3.4.5\r\n`\r\nFixed inspectSource helper with multiple core-js copies and some related features like some edge cases of Promise feature detection\r\n`\r\n\r\nBefore this update everything worked fine.",
                              "label": "unlabeledBug",
                              "createdAt": "2019-12-06T13:06:11Z",
                              "closedAt": "2019-12-06T13:24:31Z",
                              "lastComment": "2019-12-07T14:11:29Z",
                              "commentCount": 6
                         },
                         {
                              "title": "MODULE_NOT_FOUND in @babel/cli/bin/babel.js => node_modules/core-js-compat/helpers.js:3:14)",
                              "description": "## Bug Report\r\n\r\nWe are experience errors on all our projects since a few minutes, we are still investigating\r\n\r\n**Current Behavior**\r\n\r\n`core-js` or `babel` is having issue to run babel build, this happen on all our projects that use babel and we are still investigating\r\n\r\n**Input Code**\r\n- REPL or Repo link if applicable: https://github.com/bootstrap-styled/provider\r\n\r\n```js\r\n> BABEL_ENV=production babel --out-dir lib src --copy-files\r\n\r\nError: Cannot find module './src/data'\r\nRequire stack:\r\n- /home/dka/workspace/github.com/bootstrap-styled/provider/node_modules/core-js-compat/helpers.js\r\n- /home/dka/workspace/github.com/bootstrap-styled/provider/node_modules/core-js-compat/get-modules-list-for-target-version.js\r\n- /home/dka/workspace/github.com/bootstrap-styled/provider/node_modules/@babel/preset-env/lib/polyfills/corejs3/usage-plugin.js\r\n- /home/dka/workspace/github.com/bootstrap-styled/provider/node_modules/@babel/preset-env/lib/index.js\r\n- /home/dka/workspace/github.com/bootstrap-styled/provider/node_modules/@babel/core/lib/config/files/plugins.js\r\n- /home/dka/workspace/github.com/bootstrap-styled/provider/node_modules/@babel/core/lib/config/files/index.js\r\n- /home/dka/workspace/github.com/bootstrap-styled/provider/node_modules/@babel/core/lib/index.js\r\n- /home/dka/workspace/github.com/bootstrap-styled/provider/node_modules/@babel/cli/lib/babel/options.js\r\n- /home/dka/workspace/github.com/bootstrap-styled/provider/node_modules/@babel/cli/lib/babel/index.js\r\n- /home/dka/workspace/github.com/bootstrap-styled/provider/node_modules/@babel/cli/bin/babel.js\r\n    at Function.Module._resolveFilename (internal/modules/cjs/loader.js:800:15)\r\n    at Function.Module._load (internal/modules/cjs/loader.js:693:27)\r\n    at Module.require (internal/modules/cjs/loader.js:864:19)\r\n    at require (internal/modules/cjs/helpers.js:74:18)\r\n    at Object.<anonymous> (/home/dka/workspace/github.com/bootstrap-styled/provider/node_modules/core-js-compat/helpers.js:3:14)\r\n    at Module._compile (internal/modules/cjs/loader.js:971:30)\r\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:1011:10)\r\n    at Module.load (internal/modules/cjs/loader.js:822:32)\r\n    at Function.Module._load (internal/modules/cjs/loader.js:730:14)\r\n    at Module.require (internal/modules/cjs/loader.js:864:19) {\r\n  code: 'MODULE_NOT_FOUND',\r\n  requireStack: [\r\n    '/home/dka/workspace/github.com/bootstrap-styled/provider/node_modules/core-js-compat/helpers.js',\r\n    '/home/dka/workspace/github.com/bootstrap-styled/provider/node_modules/core-js-compat/get-modules-list-for-target-version.js',\r\n    '/home/dka/workspace/github.com/bootstrap-styled/provider/node_modules/@babel/preset-env/lib/polyfills/corejs3/usage-plugin.js',\r\n    '/home/dka/workspace/github.com/bootstrap-styled/provider/node_modules/@babel/preset-env/lib/index.js',\r\n    '/home/dka/workspace/github.com/bootstrap-styled/provider/node_modules/@babel/core/lib/config/files/plugins.js',\r\n    '/home/dka/workspace/github.com/bootstrap-styled/provider/node_modules/@babel/core/lib/config/files/index.js',\r\n    '/home/dka/workspace/github.com/bootstrap-styled/provider/node_modules/@babel/core/lib/index.js',\r\n    '/home/dka/workspace/github.com/bootstrap-styled/provider/node_modules/@babel/cli/lib/babel/options.js',\r\n    '/home/dka/workspace/github.com/bootstrap-styled/provider/node_modules/@babel/cli/lib/babel/index.js',\r\n    '/home/dka/workspace/github.com/bootstrap-styled/provider/node_modules/@babel/cli/bin/babel.js'\r\n  ]\r\n}\r\nnpm ERR! code ELIFECYCLE\r\nnpm ERR! errno 1\r\nnpm ERR! @bootstrap-styled/provider@1.5.2 build:lib: `BABEL_ENV=production babel --out-dir lib src --copy-files`\r\nnpm ERR! Exit status 1\r\nnpm ERR! \r\nnpm ERR! Failed at the @bootstrap-styled/provider@1.5.2 build:lib script.\r\nnpm ERR! This is probably not a problem with npm. There is likely additional logging output above.\r\n\r\nnpm ERR! A complete log of this run can be found in:\r\nnpm ERR!     /home/dka/.npm/_logs/2019-12-02T18_02_24_436Z-debug.log\r\nnpm ERR! code ELIFECYCLE\r\nnpm ERR! errno 1\r\nnpm ERR! @bootstrap-styled/provider@1.5.2 build: `npm run build:lib && npm run build:dist`\r\nnpm ERR! Exit status 1\r\nnpm ERR! \r\nnpm ERR! Failed at the @bootstrap-styled/provider@1.5.2 build script.\r\nnpm ERR! This is probably not a problem with npm. There is likely additional logging output above.\r\n\r\nnpm ERR! A complete log of this run can be found in:\r\nnpm ERR!     /home/dka/.npm/_logs/2019-12-02T18_02_24_446Z-debug.log\r\n\r\n```\r\n\r\n**Expected behavior/code**\r\nA clear and concise description of what you expected to happen (or code).\r\n\r\n**Babel Configuration (babel.config.js, .babelrc, package.json#babel, cli command, .eslintrc)**\r\n- Filename: `babel.config.js`\r\n\r\n```js\r\nmodule.exports = {\r\n  only: [\r\n    'src',\r\n    'styleguide',\r\n  ],\r\n  presets: [\r\n    [\r\n      '@babel/preset-env',\r\n      {\r\n        modules: false,\r\n      },\r\n    ],\r\n    '@babel/preset-react',\r\n  ],\r\n  plugins: [\r\n    'styled-components',\r\n    '@babel/plugin-syntax-dynamic-import',\r\n    '@babel/plugin-syntax-import-meta',\r\n    '@babel/plugin-proposal-class-properties',\r\n    '@babel/plugin-proposal-json-strings',\r\n    [\r\n      '@babel/plugin-proposal-decorators',\r\n      {\r\n        legacy: true\r\n      }\r\n    ],\r\n  ],\r\n  env: {\r\n    production: {\r\n      plugins: [\r\n        'add-module-exports',\r\n        '@babel/plugin-transform-modules-commonjs',\r\n      ],\r\n    },\r\n    test: {\r\n      plugins: [\r\n        '@babel/plugin-transform-modules-commonjs',\r\n        'dynamic-import-node',\r\n      ],\r\n    },\r\n  },\r\n};\r\n\r\n```\r\n\r\n**Environment**\r\n<!--- Tip: Instead of filling out the questions below, you can run `npx envinfo --preset babel` and paste the result below ``` -->\r\n```\r\n\r\n```\r\n- Babel version(s): 7.7.4\r\n- Node/npm version: v13.0.1\r\n- OS: Debian buster\r\n- Monorepo: no\r\n- How you are using Babel: cli\r\n\r\n**Possible Solution**\r\n\r\nNot yet\r\n\r\n**Additional context/Screenshots**\r\nAdd any other context about the problem here. If applicable, add screenshots to help explain.\r\n",
                              "label": "unlabeledBug",
                              "createdAt": "2019-12-02T18:06:58Z",
                              "closedAt": "2019-12-02T18:19:44Z",
                              "lastComment": "2019-12-02T22:03:27Z",
                              "commentCount": 14
                         },
                         {
                              "title": "uint8-array shim breaks native Uint8Array inheritance on Safari",
                              "description": "I created the following snippet to demonstrate the issue. The code then being down leveled with babel (present-env targeting browsers >1%) and bundled with rollup.\r\n\r\nPlease find the source at https://github.com/ashi009/corejs-typedarray-bug-on-safari.\r\n\r\n```js\r\nclass A extends Uint8Array {}\r\nclass B extends Uint8Array {}\r\nconst a = new A(1);\r\nconsole.log(a instanceof A, a instanceof B, a instanceof Uint8Array);\r\n// should log true, false, true\r\n// Safari logs false, false, tru\r\n```\r\n\r\nThe final bundle looks as follow:\r\n\r\n```js\r\nvar bundle = (function () {\r\n\t'use strict';\r\n\t\r\n\t// omitted core-js modules\r\n    // omitted babel helpers\r\n\r\n\tvar A =\r\n\t/*#__PURE__*/\r\n\tfunction (_Uint8Array) {\r\n\t  _inherits(A, _Uint8Array);\r\n\r\n\t  function A() {\r\n\t    _classCallCheck(this, A);\r\n\r\n\t    return _possibleConstructorReturn(this, _getPrototypeOf(A).apply(this, arguments));\r\n\t  }\r\n\r\n\t  return A;\r\n\t}(_wrapNativeSuper(Uint8Array));\r\n\r\n\tvar B =\r\n\t/*#__PURE__*/\r\n\tfunction (_Uint8Array2) {\r\n\t  _inherits(B, _Uint8Array2);\r\n\r\n\t  function B() {\r\n\t    _classCallCheck(this, B);\r\n\r\n\t    return _possibleConstructorReturn(this, _getPrototypeOf(B).apply(this, arguments));\r\n\t  }\r\n\r\n\t  return B;\r\n\t}(_wrapNativeSuper(Uint8Array));\r\n\r\n\tvar a = new A(1);\r\n\tconsole.log(a instanceof A, a instanceof B, a instanceof Uint8Array); // should log true, false, true\r\n\t// Safari logs false, false, true\r\n\r\n\tvar babel_out = {\r\n\r\n\t};\r\n\r\n\treturn babel_out;\r\n\r\n}());\r\n```\r\n\r\nThis final bundle works fine on Chrome and Firefox. But not Safari. As Safari is ES6 compatible, so I removed all the core-js modules in babel output and bundled it again, as a result, Safari also prints the right output.\r\n\r\nThen I put core-js modules back in one by one and found the culprit is `core-js/modules/es.typed-array.uint8-array`.\r\n\r\nTo be clear, this is tested with core-js 3.3.5. Please see the package.json and yarn.lock in the linked repo for the complete dependency.\r\n",
                              "label": "bug",
                              "createdAt": "2019-10-31T08:03:39Z",
                              "closedAt": "2019-10-31T12:40:05Z",
                              "lastComment": "2019-12-02T14:10:54Z",
                              "commentCount": 1
                         },
                         {
                              "title": "`URLSearchParams` polyfill breaks `fetch`",
                              "description": "I upgraded to @vue/cli@4, which use core-js@3. And my `fetch` breaks on WeChat (based on chrome 66, as shown in UA).\r\n\r\nI'm using it like this:\r\n\r\n```javascript\r\nconst res = await fetch('/api/xxx', {\r\n    method: 'POST',\r\n    body: new URLSearchParams({ a: 'b' }),\r\n})\r\n```\r\n\r\nBefore upgrade, this will add header 'Content-Type: application/x-www-form-urlencoded;charset=UTF-8', and use 'a=b' as body. Now it just send a blank body and does not add header.\r\n\r\nI think it is because the `URLSearchParams` polyfill. `fetch` can no longer recognize the polyfill as an `URLSearchParams`. Manually adding header and converting body to string do work, however, is it possible to fix this? I think this can be hard, since we don't know how Chrome determine whether an object is an URLSearchParams",
                              "label": "bug",
                              "createdAt": "2019-10-21T07:23:52Z",
                              "closedAt": "2019-10-23T20:28:52Z",
                              "lastComment": "2021-01-23T10:24:25Z",
                              "commentCount": 12
                         },
                         {
                              "title": "IE10 - IE11 getting Unable to get property 'toString' of undefined or null reference when importing 'core-js/features/string'",
                              "description": "After I updated the core-js version from core-js 3.0.1 to 3.1 (also in newer versions) I've found the issue for IE 10 and 11 by getting error message: \r\n```Unable to get property 'toString' of undefined or null reference```\r\n\r\nAccording to IE it happens here:\r\n```\r\nvar symbolToString = typeof Symbol !== 'undefined' ? Symbol.prototype.toString : function () {\r\n  return '';\r\n};\r\n```\r\n\r\nIt happens when I put string feauture before 'string' object from yup library, like this:\r\n```\r\nimport 'core-js/features/string';\r\nimport { string as yupString } from 'yup';\r\n```\r\nBut when I try to change the places of imports, everything works fine.\r\n```\r\nimport 'core-js/features/string';\r\nimport { string as yupString } from 'yup';\r\n```\r\nMy guess is that because string object from yup somehow overlaps with core-js string feauture. But the interesting thing for me is that the previous version worked fine, and also the newer (3.1+) works with edge, chrome.\r\n\r\nI know this is nothing super important, but it looks like an interesting case\r\n\r\nThanks!\r\n\r\n",
                              "label": "bug",
                              "createdAt": "2019-08-22T14:14:15Z",
                              "closedAt": "2019-08-22T22:23:12Z",
                              "lastComment": "2019-08-22T22:22:31Z",
                              "commentCount": 2
                         },
                         {
                              "title": "TypeError from redefine.js on IE11, Mobile Safari 9",
                              "description": "A simple Hello World app, made with Svelte, bundled with Rollup, breaks when transpiled/polyfilled with Babel+core-js, but only on older browsers. So far known affected include IE 11 and Mobile Safari 9.\r\n\r\nI'm not sure what specifically in the app upsets core-js/Babel, but at least I can reliably reproduce the bug with Svelte.\r\n\r\n<details>\r\n  <summary>Stack trace</summary>\r\n\r\n  ```\r\n[Error] TypeError: Type error\r\n\ttoString (bundle.js:312:95)\r\n\ttoString (bundle.js:312:95)\r\n\t_isNativeFunction (bundle.js:11152)\r\n\t_wrapNativeSuper (bundle.js:11290)\r\n\t_wrapNativeSuper (bundle.js:11317)\r\n\t(anonymous function) (bundle.js:12708)\r\n\tGlobal Code (bundle.js:12814)\r\n```\r\n\r\n</details>\r\n\r\nA reproduction with instructions is here: https://github.com/arggh/core-js-svelte-issue\r\n\r\nThe error seems to be coming from core-js, redefine.js:\r\n\r\n```js\r\n...\r\n// add fake Function#toString for correct work wrapped methods / constructors with methods like LoDash isNative\r\n})(Function.prototype, 'toString', function toString() {\r\n  return typeof this == 'function' && getInternalState(this).source || nativeFunctionToString.call(this); // <---- this line\r\n});\r\n```\r\n\r\nI'm still wrapping my head around all the moving parts, but it seems to have something to do with Svelte extending `HTMLElement`, as that's what `this` seems to be when the `TypeError` is thrown.\r\n\r\n",
                              "label": "unlabeledBug",
                              "createdAt": "2019-08-10T22:17:40Z",
                              "closedAt": "2019-08-11T10:12:27Z",
                              "lastComment": "2019-08-11T10:12:27Z",
                              "commentCount": 2
                         },
                         {
                              "title": "Uncaught TypeError: Cannot read property 'assign' of undefined",
                              "description": "core-js will throw this ERROR when I use antd library. I find the file at \"core-js/library/fn/object/assign.js\", and I changed '../../modules/_core' into '../../../modules/_core', it will go on wheels. It's a bug?",
                              "label": "unlabeledBug",
                              "createdAt": "2019-07-20T09:44:26Z",
                              "closedAt": "2019-07-22T06:51:16Z",
                              "lastComment": "",
                              "commentCount": 0
                         },
                         {
                              "title": "bug",
                              "description": "Module not found: Error: Can't resolve '../internals/array-methods' in '/Users/ds/Desktop/test/ui-guide/node_modules/core-js/internals'\r\n\r\nin internals/array-for-each.js not find this file.\r\n\r\nvar internalForEach = require('../internals/array-methods')(0);",
                              "label": "unlabeledBug",
                              "createdAt": "2019-07-18T06:27:56Z",
                              "closedAt": "2019-07-18T10:33:21Z",
                              "lastComment": "2019-07-18T10:33:21Z",
                              "commentCount": 2
                         },
                         {
                              "title": "Opera Presto: Uint8ClampedArray.prototype.__proto__ ",
                              "description": "Any attempts to write to \"Uint8ClampedArray.prototype.__ proto __\" on opera presto, which includes versions 12.x of the browser, causes an immediate crash. The problem happens in the file \r\n\r\n./packages/core-js/internals/array-buffer-view-core.js\r\n\r\non the lines,\r\n\r\n```javascript\r\nif (global[NAME]) setPrototypeOf(global[NAME].prototype, TypedArrayPrototype);\r\n```\r\n\r\nand\r\n\r\n```javascript\r\nsetPrototypeOf(Uint8ClampedArrayPrototype, TypedArrayPrototype);\r\n```\r\n\r\nDue to my lack of familiarity with your code, its philosophy and architecture, I refrain from offering my own fix. An educated guess tells me that this will likely require an explicit detection of presto due to the nature of the bug, which is what I have done for my own copy of the library.",
                              "label": "unlabeledBug",
                              "createdAt": "2019-07-14T13:38:14Z",
                              "closedAt": "2019-07-30T20:58:22Z",
                              "lastComment": "2019-08-10T01:05:45Z",
                              "commentCount": 4
                         },
                         {
                              "title": "Promise polyfill is used in firefox even with useNative set",
                              "description": "I have to following imports at my entry point but the promise polyfill is still loaded.\r\n\r\n```\r\nimport configurator from 'core-js/configurator'\r\nconfigurator({ useNative: ['Promise'] })\r\nimport 'core-js/es/promise'\r\n```\r\n\r\nI understand that firefox doesn't have a full promise implantation, but it's fine for my needs. As I understood it setting `useNative` should cause the promise polyfill to only be loaded if there's no native implementation regardless of the correctness of that implementation.",
                              "label": "bug",
                              "createdAt": "2019-06-21T03:25:58Z",
                              "closedAt": "2019-06-21T08:23:54Z",
                              "lastComment": "2019-06-21T15:47:55Z",
                              "commentCount": 5
                         },
                         {
                              "title": "Promise.prototype.finally polyfill not applying to async functions",
                              "description": "I spotted an issue with using native async functions with the `Promise.prototype.finally` polyfill. The issue comes about when using `core-js` in conjunction with `@babel/preset-env` with a browser that supports native async functions but not `Promise.prototype.finally` (e.g. Edge 17). It appears that the global `Promise` object is polyfilled but the `Promise` returned from an async function is not.\r\n\r\n**Repo with example to reproduce**: https://github.com/vetruvet/async-finally-promise-bug\r\nIn that repo, `master` has a demo of the issue (open in Edge to see it fail).\r\n\r\nInterestingly, simply setting `Promise.prototype.finally` to a dummy function propagates that function to the `Promise` returned by async functions (`not-a-polyfill-demo` branch in the above repo demonstrates this). Obviously the callback passed in does not get called but the intention is to demonstrate that setting `finally` on `Promise.prototype` affects the promise returned by async functions.\r\n\r\nI am currently working around the bug in a hacky way (`workaround` branch in the above repo) by copying `finally` to the async function's `Promise` prototype and that seems to be working but obviously I think there should be a proper fix for this.\r\n\r\nAlso of note is that `try { await ...; } catch (e) { ... } finally { ... }` works just fine in Edge, just not calling `.finally(...)` on the return value of an async function.",
                              "label": "unlabeledBug",
                              "createdAt": "2019-06-20T00:00:11Z",
                              "closedAt": "2019-07-30T21:02:00Z",
                              "lastComment": "2019-11-24T21:57:17Z",
                              "commentCount": 5
                         },
                         {
                              "title": "core-js@3 adds es.promise when esmodules target is set to true",
                              "description": "When using `@babel/preset-env` with core-js@2 it doesn't include es.promise when we set the target options to `esmodules: true`.\r\n\r\n```json\r\n{\r\n  \"presets\": [\r\n    [\r\n      \"@babel/preset-env\",\r\n      {\r\n        \"useBuiltIns\": \"usage\",\r\n        \"corejs\": 2,\r\n        \"targets\": {\r\n          \"esmodules\": true\r\n        }\r\n      }\r\n    ]\r\n  ]\r\n}\r\n```\r\n\r\nCore-js@2 target list:\r\nhttps://github.com/babel/babel/blob/a596da28220b69df6265192d1ca788e6b9ca67aa/packages/babel-preset-env/data/corejs2-built-ins.json#L947-L957\r\n\r\nWhen switching to corejs 3. es.promise is being added as a polyfill because it's browser compat is different from version 2. This makes esmodules=true pretty useless. It seems like promises are pretty flawed because of a bug in v8 but not sure why safari 11 is targetted. I wonder if we should lower it for the sake of keeping esmodules valuable. With es.promise set, no one is going to use the esmodules shorthand.\r\nhttps://github.com/zloirock/core-js/blob/b843714cf3f772c798632e118b0c45167d6ba5d1/packages/core-js-compat/src/data.js#L691-L695\r\n\r\nThe buug in v8: https://bugs.chromium.org/p/chromium/issues/detail?id=830565\r\n\r\nI think core-js should stick to compat tables and not care to much about browser bugs but that's just my opinion.\r\n\r\nAnother option might be to add an option to @babel/preset-env to disable checks for browser bugs. Whenever a new bug comes up we might need retarget these polyfills to chrome 75 and lots of browsers will get unecessary polyfills.\r\n",
                              "label": "unlabeledBug",
                              "createdAt": "2019-05-26T09:45:05Z",
                              "closedAt": "2019-05-26T11:10:55Z",
                              "lastComment": "2019-05-26T11:16:10Z",
                              "commentCount": 6
                         },
                         {
                              "title": "undefined is not a function (evaluating '$GOPS.f(toObject(it))')",
                              "description": "I am getting the following exception with react-native due to the following change https://github.com/zloirock/core-js/pull/539 in core-js 2.6.6.\r\n\r\nThis only happens on Android running on the device. If I debug the app with chrome, the crash does not happen.\r\n\r\nFixing the version of core-js to 2.6.5 resolved the issue.\r\n\r\n![Screenshot (20 May 2019 18_29_10)](https://user-images.githubusercontent.com/29772229/58038018-21aa5080-7b2f-11e9-90b9-c693f1aba693.png)\r\n\r\n**package.json**\r\n```\r\n{\r\n  \"name\": \"@shoutem/platform\",\r\n  \"version\": \"1.8.1\",\r\n  \"scripts\": {\r\n    \"start\": \"node node_modules/react-native/local-cli/cli.js start\",\r\n    \"setup\": \"cd scripts && yarn install\",\r\n    \"lint\": \"eslint .\",\r\n    \"configure\": \"node scripts/configure\",\r\n    \"bundle\": \"node scripts/bundle\",\r\n    \"build\": \"node scripts/build\"\r\n  },\r\n  \"dependencies\": {\r\n    \"@shoutem/animation\": \"~0.12.3\",\r\n    \"@shoutem/core\": \"0.2.7\",\r\n    \"@shoutem/redux-composers\": \"0.1.4\",\r\n    \"@shoutem/redux-io\": \"3.0.1-beta.3\",\r\n    \"@shoutem/theme\": \"~0.11.3\",\r\n    \"@shoutem/ui\": \"~0.23.12\",\r\n    \"@shoutem/ui-addons\": \"~0.0.30\",\r\n    \"babel-preset-es2015\": \"~6.24.1\",\r\n    \"es6-symbol\": \"3.1.1\",\r\n    \"lodash\": \"~4.17.4\",\r\n    \"moment\": \"2.22.2\",\r\n    \"prop-types\": \"15.6.0\",\r\n    \"react\": \"16.4.1\",\r\n    \"react-native\": \"0.56.0\",\r\n    \"react-redux\": \"~5.0.2\",\r\n    \"redux\": \"~3.6.0\",\r\n    \"redux-action-buffer\": \"~1.0.1\",\r\n    \"redux-api-middleware\": \"2.0.1\",\r\n    \"redux-logger\": \"2.6.1\",\r\n    \"redux-persist\": \"4.1.0\",\r\n    \"redux-thunk\": \"~2.0.0\",\r\n    \"whatwg-fetch\": \"1.0.0\",\r\n    \"seblau.auth\": \"file:extensions/seblau.auth/app\",\r\n    \"seblau.callisto\": \"file:extensions/seblau.callisto/app\",\r\n    \"seblau.camera\": \"file:extensions/seblau.camera/app\",\r\n    \"seblau.fbnewsfeed\": \"file:extensions/seblau.fbnewsfeed/app\",\r\n    \"seblau.firebase\": \"file:extensions/seblau.firebase/app\",\r\n    \"seblau.form-builder\": \"file:extensions/seblau.form-builder/app\",\r\n    \"seblau.helloagain\": \"file:extensions/seblau.helloagain/app\",\r\n    \"seblau.ibeacon\": \"file:extensions/seblau.ibeacon/app\",\r\n    \"seblau.invoice\": \"file:extensions/seblau.invoice/app\",\r\n    \"seblau.leaderboard\": \"file:extensions/seblau.leaderboard/app\",\r\n    \"seblau.loyalty\": \"file:extensions/seblau.loyalty/app\",\r\n    \"seblau.messaging-center\": \"file:extensions/seblau.messaging-center/app\",\r\n    \"seblau.page\": \"file:extensions/seblau.page/app\",\r\n    \"seblau.ratings\": \"file:extensions/seblau.ratings/app\",\r\n    \"seblau.sportgigant\": \"file:extensions/seblau.sportgigant/app\",\r\n    \"seblau.web-view\": \"file:extensions/seblau.web-view/app\",\r\n    \"shoutem.about\": \"file:extensions/shoutem.about/app\",\r\n    \"shoutem.analytics\": \"file:extensions/shoutem.analytics/app\",\r\n    \"shoutem.application\": \"file:extensions/shoutem.application/app\",\r\n    \"shoutem.cms\": \"file:extensions/shoutem.cms/app\",\r\n    \"shoutem.favorites\": \"file:extensions/shoutem.favorites/app\",\r\n    \"shoutem.flurry-analytics\": \"file:extensions/shoutem.flurry-analytics/app\",\r\n    \"shoutem.i18n\": \"file:extensions/shoutem.i18n/app\",\r\n    \"shoutem.layouts\": \"file:extensions/shoutem.layouts/app\",\r\n    \"shoutem.navigation\": \"file:extensions/shoutem.navigation/app\",\r\n    \"shoutem.persist\": \"file:extensions/shoutem.persist/app\",\r\n    \"shoutem.preview\": \"file:extensions/shoutem.preview/app\",\r\n    \"shoutem.rubicon-theme\": \"file:extensions/shoutem.rubicon-theme/app\",\r\n    \"shoutem.sub-navigation\": \"file:extensions/shoutem.sub-navigation/app\",\r\n    \"shoutem.theme\": \"file:extensions/shoutem.theme/app\",\r\n    \"shoutem.web-view\": \"file:extensions/shoutem.web-view/app\"\r\n  },\r\n  \"resolutions\": {\r\n    \"react-native/**/stacktrace-parser\": \"0.1.4\",\r\n    \"core-js\": \"2.6.5\"\r\n  },\r\n  \"devDependencies\": {\r\n    \"@shoutem/build-tools\": \"file:scripts/helpers\",\r\n    \"babel\": \"~6.3.26\",\r\n    \"babel-eslint\": \"~6.0.4\",\r\n    \"babel-jest\": \"23.2.0\",\r\n    \"babel-plugin-transform-decorators-legacy\": \"~1.3.4\",\r\n    \"babel-preset-react-native\": \"^5.0.1\",\r\n    \"eslint\": \"~2.9.0\",\r\n    \"eslint-config-airbnb\": \"~8.0.0\",\r\n    \"eslint-plugin-import\": \"~1.6.1\",\r\n    \"eslint-plugin-jsx-a11y\": \"~1.0.4\",\r\n    \"eslint-plugin-react\": \"~5.0.1\",\r\n    \"eslint-plugin-react-native\": \"~1.0.2\",\r\n    \"jest\": \"23.1.0\",\r\n    \"react-test-renderer\": \"16.4.1\"\r\n  },\r\n  \"jest\": {\r\n    \"preset\": \"react-native\"\r\n  }\r\n}\r\n```",
                              "label": "unlabeledBug",
                              "createdAt": "2019-05-20T16:44:09Z",
                              "closedAt": "2019-05-20T20:25:01Z",
                              "lastComment": "2019-05-20T20:25:01Z",
                              "commentCount": 2
                         },
                         {
                              "title": "Cannot find module in core-js when running from NPX",
                              "description": "Before the latest change, all was fine, but now if I try to run `npx bolt --version` on CircleCI I get this error pointing at your package.\r\n\r\nI know you had a recent change around postinstall and I know this isn't a bolt issue because it happens with other packages that have core-js as a dependency too.\r\n\r\n```\r\ninternal/modules/cjs/loader.js:583\r\n    throw err;\r\n    ^\r\n\r\nError: Cannot find module '/root/.npm/_npx/51/lib/node_modules/bolt/node_modules/core-js/scripts/postinstall'\r\n    at Function.Module._resolveFilename (internal/modules/cjs/loader.js:581:15)\r\n    at Function.Module._load (internal/modules/cjs/loader.js:507:25)\r\n    at Function.Module.runMain (internal/modules/cjs/loader.js:742:12)\r\n    at startup (internal/bootstrap/node.js:266:19)\r\n    at bootstrapNodeJSCore (internal/bootstrap/node.js:596:3)\r\nnpm ERR! code ELIFECYCLE\r\nnpm ERR! errno 1\r\nnpm ERR! core-js@2.6.6 postinstall: `node scripts/postinstall`\r\nnpm ERR! Exit status 1\r\nnpm ERR! \r\nnpm ERR! Failed at the core-js@2.6.6 postinstall script.\r\nnpm ERR! This is probably not a problem with npm. There is likely additional logging output above.\r\n\r\nnpm ERR! A complete log of this run can be found in:\r\nnpm ERR!     /root/.npm/_logs/2019-05-20T09_53_15_750Z-debug.log\r\nInstall for bolt@0.22.5 failed with code 1\r\nExited with code 1\r\n```",
                              "label": "unlabeledBug",
                              "createdAt": "2019-05-20T10:11:33Z",
                              "closedAt": "2019-05-21T21:53:16Z",
                              "lastComment": "2019-05-28T13:29:40Z",
                              "commentCount": 18
                         },
                         {
                              "title": "Symbol exception in IE11 again @ 3.1.0",
                              "description": "i use rollup + babel@7 + core-js for bundling my web app,\r\nafter update core-js from 3.0.1 to 3.1.0, i got a new symbol exception .\r\n\r\n@ core-js/packages/core-js/modules/es.symbol.js :\r\n```\r\n$export({ target: 'Object', stat: true, forced: fails(function () { getOwnPropertySymbolsModule.f(1); }) }, {\r\n  getOwnPropertySymbols: function getOwnPropertySymbols(it) {\r\n    return getOwnPropertySymbolsModule.f(toObject(it));\r\n  }\r\n});\r\n```\r\n\"getOwnPropertySymbolsModule\" equals undefined, which import from:\r\n`var getOwnPropertySymbolsModule = require('../internals/object-get-own-property-symbols');`\r\n\r\nthere was a similar exception with 3.0.0, but fixed in 3.0.1.\r\n[https://github.com/zloirock/core-js/issues/513](url)",
                              "label": "unlabeledBug",
                              "createdAt": "2019-05-20T08:44:32Z",
                              "closedAt": "2019-05-20T11:18:03Z",
                              "lastComment": "2019-05-21T02:51:57Z",
                              "commentCount": 7
                         },
                         {
                              "title": "RegExp.toString gives incorrect result without RegExp.flags",
                              "description": "The `RegExp.toString` polyfill creates invalid patterns in the form `/a/undefined` unless the browser either supports `RegExp.flags` natively or that is also polyfilled. This is an issue when trying to use targetted imports as created by the `@babel/preset-env` setting `useBuiltIns: 'usage'`.\r\n\r\nFrom the compat data, this is a problem for browsers like IE 11 and Edge, as Chrome/Firefox and so on have had native support for a while:\r\nhttps://github.com/zloirock/core-js/blob/v3.0.1/packages/core-js-compat/src/data.js#L786\r\n\r\nTracking this down took a while, so I created minimal-ish project that reproduces the problem for demonstration:\r\nhttps://github.com/zegami/test_core_regexp",
                              "label": "bug",
                              "createdAt": "2019-04-26T14:28:16Z",
                              "closedAt": "2019-05-10T19:40:05Z",
                              "lastComment": "2019-04-26T15:44:58Z",
                              "commentCount": 1
                         },
                         {
                              "title": "no files in core-js@3.0.1",
                              "description": "I can't find any files in **node_modules/core-js/** folder when I update to 3.0.1, do I have to update my babel config or do something to fix it?",
                              "label": "unlabeledBug",
                              "createdAt": "2019-04-19T08:10:05Z",
                              "closedAt": "2019-04-19T08:50:15Z",
                              "lastComment": "2019-04-19T08:50:15Z",
                              "commentCount": 2
                         },
                         {
                              "title": "WeakSet es6 test failed: WeakSet.prototype isn't an instance",
                              "description": "Hello!\r\nI'm interested whether someone else run into this problem as well.\r\nIn core-js@2.6.5 the following test is failing\r\nhttp://kangax.github.io/compat-table/es6/#test-WeakSet_WeakSet.prototype_isn't_an_instance\r\n\r\nAccording to the matrix it should work with babel-7 and core-js 2 and 3.\r\n\r\nThe test code:\r\n\r\n```\r\nnew WeakSet();\r\nvar obj = {};\r\ntry {\r\n  WeakSet.prototype.has(obj);\r\n}\r\ncatch(e) {\r\n  return true;\r\n}\r\n```\r\n\r\nIt should throw an error (sth like `TypeError: Method WeakSet.prototype.has called on incompatible receiver #<WeakSet>` and the same as `Set` is throwing).\r\n\r\nI don’t know what’s the rationale behind this check and how relevant it is.\r\n\r\nHowever, on IE11 with core-js loaded `Set` is throwing the exception while `WeakSet` is not. It returns `false` (I mean `WeakSet.prototype.has(obj) === false`).\r\n\r\n\r\nTo me it looks like a bug in core-js WeakSet polyfill.\r\n\r\n\r\nCheers!",
                              "label": "unlabeledBug",
                              "createdAt": "2019-04-10T16:00:12Z",
                              "closedAt": "2019-04-10T18:31:04Z",
                              "lastComment": "2019-04-11T08:15:14Z",
                              "commentCount": 3
                         },
                         {
                              "title": "[core-js-compat] Edge implementation of Number.toFixed()",
                              "description": "Is there a major issue in edge implementation of Number.toFixed() ? I don't understand why it is polyfilled\r\nhttps://github.com/zloirock/core-js/blob/19907822d054bc2b57d70cc5e6d510cac2fcdac5/packages/core-js-compat/src/data.js#L510-L514\r\n",
                              "label": "unlabeledBug",
                              "createdAt": "2019-04-08T11:17:41Z",
                              "closedAt": "2019-04-08T13:14:57Z",
                              "lastComment": "2019-04-08T13:14:57Z",
                              "commentCount": 2
                         },
                         {
                              "title": "Typo in AgregateError?",
                              "description": "I just read the announcement for `v3.0.0-beta.17` and I'm afraid there's a typo here: \r\n`- Added AgregateError for Promise.any rejections.`\r\n\r\nShouldn't it be `AggregateError` (note the two `g`) instead?\r\n\r\nThis does seem to not only affect the release notes but the implementation, too.\r\n\r\n(Note that I'm not a native english speaker, though)",
                              "label": "bug",
                              "createdAt": "2019-03-09T21:43:09Z",
                              "closedAt": "2019-03-09T22:08:27Z",
                              "lastComment": "2019-03-09T21:58:09Z",
                              "commentCount": 2
                         },
                         {
                              "title": "Updates to String.prototype.replace doesn't handle $ in replacement value without capture group",
                              "description": "The recent updates to String.prototype.replace are causing issues when a replacement without a capture group starts with a $. \r\n\r\nI was specifically seeing this in Safari 12 but didn't dig in on that front beyond knowing that it wasn't affecting Chrome.\r\n\r\n```javascript\r\nChrome: '{price} Retail'.replace(/{price}/g, '$25.00') == '$25.00 Retail'\r\nSafari: '{price} Retail'.replace(/{price}/g, '$25.00') == '5.00 Retail'\r\n```\r\n\r\nVersion: 2.6.1",
                              "label": "bug",
                              "createdAt": "2019-01-07T15:55:11Z",
                              "closedAt": "2020-01-10T12:23:02Z",
                              "lastComment": "2019-09-04T20:46:48Z",
                              "commentCount": 3
                         },
                         {
                              "title": "core-js broke old js methods",
                              "description": "## Bug Report\r\n\r\nForewords: We change old pages based on extjs (3,5,6 versions) to React pages. We create in parts a header, footer, etc. and it should be work in ie11. Yes, it's works, but brokes dropdown menus from extjs, or something else.\r\n\r\n**Current Behavior**\r\nWhen i build project with @babel/polyfill/noConflict in webpack(i have many entry), all works fine, but in ie11 it brokes extjs3 framework.\r\n\r\n**Expected behavior/code**\r\nWhen i build a project, i have working react parts and extjs parts.\r\n\r\n**Babel Configuration (.babelrc, package.json, cli command)**\r\n\r\n```js\r\n//babelrc\r\n{\r\n  \"presets\": [\r\n    [\r\n      \"@babel/preset-env\",\r\n      {\r\n        \"targets\": {\r\n          \"ie\": 11\r\n        },\r\n        \"modules\": \"commonjs\",\r\n        \"useBuiltIns\": \"usage\",\r\n        \"debug\": false\r\n      }\r\n    ],\r\n    \"@babel/preset-react\"\r\n  ],\r\n  \"env\": {\r\n    \"test\": {\r\n      \"presets\": [\r\n        \"@babel/preset-env\",\r\n        \"@babel/preset-react\"\r\n      ],\r\n      \"plugins\": [\r\n        \"@babel/plugin-proposal-class-properties\",\r\n        \"@babel/plugin-proposal-object-rest-spread\",\r\n        \"@babel/plugin-transform-react-jsx\",\r\n        \"@babel/plugin-syntax-dynamic-import\",\r\n        \"react-hot-loader/babel\"\r\n      ]\r\n    }\r\n  },\r\n  \"plugins\": [\r\n    \"@babel/plugin-proposal-class-properties\",\r\n    \"@babel/plugin-proposal-object-rest-spread\",\r\n    \"@babel/plugin-transform-react-jsx\",\r\n    \"@babel/plugin-syntax-dynamic-import\",\r\n    \"react-hot-loader/babel\"\r\n  ]\r\n}\r\n//webpack\r\nmodule.exports = {\r\n    entry: {\r\n        mainApp: ['@babel/polyfill/noConflict', './main/app/src/mainApp/src/index.js'],\r\n        header: ['@babel/polyfill/noConflict', './main/app/src/components/header/src/index.js'],\r\n        footer: ['@babel/polyfill/noConflict', './main/app/src/components/footer/src/index.js'],\r\n        adminLeftMenu: ['@babel/polyfill/noConflict', './main/app/src/components/leftMenu/src/index.js']\r\n    },\r\n    module: {\r\n        rules: [\r\n            {\r\n                test: /\\.css$/,\r\n                use: 'css-loader/locals'\r\n            },\r\n            {\r\n                test: /\\.(js|jsx)$/,\r\n                exclude: /node_modules/,\r\n                include: path.join(__dirname, 'main'),\r\n                loader: require.resolve('babel-loader'),\r\n                options: {\r\n                    cacheDirectory: true,\r\n                    plugins: ['react-hot-loader/babel']\r\n                }\r\n            },\r\n            {\r\n                test: /\\.(js|jsx|mjs)$/,\r\n                loader: 'prettier-loader',\r\n                exclude: /node_modules/,\r\n                options: require('./prettier.config')\r\n            },\r\n            {\r\n                test: /\\.(jpg|png)$/,\r\n                use: {\r\n                    loader: \"url-loader\",\r\n                    options: {\r\n                        limit: 25000,\r\n                    },\r\n                },\r\n            }\r\n        ]\r\n    },\r\n    output: {\r\n        path: path.join(__dirname, '../target/dist'),\r\n        filename: '[name].js',\r\n        chunkFilename: '[name].chunk.js',\r\n        publicPath: '/ui/react/dist/'\r\n    },\r\n}\r\n```\r\n\r\n**Environment**\r\n- Babel version(s): [ v7.0.0]\r\n- Node/npm version: [e.g. Node 10.14.2/npm 6.5.0]\r\n- OS: [e.g. Ubuntu 14.04, Windows 10]\r\n- How you are using Babel: [`loader`]\r\n\r\nI work with extJS3 and React (we rewrite old modules based on extJS into reactJS) and i have problem form `_iter-define.js` when i polyfill React with babel. \r\n\r\nIt was in extJS:\r\n```js\r\nnew function(values, parent) {\r\n  with (values) {\r\n    return values;\r\n  }\r\n}();\r\n```\r\nhas become in extJS:\r\n```js\r\nnew function(values, parent) {\r\n  return values;\r\n}();\r\n```\r\nall it comes from (in production mode):\r\n```js\r\ne.exports = function(e, t, n, _, h, m, v) {\r\n  s(n, t, _);\r\n  var y,\r\n    g,\r\n    M,\r\n    b = function(e) {\r\n      if (!f && e in O) return O[e];\r\n      switch (e) {\r\n        case \"keys\":\r\n        case \"values\":\r\n          return function() {\r\n            return new n(this, e);\r\n          };\r\n      }\r\n      return function() {\r\n        return new n(this, e);\r\n      };\r\n    };\r\n};\r\n```\r\n\r\nand it work's from `_iter-define.js`\r\n\r\n```js\r\n'use strict';\r\nvar LIBRARY = require('./_library');\r\nvar $export = require('./_export');\r\nvar redefine = require('./_redefine');\r\nvar hide = require('./_hide');\r\nvar Iterators = require('./_iterators');\r\nvar $iterCreate = require('./_iter-create');\r\nvar setToStringTag = require('./_set-to-string-tag');\r\nvar getPrototypeOf = require('./_object-gpo');\r\nvar ITERATOR = require('./_wks')('iterator');\r\nvar BUGGY = !([].keys && 'next' in [].keys()); // Safari has buggy iterators w/o `next`\r\nvar FF_ITERATOR = '@@iterator';\r\nvar KEYS = 'keys';\r\nvar VALUES = 'values';\r\n\r\nvar returnThis = function () { return this; };\r\n\r\nmodule.exports = function (Base, NAME, Constructor, next, DEFAULT, IS_SET, FORCED) {\r\n  $iterCreate(Constructor, NAME, next);\r\n  var getMethod = function (kind) {\r\n    if (!BUGGY && kind in proto) return proto[kind];\r\n    switch (kind) {\r\n      case KEYS: return function keys() { return new Constructor(this, kind); };\r\n      case VALUES: return function values() { return new Constructor(this, kind); };\r\n    } return function entries() { return new Constructor(this, kind); };\r\n  };\r\n  var TAG = NAME + ' Iterator';\r\n  var DEF_VALUES = DEFAULT == VALUES;\r\n  var VALUES_BUG = false;\r\n  var proto = Base.prototype;\r\n  var $native = proto[ITERATOR] || proto[FF_ITERATOR] || DEFAULT && proto[DEFAULT];\r\n  var $default = $native || getMethod(DEFAULT);\r\n  var $entries = DEFAULT ? !DEF_VALUES ? $default : getMethod('entries') : undefined;\r\n  var $anyNative = NAME == 'Array' ? proto.entries || $native : $native;\r\n  var methods, key, IteratorPrototype;\r\n  // Fix native\r\n  if ($anyNative) {\r\n    IteratorPrototype = getPrototypeOf($anyNative.call(new Base()));\r\n    if (IteratorPrototype !== Object.prototype && IteratorPrototype.next) {\r\n      // Set @@toStringTag to native iterators\r\n      setToStringTag(IteratorPrototype, TAG, true);\r\n      // fix for some old engines\r\n      if (!LIBRARY && typeof IteratorPrototype[ITERATOR] != 'function') hide(IteratorPrototype, ITERATOR, returnThis);\r\n    }\r\n  }\r\n  // fix Array#{values, @@iterator}.name in V8 / FF\r\n  if (DEF_VALUES && $native && $native.name !== VALUES) {\r\n    VALUES_BUG = true;\r\n    $default = function values() { return $native.call(this); };\r\n  }\r\n  // Define iterator\r\n  if ((!LIBRARY || FORCED) && (BUGGY || VALUES_BUG || !proto[ITERATOR])) {\r\n    hide(proto, ITERATOR, $default);\r\n  }\r\n  // Plug for library\r\n  Iterators[NAME] = $default;\r\n  Iterators[TAG] = returnThis;\r\n  if (DEFAULT) {\r\n    methods = {\r\n      values: DEF_VALUES ? $default : getMethod(VALUES),\r\n      keys: IS_SET ? $default : getMethod(KEYS),\r\n      entries: $entries\r\n    };\r\n    if (FORCED) for (key in methods) {\r\n      if (!(key in proto)) redefine(proto, key, methods[key]);\r\n    } else $export($export.P + $export.F * (BUGGY || VALUES_BUG), NAME, methods);\r\n  }\r\n  return methods;\r\n};\r\n```",
                              "label": "unlabeledBug",
                              "createdAt": "2018-12-25T08:41:33Z",
                              "closedAt": "2018-12-25T14:02:27Z",
                              "lastComment": "2018-12-25T14:02:27Z",
                              "commentCount": 1
                         },
                         {
                              "title": "I like `PromiseRejectionEvent ` polyfill. iOS do not implement `PromiseRejectionEvent `, so it use polyfill.  But it seems promise polyfill has bug in iOS UIWebview when scrolling. @zloirock",
                              "description": "_Originally posted by @ustccjw in https://github.com/zloirock/core-js/issues/339#issuecomment-332589343_",
                              "label": "unlabeledBug",
                              "createdAt": "2018-11-17T19:18:57Z",
                              "closedAt": "2018-12-03T10:31:02Z",
                              "lastComment": "",
                              "commentCount": 0
                         },
                         {
                              "title": "library/modules/_descriptors.js is throwing an error \"a is not defined\"",
                              "description": "Hey,\r\n\r\nI'm getting a stack trace in production, mostly in Chrome 49, where `a is not defined`. It points me to this line. I can't reproduce it locally, but it's clearly happening in the wild.\r\n\r\nI don't know where to start with debugging this. Thoughts?\r\n\r\n```\r\n...\r\n(function (require, module, exports) {\r\n/*** [13] /myproject/core-js/library/modules/_descriptors.js ***/\r\n\r\n// Thank's IE8 for his funny defineProperty\r\nmodule.exports = !require('./_fails')(function () {\r\n  return Object.defineProperty({}, 'a', { get: function () { return 7; } }).a != 7;\r\n});\r\n...\r\n```",
                              "label": "unlabeledBug",
                              "createdAt": "2018-11-06T18:48:25Z",
                              "closedAt": "2018-11-06T19:55:17Z",
                              "lastComment": "2018-11-06T19:54:54Z",
                              "commentCount": 4
                         },
                         {
                              "title": "Clash with other polyfills / infinite recursion",
                              "description": "Hello,\r\nI need to polyfill some string functions to work around platform specific bugs. My polyfill seems to be interacting adversely with core-js. The following code causes an infinite loop\r\n\r\n```\r\nconsole.log(d.charCodeAt(1));\r\nconst charCodeAt = String.prototype.charCodeAt;\r\nString.prototype.charCodeAt = function (i) {\r\n  console.log(\"patched\");\r\n  return charCodeAt.call(this, i);\r\n}\r\nrequire(\"core-js/fn/string\");\r\n```\r\n\r\nNot sure I understand what is going on.\r\nThanks!",
                              "label": "unlabeledBug",
                              "createdAt": "2018-10-10T22:08:06Z",
                              "closedAt": "2018-10-19T06:14:36Z",
                              "lastComment": "2018-10-15T09:58:48Z",
                              "commentCount": 2
                         },
                         {
                              "title": "Error with Babel7 and Jest",
                              "description": "**Describe the regression**\r\nMy tests with jest started failing due to a babel transpilation error after upgrading to Babel7. Tests were running perfectly in babel6. I tried debugging but could not find the source of the error. Upgrades were done using babel-upgrade. \r\n\r\nsome module in core-js seems to be throwing the error. How could I fix this? Do I need to downgrade core-js to a specific version?\r\n\r\n**Error**\r\n```\r\nTypeError: wks is not a function\r\n\r\n      at Object.<anonymous>.module.exports (node_modules/core-js/modules/_fix-re-wks.js:16:16)\r\n      at Object.<anonymous> (node_modules/core-js/modules/es6.regexp.replace.js:4:25)\r\n      at Object.<anonymous> (node_modules/core-js/modules/es6.regexp.split.js:3:1)\r\n      at Object.<anonymous> (node_modules/core-js/modules/es6.symbol.js:7:1)\r\n      at Object.<anonymous> (node_modules/core-js/modules/_is-object.js:5:1)\r\n      at Object.<anonymous> (node_modules/core-js/modules/_inherit-if-required.js:3:16)\r\n      at Object.<anonymous> (node_modules/core-js/modules/es6.regexp.constructor.js:5:25)\r\n      at Object.<anonymous> (node_modules/core-js/modules/es6.regexp.match.js:3:1)\r\n      at Object.<anonymous> (node_modules/core-js/modules/es6.function.name.js:3:1)\r\n      at Object.<anonymous> (node_modules/core-js/modules/_wks.js:3:1)\r\n      at Object.<anonymous> (node_modules/core-js/modules/_add-to-unscopables.js:4:19)\r\n      at Object.<anonymous> (node_modules/core-js/modules/es6.array.iterator.js:3:24)\r\n      at Object.<anonymous> (node_modules/core-js/modules/web.dom.iterable.js:3:18)\r\n      at Object.<anonymous> (node_modules/regenerator-runtime/runtime.js:3:1)\r\n```\r\n\r\n_babel.config.js_\r\n```\r\nmodule.exports = {\r\n    \"presets\": [\r\n        [\r\n            \"@babel/preset-env\",\r\n            {\r\n                \"targets\": {\r\n                    \"ie\": 11\r\n                    // \"browsers\": [\"last 2 versions\"]\r\n                },\r\n                \"useBuiltIns\": \"usage\"\r\n            }\r\n        ],\r\n        \"@babel/preset-react\"\r\n    ],\r\n    \"plugins\": [\r\n        \"@babel/plugin-transform-regenerator\",\r\n        \"@babel/plugin-syntax-dynamic-import\",\r\n        \"@babel/plugin-syntax-import-meta\",\r\n        \"@babel/plugin-proposal-class-properties\",\r\n        \"@babel/plugin-proposal-json-strings\",\r\n        [\r\n            \"@babel/plugin-proposal-decorators\",\r\n            {\r\n                \"legacy\": true\r\n            }\r\n        ],\r\n        \"@babel/plugin-proposal-function-sent\",\r\n        \"@babel/plugin-proposal-export-namespace-from\",\r\n        \"@babel/plugin-proposal-numeric-separator\",\r\n        \"@babel/plugin-proposal-throw-expressions\",\r\n        \"@babel/plugin-proposal-object-rest-spread\",\r\n        \"@babel/plugin-transform-object-assign\"\r\n    ]\r\n};\r\n```\r\n\r\n_package.json_\r\n```\r\n\"devDependencies\": {\r\n    \"@babel/cli\": \"^7.0.0\",\r\n    \"@babel/core\": \"^7.0.1\",\r\n    \"@babel/plugin-proposal-class-properties\": \"^7.0.0\",\r\n    \"@babel/plugin-proposal-decorators\": \"^7.0.0\",\r\n    \"@babel/plugin-proposal-export-namespace-from\": \"^7.0.0\",\r\n    \"@babel/plugin-proposal-function-sent\": \"^7.0.0\",\r\n    \"@babel/plugin-proposal-json-strings\": \"^7.0.0\",\r\n    \"@babel/plugin-proposal-numeric-separator\": \"^7.0.0\",\r\n    \"@babel/plugin-proposal-object-rest-spread\": \"^7.0.0\",\r\n    \"@babel/plugin-proposal-throw-expressions\": \"^7.0.0\",\r\n    \"@babel/plugin-syntax-dynamic-import\": \"^7.0.0\",\r\n    \"@babel/plugin-syntax-import-meta\": \"^7.0.0\",\r\n    \"@babel/plugin-transform-object-assign\": \"^7.0.0\",\r\n    \"@babel/plugin-transform-regenerator\": \"^7.0.0\",\r\n    \"@babel/preset-env\": \"^7.0.0\",\r\n    \"@babel/preset-react\": \"^7.0.0\",\r\n    \"babel-core\": \"7.0.0-bridge.0\",\r\n    \"babel-loader\": \"^8.0.0\",\r\n    \"enzyme\": \"^3.3.0\",\r\n    \"enzyme-adapter-react-16\": \"^1.1.1\",\r\n    \"enzyme-to-json\": \"^3.3.1\",\r\n    \"exports-loader\": \"0.6.4\",\r\n    \"imports-loader\": \"0.7.1\",\r\n    \"jasmine\": \"^2.8.0\",\r\n    \"jest\": \"^23.4.1\",\r\n    \"jest-cli\": \"^23.4.1\",\r\n    \"jest-trx-results-processor\": \"^0.0.7\",\r\n    \"regenerator-runtime\": \"^0.12.1\",\r\n  },\r\n  \"dependencies\": {\r\n    \"@babel/polyfill\": \"^7.0.0\",\r\n    \"@babel/runtime\": \"^7.0.0\",\r\n    \"babel-jest\": \"^23.6.0\",\r\n    \"babel-plugin-add-module-exports\": \"^0.2.1\"\r\n  },\r\n```\r\n_jest config_\r\n```\r\n{\r\n\r\n    \"unmockedModulePathPatterns\": [\r\n      \"<rootDir>/node_modules/react\",\r\n      \"<rootDir>/node_modules/react-dom\",\r\n      \"<rootDir>/node_modules/react-addons-test-utils\",\r\n      \"<rootDir>/node_modules/fbjs\",\r\n      \"enzyme\"\r\n    ],\r\n    \"roots\": [\r\n      \"<rootDir>/__tests__\"\r\n    ],\r\n    \"transformIgnorePatterns\": [\r\n      \"node_modules/(^generic-)/i\",\r\n      \"node_modules/react-infinite-scroller\"\r\n    ],\r\n    \"setupFiles\": [\r\n      \"./jestsetup.js\"\r\n    ],\r\n    \"snapshotSerializers\": [\r\n      \"enzyme-to-json/serializer\"\r\n    ],\r\n    \"testResultsProcessor\": \"./jestTrxProcessor\",\r\n    \"verbose\": true\r\n  }\r\n```\r\n\r\n",
                              "label": "unlabeledBug",
                              "createdAt": "2018-09-23T04:43:11Z",
                              "closedAt": "2018-09-28T14:50:04Z",
                              "lastComment": "2018-09-28T14:50:04Z",
                              "commentCount": 1
                         },
                         {
                              "title": "invalid range in character set",
                              "description": "I am getting this error \"invalid range in character set\" in Windows 10, browser Edge only.\r\nAfter debugging I found that this error is being thrown from \"es6.regexp.constructor.js\" file.\r\n\r\nI am using React, WebPack, with jsonpath (https://www.npmjs.com/package/jsonpath - v1.0.0)\r\n\r\nJsonpath has Nonascii char regex which is getting passed to this function \"$RegExp = function RegExp(p, f) {....}\" and this function is throwing \"invalid range in character set\" error. When I test passed value manually it works fine.\r\n\r\nThis value is being passed:\r\n[ÂªÂµÂºÃ€-Ã–Ã˜-Ã¶Ã¸-ËË†-Ë‘Ë -Ë¤Ë¬Ë®Í°-Í´Í¶Í·Íº-Í½Î†Îˆ-ÎŠÎŒÎŽ-Î¡Î£-ÏµÏ·-ÒÒŠ-Ô§Ô±-Õ–Õ™Õ¡-Ö‡×-×ª×°-×²Ø -ÙŠÙ®Ù¯Ù±-Û“Û•Û¥Û¦Û®Û¯Ûº-Û¼Û¿ÜÜ’-Ü¯Ý-Þ¥Þ±ßŠ-ßªß´ßµßºà €-à •à šà ¤à ¨à¡€-à¡˜à¢ à¢¢-à¢¬à¤„-à¤¹à¤½à¥à¥˜-à¥¡à¥±-à¥·à¥¹-à¥¿à¦…-à¦Œà¦à¦à¦“-à¦¨à¦ª-à¦°à¦²à¦¶-à¦¹à¦½à§Žà§œà§à§Ÿ-à§¡à§°à§±à¨…-à¨Šà¨à¨à¨“-à¨¨à¨ª-à¨°à¨²à¨³à¨µà¨¶à¨¸à¨¹à©™-à©œà©žà©²-à©´àª…-àªàª-àª‘àª“-àª¨àªª-àª°àª²àª³àªµ-àª¹àª½à«à« à«¡à¬…-à¬Œà¬à¬à¬“-à¬¨à¬ª-à¬°à¬²à¬³à¬µ-à¬¹à¬½à­œà­à­Ÿ-à­¡à­±à®ƒà®…-à®Šà®Ž-à®à®’-à®•à®™à®šà®œà®žà®Ÿà®£à®¤à®¨-à®ªà®®-à®¹à¯à°…-à°Œà°Ž-à°à°’-à°¨à°ª-à°³à°µ-à°¹à°½à±˜à±™à± à±¡à²…-à²Œà²Ž-à²à²’-à²¨à²ª-à²³à²µ-à²¹à²½à³žà³ à³¡à³±à³²à´…-à´Œà´Ž-à´à´’-à´ºà´½àµŽàµ àµ¡àµº-àµ¿à¶…-à¶–à¶š-à¶±à¶³-à¶»à¶½à·€-à·†à¸-à¸°à¸²à¸³à¹€-à¹†àºàº‚àº„àº‡àºˆàºŠàºàº”-àº—àº™-àºŸàº¡-àº£àº¥àº§àºªàº«àº­-àº°àº²àº³àº½à»€-à»„à»†à»œ-à»Ÿà¼€à½€-à½‡à½‰-à½¬à¾ˆ-à¾Œá€€-á€ªá€¿á-á•áš-áá¡á¥á¦á®-á°áµ-á‚á‚Žá‚ -áƒ…áƒ‡áƒáƒ-áƒºáƒ¼-á‰ˆá‰Š-á‰á‰-á‰–á‰˜á‰š-á‰á‰ -áŠˆáŠŠ-áŠáŠ-áŠ°áŠ²-áŠµáŠ¸-áŠ¾á‹€á‹‚-á‹…á‹ˆ-á‹–á‹˜-áŒáŒ’-áŒ•áŒ˜-ášáŽ€-áŽáŽ -á´á-á™¬á™¯-á™¿áš-áššáš -á›ªá›®-á›°áœ€-áœŒáœŽ-áœ‘áœ -áœ±á€-á‘á -á¬á®-á°áž€-áž³áŸ—áŸœá -á¡·á¢€-á¢¨á¢ªá¢°-á£µá¤€-á¤œá¥-á¥­á¥°-á¥´á¦€-á¦«á§-á§‡á¨€-á¨–á¨ -á©”áª§á¬…-á¬³á­…-á­‹á®ƒ-á® á®®á®¯á®º-á¯¥á°€-á°£á±-á±á±š-á±½á³©-á³¬á³®-á³±á³µá³¶á´€-á¶¿á¸€-á¼•á¼˜-á¼á¼ -á½…á½ˆ-á½á½-á½—á½™á½›á½á½Ÿ-á½½á¾€-á¾´á¾¶-á¾¼á¾¾á¿‚-á¿„á¿†-á¿Œá¿-á¿“á¿–-á¿›á¿ -á¿¬á¿²-á¿´á¿¶-á¿¼â±â¿â‚-â‚œâ„‚â„‡â„Š-â„“â„•â„™-â„â„¤â„¦â„¨â„ª-â„­â„¯-â„¹â„¼-â„¿â……-â…‰â…Žâ… -â†ˆâ°€-â°®â°°-â±žâ± -â³¤â³«-â³®â³²â³³â´€-â´¥â´§â´­â´°-âµ§âµ¯â¶€-â¶–â¶ -â¶¦â¶¨-â¶®â¶°-â¶¶â¶¸-â¶¾â·€-â·†â·ˆ-â·Žâ·-â·–â·˜-â·žâ¸¯ã€…-ã€‡ã€¡-ã€©ã€±-ã€µã€¸-ã€¼ã-ã‚–ã‚-ã‚Ÿã‚¡-ãƒºãƒ¼-ãƒ¿ã„…-ã„­ã„±-ã†Žã† -ã†ºã‡°-ã‡¿ã€-ä¶µä¸€-é¿Œê€€-ê’Œê“-ê“½ê”€-ê˜Œê˜-ê˜Ÿê˜ªê˜«ê™€-ê™®ê™¿-êš—êš -ê›¯êœ—-êœŸêœ¢-êžˆêž‹-êžŽêž-êž“êž -êžªêŸ¸-ê ê ƒ-ê …ê ‡-ê Šê Œ-ê ¢ê¡€-ê¡³ê¢‚-ê¢³ê£²-ê£·ê£»ê¤Š-ê¤¥ê¤°-ê¥†ê¥ -ê¥¼ê¦„-ê¦²ê§ê¨€-ê¨¨ê©€-ê©‚ê©„-ê©‹ê© -ê©¶ê©ºêª€-êª¯êª±êªµêª¶êª¹-êª½ê«€ê«‚ê«›-ê«ê« -ê«ªê«²-ê«´ê¬-ê¬†ê¬‰-ê¬Žê¬‘-ê¬–ê¬ -ê¬¦ê¬¨-ê¬®ê¯€-ê¯¢ê°€-íž£íž°-íŸ†íŸ‹-íŸ»ï¤€-ï©­ï©°-ï«™ï¬€-ï¬†ï¬“-ï¬—ï¬ï¬Ÿ-ï¬¨ï¬ª-ï¬¶ï¬¸-ï¬¼ï¬¾ï­€ï­ï­ƒï­„ï­†-ï®±ï¯“-ï´½ïµ-ï¶ï¶’-ï·‡ï·°-ï·»ï¹°-ï¹´ï¹¶-ï»¼ï¼¡-ï¼ºï½-ï½šï½¦-ï¾¾ï¿‚-ï¿‡ï¿Š-ï¿ï¿’-ï¿—ï¿š-ï¿œ]\r\n\r\nWhen I wrap return statement with try/catch it works but every time webpack overwrite my try/catch.",
                              "label": "unlabeledBug",
                              "createdAt": "2018-09-11T20:28:24Z",
                              "closedAt": "2018-09-12T05:36:18Z",
                              "lastComment": "2018-09-12T05:36:18Z",
                              "commentCount": 1
                         },
                         {
                              "title": "Object.getOwnPropertyNames polyfill returns META properties",
                              "description": "When using Object.freeze polyfill and Object.getOwnPropertyNames polyfill together, META properties are outputted. The issue does not exist if i also use the es6.symbol polyfill which replaces the `getOwnPropertyNames` with a function which checks for META. https://github.com/zloirock/core-js/blob/5bbe230036de55b7f969487da9f3b15e5839359f/modules/es6.symbol.js#L111-L119. Should the standard polyfill not do this? I don't want to have to import es6.symbol to get around it.\r\n\r\nVersion 2.5.7",
                              "label": "bug",
                              "createdAt": "2018-09-03T12:37:44Z",
                              "closedAt": "2021-07-28T21:43:35Z",
                              "lastComment": "2018-09-17T18:35:16Z",
                              "commentCount": 2
                         },
                         {
                              "title": "Reflect.set accessor edge case",
                              "description": "Spotted two more:\r\n\r\n```js\r\nconst o = Object.defineProperty({}, 'test', {\r\n  get() {}\r\n});\r\nReflect.set(o.__proto__, 'test', 1, o);\r\n```\r\n\r\n```js\r\nconst o = Object.defineProperty({}, 'test', {\r\n  set(v) {}\r\n});\r\nReflect.set(o.__proto__, 'test', 1, o);\r\n```\r\n\r\nBoth should return `false`, not throw.",
                              "label": "bug",
                              "createdAt": "2018-04-07T22:33:45Z",
                              "closedAt": "2018-04-07T22:55:26Z",
                              "lastComment": "2018-04-07T22:55:26Z",
                              "commentCount": 1
                         },
                         {
                              "title": "Reflect.set edge case",
                              "description": "Currently, the polyfilled `Reflect.set` fails this case:\r\n\r\n```js\r\nconst o = Object.defineProperty({}, 'test', {\r\n  writable: false,\r\n  configurable: true\r\n});\r\nReflect.set(o.__proto__, 'test', 1, o);\r\n```\r\n\r\nThis should fail to set, but it currently does.",
                              "label": "bug",
                              "createdAt": "2018-04-07T21:38:51Z",
                              "closedAt": "2018-04-07T22:24:26Z",
                              "lastComment": "2018-04-07T22:24:26Z",
                              "commentCount": 1
                         },
                         {
                              "title": "Freezing object after adding to WeakMap in IE11",
                              "description": "I just stumbled upon a problem that affects only IE 11. It does not happen with IE 9, IE 10, Edge, Firefox or Chrome:\r\n\r\n```javascript\r\nvar wm = new WeakMap()\r\nvar key = {}\r\n\r\nwm.set(key, 'foo')\r\nconsole.log(wm.get(key)) // yield: 'foo'\r\nObject.freeze(key)\r\nconsole.log(wm.get(key)) // yield: 'undefined' for ie11 using polyfill | 'foo' for ie11 without polyfill\r\n```\r\n\r\nThe latter case should be correct, `wm.get(key)` after calling `Object.freeze(key)` should return `foo` as it does in IE 9 with polyfill, IE 10 with polyfill, IE 11 without polyfill, Edge without polyfill, Chrome without polyfill and Firefox without polyfill.",
                              "label": "bug",
                              "createdAt": "2018-03-02T14:57:51Z",
                              "closedAt": "2018-03-25T19:54:23Z",
                              "lastComment": "2018-03-25T19:54:23Z",
                              "commentCount": 2
                         },
                         {
                              "title": "Map & Set Error in 2.5.3",
                              "description": "https://github.com/zloirock/core-js/blob/e1c6719a107b92d21125178b859026a04d5d4686/modules/_iter-define.js#L33\r\n\r\n\r\nWith this code, the code below throw error in Android mobile React-Native jscore.\r\n```\r\n[...new Map()];\r\n[...new Set()];\r\n```",
                              "label": "bug",
                              "createdAt": "2017-12-15T12:39:46Z",
                              "closedAt": "2018-03-27T16:21:40Z",
                              "lastComment": "2018-08-21T06:07:07Z",
                              "commentCount": 22
                         },
                         {
                              "title": "Conflict - Library is rewriting 'core' variable in window",
                              "description": "Hello,\r\n\r\nI have a javascript tag placed on many of my customers website. I was using a single polyfill from your library: core-js/fn/math/trunc.\r\n\r\nBy doing so, my webpack bundle output had this line : global.core = core;\r\n\r\nI had to remove the library and use Math.round instead of Math.trunc so my code continue to work on IE.\r\n\r\nThe problem is my customers sometimes have their own 'window.core' variable, and core-js is overwriting it for some reasons, breaking the customer's website entirely.\r\n\r\n(I was using ^2.5.1)\r\n\r\nBug congrats on the lib anyway and good luck with it. 👍 \r\n\r\n",
                              "label": "unlabeledBug",
                              "createdAt": "2017-11-30T10:56:33Z",
                              "closedAt": "2017-12-01T08:54:48Z",
                              "lastComment": "2017-12-01T09:02:10Z",
                              "commentCount": 2
                         },
                         {
                              "title": "promise.finally type definitions",
                              "description": "I am trying to use promise.finally in typescript this doesn't really seem possible with core-js. I imported the polyfill, but it doesn't fix the compile issues that I have. Can core-js's promise finally functionality be used with typescript. I also tried adding the type definitions for core-js, but that didn't work either. \r\n\r\nI'm not really sure if this should be posted here or in the type definitions repo.",
                              "label": "unlabeledBug",
                              "createdAt": "2017-11-10T08:50:51Z",
                              "closedAt": "2017-11-10T09:03:08Z",
                              "lastComment": "2017-11-10T09:14:28Z",
                              "commentCount": 2
                         },
                         {
                              "title": "Patch Object.assign for IE11 to work with assigning properties to functions",
                              "description": "Apologies if this is incorrect, but I think in IE11 if you try and do\r\n```js\r\nfunction myFunction(){\r\nconsole.log('hello');\r\n}\r\nObject.assign(myFunction, {test:'hi'});\r\n```\r\nyou get an error saying assign is not supported or something. It would be good if including core-js automatically fixed this.",
                              "label": "unlabeledBug",
                              "createdAt": "2017-10-23T13:49:52Z",
                              "closedAt": "2017-10-23T14:14:51Z",
                              "lastComment": "2017-10-23T14:14:51Z",
                              "commentCount": 2
                         },
                         {
                              "title": "Symbol JSON.stringify returns immediately without calling replacer fn when target is undefined",
                              "description": "Hi, first of all thanks for this nice library, it is really handy for those struggling with cross-browser compatible apps or better said IE-proof apps :p\r\n\r\n I recently stumbled upon an issue though. It took me a bit of time to troubleshoot but here it is:\r\n\r\nI have an app in angularjs and it uses the latest `angular-ui-router`. Then, in this router library there is [this line of code](https://github.com/ui-router/core/blob/c5859b8327496d49c3b42bec75a2ee3e4b6823fa/src/common/strings.ts#L110) that tries to get an stringified object passing a replacer function to ultimately log something to the console.\r\n\r\nThe problem pops up in IE11, when the [core-js Symbol polyfill](https://github.com/zloirock/core-js#ecmascript-6-symbol) is used; which means that also the `JSON.stringify()` method is wrapped to work correctly with Symbols.\r\n\r\nAt some point, the routing library will call the JSON.stringify method passing `undefined` and a replacer function, and then, [the wrapped JSON.stringify() function simply returns](https://github.com/zloirock/core-js/blob/e44fc0575d566508488d3900baee86aac941e4fd/modules/es6.symbol.js#L211) without doing anything nor even calling the replacer function.\r\n\r\nThis behaviour seems totally different in the native implementation of compliant browsers like Chrome and Firefox where the replacer function is called even if the target is undefined.\r\n\r\nDo you think this could be refactored so that the replacer function is called?",
                              "label": "bug",
                              "createdAt": "2017-10-17T11:55:08Z",
                              "closedAt": "2017-12-08T19:11:04Z",
                              "lastComment": "2017-12-12T13:59:01Z",
                              "commentCount": 8
                         },
                         {
                              "title": "SCRIPT5045: Assignment to read-only properties is not allowed in strict mode IE11",
                              "description": "when try to open my angular2 project in IE11, i am getting this error\r\n\r\n\"SCRIPT5045: Assignment to read-only properties is not allowed in strict mode\r\nvendor.bundle.js (8031,5)\".\r\n\r\nIn vendor.bundle.js file ,\r\nDebugger is point on this function\r\n--> ObservableArray.prototype.find = function (predicate, thisArg, fromIndex) {\r\n        if (fromIndex === void 0) { fromIndex = 0; }\r\n        var idx = this.findIndex.apply(this, arguments);\r\n        return idx === -1 ? undefined : this.get(idx);\r\n     };\r\n\r\n\r\nplease let me know about solutions.",
                              "label": "unlabeledBug",
                              "createdAt": "2017-10-06T09:10:32Z",
                              "closedAt": "2017-10-08T07:44:04Z",
                              "lastComment": "2018-03-28T19:45:03Z",
                              "commentCount": 4
                         },
                         {
                              "title": "unhandledrejectionhandler called multiple times for same error",
                              "description": "When chaining promises using `then` the behavior between Chrome's native `onunhandledrejectionhandler` and core-js' implementation differ.\r\n\r\n`Promise.reject(43).then(x => x);` will invoke the handler twice in core-js and once in Chrome.\r\nI suppose Chrome's behavior is correct.\r\n\r\n[demo](http://es6.zloirock.ru/#window.onunhandledrejection%20%3D%20e%20%3D%3E%20log('unhandled'%2C%20e.reason%2C%20e.promise)%3B%0A%0APromise.reject(42)%3B%0A%0APromise.reject(43).then(x%20%3D%3E%20x)%3B)",
                              "label": "bug",
                              "createdAt": "2017-07-14T09:22:33Z",
                              "closedAt": "2017-12-10T07:14:04Z",
                              "lastComment": "2017-12-11T20:42:25Z",
                              "commentCount": 3
                         },
                         {
                              "title": "Polyfilled Float32Array constructor cannot be stringified",
                              "description": "This\r\n\r\n```\r\nrequire('core-js'); \r\nconsole.log(typeof Float32Array, Float32Array);\r\n```\r\n\r\nresults in error:\r\n\r\n```\r\nTypeError: Cannot convert undefined or null to object\r\n    at toString (native)\r\n    at Function.<anonymous> (...\\node_modules\\core-js\\modules\\_ctx.js:18:15)\r\n    at exports.format (util.js:128:18)\r\n    at Console.log (console.js:43:37)\r\n    at repl:1:9\r\n    at sigintHandlersWrap (vm.js:22:35)\r\n    at sigintHandlersWrap (vm.js:96:12)\r\n    at ContextifyScript.Script.runInThisContext (vm.js:21:12)\r\n    at REPLServer.defaultEval (repl.js:313:29)\r\n    at bound (domain.js:280:14)\r\n```\r\n\r\nWhile the same code without `core-js` works as expected:\r\n```\r\nconsole.log(typeof Float32Array, Float32Array);\r\n```\r\n\r\nand outputs\r\n\r\n> function function Float32Array() { [native code] }\r\n\r\nAnother problem is that `Float32Array` behaviour was changed for no obvious reason and started to make problems. This was totally uncalled for and wasn't easy to debug. Since current Node releases [are considered virtually ES2015/ES2016-compliant](http://node.green/), the one could reasonably assume that `require('core-js')` is the same thing as cherry-picking ES2017+ features - and this would be a mistake that may result in counter-intuitive issues like this one (#283 already addresses the problem with default polyfilling strategy).\r\n\r\ncore-js 2.4.1\r\nnode 7.2.0",
                              "label": "bug",
                              "createdAt": "2017-05-02T20:21:29Z",
                              "closedAt": "2017-07-26T19:02:56Z",
                              "lastComment": "2018-05-07T06:54:03Z",
                              "commentCount": 15
                         },
                         {
                              "title": "core-js breaks existing Uint8Array default constructor behaviour",
                              "description": "I posted a bug report with tests to the babel-polyfil tracker:\r\n\r\nhttps://github.com/babel/babel/issues/5565\r\n\r\nIt was closed as being an upstream issue. Not sure how its going to be fixed if `upstream` doesn't know about it, so I'm mirroring it here :)\r\n\r\nThankyou\r\n\r\n--\r\n\r\nIn vanilla IE11, Edge, Chrome, Safari, FireFox, PhantomJS and Node the following code succeeds.\r\n\r\n```javascript\r\nvar array = new Uint8Array();\r\n```\r\nWhen executing the above line after importing the babel-polyfill, it throws **'TypeError: Wrong length!'** in all browsers except Chrome.\r\n\r\nThe expected behavuour is that `new Uint8Array()` should not throw, as this is the existing behaviour in ALL user-agents tested.\r\n\r\nThis affects the usage of legacy libraries which initialise a default Uint8Array and then replace the array with larger arrays if the length of the array is smaller than required. Similar to how a vector might work in some other languages.\r\n\r\nA code-change in the user code can be made to instead declare the array as :\r\n\r\n```javascript\r\nvar array = new Uint8Array(0);\r\n```\r\n\r\nBut this is not applicable in to modules and other code bases which are imported.\r\n\r\nThe following mocha/karma test suite tests the behaviour, and reproduces the failures. If you comment the babel-polyfill line, the tests all pass.\r\n\r\nUsing babel-polyfill@6.23.0 and type-detect@4.0.0\r\n\r\n```javascript\r\nimport { assert } from 'chai';\r\nimport type from 'type-detect';\r\nimport 'babel-polyfill';\r\n\r\ndescribe('Uint8Array', function () {\r\n\tit('constructor with no arguments does not throw', function () {\r\n\t\tlet array;\r\n\r\n\t\tassert.doesNotThrow(function () {\r\n\t\t\tarray = new Uint8Array();\r\n\t\t});\r\n\t});\r\n\r\n\tit('type of default Uint8Array is Uint8Array', function () {\r\n\t\tlet array;\r\n\r\n\t\tassert.doesNotThrow(function () {\r\n\t\t\tarray = new Uint8Array();\r\n\t\t});\r\n\r\n\t\tassert.strictEqual(type(array), 'Uint8Array');\r\n\t});\r\n\r\n\tit('length of default Uint8Array is 0', function () {\r\n\t\tlet array;\r\n\t\tlet length;\r\n\r\n\t\tassert.doesNotThrow(function () {\r\n\t\t\tarray = new Uint8Array();\r\n\t\t\tlength = array.length;\r\n\t\t});\r\n\r\n\t\tassert.strictEqual(length, 0);\r\n\t});\r\n});\r\n```\r\n\r\nKarma test run in IE, Edge, Chrome, Safari, Firefox, PhantomJS with babel-polyfill disabled: :\r\n\r\n```\r\n   START:\r\n   Uint8Array\r\n       √ constructor with no arguments does not throw\r\n       √ type of default Uint8Array is Uint8Array\r\n       √ length of default Uint8Array is 0\r\n  \r\n   Finished in 0.134 secs / 0.035 secs @ 17:35:57 GMT+1100 (AUS Eastern Daylight Time)\r\n\r\n   SUMMARY:\r\n   √ 18 tests completed\r\n```\r\n\r\nnode mocha test with babel-polyfill disabled:\r\n\r\n```\r\n   Uint8Array\r\n       √ constructor with no arguments does not throw\r\n       √ type of default Uint8Array is Uint8Array\r\n       √ length of default Uint8Array is 0\r\n\r\n   3 passing (652ms)\r\n```\r\n\r\nKarma in IE, Edge, Chrome, Safari, Firefox, PhantomJS with babel-polyfill enabled:\r\n\r\n```\r\n   START:\r\n   Uint8Array\r\n       × constructor with no arguments does not throw\r\n       × type of default Uint8Array is Uint8Array\r\n       × length of default Uint8Array is 0\r\n\r\n   Finished in 0.178 secs / 0.104 secs @ 17:37:55 GMT+1100 (AUS Eastern Daylight Time)\r\n\r\n   SUMMARY:\r\n   √ 3 tests completed\r\n   × 15 tests failed\r\n\r\n   FAILED TESTS:\r\n   Uint8Array\r\n       × constructor with no arguments does not throw\r\n       PhantomJS 2.1.1 (Windows 8 0.0.0)\r\n       IE 11.0.0 (Windows 10 0.0.0)\r\n       Safari 10.0.3 (Mac OS X 10.11.6)\r\n       Edge 14.14393.0 (Windows 10 0.0.0)\r\n       Firefox 52.0.0 (Windows 10 0.0.0)\r\n       expected [Function] to not throw an error but 'TypeError: Wrong length!' was thrown\r\nAssertionError@C:/Users/dev/AppData/Local/Temp/b66d671ed5a59eaa0a0fd7eafc29d9dc.browserify:592:13\r\nrequire<[26]</module.exports/Assertion.prototype.assert@C:/Users/dev/AppData/Local/Temp/b66d671ed5a59eaa0a0fd7eafc29\r\n   d9dc.browserify:3633:13\r\nassertThrows@C:/Users/dev/AppData/Local/Temp/b66d671ed5a59eaa0a0fd7eafc29d9dc.browserify:5092:5\r\nrequire<[33]</module.exports/ctx[name]@C:/Users/dev/AppData/Local/Temp/b66d671ed5a59eaa0a0fd7eafc29d9dc.browserify:7\r\n   619:18\r\nrequire<[29]</module.exports/assert.doesNotThrow@C:/Users/dev/AppData/Local/Temp/b66d671ed5a59eaa0a0fd7eafc29d9dc.br\r\n   owserify:6727:5\r\nrequire<[\"C:\\\\Users\\\\dev\\\\Documents\\\\GitHub\\\\<redacted>\\tests\\\\node\\\\unit\\\\testUint8Array.js\"]</</<@C:/Users/dev/Ap\r\npData/Local/Temp/b66d671ed5a59eaa0a0fd7eafc29d9dc.browserify:178231:3\r\n\r\n\r\n       × type of default Uint8Array is Uint8Array\r\n       PhantomJS 2.1.1 (Windows 8 0.0.0)\r\n       IE 11.0.0 (Windows 10 0.0.0)\r\n       Safari 10.0.3 (Mac OS X 10.11.6)\r\n       Edge 14.14393.0 (Windows 10 0.0.0)\r\n       Firefox 52.0.0 (Windows 10 0.0.0)\r\n       expected [Function] to not throw an error but 'TypeError: Wrong length!' was thrown\r\nAssertionError@C:/Users/dev/AppData/Local/Temp/b66d671ed5a59eaa0a0fd7eafc29d9dc.browserify:592:13\r\nrequire<[26]</module.exports/Assertion.prototype.assert@C:/Users/dev/AppData/Local/Temp/b66d671ed5a59eaa0a0fd7eafc29\r\n   d9dc.browserify:3633:13\r\nassertThrows@C:/Users/dev/AppData/Local/Temp/b66d671ed5a59eaa0a0fd7eafc29d9dc.browserify:5092:5\r\nrequire<[33]</module.exports/ctx[name]@C:/Users/dev/AppData/Local/Temp/b66d671ed5a59eaa0a0fd7eafc29d9dc.browserify:7\r\n   619:18\r\nrequire<[29]</module.exports/assert.doesNotThrow@C:/Users/dev/AppData/Local/Temp/b66d671ed5a59eaa0a0fd7eafc29d9dc.br\r\n   owserify:6727:5\r\nrequire<[\"C:\\\\Users\\\\dev\\\\Documents\\\\GitHub\\\\<redacted>\\\\tests\\\\node\\\\unit\\\\testUint8Array.js\"]</</<@C:/Users/dev/Ap\r\npData/Local/Temp/b66d671ed5a59eaa0a0fd7eafc29d9dc.browserify:178241:3\r\n\r\n\r\n       × length of default Uint8Array is 0\r\n       PhantomJS 2.1.1 (Windows 8 0.0.0)\r\n       IE 11.0.0 (Windows 10 0.0.0)\r\n       Safari 10.0.3 (Mac OS X 10.11.6)\r\n       Edge 14.14393.0 (Windows 10 0.0.0)\r\n       Firefox 52.0.0 (Windows 10 0.0.0)\r\n       expected [Function] to not throw an error but 'TypeError: Wrong length!' was thrown\r\nAssertionError@C:/Users/dev/AppData/Local/Temp/b66d671ed5a59eaa0a0fd7eafc29d9dc.browserify:592:13\r\nrequire<[26]</module.exports/Assertion.prototype.assert@C:/Users/dev/AppData/Local/Temp/b66d671ed5a59eaa0a0fd7eafc29\r\n   d9dc.browserify:3633:13\r\nassertThrows@C:/Users/dev/AppData/Local/Temp/b66d671ed5a59eaa0a0fd7eafc29d9dc.browserify:5092:5\r\nrequire<[33]</module.exports/ctx[name]@C:/Users/dev/AppData/Local/Temp/b66d671ed5a59eaa0a0fd7eafc29d9dc.browserify:7\r\n   619:18\r\nrequire<[29]</module.exports/assert.doesNotThrow@C:/Users/dev/AppData/Local/Temp/b66d671ed5a59eaa0a0fd7eafc29d9dc.br\r\n   owserify:6727:5\r\nrequire<[\"C:\\\\Users\\\\dev\\\\Documents\\\\GitHub\\\\<redacted>\\\\tests\\\\node\\\\unit\\\\testUint8Array.js\"]</</<@C:/Users/dev/Ap\r\npData/Local/Temp/b66d671ed5a59eaa0a0fd7eafc29d9dc.browserify:178253:3\r\n```\r\n\r\nNote: the tests above passed in Chrome only.\r\n\r\nnode mocha test with babel-polyfill enabled:\r\n\r\n```\r\n   Uint8Array\r\n       √ constructor with no arguments does not throw\r\n       √ type of default Uint8Array is Uint8Array\r\n       √ length of default Uint8Array is 0\r\n\r\n\r\n   3 passing (650ms)\r\n```\r\n\r\nThe tests also pass in Node.\r\n\r\nThankyou\r\n",
                              "label": "bug",
                              "createdAt": "2017-04-04T02:28:45Z",
                              "closedAt": "2017-07-26T12:46:01Z",
                              "lastComment": "2017-06-02T20:22:09Z",
                              "commentCount": 3
                         },
                         {
                              "title": "classList polyfill missing?",
                              "description": "Hi,\r\n\r\nAm I wrong or `classList` is not included?\r\n_Supported engines_ are also older than IE 10, where `classList` is [not available](http://caniuse.com/#feat=classlist).  \r\nI am not interested to deploy for IE9 :), however lot of times \"please use/choose newer browser\" screen uses some class switching n stuff, so it would be needed.\r\n\r\nTest case (using webpack 2)\r\n\r\n_site.js_\r\n```javascript\r\n'use strict';\r\nimport 'babel-polyfill';\r\nimport './global.scss';\r\nconst myArrowFunction = () => { // hello-world test babel for arrow fcn\r\n  const div = document.querySelector('.app');\r\n  div.innerHTML = '<h1>Hello JS</h1><p>Lorem ipsum.</p>';\r\n  div.classList.add('some-class');  // test for classList polyfill\r\n  console.log('Hello JS!');\r\n};\r\nmyArrowFunction();\r\n```\r\n\r\n_.babelrc_\r\n\r\n```json\r\n{\r\n  \"presets\": [\r\n  \t[\r\n      \"env\",\r\n    \t{\r\n        \"targets\": {\r\n          \"browsers\": [\r\n            \"IE 9\"\r\n          ]\r\n        },\r\n        \"useBuiltIns\": true,\r\n        \"modules\": false,\r\n        \"debug\": true\r\n     }\r\n   ]\r\n  ]\r\n}\r\n```\r\n\r\nDebug output does not mention `classList`. Nor does compiled `site.js` - only one occurrence of `classList`, namely the original code `div.classList.add('some-class')`, thus no polyfill anywhere in the compiled stuff.\r\n\r\nIf it really lacks, then I would have to manually add it - which would not be _elegant_ when using [browserslist](https://github.com/ai/browserslist) to _globally_ control things js polys (via `barbel-env` and `babel-polyfill`) and `autoprefixer` (via postcss).\r\n\r\nSo am i missing something? If it is not included, is there a specific reason not to (because it is \"DOM manipulation\" that core-js does not cover)?\r\n\r\nThanks!",
                              "label": "unlabeledBug",
                              "createdAt": "2017-03-09T14:59:46Z",
                              "closedAt": "2017-04-04T23:58:58Z",
                              "lastComment": "2017-04-04T23:58:58Z",
                              "commentCount": 1
                         },
                         {
                              "title": "Firefox does not use native Promise",
                              "description": "This probably isn't a bug, but I found it quite surprising that Firefox v50 isn't using the native Promise implementation!\r\n\r\nI'm just wondering why not? Are there bugs in native implementation?\r\n\r\nI ran into an issue because `fetch()` is returning a native Promise but core-js is feeding me a patched Promise for everything else, which broke all my extensions. I realize this is not core-js's fault and I found a workaround, but I just wanted to confirm this was intentional.",
                              "label": "unlabeledBug",
                              "createdAt": "2016-12-13T05:46:14Z",
                              "closedAt": "2016-12-13T10:50:49Z",
                              "lastComment": "2016-12-13T16:43:16Z",
                              "commentCount": 2
                         },
                         {
                              "title": "Importing Symbol properties before Symbol from core-js/library breaks Symbol",
                              "description": "In a fresh session, run:\r\n\r\n```js\r\nrequire('core-js/library/fn/symbol/async-iterator');\r\ntypeof require('core-js/library/fn/symbol');\r\n```\r\n\r\nThe latter gives `'object'`.\r\n\r\nBy contrast, if you just do\r\n\r\n```js\r\ntypeof require('core-js/library/fn/symbol');\r\n```\r\n\r\nThis gives `'function'` as expected.\r\n\r\nThis causes https://github.com/babel/babel/issues/4783.",
                              "label": "bug",
                              "createdAt": "2016-12-08T17:02:12Z",
                              "closedAt": "2018-03-22T23:22:58Z",
                              "lastComment": "2018-03-22T23:22:58Z",
                              "commentCount": 1
                         },
                         {
                              "title": "Math.log10(1000) should be 3",
                              "description": "Now ([Notebook](https://runkit.com/hakatashi/math-log10-1000-isnt-3)):\r\n\r\n```js\r\nvar log10 = require('core-js/library/fn/math/log10');\r\nconsole.log(log10(1000)); //=> 2.9999999999999996\r\nconsole.log(log10(1000) === 3); //=> false\r\n```\r\n\r\nThough [the spec](http://www.ecma-international.org/ecma-262/6.0/#sec-math.log10) states this function is implementation-dependent, the base 10 logarithm of 1000 is obviously 3, and I think Math.log10(1000) should return 3.\r\n\r\nOther implementations:\r\n\r\n| Browser       | Result |\r\n|---------------|--------|\r\n| Edge 14       | 3      |\r\n| Firefox 49    | 3      |\r\n| Chrome 54     | 3      |\r\n| Node.js 7.0.0 | 3      |",
                              "label": "bug",
                              "createdAt": "2016-11-19T08:10:24Z",
                              "closedAt": "2016-11-24T11:52:14Z",
                              "lastComment": "2016-11-24T09:32:08Z",
                              "commentCount": 2
                         },
                         {
                              "title": "Safari failing USE_NATIVE test for Promises",
                              "description": "https://github.com/zloirock/core-js/blob/master/modules/es6.promise.js#L23\n\nIs this intended that Safari's native Promises failing this test? Does it mean that they are in some way buggy in Safari?\n",
                              "label": "unlabeledBug",
                              "createdAt": "2016-08-29T11:44:39Z",
                              "closedAt": "2016-09-14T20:44:09Z",
                              "lastComment": "2016-11-28T21:33:35Z",
                              "commentCount": 4
                         },
                         {
                              "title": "Circular dependency with Promise and microtask",
                              "description": "Here, Promise depends on microtask:\nhttps://github.com/zloirock/core-js/blob/630378ea75326f2bc9cd12027dd6af37e45b1198/modules/es6.promise.js#L68\n\nHere, microtask depends on Promise:\nhttps://github.com/zloirock/core-js/blob/aa0c05d0b0ae5e60d944a22db8519eaff9b8cb38/library/modules/_microtask.js#L43\n\nThis bug makes Promise never resolve, on environment like [Pebble.js](https://developer.pebble.com/guides/communication/using-pebblekit-js/).\n\nIt can be reproduced easily with the following script:\n\n``` javascript\nPromise.resolve().then(function(){\n  console.log('thank you');\n});\n```\n",
                              "label": "unlabeledBug",
                              "createdAt": "2016-08-24T08:43:34Z",
                              "closedAt": "2016-09-02T09:48:28Z",
                              "lastComment": "2016-09-02T09:48:28Z",
                              "commentCount": 2
                         },
                         {
                              "title": "Problems using core-js inside Devtool",
                              "description": "I'm trying to use a node.js app inside an Electron-based debugger, devtool. Devtool has a command line switch, --no-browser-globals, which hides the window, document, and navigator variables from running scripts. The issue I'm running into is that the modules/_html script does this:\n\n`module.exports = require('./_global').document && document.documentElement;`\n\nThe left hand side of the script succeeds, because core-js uses this black magic to grab the window object:\n\n`Function('return this')();`\n\nBut the right hand side fails because it references the document variable. If I change the code to:\n\n`module.exports = require('./_global').document && require('./_global').document.documentElement;`\n\nIt works properly.\n",
                              "label": "unlabeledBug",
                              "createdAt": "2016-08-22T18:09:29Z",
                              "closedAt": "2017-08-06T15:03:34Z",
                              "lastComment": "2017-08-06T15:03:34Z",
                              "commentCount": 6
                         },
                         {
                              "title": "Extraneous throw: Method Number.prototype.toFixed called on incompatible receiver #{Object}",
                              "description": "While debugging with breakpoints for \"All Exceptions\", i get an extraneous exception in core.js. It would be great if it could be avoided.\n\n_I'm using WebPack 2/Babel 6 on a TypeScript 2/NodeJS 6 app..._\n\nWhen loading an NodeJS app, while loading `es6.number.to-fixed.js` the following `TypeError` is thrown at the [line](https://github.com/zloirock/core-js/commit/d49f1031155afadc5967684f73efa7ba8fa5bd08#diff-ae6eec9e4bffb3540eb91fe128540fcaR64)\n\n``` javascript\n  // V8 ~ Android 4.3-\n  $toFixed.call({});\n```\n\nhowever, the app loads and runs successfully.\n\n> \"TypeError: Method Number.prototype.toFixed called on incompatible receiver #<Object>\\n    at Object.toFixed (native)\\n    at ...\\node_modules\\core-js\\modules\\es6.number.to-fixed.js:64:12\\n    at module.exports (...\\node_modules\\core-js\\modules_fails.js:3:14)\\n    at Object.<anonymous> (...\\node_modules\\core-js\\modules\\es6.number.to-fixed.js:62:26)\\n    at Module._compile (module.js:541:32)\\n    at Object.Module._extensions..js (module.js:550:10)\\n    at Module.load (module.js:458:32)\\n    at tryModuleLoad (module.js:417:12)\\n    at Function.Module._load (module.js:409:3)\\n    at Module.require (module.js:468:17)\"\n",
                              "label": "unlabeledBug",
                              "createdAt": "2016-08-01T17:24:09Z",
                              "closedAt": "2021-05-29T20:42:28Z",
                              "lastComment": "2021-05-29T20:42:28Z",
                              "commentCount": 5
                         },
                         {
                              "title": "use native check will always fail",
                              "description": "```\nvar USE_NATIVE = !!function(){\n  try {\n    // correct subclassing with @@species support\n    var promise     = $Promise.resolve(1)\n      , FakePromise = (promise.constructor = {})[require('./_wks')('species')] = function(exec){ exec(empty, empty); };\n    // unhandled rejections tracking support, NodeJS Promise without it fails @@species test\n    return (isNode || typeof PromiseRejectionEvent == 'function') && promise.then(empty) instanceof FakePromise;\n  } catch(e){ /* empty */ }\n}();\n```\n\nthis use native check will always fail because  `promise.then(empty)` will throw error\n\nso it will always use babel's Promise, but babel's Promise has bug in iOS9.3 webview, Promise.resolve not resolving when page scrolling\n",
                              "label": "unlabeledBug",
                              "createdAt": "2016-07-20T06:43:12Z",
                              "closedAt": "2016-07-20T09:05:39Z",
                              "lastComment": "2016-07-20T09:05:39Z",
                              "commentCount": 1
                         },
                         {
                              "title": "core-js tries but fails to polyfill Safari 9.1.1 Promise",
                              "description": "I have no idea what is going on. Assigning `out` to `target[key]` gets `out` overwritten instead, somehow. This debugging session (paused just before `if(target)`) is probably the best explanation I can provide:\n\n![](http://puu.sh/pzi1b/f20f00a0e4.png)\n",
                              "label": "unlabeledBug",
                              "createdAt": "2016-06-20T10:17:39Z",
                              "closedAt": "2016-06-20T11:12:34Z",
                              "lastComment": "2016-06-21T01:29:53Z",
                              "commentCount": 2
                         },
                         {
                              "title": "Warning! Trojan Dropper in core.min.js",
                              "description": "I found a Trojan Dropper inside node modules when you do npm install on projects and here is details:\n\nnode_modules\\core-js\\client\\core.min.js -> TrojanDropper.VBS.f\n\nPlease fix those issues.\n",
                              "label": "unlabeledBug",
                              "createdAt": "2016-06-16T19:21:41Z",
                              "closedAt": "2016-06-16T20:29:33Z",
                              "lastComment": "2016-06-16T20:29:33Z",
                              "commentCount": 1
                         },
                         {
                              "title": "Chrome 51 always throws if dev tools open using core-js 1.2.6",
                              "description": "Using latest Chrome v51 on Windows results in this error with core-js@1.2.6 when developer tools are open:\n\n```\nPaused on promise rejection: 'TypeError: Iterator result undefined is not an object'\n```\n\nThis error happens before any of our client code runs.\n\nAs a background we're still stuck with Babel 5.x which prevents from updating as it wants core-js from 1.x range. It is summer time so we don't have the resources to do a Babel upgrade until August. As a workaround I'm adding a temporary patch where browser actually loads core-js 2.4.0 instead and have my fingers crossed that this won't cause any issues.\n\nAlso, I'm not sure whether this issue is a bug in Chrome or core-js. Also sent feedback to Chrome linking to this issue.\n",
                              "label": "unlabeledBug",
                              "createdAt": "2016-06-04T11:16:17Z",
                              "closedAt": "2016-07-17T21:22:28Z",
                              "lastComment": "2016-07-17T21:22:28Z",
                              "commentCount": 7
                         },
                         {
                              "title": "Symbol prototype deleted after redefine toString with PhantomJS",
                              "description": "https://github.com/zloirock/core-js/blob/master/modules/es6.symbol.js#L144\n\nBefore this line, `$Symbol[PROTOTYPE]` is defined. After this line, it is `undefined`.\n\n``` js\nredefine($Symbol[PROTOTYPE], 'toString', function toString(){\n    return this._k;\n});\n```\n\nI went down the rabbit hole: `redefine -> hide -> object-dp` where it seems to be calling `Object.defineProperty`, but I was unable to debug it further.\n",
                              "label": "unlabeledBug",
                              "createdAt": "2016-06-03T21:14:14Z",
                              "closedAt": "2016-06-03T21:52:16Z",
                              "lastComment": "2016-06-03T21:52:16Z",
                              "commentCount": 3
                         },
                         {
                              "title": "Firefox error: Function.prototype.toString called on incompatible object",
                              "description": "My website fails to load on older versions of Firefox, displaying the following error: `TypeError: Function.prototype.toString called on incompatible object`.\n\nI've traced the error to a collection of babel-related node modules, including but not limited to: `babel-core/browser-polyfill.min.js`, `babel-core/browser.min.js`, `babel-polyfill/browser.js`, etc.\n\nI obviously depend heavily on these libraries to transpile my ES6 code. Is there any other fix / polyfill I can inject specifically for this error?\n",
                              "label": "unlabeledBug",
                              "createdAt": "2016-05-10T20:47:17Z",
                              "closedAt": "2016-05-10T22:56:37Z",
                              "lastComment": "2016-05-10T22:56:37Z",
                              "commentCount": 7
                         },
                         {
                              "title": "es6.promise always pause on exception in Canary",
                              "description": "Hi, I can't use pause on exception feature in Canary (51.0.2694.1 canary (64-bit)) because es6.promise causes \"Iterator result undefined is not an object\" type error. Is there a way to fix that?\n\n![temp](https://cloud.githubusercontent.com/assets/911388/14160561/ff054848-f6aa-11e5-8ac1-3bed74a49646.gif)\n\nThank you.\n",
                              "label": "unlabeledBug",
                              "createdAt": "2016-03-30T23:11:22Z",
                              "closedAt": "2016-03-31T00:45:34Z",
                              "lastComment": "2016-03-31T00:03:28Z",
                              "commentCount": 1
                         },
                         {
                              "title": "Don't use object as promise constructor",
                              "description": "during fixing #176 the next code was introduced in commit 9d7e2da467e97af0b2897efff371b66d561d708e:\n\n``` js\nvar promise     = $Promise.resolve(1)\n      , FakePromise = (\n\n     promise.constructor = {} // !! at this moment promise.constructor equals new object instance !!\n\n     )[require('./_wks')('species')] = function(exec){ exec(empty, empty); };\n    // unhandled rejections tracking support, NodeJS Promise without it fails @@species test\n    return (isNode || typeof PromiseRejectionEvent == 'function') && \n\n     promise.then(empty) // !! here comes .then method which fails with \n                                      // TypeError: object is not a constructor\n\n      instanceof FakePromise;\n```\n\nthe reason promise.then method fails in V8 is this --V8 creates new Promise every time `.then` method is called: https://github.com/v8/v8/blob/611add52550510b6bc0b79f6ae9278786183405f/src/js/promise.js#L285\nand what is especially important, if `promise.constructor !== Promise`, V8 tries to create new promise from whatever thing `promise.constructor` points to ( https://github.com/v8/v8/blob/611add52550510b6bc0b79f6ae9278786183405f/src/js/promise.js#L233 )! which is `{}` in case above! hence we have `object is not a constructor` TypeError.\n",
                              "label": "unlabeledBug",
                              "createdAt": "2016-03-25T15:24:48Z",
                              "closedAt": "2016-03-25T15:46:09Z",
                              "lastComment": "2016-03-25T15:50:53Z",
                              "commentCount": 1
                         },
                         {
                              "title": "The future of core-js",
                              "description": "I love raw javascript, engines compatibility and `core-js` project, but sometimes I want to eat. It's my personal project, in the last year every day I spent several hours for development and maintenance `core-js`. Instead of help with my work, it just creates problems for me. I lost some orders because I spent my time on `core-js` instead of them. At the moment, I try to find a full-time job, but all offers completely unrelated this project. In this case, I will not be able to develop and maintain this project as it's required. I don't see anyone else who can develop and maintain it.\n\nUnlike most other projects, `core-js` development can't be just finished - new specs, new proposals, new engines with new bugs... Finalization of the project means death. And problem for thousands of projects who uses it or repacks (`babel-runtime`, `babel-polyfill`, etc) - in many cases `core-js` hasn't alternatives. I do not want this to happen.\n\nI see only 3 possible way (sure, first two together - the best solution):\n- The community can start actively contribute. See more info below.\n- Someone can propose me a related job where I will be able to spend enough time for the development and maintenance `core-js`.\n- `core-js` will die.\n\nWhere can you contribute?\n- You can... just report known issues in the tracker. Most issues I see in other places and I have no ideas why just not report them here. I don't want to spend my time finding them.\n- You can help with writing tests. Most parts of `core-js` enough well covered by tests, but not completely. And some still not covered, for example, some parts of `Promise` by ES6 spec. Or, for example, you can help adapt `test262` test case.\n- You can help check and optimize performance in some places.\n- You can help with documentation. I'm not a native English speaker (I think you have understood it after reading of this text :), so it definitely has some bugs, I can miss something else or you can just improve it.\n- You can just ask me how you can help more.\n",
                              "label": "bug",
                              "createdAt": "2015-12-03T16:39:09Z",
                              "closedAt": "2019-10-24T22:55:32Z",
                              "lastComment": "2019-07-19T07:49:49Z",
                              "commentCount": 14
                         },
                         {
                              "title": "Closure Compiler Compatibility with Safari 8 and IE9 Minifying Array.from",
                              "description": "We ran into an issue where Array.from was minifying incorrectly. \n\n[Google Closure Output on es6.array.js](https://closure-compiler.appspot.com/home#code%3D%252F%252F%2520%253D%253DClosureCompiler%253D%253D%250A%252F%252F%2520%2540output_file_name%2520default.js%250A%252F%252F%2520%2540compilation_level%2520SIMPLE_OPTIMIZATIONS%250A%252F%252F%2520%2540formatting%2520pretty_print%250A%252F%252F%2520%253D%253D%252FClosureCompiler%253D%253D%250A%250A'use%2520strict'%253B%250Avar%2520ctx%2520%2520%2520%2520%2520%2520%2520%2520%2520%253D%2520require%28'.%252F%2524.ctx'%29%250A%2520%2520%252C%2520%2524def%2520%2520%2520%2520%2520%2520%2520%2520%253D%2520require%28'.%252F%2524.def'%29%250A%2520%2520%252C%2520toObject%2520%2520%2520%2520%253D%2520require%28'.%252F%2524.to-object'%29%250A%2520%2520%252C%2520call%2520%2520%2520%2520%2520%2520%2520%2520%253D%2520require%28'.%252F%2524.iter-call'%29%250A%2520%2520%252C%2520isArrayIter%2520%253D%2520require%28'.%252F%2524.is-array-iter'%29%250A%2520%2520%252C%2520toLength%2520%2520%2520%2520%253D%2520require%28'.%252F%2524.to-length'%29%250A%2520%2520%252C%2520getIterFn%2520%2520%2520%253D%2520require%28'.%252Fcore.get-iterator-method'%29%253B%250A%2524def%28%2524def.S%2520%252B%2520%2524def.F%2520*%2520!require%28'.%252F%2524.iter-detect'%29%28function%28iter%29%257B%2520Array.from%28iter%29%253B%2520%257D%29%252C%2520'Array'%252C%2520%257B%250A%2520%2520%252F%252F%252022.1.2.1%2520Array.from%28arrayLike%252C%2520mapfn%2520%253D%2520undefined%252C%2520thisArg%2520%253D%2520undefined%29%250A%2520%2520from%253A%2520function%2520from%28arrayLike%252F*%252C%2520mapfn%2520%253D%2520undefined%252C%2520thisArg%2520%253D%2520undefined*%252F%29%257B%250A%2520%2520%2520%2520var%2520O%2520%2520%2520%2520%2520%2520%2520%253D%2520toObject%28arrayLike%29%250A%2520%2520%2520%2520%2520%2520%252C%2520C%2520%2520%2520%2520%2520%2520%2520%253D%2520typeof%2520this%2520%253D%253D%2520'function'%2520%253F%2520this%2520%253A%2520Array%250A%2520%2520%2520%2520%2520%2520%252C%2520mapfn%2520%2520%2520%253D%2520arguments%255B1%255D%250A%2520%2520%2520%2520%2520%2520%252C%2520mapping%2520%253D%2520mapfn%2520!%253D%253D%2520undefined%250A%2520%2520%2520%2520%2520%2520%252C%2520index%2520%2520%2520%253D%25200%250A%2520%2520%2520%2520%2520%2520%252C%2520iterFn%2520%2520%253D%2520getIterFn%28O%29%250A%2520%2520%2520%2520%2520%2520%252C%2520length%252C%2520result%252C%2520step%252C%2520iterator%253B%250A%2520%2520%2520%2520if%28mapping%29mapfn%2520%253D%2520ctx%28mapfn%252C%2520arguments%255B2%255D%252C%25202%29%253B%250A%2520%2520%2520%2520%252F%252F%2520if%2520object%2520isn't%2520iterable%2520or%2520it's%2520array%2520with%2520default%2520iterator%2520-%2520use%2520simple%2520case%250A%2520%2520%2520%2520if%28iterFn%2520!%253D%2520undefined%2520%2526%2526%2520!%28C%2520%253D%253D%2520Array%2520%2526%2526%2520isArrayIter%28iterFn%29%29%29%257B%250A%2520%2520%2520%2520%2520%2520for%28iterator%2520%253D%2520iterFn.call%28O%29%252C%2520result%2520%253D%2520new%2520C%253B%2520!%28step%2520%253D%2520iterator.next%28%29%29.done%253B%2520index%252B%252B%29%257B%250A%2520%2520%2520%2520%2520%2520%2520%2520result%255Bindex%255D%2520%253D%2520mapping%2520%253F%2520call%28iterator%252C%2520mapfn%252C%2520%255Bstep.value%252C%2520index%255D%252C%2520true%29%2520%253A%2520step.value%253B%250A%2520%2520%2520%2520%2520%2520%257D%250A%2520%2520%2520%2520%257D%2520else%2520%257B%250A%2520%2520%2520%2520%2520%2520for%28result%2520%253D%2520new%2520C%28length%2520%253D%2520toLength%28O.length%29%29%253B%2520length%2520%253E%2520index%253B%2520index%252B%252B%29%257B%250A%2520%2520%2520%2520%2520%2520%2520%2520result%255Bindex%255D%2520%253D%2520mapping%2520%253F%2520mapfn%28O%255Bindex%255D%252C%2520index%29%2520%253A%2520O%255Bindex%255D%253B%250A%2520%2520%2520%2520%2520%2520%257D%250A%2520%2520%2520%2520%257D%250A%2520%2520%2520%2520result.length%2520%253D%2520index%253B%250A%2520%2520%2520%2520return%2520result%253B%250A%2520%2520%257D%250A%257D%29%253B)\n\nThe bad line is: \n\n``` js\n// es6.array.js line 26\n      for(result = new C(length = toLength(O.length)); length > index; index++){\n```\n\nwhich minifies to:\n\n``` js\nfor (e = new c(c = toLength(b.length));c > a;a++) {\n```\n\nWhat is counterintuitive, is that Safari will run the code fine when it is run from the top context, but breaks when run in a function context. Here is an example of the offending pattern in action:\n\n``` js\nfunction runTheSameCode() {\n  var ctor = Array;\n  var newInstance = new ctor(ctor=1);\n  return newInstance;\n}\n\nvar ctor = Array;\nvar newInstance = new ctor(ctor=1);\nconsole.log('now watch this...', newInstance);\n\ntry {\n  var c = runTheSameCode();\n  console.log('here is the value of the function:', c);\n} catch (e) {\n  console.log('I caught an error: %s', e.message);\n}\n```\n### Safari 8.0.8\n\n![screen shot 2015-09-24 at 10 48 05 am](https://cloud.githubusercontent.com/assets/169159/10076484/ce58eb7c-62a9-11e5-8c5d-5f3016328959.png)\n### Chrome\n\n![screen shot 2015-09-24 at 10 49 02 am](https://cloud.githubusercontent.com/assets/169159/10076521/f39c3a7e-62a9-11e5-94a2-3878889dd4f0.png)\n\nThis is stemming from closure compiler inferring this it can save a variable reference. Simply moving the length assignment outside of the new Array should [fix this issue](https://closure-compiler.appspot.com/home#code%3D%252F%252F%2520%253D%253DClosureCompiler%253D%253D%250A%252F%252F%2520%2540output_file_name%2520default.js%250A%252F%252F%2520%2540compilation_level%2520SIMPLE_OPTIMIZATIONS%250A%252F%252F%2520%2540formatting%2520pretty_print%250A%252F%252F%2520%253D%253D%252FClosureCompiler%253D%253D%250A%250A'use%2520strict'%253B%250Avar%2520ctx%2520%2520%2520%2520%2520%2520%2520%2520%2520%253D%2520require%28'.%252F%2524.ctx'%29%250A%2520%2520%252C%2520%2524def%2520%2520%2520%2520%2520%2520%2520%2520%253D%2520require%28'.%252F%2524.def'%29%250A%2520%2520%252C%2520toObject%2520%2520%2520%2520%253D%2520require%28'.%252F%2524.to-object'%29%250A%2520%2520%252C%2520call%2520%2520%2520%2520%2520%2520%2520%2520%253D%2520require%28'.%252F%2524.iter-call'%29%250A%2520%2520%252C%2520isArrayIter%2520%253D%2520require%28'.%252F%2524.is-array-iter'%29%250A%2520%2520%252C%2520toLength%2520%2520%2520%2520%253D%2520require%28'.%252F%2524.to-length'%29%250A%2520%2520%252C%2520getIterFn%2520%2520%2520%253D%2520require%28'.%252Fcore.get-iterator-method'%29%253B%250A%2524def%28%2524def.S%2520%252B%2520%2524def.F%2520*%2520!require%28'.%252F%2524.iter-detect'%29%28function%28iter%29%257B%2520Array.from%28iter%29%253B%2520%257D%29%252C%2520'Array'%252C%2520%257B%250A%2520%2520%252F%252F%252022.1.2.1%2520Array.from%28arrayLike%252C%2520mapfn%2520%253D%2520undefined%252C%2520thisArg%2520%253D%2520undefined%29%250A%2520%2520from%253A%2520function%2520from%28arrayLike%252F*%252C%2520mapfn%2520%253D%2520undefined%252C%2520thisArg%2520%253D%2520undefined*%252F%29%257B%250A%2520%2520%2520%2520var%2520O%2520%2520%2520%2520%2520%2520%2520%253D%2520toObject%28arrayLike%29%250A%2520%2520%2520%2520%2520%2520%252C%2520C%2520%2520%2520%2520%2520%2520%2520%253D%2520typeof%2520this%2520%253D%253D%2520'function'%2520%253F%2520this%2520%253A%2520Array%250A%2520%2520%2520%2520%2520%2520%252C%2520mapfn%2520%2520%2520%253D%2520arguments%255B1%255D%250A%2520%2520%2520%2520%2520%2520%252C%2520mapping%2520%253D%2520mapfn%2520!%253D%253D%2520undefined%250A%2520%2520%2520%2520%2520%2520%252C%2520index%2520%2520%2520%253D%25200%250A%2520%2520%2520%2520%2520%2520%252C%2520iterFn%2520%2520%253D%2520getIterFn%28O%29%250A%2520%2520%2520%2520%2520%2520%252C%2520length%252C%2520result%252C%2520step%252C%2520iterator%253B%250A%2520%2520%2520%2520if%28mapping%29mapfn%2520%253D%2520ctx%28mapfn%252C%2520arguments%255B2%255D%252C%25202%29%253B%250A%2520%2520%2520%2520%252F%252F%2520if%2520object%2520isn't%2520iterable%2520or%2520it's%2520array%2520with%2520default%2520iterator%2520-%2520use%2520simple%2520case%250A%2520%2520%2520%2520if%28iterFn%2520!%253D%2520undefined%2520%2526%2526%2520!%28C%2520%253D%253D%2520Array%2520%2526%2526%2520isArrayIter%28iterFn%29%29%29%257B%250A%2520%2520%2520%2520%2520%2520for%28iterator%2520%253D%2520iterFn.call%28O%29%252C%2520result%2520%253D%2520new%2520C%253B%2520!%28step%2520%253D%2520iterator.next%28%29%29.done%253B%2520index%252B%252B%29%257B%250A%2520%2520%2520%2520%2520%2520%2520%2520result%255Bindex%255D%2520%253D%2520mapping%2520%253F%2520call%28iterator%252C%2520mapfn%252C%2520%255Bstep.value%252C%2520index%255D%252C%2520true%29%2520%253A%2520step.value%253B%250A%2520%2520%2520%2520%2520%2520%257D%250A%2520%2520%2520%2520%257D%2520else%2520%257B%250A%2520%2520%2520%2520%2520%2520length%2520%253D%2520toLength%28O.length%29%253B%250A%2520%2520%2520%2520%2520%2520for%28result%2520%253D%2520new%2520C%28length%29%253B%2520length%2520%253E%2520index%253B%2520index%252B%252B%29%257B%250A%2520%2520%2520%2520%2520%2520%2520%2520result%255Bindex%255D%2520%253D%2520mapping%2520%253F%2520mapfn%28O%255Bindex%255D%252C%2520index%29%2520%253A%2520O%255Bindex%255D%253B%250A%2520%2520%2520%2520%2520%2520%257D%250A%2520%2520%2520%2520%257D%250A%2520%2520%2520%2520result.length%2520%253D%2520index%253B%250A%2520%2520%2520%2520return%2520result%253B%250A%2520%2520%257D%250A%257D%29%253B). \n",
                              "label": "unlabeledBug",
                              "createdAt": "2015-09-24T14:54:32Z",
                              "closedAt": "2015-09-24T15:19:42Z",
                              "lastComment": "2015-09-24T16:41:29Z",
                              "commentCount": 5
                         },
                         {
                              "title": "Promise should report stack trace on unhandled promise rejection",
                              "description": "Because of issue #78, native promises aren't used in V8 -- but this hampers debugging in V8.\n\nOn an unhandled promise rejection, core-js should outputed a console trace using something like `console.trace`, otherwise errors are masked completely.\n",
                              "label": "unlabeledBug",
                              "createdAt": "2015-09-22T19:50:48Z",
                              "closedAt": "2015-09-26T11:05:06Z",
                              "lastComment": "2015-10-08T17:10:50Z",
                              "commentCount": 3
                         },
                         {
                              "title": "Nested setTimeout calls cause invalid Promise unhandled rejection message",
                              "description": "Came across this when upgrading to Babel 5, picking up core-js 0.9.18, causing us to switch from Chrome promises to polyfilled promises.\n\nThere appears to be some very strange `setTimeout`/`postMessage` nesting behavior. I'm seeing\n\n```\nsetTimeout(function(){\n    setTimeout(function(){\n        setTimeout(function(){\n            setTimeout(function(){\n                Promise.reject('err').then(function(){}).then(function(){}).catch(function(err){\n                    console.log('handled error', err);\n                });\n            }, 0);\n        }, 500);\n    }, 0);\n}, 500);\n```\n\nin Chrome print out BOTH my own `console.log('handled error');` _AND_ the internal `console.error('Unhandled promise rejection');` message. It seems to be somewhat flaky, and it almost always works when the devtools are open, but if you run that code in a standalone file with just core-js, and open devtools after running it, you'll see the error.\n\nObviously this code is really roundabout, but this came up for me in Jasmine because of code like\n\n```\nwaits(500);\nwaits(500);\nruns(function(){\n    // Some normal code that happens to create a promise chain like the one above.\n});\n```\n\nI did some testing on my own machine by splitting out the core-js code and just using straight JS:\n\n```\nsetTimeout(function(){\n    setTimeout(function(){\n        setTimeout(function(){\n            setTimeout(function(){\n                setTimeout(function(){\n                    console.log('2')\n                }, 1);\n\n                window.addEventListener('message', function fn(){\n                    window.removeEventListener('message', fn, false);\n\n                    console.log('1');\n                    setTimeout(function(){\n                        console.log('3');\n                    }, 1);\n                }, false);\n                window.postMessage('something', '*');\n            }, 0);\n        }, 500);\n    }, 0);\n}, 500);\n```\n\nprints \n\n```\n1\n3\n2\n```\n\nwhen I have devtools closed, which I think is making the promise code process the rejection in the wrong order.\n",
                              "label": "bug",
                              "createdAt": "2015-06-25T23:06:04Z",
                              "closedAt": "2015-07-05T12:48:17Z",
                              "lastComment": "",
                              "commentCount": 0
                         },
                         {
                              "title": "Track updated spec for Promise.resolve()",
                              "description": "TC39 agreed to get rid of the hidden [[PromiseConstructor]] property from the spec and simplify `Promise.resolve`.  The adopted proposal also makes `Promise.resolve` ignore \"species\":\n\nhttps://esdiscuss.org/topic/fixing-promise-resolve\n\nOpening an issue to track core-js adopting the new semantics.\n",
                              "label": "unlabeledBug",
                              "createdAt": "2015-06-02T20:04:37Z",
                              "closedAt": "2015-06-02T20:05:57Z",
                              "lastComment": "2015-06-02T22:25:29Z",
                              "commentCount": 2
                         },
                         {
                              "title": "isInteger is returning isFinite",
                              "description": "Native:\n\n```\n> Number.isInteger(3.14)\n  false\n```\n\nCore JS (via Babel runtime):\n\n```\n> _Number$isInteger(3.14)\n  true\n> _Number$isInteger\n  [Function: isFinite]\n```\n\nThe relevant code seems to be here, where isFinite is the export value: https://github.com/zloirock/core-js/blob/05fdc711efa07aaa412a18189903f37a1458cadc/fn/number/is-integer.js\n",
                              "label": "bug",
                              "createdAt": "2015-05-25T05:09:09Z",
                              "closedAt": "2015-05-25T08:31:38Z",
                              "lastComment": "2015-05-25T08:32:33Z",
                              "commentCount": 1
                         },
                         {
                              "title": "FF 24 TypeError",
                              "description": "[11:40:02.146] TypeError: inst[FOR_EACH] is not a function \n\nisWeak || inst[FOR_EACH](function(val, key){\n",
                              "label": "bug",
                              "createdAt": "2015-01-26T17:42:24Z",
                              "closedAt": "2015-01-26T18:27:07Z",
                              "lastComment": "2015-01-26T18:27:21Z",
                              "commentCount": 4
                         },
                         {
                              "title": "Detect module instead of process?",
                              "description": "https://github.com/6to5/6to5/issues/377#issuecomment-68623666\n",
                              "label": "bug",
                              "createdAt": "2015-01-04T07:16:29Z",
                              "closedAt": "2015-01-04T14:15:08Z",
                              "lastComment": "2015-01-04T15:21:22Z",
                              "commentCount": 1
                         },
                         {
                              "title": " Cannot set property console of [object Object] which has only a getter",
                              "description": "```\n$ node\n> require(\"core-js/shim\")\nTypeError: Cannot set property console of [object Object] which has only a getter\n    at $define (/Users/sebastian/Projects/6to5/6to5/node_modules/core-js/shim.js:516:31)\n    at /Users/sebastian/Projects/6to5/6to5/node_modules/core-js/shim.js:1501:3\n    at /Users/sebastian/Projects/6to5/6to5/node_modules/core-js/shim.js:1522:2\n    at Object.<anonymous> (/Users/sebastian/Projects/6to5/6to5/node_modules/core-js/shim.js:1523:2)\n    at Module._compile (module.js:456:26)\n    at Object.Module._extensions..js (module.js:474:10)\n    at Module.load (module.js:356:32)\n    at Function.Module._load (module.js:312:12)\n    at Module.require (module.js:364:17)\n    at require (module.js:380:17)\n```\n",
                              "label": "bug",
                              "createdAt": "2014-12-25T03:29:35Z",
                              "closedAt": "2014-12-25T04:01:57Z",
                              "lastComment": "2014-12-25T04:14:38Z",
                              "commentCount": 3
                         },
                         {
                              "title": "issues with Map",
                              "description": "(!) I am not using core-js and do not want to do this. So you can ignore this issue.\n1. According to spec `-0` key should be converted to `+0`:\n\n```\n  var map = new Map();\n  map.set(-0, -0);\n  map.forEach(function (value, key) {\n    if (1 / key !== Infinity) {\n      throw new Error(1 / key); // during iteration note\n    }\n  });\n  if (map.get(-0) !== map.get(+0)) {\n    throw new Error();\n  }\n```\n1. Modification of Map during iteration\n\n```\n    var map = new Map();\n    map.set(\"0\", 9);\n    map.set(\"1\", 9);\n    map.set(\"2\", 9);\n    map.set(\"3\", 9);\n    var s = \"\";\n    map.forEach(function (value, key) {\n      s += key;\n      if (key === \"2\") {\n        map.delete(\"2\");\n        map.delete(\"3\");\n        map.delete(\"1\");\n        map.set(\"4\", 9);\n      }\n    });\n    if (s !== \"0124\") {\n      throw new Error(s);\n    }\n```\n",
                              "label": "bug",
                              "createdAt": "2014-11-19T11:28:33Z",
                              "closedAt": "2014-11-20T02:35:12Z",
                              "lastComment": "2014-11-19T23:53:57Z",
                              "commentCount": 4
                         }
                    ]
               },
               "commits": {
                    "incomplete_results": false,
                    "status_code": "200",
                    "total_bug_commits": 664,
                    "total_commits": 3291,
                    "bug_commits": [
                         {
                              "message": "fix configurability and `ToString` conversion of some accessors",
                              "created_at": "2023-02-04T18:43:05Z",
                              "sha": "94471ba9a8ea46b65ce978b9ea152f89349c1fd4"
                         },
                         {
                              "message": "improve some cases handling of array-replacer in `JSON.stringify` symbols handling fix",
                              "created_at": "2023-01-30T17:40:50Z",
                              "sha": "5385428316f590f4845006e2b15e24db3be4d7e9"
                         },
                         {
                              "message": "fix Safari `String.prototype.toWellFormed` `ToString` conversion bug",
                              "created_at": "2023-01-25T19:05:46Z",
                              "sha": "3156638715b5c5c4f07144da28d2e17039240323"
                         },
                         {
                              "message": "some stylistic fixes",
                              "created_at": "2023-01-14T17:13:55Z",
                              "sha": "b4d713b7424c28ba3cce3625d610bcfa6f4f8141"
                         },
                         {
                              "message": "add one more workaround of a `webpack` dev server bug on IE global methods, close #1161",
                              "created_at": "2023-01-10T15:30:24Z",
                              "sha": "47bdf63d33fa17ef592c7d3fda582e3cf4581af1"
                         },
                         {
                              "message": "fix a variable name",
                              "created_at": "2023-01-10T00:57:06Z",
                              "sha": "7ca321fe95e9526c00ae1405336a3fc52ed13939"
                         },
                         {
                              "message": "fix possible `String.{ raw, cooked }` error with empty template array",
                              "created_at": "2023-01-03T15:11:28Z",
                              "sha": "2689f6a4611bd5b31b99ef6962c28c989edf035f"
                         },
                         {
                              "message": "fix errors examples in the `structuredClone` test case",
                              "created_at": "2023-01-01T18:01:06Z",
                              "sha": "4257d0b6c3dcf928e727157f97803608c8358bd1"
                         },
                         {
                              "message": "disable testing of Chakra `Object. getOwnPropertyNames` cross-realm bug, some cases of that we don't (and can't) fix",
                              "created_at": "2023-01-01T17:16:02Z",
                              "sha": "5a463682641237a699e8185f36a769e9c7446099"
                         },
                         {
                              "message": "fix one linting issue",
                              "created_at": "2023-01-01T00:01:14Z",
                              "sha": "e6bc7f12e465aea70d91fec3bbdc7a083dfb03b3"
                         },
                         {
                              "message": "fix a Chakra-based MS Edge (18-) bug that unfreeze (O_o) frozen arrays used as `WeakMap` keys",
                              "created_at": "2022-12-27T18:09:19Z",
                              "sha": "da2e4f8d15174c70269bc8e1961358d0407c81d6"
                         },
                         {
                              "message": "fix a couple of tests",
                              "created_at": "2022-12-20T18:07:43Z",
                              "sha": "4cc298a133fead34d62f21c8fd75c02cf40b6341"
                         },
                         {
                              "message": "add `set(Timeout|Interval|Immediate)` extra arguments fix for Bun (similarly to IE9-)\n\nhttps://github.com/oven-sh/bun/issues/1633",
                              "created_at": "2022-12-20T18:00:42Z",
                              "sha": "c5e2d95b7cfa9f2cf8be6a48ebf2f1127dabdcd4"
                         },
                         {
                              "message": "fix some helpers",
                              "created_at": "2022-12-18T18:01:23Z",
                              "sha": "0c1b493181f2ef8ef4293aab63da156906df4348"
                         },
                         {
                              "message": "fix some cases of early exit from iteration",
                              "created_at": "2022-12-15T06:57:34Z",
                              "sha": "6f6b1bf5415714a8acc39cc51fdb2ea3b0788f20"
                         },
                         {
                              "message": "fix handling of sparse arrays in `structuredClone`, close #1156",
                              "created_at": "2022-12-14T01:59:10Z",
                              "sha": "06c316bb664310ea3a39e3dd78b82e9b5b2efcb0"
                         },
                         {
                              "message": "fix copy-paste issues in comments",
                              "created_at": "2022-12-13T17:11:02Z",
                              "sha": "832050c7a329fd8e4f9e65d826f814a44535526f"
                         },
                         {
                              "message": "fix import",
                              "created_at": "2022-12-11T00:19:58Z",
                              "sha": "0a7e12d2db84e6a869b46ffeaa59acc0d91c2802"
                         },
                         {
                              "message": "fix export logic",
                              "created_at": "2022-12-10T23:53:06Z",
                              "sha": "531d9eaf5092fbb6accf3928f4e1d1d7b0533d49"
                         },
                         {
                              "message": "fix a theoretically possible future conflict of polyfills definitions in the pure version",
                              "created_at": "2022-11-26T20:55:02Z",
                              "sha": "03a0cd5667033d4d4cc3045813de0fafdedc92ae"
                         },
                         {
                              "message": "fix `.gitignore`",
                              "created_at": "2022-11-02T04:18:24Z",
                              "sha": "95cf6e9f86ccf3d7f8604cbdf5681c9fc28245fe"
                         },
                         {
                              "message": "fix regression with an error on reuse of some built-in methods from another realm, close #1133",
                              "created_at": "2022-10-03T18:29:06Z",
                              "sha": "1ad3e1a5fea6d8c65c2826539855f11a8865a7c1"
                         },
                         {
                              "message": "fix `no-unused-vars` setting",
                              "created_at": "2022-09-27T21:41:29Z",
                              "sha": "44fe613a92ab263cfe86becc3ca8136c41f6fa60"
                         },
                         {
                              "message": "some fixes",
                              "created_at": "2022-09-27T21:05:55Z",
                              "sha": "775f6bac8d26e2be357f64390fe01990a9b44cc1"
                         },
                         {
                              "message": "add a workaround of a Nashorn bug with `Function.prototype.{ call, bind }`, close #1128",
                              "created_at": "2022-09-27T18:49:21Z",
                              "sha": "27b563077e152ca1ef5d09e8f798e0077d6c1991"
                         },
                         {
                              "message": "fix some patterns, use some extglob patterns",
                              "created_at": "2022-09-23T23:45:13Z",
                              "sha": "5853e7e20a70992269691e782db0e113f12c6f93"
                         },
                         {
                              "message": "fix existence of `Array.prototype.{ findLast, findLastIndex }` in `/stage/4` entry",
                              "created_at": "2022-09-20T18:14:59Z",
                              "sha": "954f0fb8732b1cc0a38676f72761fd0872fc764f"
                         },
                         {
                              "message": "some `eslint` config fixes",
                              "created_at": "2022-09-13T17:48:32Z",
                              "sha": "c8f73d0029cc8a5d56b4b479217d5d7cb4b53ff3"
                         },
                         {
                              "message": "fix some blocks",
                              "created_at": "2022-09-05T18:33:25Z",
                              "sha": "6ca3e61ab973238285110edc1c5e37e96fbeb906"
                         },
                         {
                              "message": "fix a typo",
                              "created_at": "2022-09-05T18:24:26Z",
                              "sha": "eb8ed332079673b77127b59201dd608cc6e1d329"
                         },
                         {
                              "message": "add some fixes and workarounds of FF30- typed arrays bug that does not properly convert objects to numbers",
                              "created_at": "2022-09-03T19:37:20Z",
                              "sha": "6e810451bb57c5be5872151823088f13d620068a"
                         },
                         {
                              "message": "adapt some tests to a FF < 23 bug",
                              "created_at": "2022-08-31T21:40:57Z",
                              "sha": "c191a76a7d5b64874c5e5a9b5db2a4a70734c7ed"
                         },
                         {
                              "message": "fix omitting the result of proxing `.return` in `%IteratorHelperPrototype%.return`, close #1116",
                              "created_at": "2022-08-22T18:03:08Z",
                              "sha": "9e701767927c0c590f0bfbfa1cbc7e09c451584b"
                         },
                         {
                              "message": "fix a typo",
                              "created_at": "2022-08-20T21:27:17Z",
                              "sha": "9f4af1fbc1bc78caa99794c0c8a390f1d8d6f199"
                         },
                         {
                              "message": "some stylistic changes and minor fixes",
                              "created_at": "2022-08-20T19:08:23Z",
                              "sha": "0400deaa99b304f5a772f5c7cc7c622e10aa47f6"
                         },
                         {
                              "message": "fix `ArrayBuffer.length` in V8 ~ Chrome 27-",
                              "created_at": "2022-08-19T18:04:40Z",
                              "sha": "95fc85d9f40e4c5cd2fd23b71b7cbbba108c7ae0"
                         },
                         {
                              "message": "fix some cases of Safari < 13 bug - silent on non-writable array `.length` setting",
                              "created_at": "2022-08-17T18:01:54Z",
                              "sha": "4bf42edaef6816214fbc66a19bd4bfc4d30734dd"
                         },
                         {
                              "message": "fix some cases of Safari < 13 bug - silent on non-writable array `.length` setting",
                              "created_at": "2022-08-16T18:25:33Z",
                              "sha": "abd824de240389694eed14e38b0ea90dcbe8f4ef"
                         },
                         {
                              "message": "fix the order creation of properties of iteration result object of some iterators",
                              "created_at": "2022-08-10T18:10:49Z",
                              "sha": "59b6b2b70e613955c2ed22848b1664fdc2b1a069"
                         },
                         {
                              "message": "fix detection of `@@species` support in `Promise` in some old engines",
                              "created_at": "2022-07-25T15:23:50Z",
                              "sha": "ae23b5af9f7a42b932c6d40876fcb9a52bb24c96"
                         },
                         {
                              "message": "fix promise chain",
                              "created_at": "2022-07-24T08:53:58Z",
                              "sha": "4d107e1b6996a4045845cb9b81cb94f744342cd0"
                         },
                         {
                              "message": "fix one more cases of iteration closing",
                              "created_at": "2022-07-24T08:53:37Z",
                              "sha": "0cebba562572469fbb0abf8e74ed710bf55969a5"
                         },
                         {
                              "message": "fix some more cases of async iteration closing",
                              "created_at": "2022-07-24T08:53:37Z",
                              "sha": "a0c110a5173e869b7631145218dd57b7719be5a0"
                         },
                         {
                              "message": "fix some cases of async iteration closing",
                              "created_at": "2022-07-24T08:53:37Z",
                              "sha": "9a4125292154161bac9fe14724a2e2cb33ba515c"
                         },
                         {
                              "message": "fix the difference between wrapper and generator proxies",
                              "created_at": "2022-07-24T08:53:14Z",
                              "sha": "f0055f8e52e801c51fb682029498aa4a1aeb1aa5"
                         },
                         {
                              "message": "fix a typo in the `structuredClone` feature detection, close #1106",
                              "created_at": "2022-07-16T10:12:42Z",
                              "sha": "99da3ba36ff652d5abbad394441883fe00fc8eee"
                         },
                         {
                              "message": "fix `.emplace` logic, #1102",
                              "created_at": "2022-07-08T20:33:48Z",
                              "sha": "0b5d53d9d348d2b2a954548b0a6bebaf93386a0b"
                         },
                         {
                              "message": "add a fix for the FF103 `structuredClone` bug that now can clone errors, but `.stack` of the clone is an empty string\n\nhttps://bugzilla.mozilla.org/show_bug.cgi?id=1778762",
                              "created_at": "2022-07-08T18:51:38Z",
                              "sha": "e41db12061534e0af3a2a636a87ec56714088013"
                         },
                         {
                              "message": "add a workaround for Bun ~ 0.1.1 bug that define some globals with incorrect property descriptors\n\nhttps://github.com/Jarred-Sumner/bun/issues/399",
                              "created_at": "2022-07-08T18:12:46Z",
                              "sha": "cb8d8e0ed98aaa0d0ffb0ee7051133b4b0dce998"
                         },
                         {
                              "message": "fix(*): change all backticks to `'`",
                              "created_at": "2022-07-04T15:23:26Z",
                              "sha": "f2e66052c17f3d7fb79a28324eb93e71cf52a888"
                         },
                         {
                              "message": "fix(*): Typo",
                              "created_at": "2022-07-04T08:52:24Z",
                              "sha": "f6582dae12ee3edb09187559d7c2f59f254b2f8c"
                         },
                         {
                              "message": "fix regression of some IE8- issues",
                              "created_at": "2022-06-24T16:45:35Z",
                              "sha": "e0e87995a9591657edf2983cbe0d50460fbdb8ce"
                         },
                         {
                              "message": "fix possible error on multiple `core-js` copies, close #1091",
                              "created_at": "2022-06-14T12:21:34Z",
                              "sha": "829581c3aa22afb9d128b52ed2a7a6898dca9194"
                         },
                         {
                              "message": "fix linting",
                              "created_at": "2022-06-05T18:52:15Z",
                              "sha": "d04991748cf4002bba8cae571243425b1b647cfc"
                         },
                         {
                              "message": "add detection of NodeJS bug in `structuredClone` that can not clone `DOMException`\n\nhttps://github.com/nodejs/node/issues/41038",
                              "created_at": "2022-06-05T09:34:06Z",
                              "sha": "26e657024b24f804ea15de92f3f130710dd45c00"
                         },
                         {
                              "message": "fix a bug in the order of getting flags in `RegExp.prototype.flags` in the actual version of V8",
                              "created_at": "2022-06-04T08:51:35Z",
                              "sha": "9017066b4cb367c6609e4473d43d6e6dad8031a5"
                         },
                         {
                              "message": "fix property descriptors of some `Math` and `Number` constants",
                              "created_at": "2022-06-01T20:48:38Z",
                              "sha": "531bb6c318e74ffe33d0740e519ab8d3102212ed"
                         },
                         {
                              "message": "fix some cases of `DeletePropertyOrThrow` in IE9-",
                              "created_at": "2022-05-31T18:58:04Z",
                              "sha": "9fed52d7e7e1d59e8c81a3080f46aa1d48de9b67"
                         },
                         {
                              "message": "fix possible multiple call of `ToBigInt` / `ToNumber` conversion of the argument passed to `%TypedArray%.prototype.fill` in V8 ~ Chrome < 59, Safari < 14.1, FF < 55, Edge <=18",
                              "created_at": "2022-05-31T18:06:17Z",
                              "sha": "6f9bf9e84f1e00d2be421a7f87d6ca4d22d6f540"
                         },
                         {
                              "message": "fix a helper name",
                              "created_at": "2022-05-31T14:31:45Z",
                              "sha": "c04e4e15ef5d5d9c24655f43476c3f77b7b8978e"
                         },
                         {
                              "message": "some `%TypedArray%` methods fixes",
                              "created_at": "2022-05-30T18:13:46Z",
                              "sha": "3837bf88be87d080addef0237b8343520ca63ac9"
                         },
                         {
                              "message": "fix dependencies of `{ actual, full, features }/typed-array/at` entries",
                              "created_at": "2022-05-25T17:37:10Z",
                              "sha": "03994d1eb975d5110200e8e5461b944e7927f2d6"
                         },
                         {
                              "message": "add a workaround for V8 ~ Chrome 53 bug with non-writable prototype of some methods, close #1083",
                              "created_at": "2022-05-24T13:56:04Z",
                              "sha": "230fa4cd0acbba62cc38edbe8ff3c11bd49830bd"
                         },
                         {
                              "message": "fix typos",
                              "created_at": "2022-05-17T12:00:17Z",
                              "sha": "12be48b51dae8ad54e233bc57a4c334ea450e65f"
                         },
                         {
                              "message": "refactor and fix conversion arguments of `Math` methods",
                              "created_at": "2022-05-16T16:03:20Z",
                              "sha": "4ec7fe221b8f6eabe386134129ec6bc0e9de6f9e"
                         },
                         {
                              "message": "add a fix of a V8 ~ Chrome <103 `struturedClone` bug",
                              "created_at": "2022-05-03T12:03:53Z",
                              "sha": "1e69e7edcae08c655572ccce62ea10d48b32096b"
                         },
                         {
                              "message": "add a fix for FF99+ `Array.prototype.includes` broken on sparse arrays",
                              "created_at": "2022-04-28T02:09:37Z",
                              "sha": "66be5f0b673714bc7cc72a3b5e437fe277465973"
                         },
                         {
                              "message": "fix `URLSearchParams` in IE8- that was broken in the previous release",
                              "created_at": "2022-04-21T13:11:01Z",
                              "sha": "803c995f710486db305a49e4b863d1d6cac82efd"
                         },
                         {
                              "message": "fix `__lookupGetter__` entries",
                              "created_at": "2022-04-21T12:48:48Z",
                              "sha": "69b0ac70140d8d97c4ce93647dd2ccdf88681813"
                         },
                         {
                              "message": "one more `atob` bug on NodeJS\n\nhttps://github.com/nodejs/node/issues/42646",
                              "created_at": "2022-04-08T00:09:22Z",
                              "sha": "1f6985c158bc9c80562bd91f4a19d583108fac01"
                         },
                         {
                              "message": "some more `atob` / `btoa` fixes",
                              "created_at": "2022-04-07T18:02:34Z",
                              "sha": "6edcde930736b0ac094fa69d31429629d80c0c51"
                         },
                         {
                              "message": "fix linting",
                              "created_at": "2022-03-30T16:51:52Z",
                              "sha": "06b4357bb4cf724176c54c6185c47380f6c5186c"
                         },
                         {
                              "message": "fix work of non-standard V8 `Error` features with wrapped `Error` constructors, close #1061",
                              "created_at": "2022-03-19T18:02:44Z",
                              "sha": "e0e3c1bae2b6672401f18f96225ea324da945471"
                         },
                         {
                              "message": "Fix comment of microtask for other environments\n\nSome functions provide macrotask API when the system does not support microtask, but one of them has the wrong name, it should be `window.postMessage` instead of `window.postMessag`, so I try to fix it.",
                              "created_at": "2022-02-17T08:17:37Z",
                              "sha": "37ef61bdbb46691283d268e7489537d2bec52d6d"
                         },
                         {
                              "message": "add a bugfix for the WebKit `Array.prototype.{ groupBy, groupByToMap }` implementation\n\nhttps://bugs.webkit.org/show_bug.cgi?id=236541",
                              "created_at": "2022-02-12T18:23:26Z",
                              "sha": "3ebe5898cd61ecd40fa59a59fc017b549493799c"
                         },
                         {
                              "message": "fix a typo and rephrase\n\nhttps://github.com/zloirock/core-js/issues/1031",
                              "created_at": "2022-01-02T20:02:58Z",
                              "sha": "844d525feced8c01437dbd0fa670819cc065e296"
                         },
                         {
                              "message": "add fixes of some different `%TypedArray%,prototype.set` bugs",
                              "created_at": "2021-12-28T19:52:51Z",
                              "sha": "7b9e11386258b779bb8e617bf4cee1aa69f2b43f"
                         },
                         {
                              "message": "add a fix of a V8 ~ Chrome 36- `Object.defineProperty` bug\n\nhttps://bugs.chromium.org/p/v8/issues/detail?id=3334\nhttps://github.com/babel/babel/issues/14056",
                              "created_at": "2021-12-25T19:27:24Z",
                              "sha": "901d97b00096fb66e991cb620918b4c02af0d101"
                         },
                         {
                              "message": "fix possible memory leaking in specific promise chains",
                              "created_at": "2021-12-21T10:49:43Z",
                              "sha": "5d78d5031e7f1a4ade7c8e07da8c919eea8d8be8"
                         },
                         {
                              "message": "fix the order of calling reactions of fulfilled / rejected promises in `Promise.prototype.then`, close #1026",
                              "created_at": "2021-12-22T18:09:55Z",
                              "sha": "e28762790447e4e300f6f7d570071fa72f1212a5"
                         },
                         {
                              "message": "fix some more dependencies of entries",
                              "created_at": "2021-12-20T09:40:16Z",
                              "sha": "065e3d00555addc757bf368477f649ac8ed74780"
                         },
                         {
                              "message": "fix some missed dependencies of entries",
                              "created_at": "2021-12-20T09:34:02Z",
                              "sha": "c0461bc8c88dccf77aa3d34b65450caf94ca0b58"
                         },
                         {
                              "message": "avoiding Safari / FF `Error` stack cleaning since non-standard behavior causes some bugs",
                              "created_at": "2021-12-15T09:04:20Z",
                              "sha": "59e4effccdf4ae97aad4230c94bf37da3e28958d"
                         },
                         {
                              "message": "workaround V8 ~ Chrome 32- `Error#toString` bug in the pure version `DOMException`",
                              "created_at": "2021-12-15T07:01:07Z",
                              "sha": "a8e87100dd6d730c48f260e4852bddaeea27939f"
                         },
                         {
                              "message": "fix `%TypedArray%.prototype.{ values, @@iterator }.name` in IE10-",
                              "created_at": "2021-12-12T18:04:26Z",
                              "sha": "a355c4c5938a5b027bf8fa8c27f051940a320fe7"
                         },
                         {
                              "message": "fix cloning of `DOMQuad` in FF41-",
                              "created_at": "2021-12-11T06:31:56Z",
                              "sha": "68c1a6d4be1db10505e8c13c60aa862e2bc66270"
                         },
                         {
                              "message": "fix validation of typed arrays in typed arrays iteration methods in V8 ~ Chrome 50-",
                              "created_at": "2021-12-10T21:54:02Z",
                              "sha": "12fc5bdfadf453c7d8d362adf0861e01ea63a072"
                         },
                         {
                              "message": "fix `Array.prototype.{ values, @@iterator }.name` in V8 ~ Chrome 43-45",
                              "created_at": "2021-12-10T20:40:18Z",
                              "sha": "e1abf035e5887766bf611bb7dff25ffd6ff391bd"
                         },
                         {
                              "message": "V8 ~ Chrome 49-50 have the same `Number#toExponential` bug like FF86-",
                              "created_at": "2021-12-10T19:55:50Z",
                              "sha": "e4847711499b4d5a6b5f0e135e08283b64cbed63"
                         },
                         {
                              "message": "don't check buggy Edge 13- classes",
                              "created_at": "2021-12-10T07:28:20Z",
                              "sha": "5eefd0d762075dae0e632579102dd2de014f6dd9"
                         },
                         {
                              "message": "doesn't check buggy Safari 9 classes and methods",
                              "created_at": "2021-12-10T06:32:35Z",
                              "sha": "f88ef201304f2b5a8c15404e2d3e4e65783ac202"
                         },
                         {
                              "message": "add workarounds of Safari 14.1 and old FF bugs with cloning errors",
                              "created_at": "2021-12-10T06:13:47Z",
                              "sha": "293b944846c8a60e02bc26827e7d6f6a20f039ed"
                         },
                         {
                              "message": "fix some more issues with `Error` constructors in old IE",
                              "created_at": "2021-12-09T19:28:02Z",
                              "sha": "abfe9bb6e03c0f1d5fabf5862af68411fc2e76f2"
                         },
                         {
                              "message": "fix some issues with `Error` constructors in old IE",
                              "created_at": "2021-12-09T19:00:15Z",
                              "sha": "cd7050f0eb44f80e84d648202a950a7fb4eeabaf"
                         },
                         {
                              "message": "fix a typo",
                              "created_at": "2021-12-09T18:25:23Z",
                              "sha": "fe7ec4d4de4afb480e52b4981d82a4b66971fc5a"
                         },
                         {
                              "message": "fix qunit `assert.name` helper",
                              "created_at": "2021-12-09T18:24:47Z",
                              "sha": "187a65a0b250fedab387d462cd07034c2ee7f692"
                         },
                         {
                              "message": "add a workaround for `node-qunit` bug\n\nhttps://github.com/qunitjs/node-qunit/issues/146",
                              "created_at": "2021-12-09T15:12:52Z",
                              "sha": "6475af3743e96a5208e69211ce2b7327e4362201"
                         },
                         {
                              "message": "fix linting",
                              "created_at": "2021-12-09T15:12:52Z",
                              "sha": "2fbece8cda734bac879a1aa3b9b0f9a9d87a8eed"
                         },
                         {
                              "message": "fix `.sham` flag",
                              "created_at": "2021-12-09T15:12:52Z",
                              "sha": "017a3741051a57b9fc49370a77f0d486e1309194"
                         },
                         {
                              "message": "fix the order of variables definition",
                              "created_at": "2021-12-09T15:12:52Z",
                              "sha": "488c1fe9faf3eb29fe804d8bdd61e22c1d370dba"
                         },
                         {
                              "message": "fix tests for `DOMRect` in FF30-",
                              "created_at": "2021-12-09T15:12:52Z",
                              "sha": "44ae9b18068d0a37aa4aae5a6ee8ab546231532a"
                         },
                         {
                              "message": "fix tests: some engines have `DOMQuad`, but haven't `DOMPoint.fromPoint`",
                              "created_at": "2021-12-09T15:12:52Z",
                              "sha": "48981fd84e6f68f86442dd11bc4b4562ad96bbfa"
                         },
                         {
                              "message": "fix FF implementation",
                              "created_at": "2021-12-09T15:12:52Z",
                              "sha": "1b81767f5e43232594a56902be3fe948c3578a73"
                         },
                         {
                              "message": "clone `DOMException`, fix some specific `Error` cases",
                              "created_at": "2021-12-09T15:12:52Z",
                              "sha": "ae44dee6283e6a0a2e5bc7085a9cccf51060f0b5"
                         },
                         {
                              "message": "some fixes",
                              "created_at": "2021-12-09T15:12:52Z",
                              "sha": "5800aeaffaae644fcd03810fed99d63a981352a4"
                         },
                         {
                              "message": "refactor structuredCloneInternal using classof\n\nfixed infinite recursion",
                              "created_at": "2021-12-09T15:12:52Z",
                              "sha": "5d7c03c78f0e1eee8667ac727add16f30d1e29b8"
                         },
                         {
                              "message": "fix errors subclassing",
                              "created_at": "2021-12-09T15:12:33Z",
                              "sha": "ab655dbd8679d90d3e9b8a127ed3f50071a27297"
                         },
                         {
                              "message": "move `@@toStringTag` to a separate module, improve compat tests, fix entries",
                              "created_at": "2021-12-09T12:32:42Z",
                              "sha": "bb53dfb73036862d5984dbb6106602a9d439bc50"
                         },
                         {
                              "message": "fix some more engines bugs",
                              "created_at": "2021-12-09T12:31:03Z",
                              "sha": "84fbc6d6727dac01237432dc8bf2e6d9a1f14a69"
                         },
                         {
                              "message": "fix array -> string slice",
                              "created_at": "2021-12-09T11:30:20Z",
                              "sha": "d0d191cd452e1a041b8944f3cc5b6265ad922f00"
                         },
                         {
                              "message": "detect some more bugs",
                              "created_at": "2021-12-09T11:30:20Z",
                              "sha": "a9df8d580ef842eb9429adb6595edaab2098d23f"
                         },
                         {
                              "message": "add a polyfill for `Number.prototype.toExponential` bugs",
                              "created_at": "2021-12-09T11:30:20Z",
                              "sha": "ea9f3afb1f2a856f4a1a21ec8aa9efdbdd1c1101"
                         },
                         {
                              "message": "fix linting",
                              "created_at": "2021-12-09T10:23:32Z",
                              "sha": "1bee4f2d8da0cae2af8f47d0e4dac27a94c30380"
                         },
                         {
                              "message": "change names of methods to *more probable* to- prefix schema\n\nhttps://github.com/tc39/proposal-change-array-by-copy/issues/10",
                              "created_at": "2021-12-09T10:22:12Z",
                              "sha": "36eb31d14c1631820fc9c28b3b0999ee0412a8e4"
                         },
                         {
                              "message": "disable tests of `ToLength` logic in `ArrayIterator` since it's not fixed even in modern WebKit, but not very significant",
                              "created_at": "2021-12-06T12:36:09Z",
                              "sha": "bafb1b945b91f8a83f6babd52bbb58d8af930b1f"
                         },
                         {
                              "message": "fix internal slots check in methods of some more built-in types",
                              "created_at": "2021-12-03T13:54:16Z",
                              "sha": "325ee1ef2432ce9892ba2603083206fc193c33d2"
                         },
                         {
                              "message": "fix `URLSearchParams` iterator `.next` that should be enumerable by the spec\n\nhttps://webidl.spec.whatwg.org/#es-iterator-prototype-object",
                              "created_at": "2021-12-03T06:31:43Z",
                              "sha": "4a29d1f238570b36e6884cbdcda83af821fd09ee"
                         },
                         {
                              "message": "fix requirements of internal slots in `Observable` / `Subscription` / `SubscriptionObserver`\n\nclose #1017",
                              "created_at": "2021-12-03T05:48:12Z",
                              "sha": "bfa8fe111be1329e401fbee22e8ff77bbcc32c96"
                         },
                         {
                              "message": "try to fix broken UC browser `RegExp#sticky`\n\nhttps://github.com/zloirock/core-js/issues/1008",
                              "created_at": "2021-11-27T01:24:25Z",
                              "sha": "1ed2bd18f9c6f09cc1b598717af07a2b84e2b808"
                         },
                         {
                              "message": "refactor tests, fix some asserts",
                              "created_at": "2021-11-21T23:40:56Z",
                              "sha": "69e14b851f08b07ab57b9b6dadf816ee80bacadc"
                         },
                         {
                              "message": "fix linting",
                              "created_at": "2021-11-16T19:23:38Z",
                              "sha": "cae02a4ed94ef715a02805802536faf0a4d10903"
                         },
                         {
                              "message": "add a workaround for FF26- bug where `ArrayBuffer`s are non-extensible, but `Object.isExtensible` does not report it",
                              "created_at": "2021-11-01T18:36:03Z",
                              "sha": "55b232c85f7b7e6e6d70809455fd365404668b74"
                         },
                         {
                              "message": "fix `Object#toString` on `AggregateError` in IE10-",
                              "created_at": "2021-11-01T15:32:04Z",
                              "sha": "50da74b41983d9639654cf9e0ef16f20aae48fba"
                         },
                         {
                              "message": "fix `Function#name`",
                              "created_at": "2021-10-24T15:59:15Z",
                              "sha": "0a2f57b6006ad1bdce1ac96689583baff6657a51"
                         },
                         {
                              "message": "stylistic fix",
                              "created_at": "2021-10-23T06:44:06Z",
                              "sha": "c901ef8d602d180236f5d3379dc81bb1a5e8bed4"
                         },
                         {
                              "message": "fix `core-js-builder` work in NodeJS 17, add a workaround of `webpack` + NodeJS 17 issue\n\nhttps://github.com/webpack/webpack/issues/14532",
                              "created_at": "2021-10-20T12:37:00Z",
                              "sha": "81caceee1cdd04fd559f77520432efc274b3caa7"
                         },
                         {
                              "message": "fix props conversion in the base version of `defineProperties`",
                              "created_at": "2021-10-20T02:45:12Z",
                              "sha": "fd0ec2ced5763893d467cb0964be143abd9b65f8"
                         },
                         {
                              "message": "fix a typo",
                              "created_at": "2021-10-18T21:57:08Z",
                              "sha": "5d6c34993d40f93fd92bb474a744fc8f6e486a26"
                         },
                         {
                              "message": "fix a typo",
                              "created_at": "2021-10-17T21:42:58Z",
                              "sha": "0236601adc493a886715d94200f57045d6036867"
                         },
                         {
                              "message": "add a workaround of a BrowserFS NodeJS `process` polyfill bug that incorrectly reports V8 version that's used in some cases of `core-js` feature detection\n\nhttps://github.com/jvilk/bfs-process/issues/5\n\nhttps://github.com/codesandbox/codesandbox-client/issues/5943",
                              "created_at": "2021-10-17T20:02:59Z",
                              "sha": "b2144bb0ce7fc285743185cf7601a9f0cead368a"
                         },
                         {
                              "message": "fix arguments conversion in `Math.scale`\n\nhttps://github.com/rwaldron/proposal-math-extensions/issues/24",
                              "created_at": "2021-10-16T23:34:52Z",
                              "sha": "9f8af38d228a17c653a6658b58bd3193ac8e50ed"
                         },
                         {
                              "message": "fix normalization of `message` `AggregateError` argument",
                              "created_at": "2021-10-14T23:31:25Z",
                              "sha": "0d0080ef4142cc972cf3bbf1d98c3aceddcfd41c"
                         },
                         {
                              "message": "fix the prototype chain of `AggregateError` constructor that should contain `Error` constructor",
                              "created_at": "2021-10-10T20:00:52Z",
                              "sha": "bcdbdb7687b7964a2f960053111a476890123889"
                         },
                         {
                              "message": "fix a typo in `InstallErrorCause`",
                              "created_at": "2021-10-10T12:50:57Z",
                              "sha": "bfa96a5067844ac149207b477963e471d0cdb112"
                         },
                         {
                              "message": "fix incorrect `AggregateError.prototype` properties descriptors",
                              "created_at": "2021-10-10T02:21:35Z",
                              "sha": "8954f128c26bf728c746d3387199fe808a11573f"
                         },
                         {
                              "message": "fix missed dependencies of an entry",
                              "created_at": "2021-10-02T09:23:55Z",
                              "sha": "33f8141d59263f7929f46ea23b2e1f911f7e9e50"
                         },
                         {
                              "message": "fix `String.raw` with arguments overflow",
                              "created_at": "2021-09-30T13:45:06Z",
                              "sha": "9f56d0f0704751d31856ee994cdbf672bb13b4e4"
                         },
                         {
                              "message": "fix theoretical problems with handling bigint in `Number` constructor wrapper",
                              "created_at": "2021-09-29T17:49:38Z",
                              "sha": "75270adb28624f653ee7615a101ed877139959c4"
                         },
                         {
                              "message": "fix linting",
                              "created_at": "2021-09-29T17:30:50Z",
                              "sha": "333cdf640af913589655207e124e1fb4839bd0fd"
                         },
                         {
                              "message": "fix `cause` in `AggregateError`",
                              "created_at": "2021-09-28T17:24:58Z",
                              "sha": "889a35fbf184a59cac8a6797621e10bb0c2f80ad"
                         },
                         {
                              "message": "fix has own -> has",
                              "created_at": "2021-09-24T21:43:05Z",
                              "sha": "71adeb4a264f77df25931582493a290b94cd9c48"
                         },
                         {
                              "message": "fix a typo",
                              "created_at": "2021-09-23T10:28:30Z",
                              "sha": "e3a4f75ec5500f7b2896d2d875b28478bf93169d"
                         },
                         {
                              "message": "Merge pull request #987 from moorejs/master\n\nfix #988",
                              "created_at": "2021-09-21T19:10:05Z",
                              "sha": "74f441d0f1cd58fd3ec170000287e2c12b6a6fd3"
                         },
                         {
                              "message": "fix `String.prototype.substr` feature detection and compat data",
                              "created_at": "2021-09-20T20:29:29Z",
                              "sha": "ed21ba31d1128d6b0a36aed549095ba365d5404b"
                         },
                         {
                              "message": "fix a test name",
                              "created_at": "2021-09-20T16:48:11Z",
                              "sha": "227f4e8a5162dee582206949db90726aded4ebe2"
                         },
                         {
                              "message": "minor `Array.from` fixes",
                              "created_at": "2021-09-18T14:08:53Z",
                              "sha": "9beeaad6ecfee46acd24425f9d7c830718b49ad8"
                         },
                         {
                              "message": "fix handling of callable objects in `RegExpExec` abstract operation",
                              "created_at": "2021-09-15T22:24:53Z",
                              "sha": "dc65230ed4fb9abda93fb0ea4b00a4157a2c96c4"
                         },
                         {
                              "message": "fix style of some imports",
                              "created_at": "2021-09-15T22:23:33Z",
                              "sha": "93fa3621940be9a3616cc13435ae1248eb6b631d"
                         },
                         {
                              "message": "fix a copyright note",
                              "created_at": "2021-09-15T21:26:48Z",
                              "sha": "4f886ee7a798cbfe6104a2403d29ae83d1762766"
                         },
                         {
                              "message": "fix `URLSearchParams.prototype.entries.name`",
                              "created_at": "2021-09-13T12:47:53Z",
                              "sha": "bcf07bf71e021c3d4470efb7336f0802b8fb7b54"
                         },
                         {
                              "message": "fix a bug of MS Edge 18- `parseInt` / `parseFloat` with boxed symbols",
                              "created_at": "2021-09-11T22:19:11Z",
                              "sha": "d178b48ffe9dde9478a4c58950cbe7e0116c9788"
                         },
                         {
                              "message": "fix missed cases and change the signature of `GetMethod`",
                              "created_at": "2021-09-09T15:27:36Z",
                              "sha": "29e2b5391151fa7efc6bfffe05d4c192f1d8ef7e"
                         },
                         {
                              "message": "fix `DOMTokenList.prototype.{ forEach, @@iterator, keys, values, entries }` in old WebKit versions where `element.classList` is not an instance of global `DOMTokenList`\n\nhttps://github.com/Financial-Times/polyfill-library/pull/1097",
                              "created_at": "2021-09-08T08:31:51Z",
                              "sha": "afe941e3e15da85eff70852e2b88fdb880038a16"
                         },
                         {
                              "message": "one more fix related to extension of `%AsyncIteratorPrototype%`",
                              "created_at": "2021-09-08T07:05:42Z",
                              "sha": "8776099c48cd1281e8aa9f6e90b8403bd3d0ebc5"
                         },
                         {
                              "message": "fix some possible problems related to possible extension of `%IteratorPrototype%` and `%AsyncIteratorPrototype%` in the future",
                              "created_at": "2021-09-08T06:43:24Z",
                              "sha": "19f7da9e1f1533f6fdc5d1c5c373588d5c1757d5"
                         },
                         {
                              "message": "fix a typo",
                              "created_at": "2021-09-08T06:35:10Z",
                              "sha": "a343b6a703af4dfbc369f91a4d4a2e5513a7c6da"
                         },
                         {
                              "message": "fix some more entries of ES3 reserved words, #980",
                              "created_at": "2021-09-02T13:47:08Z",
                              "sha": "f622c80eb83950d242799eb0e0e6367488def633"
                         },
                         {
                              "message": "fix some typos",
                              "created_at": "2021-09-02T13:25:41Z",
                              "sha": "1b934199b95503743063b70c246b7dc765624794"
                         },
                         {
                              "message": "fix stage/4 entry dependencies",
                              "created_at": "2021-09-02T13:24:37Z",
                              "sha": "dd68478552a8d4c16e3ab33422209250323908a9"
                         },
                         {
                              "message": "fix typo",
                              "created_at": "2021-09-01T14:12:54Z",
                              "sha": "1c96c50cd2d3add811c37c842f1fb6ef43ff8aa5"
                         },
                         {
                              "message": "fix one more es3 reserved word issue",
                              "created_at": "2021-09-01T14:09:56Z",
                              "sha": "4f4d95ee737372f2aa26ce2d10273a088f3d57f9"
                         },
                         {
                              "message": "fix a es3 reserved word usage, close #980",
                              "created_at": "2021-09-01T13:53:57Z",
                              "sha": "4cd6fa6fa08423f1358bdc973801ae83d2fe73c3"
                         },
                         {
                              "message": "some more iteration closing fixes",
                              "created_at": "2021-08-31T13:13:28Z",
                              "sha": "ea201f968a04e38f51c88dbd4b078f79f6f6cc8f"
                         },
                         {
                              "message": "fix names of completions",
                              "created_at": "2021-08-30T07:59:50Z",
                              "sha": "7a424c9a2c81ccd73c8aea1b5683650f08344861"
                         },
                         {
                              "message": "fix some missed dependencies",
                              "created_at": "2021-08-29T14:49:45Z",
                              "sha": "6b61dcf7fc8dcfb7f73127c1c459f4748e72b5fd"
                         },
                         {
                              "message": "fix some cases of safe iteration closing",
                              "created_at": "2021-08-29T12:59:21Z",
                              "sha": "21bb08df6a48297708e199e49c6b20ff6cd1d468"
                         },
                         {
                              "message": "fix `.return`",
                              "created_at": "2021-08-29T10:16:41Z",
                              "sha": "b7edd2a636c18c9776a17bd5902ce888ed8b8aa6"
                         },
                         {
                              "message": "fix missed dependency",
                              "created_at": "2021-08-25T19:38:11Z",
                              "sha": "c3379753e65b4bec3adb10261c8042fbbbf9c5be"
                         },
                         {
                              "message": "fix `CreateAsyncFromSyncIterator` semantic in `AsyncIterator.from`, related to #765",
                              "created_at": "2021-08-24T19:52:50Z",
                              "sha": "0333511efc38122506527d6146e9b93f4f3b9cc1"
                         },
                         {
                              "message": "fix some entries of comma operator",
                              "created_at": "2021-08-22T21:55:42Z",
                              "sha": "67ed50da51a96f65beea9354079ceb2b07a6f351"
                         },
                         {
                              "message": "fix a comment",
                              "created_at": "2021-08-17T12:33:12Z",
                              "sha": "b1d2031df17f349a4bcc301ca0c7d7572c4358b5"
                         },
                         {
                              "message": "fix #970",
                              "created_at": "2021-08-10T11:46:19Z",
                              "sha": "3771519de0bd2581afe862d2db8cf2a4517248a7"
                         },
                         {
                              "message": "simplify and improve commonjs entries testing, test coverage of those tests, fix some entries",
                              "created_at": "2021-08-07T18:35:21Z",
                              "sha": "6ee268d9780b0ac8120fe2a4988ddb583375ac3b"
                         },
                         {
                              "message": "test and fix unexpected inner namespaces in entry points",
                              "created_at": "2021-08-05T14:24:38Z",
                              "sha": "84a0573f54f293155b0bf28719acd6808e039d2a"
                         },
                         {
                              "message": "fix microtasks on iOS Pebble",
                              "created_at": "2021-08-02T22:24:12Z",
                              "sha": "de6d2fc374680707dcf87b7df4b1a2d39a93a7ed"
                         },
                         {
                              "message": "some stylistic fixes",
                              "created_at": "2021-07-30T03:10:24Z",
                              "sha": "26af5ccecb63f0531efd276f0e982850019bb785"
                         },
                         {
                              "message": "fix content of some entry points",
                              "created_at": "2021-07-29T19:08:06Z",
                              "sha": "92eb5dd373fcaa5f1a5055f1f1818e80f409a6a5"
                         },
                         {
                              "message": "fix a typo",
                              "created_at": "2021-07-29T11:09:06Z",
                              "sha": "22c8126f46e16eddb24345f938261b809da4e0ea"
                         },
                         {
                              "message": "fix a typo",
                              "created_at": "2021-07-29T10:24:25Z",
                              "sha": "7ac390056b88ae50e744c38a123cd536b812d0da"
                         },
                         {
                              "message": "IE10 fix",
                              "created_at": "2021-07-29T09:23:40Z",
                              "sha": "07846560b8ffc61573b54a2da9bbb145f167edf5"
                         },
                         {
                              "message": "fix possible exposing of collections elements metadata in some cases, close #427",
                              "created_at": "2021-07-28T21:43:18Z",
                              "sha": "16d95eff67dcfc10e79edf7a857b286008897c05"
                         },
                         {
                              "message": "fix work of `Request` with polyfilled `URLSearchParams`, close #965",
                              "created_at": "2021-07-26T11:14:26Z",
                              "sha": "379c6293b17176ef4d90f2f1fc93b5aac8d36d9f"
                         },
                         {
                              "message": "stylistic fix",
                              "created_at": "2021-07-19T18:48:03Z",
                              "sha": "baf437526da973d38709aa09f90cafe2169a806f"
                         },
                         {
                              "message": "fix `Date.prototype.getYear` feature detection and compat data for IE8-",
                              "created_at": "2021-07-19T09:22:54Z",
                              "sha": "1c6cb851bd9104c806f17df2da50f541bce02812"
                         },
                         {
                              "message": "fix a typo",
                              "created_at": "2021-07-18T09:53:20Z",
                              "sha": "b22bed9b8591a216a51452430633a1d464dbcef8"
                         },
                         {
                              "message": "fix a comment",
                              "created_at": "2021-07-14T14:44:11Z",
                              "sha": "60b4e874cc1376319a75b63d788a9fe1b0ba74b2"
                         },
                         {
                              "message": "some fixes",
                              "created_at": "2021-07-11T16:13:58Z",
                              "sha": "32020836d8208681c782b53fce15681bd3c7d994"
                         },
                         {
                              "message": "fix a minor bug related to string conversion in `RegExp#exec`",
                              "created_at": "2021-07-09T15:14:18Z",
                              "sha": "bb137fd5d7811a670893effbb2d29b96737bb9d2"
                         },
                         {
                              "message": "fix Deno support",
                              "created_at": "2021-06-30T17:38:08Z",
                              "sha": "f8074053587b0c379463a619a1a1323b11d667ff"
                         },
                         {
                              "message": "fix cloning of regex through `RegExp` constructor, close #948",
                              "created_at": "2021-06-22T18:02:07Z",
                              "sha": "aa66fb2fd3022d7bfe6af834fa383ef22a6f156b"
                         },
                         {
                              "message": "fix a typo",
                              "created_at": "2021-06-20T11:36:22Z",
                              "sha": "1449fe6336ff7038608b6055e102f946db802608"
                         },
                         {
                              "message": "fix dotAll entry",
                              "created_at": "2021-06-20T11:28:29Z",
                              "sha": "219b688204ba4c3bc4c6363e7e38192eb26b27aa"
                         },
                         {
                              "message": "disable `.groups` prototype check because of a bug in Safari implementation",
                              "created_at": "2021-06-20T09:26:46Z",
                              "sha": "12e0678c137071f00f06a94d413c98e0782d445c"
                         },
                         {
                              "message": "simplify `fix-regexp-well-known-symbol-logic`",
                              "created_at": "2021-06-20T09:25:54Z",
                              "sha": "f7b619dfe4e64eb6426fe4c872acba0ab252d847"
                         },
                         {
                              "message": "untangle `fix-regexp-well-known-symbol-logic` by moving feature detection to related modules",
                              "created_at": "2021-06-20T09:25:54Z",
                              "sha": "3f5640cc6f2ed6e53ce66b73d8d2758c19746644"
                         },
                         {
                              "message": "fix `escape`",
                              "created_at": "2021-06-19T02:34:23Z",
                              "sha": "c9871160455d13a14e030626909ae85493ce2cdc"
                         },
                         {
                              "message": "fix some comments",
                              "created_at": "2021-05-28T09:13:53Z",
                              "sha": "233ce3ac0006ed8b68c07df70df147a253f7a2fd"
                         },
                         {
                              "message": "fix some comments",
                              "created_at": "2021-05-28T09:07:19Z",
                              "sha": "4d6ff5b0859dab132d4428e1023f3357c135441b"
                         },
                         {
                              "message": "fix some possible `String#split` polyfill problems in V8 5.1",
                              "created_at": "2021-05-08T19:17:53Z",
                              "sha": "3eb41598505c13e1aee94e6b640a6b96676b38d3"
                         },
                         {
                              "message": "don't load the second global copy of `core-js` in the tests for simplify debugging",
                              "created_at": "2021-05-08T18:26:04Z",
                              "sha": "7a7c66b0524d3c0336cdba9bb5e3a3f30334856f"
                         },
                         {
                              "message": "fix some cases of `Function#toString` with multiple `core-js` instances",
                              "created_at": "2021-05-08T17:55:08Z",
                              "sha": "1789d3e1f52f687f72181305958f205d45febb16"
                         },
                         {
                              "message": "fix regression of V8 ~ Node 0.12 `Sting(Symbol())` bug, close #933",
                              "created_at": "2021-05-06T00:29:20Z",
                              "sha": "9f8ff89e9e11ed0efd807db02c154f9152cf5dd9"
                         },
                         {
                              "message": "add a workaround of WebKit ~ iOS 10.3 Safari `Promise` instantiation bug, close #932",
                              "created_at": "2021-05-03T08:51:09Z",
                              "sha": "c78f69d921600bfb6caf14b592d8370487d88274"
                         },
                         {
                              "message": "fix #564",
                              "created_at": "2021-04-28T13:38:46Z",
                              "sha": "38aaa133165e803bcde686ab7b29437092dc214f"
                         },
                         {
                              "message": "fix order",
                              "created_at": "2021-04-23T14:02:02Z",
                              "sha": "4f8cddbf42b945c171734f2d08c49a1358d880e1"
                         },
                         {
                              "message": "fix a possible `RegExp` constructor problem with multiple global `core-js` instances",
                              "created_at": "2021-04-20T13:23:12Z",
                              "sha": "b76f9291f7c3f1c3b12b76e90a09a0b3260ea4f1"
                         },
                         {
                              "message": "fix `Symbol` detection in compat tests",
                              "created_at": "2021-04-17T09:45:20Z",
                              "sha": "b5dbc248f7d7c63f2a12429cba3c5f711f854a67"
                         },
                         {
                              "message": "fix incorrect blob urls origin",
                              "created_at": "2021-04-13T19:09:18Z",
                              "sha": "381a25cdb91d0a99a156744de3e0a6a2a4a0fe2d"
                         },
                         {
                              "message": "fix linting",
                              "created_at": "2021-04-02T12:00:14Z",
                              "sha": "370321dba8c6bb5beeda19cceffb7b3714cfa57f"
                         },
                         {
                              "message": "Safari 10 string padding bug detection extend to some Safari-based browsers",
                              "created_at": "2021-03-31T17:40:59Z",
                              "sha": "19bb1a589edddd9f8ff2bfc11b9ba8eb57f23074"
                         },
                         {
                              "message": "update dependencies and fix linting",
                              "created_at": "2021-03-31T17:24:45Z",
                              "sha": "72646fd0e90e89e408e45f7e78bdcef4f97a6fa6"
                         },
                         {
                              "message": "added a workaround for Chrome 38-40 bug which does not allow to inherit symbols (incl. well-known) from DOM collections prototypes to instances\n\n#37\n#406",
                              "created_at": "2021-02-28T15:28:39Z",
                              "sha": "2394dacaa5937e77e692a0821424322ed2578e9c"
                         },
                         {
                              "message": "fix previous commit",
                              "created_at": "2021-02-18T11:09:04Z",
                              "sha": "de922f3ea0c91797ca9177247bd93367518af6d3"
                         },
                         {
                              "message": "fix incorrect replacement",
                              "created_at": "2021-02-18T10:53:37Z",
                              "sha": "3ec742650ea2154d78aabf1506aa36161cd2c5e7"
                         },
                         {
                              "message": "fix a test",
                              "created_at": "2021-02-14T11:32:59Z",
                              "sha": "c8601fac5f9ccfa0a2b3868afb099d475e2aae2f"
                         },
                         {
                              "message": "revert marking `.at` as supported in Chromium 89+\n\nbecause of https://bugs.chromium.org/p/chromium/issues/detail?id=1170196",
                              "created_at": "2021-01-24T18:04:43Z",
                              "sha": "1ea091dcb0320cd74a2f4fb586591195989c5091"
                         },
                         {
                              "message": "fix some more issues related to FF44- legacy `Iterator`, close #906",
                              "created_at": "2021-01-10T20:49:21Z",
                              "sha": "bb3b34bbf92b1d1a7b50d3a5a445c84dc2fb5cd5"
                         },
                         {
                              "message": "Merge pull request #901 from llooz/hotfix/microtrask-webos-webkit\n\nmicrotask, don't use MutationObserver on WebOS Webkit",
                              "created_at": "2021-01-02T10:47:13Z",
                              "sha": "5bef8abd622f6f61dfe4f2def766e54aca44d43b"
                         },
                         {
                              "message": "fix handling of special replacements patterns in `String#replaceAll`, close #900",
                              "created_at": "2020-12-30T08:49:50Z",
                              "sha": "18592d110ad31d1bfe9ccc67122cd0851fc2bf63"
                         },
                         {
                              "message": "microtask, don't use MutationObserver on WebOS Webkit\n\nfixes zloirock/core-js#898",
                              "created_at": "2020-12-28T15:54:04Z",
                              "sha": "ca75da2e69093767dca03db2b1644da48a346b03"
                         },
                         {
                              "message": "fix iterators dependencies of `Promise.any` and `Promise.allSettled` entries",
                              "created_at": "2020-12-26T20:18:53Z",
                              "sha": "6d464fdd1e2917d6fbed5926f0493d1220cd1742"
                         },
                         {
                              "message": "fix pre-releases handling",
                              "created_at": "2020-12-21T16:03:03Z",
                              "sha": "2cda1d15c94a6c49abc7646d86333058f279d138"
                         },
                         {
                              "message": "fix work of new `%TypedArray%` methods on `BigInt` arrays",
                              "created_at": "2020-12-06T00:49:32Z",
                              "sha": "78a9a249154fa3f662e64ed17a639f9c2d8b52b3"
                         },
                         {
                              "message": "fix some typos after rebasing",
                              "created_at": "2020-11-24T08:00:53Z",
                              "sha": "1b27991206772bb80278358d3c4b909e98f56b94"
                         },
                         {
                              "message": "fix some possible problems related multiple global copies of `core-js`, #880",
                              "created_at": "2020-11-06T10:48:54Z",
                              "sha": "784cda10095dd8ca19793f3aea226b22401d5640"
                         },
                         {
                              "message": "fix possible twice call of `window.onunhandledrejection`, #760",
                              "created_at": "2020-11-06T08:56:15Z",
                              "sha": "fb28f12cd39a3c14910adbe42089297c7507d2fd"
                         },
                         {
                              "message": "forced replacement of `Array#{ reduce, reduceRight }` in Chrome 80-82, #766\n\nhttps://bugs.chromium.org/p/chromium/issues/detail?id=1049982",
                              "created_at": "2020-11-05T20:07:31Z",
                              "sha": "ce6673a256574c11d1ca6d4bcdba1aeb32eccc4d"
                         },
                         {
                              "message": "fix typo",
                              "created_at": "2020-11-03T19:25:12Z",
                              "sha": "62792fe27421a311256eba25b349701e40305fea"
                         },
                         {
                              "message": "fix some more cases of iteration closing",
                              "created_at": "2020-11-02T20:35:59Z",
                              "sha": "c1993ea1ede1148eebcdb3fd8d97707bebfdd262"
                         },
                         {
                              "message": "fix some more cases of iteration closing",
                              "created_at": "2020-11-01T18:01:00Z",
                              "sha": "7ce91f934164fe2d90ebd96e0de4488f1213d7b8"
                         },
                         {
                              "message": "fix  `core-js-builder` with an empty (after the targets engines or another filtration) modules list, close #822",
                              "created_at": "2020-10-28T14:26:05Z",
                              "sha": "898cac82b3229123ff85d45b7c21cce134ea0e84"
                         },
                         {
                              "message": "fix microtask implementation in engines with `MutationObserver`, but without `document`, #865, #866",
                              "created_at": "2020-10-28T13:50:28Z",
                              "sha": "08d2d44281d6107b4ea4ae8daaf971007b100a82"
                         },
                         {
                              "message": "fix: resolve postMessage take a error on ios when protocol is file (#863)",
                              "created_at": "2020-10-28T12:56:41Z",
                              "sha": "7019e29fcefe99912e177cbd2b1cc99bb4eaf08b"
                         },
                         {
                              "message": "add a workaround for 3rd party `Reflect.set` polyfill bug, #847",
                              "created_at": "2020-10-27T14:04:09Z",
                              "sha": "4af6233ac66ecf0c9d0c9802e96abe065511bd34"
                         },
                         {
                              "message": "`process.nextTick` have a less priority when `Promise` in the microtask implementation, fix #855",
                              "created_at": "2020-10-27T13:36:14Z",
                              "sha": "f8ccb9b3aff0bc9cf2658eea0b051f0130a88585"
                         },
                         {
                              "message": "some stylistic changes and fixes related #842",
                              "created_at": "2020-10-26T20:35:02Z",
                              "sha": "34373a19daa191f361f7b75c22aa4bcbb0977192"
                         },
                         {
                              "message": "fix: some runtime can't use new Function (#841)",
                              "created_at": "2020-10-26T19:34:09Z",
                              "sha": "f8407a120afa9867675f1d18ce5182985ae89743"
                         },
                         {
                              "message": "fix eslint errors",
                              "created_at": "2020-04-14T10:49:30Z",
                              "sha": "05f49b9cfa2aa82c1607f4254913ef334cce502b"
                         },
                         {
                              "message": "fixes #471 (#745)\n\n* checks if RegExp[Symbol.replace] substitutes undefined capture groups\r\n\r\n* use wellKnownSymbol util to get symbol key for replace method\r\n\r\n* fixes REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE conditional logic\r\n\r\n* caches Symbol.replace as constant, uses regexp literal, swaps default for guard in fix-regexp-well-known-symbol-logic",
                              "created_at": "2020-01-10T12:23:01Z",
                              "sha": "254a22794ef1d795e543d4265d2fd3f433e10dcd"
                         },
                         {
                              "message": "fix `esnext.iterator.constructor` compat test (some old FF versions with non-standard `Iterator` pass the current)",
                              "created_at": "2020-01-09T11:42:37Z",
                              "sha": "241537f5b8be3a7b1292d4983eaea23a4afb5835"
                         },
                         {
                              "message": "add `RegExp#exec` dependency to methods which depends on the correctness of logic of this method, fix #741",
                              "created_at": "2020-01-03T20:42:19Z",
                              "sha": "bccbad74906d20a44121fef894e5c87a325b6734"
                         },
                         {
                              "message": "move `DataView.prototype` prototype fix to the required module",
                              "created_at": "2020-01-03T18:47:20Z",
                              "sha": "ba9f8f84cc1846e7b32c629072ce6e2be3e712e3"
                         },
                         {
                              "message": "add `engine-` prefix to related modules",
                              "created_at": "2019-12-30T12:18:26Z",
                              "sha": "717ff8bca8e68508ef6cef7eb673d0b39265739a"
                         },
                         {
                              "message": "rename `webkit-string-pad-bug` -> `string-pad-webkit-bug`",
                              "created_at": "2019-12-30T07:34:58Z",
                              "sha": "ee7df76466f74c75f09962810f19df13e919d11b"
                         },
                         {
                              "message": "fix early implementations of `Array#{ slice, splice }` for the usage of `ToLength`",
                              "created_at": "2019-12-27T09:22:38Z",
                              "sha": "0186287b1a1a7170e065a579cb44ab58ec4e7200"
                         },
                         {
                              "message": "fix early implementations of `Array#{ includes, indexOf, lastIndexOf }` for the usage of `ToLength`",
                              "created_at": "2019-12-27T01:54:23Z",
                              "sha": "e4cea558aba8727a4f0a7051304755dac30fcc5e"
                         },
                         {
                              "message": "fix early implementations of `Array#{ every, forEach, reduce, reduceRight, some }` for usage of `ToLength`",
                              "created_at": "2019-12-26T10:41:52Z",
                              "sha": "fb6bd7fb4145399cfb8b6add18eb83109686699a"
                         },
                         {
                              "message": "fix #736",
                              "created_at": "2019-12-23T06:09:20Z",
                              "sha": "8b9f77425e1205ac1fd02baddcf5943ff10415f9"
                         },
                         {
                              "message": "fix `Array.prototype[@@unscopables]` descriptor",
                              "created_at": "2019-12-18T21:23:41Z",
                              "sha": "3171d475a2b68b70bfd42ca94b1d0fcbb350c60a"
                         },
                         {
                              "message": "fix `features/instance/match-all` entry compat data",
                              "created_at": "2019-12-17T03:22:16Z",
                              "sha": "2dd122ff6f9ffe181afde84aea80b17f3bdbc600"
                         },
                         {
                              "message": "fix linting",
                              "created_at": "2019-12-15T18:59:32Z",
                              "sha": "9cd8c110ac6088358041a0b207653104ccf9f7e6"
                         },
                         {
                              "message": "update dependencies, fix a wrong link",
                              "created_at": "2019-12-06T18:34:14Z",
                              "sha": "a95116f6349c6000a29b9ccb8cc7889059979d09"
                         },
                         {
                              "message": "fix ci",
                              "created_at": "2019-12-02T18:32:12Z",
                              "sha": "d1bdc90c72a9440f3a736f9acb50b0b23fb44711"
                         },
                         {
                              "message": "fix #710",
                              "created_at": "2019-12-02T17:55:31Z",
                              "sha": "0b15d9a3a9f20ef1dfb64320674b80f66b1fa6e9"
                         },
                         {
                              "message": "fix `edge` overwriting",
                              "created_at": "2019-12-02T06:05:35Z",
                              "sha": "027c147d4e49fa5f0658c96ce44fc208ec65c759"
                         },
                         {
                              "message": "fix `inspectSource` helper with multiple `core-js` copies and some related features like some edge cases of `Promise` feature detection",
                              "created_at": "2019-11-27T20:58:48Z",
                              "sha": "11a801a40bf6a84afcec1c8ece027c7b50a92708"
                         },
                         {
                              "message": "detect incorrect order of operations in `Object.assign`, MS Edge bug",
                              "created_at": "2019-11-27T20:27:07Z",
                              "sha": "57603b9b4a3069c7fa59291660f860165a15af90"
                         },
                         {
                              "message": "some fixes",
                              "created_at": "2019-11-27T00:01:18Z",
                              "sha": "5922c60c55ec40c2cdd7bc12a770f895bb89f3b4"
                         },
                         {
                              "message": "update feature detection for Safari non-generic `Promise#finally` bug\n\nhttps://bugs.webkit.org/show_bug.cgi?id=200829",
                              "created_at": "2019-11-26T23:05:41Z",
                              "sha": "bfe7bd0ea95e9559fc2cd1e4ecf17d72d0ce42c3"
                         },
                         {
                              "message": "fix typo",
                              "created_at": "2019-11-26T20:11:56Z",
                              "sha": "1dad1c5b2e6d935d3c3f9a52b47812faa4849150"
                         },
                         {
                              "message": "fix missed `esnext.string.code-points` in `core-js/features/string` entry point",
                              "created_at": "2019-11-26T17:06:45Z",
                              "sha": "9fafd20faa5abf2c1c6aaa527f8b2219b916a274"
                         },
                         {
                              "message": "fix missed modules from iteration helpers proposal in some entry points",
                              "created_at": "2019-11-26T13:51:30Z",
                              "sha": "3643b37817285df7f247a6ee3a9581303db6bf8e"
                         },
                         {
                              "message": "fix missed `es.json.stringify` in some entry points",
                              "created_at": "2019-11-26T13:08:56Z",
                              "sha": "f09e1310ae456adf60a66d245ebb4f86ee745a90"
                         },
                         {
                              "message": "add a workaround of `String#{ endsWith, startsWith }` MDN polyfills bugs, close #702",
                              "created_at": "2019-11-26T11:16:31Z",
                              "sha": "7a57493a1cf850940c893627af96e159b34bb964"
                         },
                         {
                              "message": "fix `Map` / `Set` `.size` property descriptor in the pure version",
                              "created_at": "2019-11-25T10:01:27Z",
                              "sha": "86bf925319672438db7871f6c742d3519cb8efd8"
                         },
                         {
                              "message": "fix a typo in a comment",
                              "created_at": "2019-11-19T12:13:23Z",
                              "sha": "03d5cbec5848864d0e0f420047371896012bb569"
                         },
                         {
                              "message": "fixed indexes in `String#replaceAll` callbacks",
                              "created_at": "2019-11-08T20:59:06Z",
                              "sha": "1519167a3825884928de30c96abd53c28758ace4"
                         },
                         {
                              "message": "fix inheritance in typed array constructors wrappers, close #683",
                              "created_at": "2019-10-31T12:39:47Z",
                              "sha": "3ae8db2dfeb15db40e33f5c867ec88336bcb4e70"
                         },
                         {
                              "message": "fix linting issues",
                              "created_at": "2019-10-25T21:57:40Z",
                              "sha": "a1f2ff6a44c6af82b4ec6cd845a264beec3fc953"
                         },
                         {
                              "message": "fix an edge case of `String#replaceAll` with empty search value",
                              "created_at": "2019-10-08T01:23:37Z",
                              "sha": "081785956a2efe65f1c381ee08b757741d5c0a7b"
                         },
                         {
                              "message": "fixed work of `fetch` with polyfilled `URLSearchParams`, close #674",
                              "created_at": "2019-10-23T20:28:28Z",
                              "sha": "34a8a4d77b8d2daaac3006d1f57b58692b63d93a"
                         },
                         {
                              "message": "minor fixes",
                              "created_at": "2019-10-01T08:22:09Z",
                              "sha": "6f67b65cc3a878cf093ff9133de59fdd8664838d"
                         },
                         {
                              "message": "some stylistic changes and minor fixes",
                              "created_at": "2019-10-01T07:10:10Z",
                              "sha": "64bfc96d795c74ea94f457fa45f9fa7f6f18cb28"
                         },
                         {
                              "message": "unify some methods, some fixes",
                              "created_at": "2019-10-01T07:10:10Z",
                              "sha": "54a987fbd3f0ddf02ca78ceb0e43858d0246fe16"
                         },
                         {
                              "message": "fix `Promise.allSettled` in FF data",
                              "created_at": "2019-09-18T14:28:34Z",
                              "sha": "5ea21b61c03507015a29695452643066f1bb4a51"
                         },
                         {
                              "message": "mark `Math.hypot` as not supported in Chrome 77\n\nhttps://bugs.chromium.org/p/v8/issues/detail?id=9546",
                              "created_at": "2019-09-13T15:26:55Z",
                              "sha": "a2b0d6e07ff314a5e8cb8157b19c6ba15dba9f28"
                         },
                         {
                              "message": "fix the postinstall message",
                              "created_at": "2019-09-10T12:01:55Z",
                              "sha": "79a46e99ed4260dbc308f6ee892be72fa9607e50"
                         },
                         {
                              "message": "add a workaround for Chrome ~ 33 `Promise` bug, fix #640",
                              "created_at": "2019-09-10T04:13:17Z",
                              "sha": "71a49d0d1628343b3bc4547c8efe6646bd6d695f"
                         },
                         {
                              "message": "fix #626",
                              "created_at": "2019-08-22T22:22:57Z",
                              "sha": "1500bfcd4b27f5f52c9e77286e9289f0849e1bc3"
                         },
                         {
                              "message": "fix missed dependency",
                              "created_at": "2019-08-21T11:14:27Z",
                              "sha": "8bb13fc85c90f632bc9ff68f479fdc03dacfcece"
                         },
                         {
                              "message": "fix iOS Safari MessageChannel + bfcache bug, close #624",
                              "created_at": "2019-08-21T11:07:41Z",
                              "sha": "a63625c7f0998a3203a1fdf3d61335080325bc6b"
                         },
                         {
                              "message": "fix crashing of Opera Presto, close #595",
                              "created_at": "2019-07-30T20:57:01Z",
                              "sha": "36d4b4c128491256a11dc2f91a2f5590ee44ae1e"
                         },
                         {
                              "message": "Merge pull request #607 from JakeChampion/patch-1\n\nfix: use correct prototype when feature detecting String.prototype.trimEnd and trimStart",
                              "created_at": "2019-07-25T14:32:03Z",
                              "sha": "49e99bac55d91683a60c8a3a052ebdebb267af51"
                         },
                         {
                              "message": "fix: use correct prototype when feature detecting String.prototype.trimEnd and trimStart",
                              "created_at": "2019-07-25T13:41:06Z",
                              "sha": "43854eab748875e46009c895c839201c9a877632"
                         },
                         {
                              "message": "add fix for `Math.hypot` V8 7.7 bug\n\nsince it's still not stable without adding results to core-js-compat",
                              "created_at": "2019-07-24T19:00:52Z",
                              "sha": "7b784dac692deef5e4c67594fb5311f3d323966f"
                         },
                         {
                              "message": "Merge pull request #606 from MediaMonksForks/fix-module-regex-windows\n\nCheck for backwards slashes in module regex",
                              "created_at": "2019-07-24T18:09:52Z",
                              "sha": "9205a94ca8017d05f18f58b798299be895bd410c"
                         },
                         {
                              "message": "fix some missed dependencies",
                              "created_at": "2019-07-18T17:01:33Z",
                              "sha": "5adfcd91edfce629ced1eab76a303f65a97e50cb"
                         },
                         {
                              "message": "fix incorrect early breaking of `%CollectionPrototype%.deleteAll`",
                              "created_at": "2019-07-10T20:04:58Z",
                              "sha": "c259ad8f069a2041be03ee6b1d36ca58c49aff4f"
                         },
                         {
                              "message": "fix the order of arguments validation in `String.prototype.{ endsWith, includes, startsWith }`",
                              "created_at": "2019-06-02T22:30:48Z",
                              "sha": "d7afec0f3c586ba36b34155e476572873698cc4f"
                         },
                         {
                              "message": "fix `core-js/features/reflect/delete-metadata` entry point",
                              "created_at": "2019-05-26T23:29:46Z",
                              "sha": "bb6e9f8ca32d24527431844ac41ca103d121e5ad"
                         },
                         {
                              "message": "fix postinstall message",
                              "created_at": "2019-05-20T19:55:32Z",
                              "sha": "6cbcfbcf9f253952f69497c8f752b5535188e6d8"
                         },
                         {
                              "message": "Merge pull request #549 from bugtype/fix/url\n\nfix url on postinstall",
                              "created_at": "2019-05-20T19:53:59Z",
                              "sha": "12bbccebf21f70f2ca19ba5b77a16ac2092936dc"
                         },
                         {
                              "message": "revert `esnext.string.match-all` in some entry points for fix autogeneration of `core-js-compat/entries` and backward `preset-env` compatibility\n\nhttps://github.com/babel/babel/pull/9998#issuecomment-493889162",
                              "created_at": "2019-05-20T09:40:44Z",
                              "sha": "2352725bf335aae11049b52e1686d16b252b154f"
                         },
                         {
                              "message": "fix url on postinstall",
                              "created_at": "2019-05-20T02:24:35Z",
                              "sha": "3fe385ec0522afe7a25c79a5ffcda0289ffcf326"
                         },
                         {
                              "message": "fix license file in core-js-compat",
                              "created_at": "2019-05-16T19:21:17Z",
                              "sha": "7b8788bdd68801e7b239beffdd0d68b8d20fe67c"
                         },
                         {
                              "message": "fix license file in core-js-bundle",
                              "created_at": "2019-05-16T19:05:32Z",
                              "sha": "b5b973cd99cf9565fb6a533b07afd121da8a506f"
                         },
                         {
                              "message": "fix #542",
                              "created_at": "2019-05-11T18:05:41Z",
                              "sha": "39ba407355a635c89c7dec3e91711b8e1ace3bca"
                         },
                         {
                              "message": "one more #541-related fix",
                              "created_at": "2019-05-10T20:54:22Z",
                              "sha": "417de2a1a341181c52f883ad0133d99b8ca803af"
                         },
                         {
                              "message": "some #537-related fixes",
                              "created_at": "2019-05-10T19:45:32Z",
                              "sha": "b68f408af17242b07a0ba86d293c02d52dfa5260"
                         },
                         {
                              "message": "a minor #539-related fix",
                              "created_at": "2019-05-10T10:35:29Z",
                              "sha": "269ce6fb0121ef991a6a1916496e1151629b451b"
                         },
                         {
                              "message": "Merge pull request #539 from turbobridge/getownpropsymbols_fix\n\nFix broken getOwnPropertySymbols in Mobile Chrome 38 and 39",
                              "created_at": "2019-05-10T09:55:14Z",
                              "sha": "a57ad748b5293e6cafa2fae09b75e891d0834ff3"
                         },
                         {
                              "message": "fix #541",
                              "created_at": "2019-05-07T12:40:49Z",
                              "sha": "fe7c8511a6d27d03a9b8e075b3351416aae95c58"
                         },
                         {
                              "message": "Merge pull request #538 from turbobridge/getownpropnames_fix\n\nAdds workaround for rollup treeshaking issue",
                              "created_at": "2019-04-26T21:51:32Z",
                              "sha": "767dbde438b3486464349e0571a9f47b0ff1d819"
                         },
                         {
                              "message": "Fix broken getOwnPropertySymbols in Mobile Chrome 38 and 39\n\nThis is a workaround for this chrome issue\nhttps://bugs.chromium.org/p/v8/issues/detail?id=3443\n\nWithout this fix, the object spread operator is broken for these\nversions of chrome when transpiling and shimming with babel and\ncore-js@3.\nSee https://github.com/babel/babel/issues/8721",
                              "created_at": "2019-04-26T21:30:37Z",
                              "sha": "9d489e7a3501deb421b0e933edec95887047350c"
                         },
                         {
                              "message": "fix some cases of work with malformed URI sequences in URLSearchParams, close #525",
                              "created_at": "2019-04-05T10:43:37Z",
                              "sha": "a1eafbda45753a1ef3654f629b3c729e58fa3dc3"
                         },
                         {
                              "message": "add a workaround for rollup issue, fix #513",
                              "created_at": "2019-04-03T04:08:01Z",
                              "sha": "f813c4e3d436e56b6d3f28446e47219e8dcbdaae"
                         },
                         {
                              "message": "Merge pull request #511 from cmfcmf/fix-duplicated-exports\n\nFix duplicated assignment to module.exports",
                              "created_at": "2019-03-21T23:30:48Z",
                              "sha": "43d74bdc424a047577ff277587940ca3fd3d8aff"
                         },
                         {
                              "message": "fix redefinition of `DataView.prototype` methods",
                              "created_at": "2019-03-17T17:52:47Z",
                              "sha": "234a3f54e79b68cfb005d8fa5af324050680106f"
                         },
                         {
                              "message": "fix `Object.getOwnPropertyNames` on primitives",
                              "created_at": "2019-03-17T17:39:46Z",
                              "sha": "4e938e10f60c0077d817f488ad6dade0f924f553"
                         },
                         {
                              "message": "update compat data about `Array#reverse` Safari bug",
                              "created_at": "2019-03-13T21:45:23Z",
                              "sha": "4ad27a940371a915d5c7f87950413a3ea9560e75"
                         },
                         {
                              "message": "add a workaround for a bug of `rollup`, fix #494",
                              "created_at": "2019-03-12T18:45:43Z",
                              "sha": "edc08787281e4aba566215136fa1781b14075677"
                         },
                         {
                              "message": "fix typo in `AggregateError`, close #493",
                              "created_at": "2019-03-09T22:07:38Z",
                              "sha": "21dd48a841ca30d4bad678572b17edb25659d7ce"
                         },
                         {
                              "message": "add `null` check to detection of global object for theoretical cases like https://bugs.webkit.org/show_bug.cgi?id=195406",
                              "created_at": "2019-03-05T14:00:36Z",
                              "sha": "b4e8c0b09bbe23db8d8784df03ef0b8f3ff04170"
                         },
                         {
                              "message": "fix a typo",
                              "created_at": "2019-01-27T21:09:21Z",
                              "sha": "3e89ab3c273eeefd6cd73ca8dae35001abda5d6c"
                         },
                         {
                              "message": "add a workaround for `babel-minify` bug, fix #479",
                              "created_at": "2019-01-22T11:15:36Z",
                              "sha": "9ce060cbd711d40114aec2c766842e93e339c05d"
                         },
                         {
                              "message": "fix `queueMicrotask` feature detection in `compat` per https://github.com/zloirock/core-js/commit/ddf640aa0de9e5af3f001d1d4ae149609c660ab3",
                              "created_at": "2019-01-20T23:43:35Z",
                              "sha": "b06a3f7d0f7d1bb1850ce6a71276b8c9987ab296"
                         },
                         {
                              "message": "fix re-export in one entry",
                              "created_at": "2019-01-20T17:32:48Z",
                              "sha": "cde03273f9ba0f668d18405875515ee123fd8b0b"
                         },
                         {
                              "message": "fix #461, some stylistic changes and minor fixes",
                              "created_at": "2019-01-14T11:29:40Z",
                              "sha": "6ee9538281e6a78ed9eab40b5605b885820ad3ef"
                         },
                         {
                              "message": "some stylistic changes and minor fixes",
                              "created_at": "2019-01-14T09:40:15Z",
                              "sha": "f4fba13b1e879dceafecc703e1f1cdfe41945e95"
                         },
                         {
                              "message": "some stylistic changes and minor fixes in metadata reflection api",
                              "created_at": "2019-01-13T08:38:26Z",
                              "sha": "553549ccd3edc5fee4cbdc56683d8a8fa56acae4"
                         },
                         {
                              "message": "fix #475",
                              "created_at": "2019-01-10T06:02:07Z",
                              "sha": "53819db59eeae336b29ed9680ddaa5d26ee7cda4"
                         },
                         {
                              "message": "fix some issues",
                              "created_at": "2018-12-23T22:12:21Z",
                              "sha": "39f5864b520c24cfc81bdea6601228134b740ed9"
                         },
                         {
                              "message": "fix a typo in `Math.sinh` feature detection",
                              "created_at": "2018-12-19T11:12:19Z",
                              "sha": "1cd5c84909e99de6fd6c1294d4411124295052bd"
                         },
                         {
                              "message": "fix some special cases of query parsing",
                              "created_at": "2018-12-10T08:27:10Z",
                              "sha": "aa79f2c7b5f5fde55454486fe3e7f175cd82994a"
                         },
                         {
                              "message": "fix compressed ipv6 serialization",
                              "created_at": "2018-12-09T16:21:38Z",
                              "sha": "a5aecdcbc49dea32ce94cd8d7b510eb1c0e0179f"
                         },
                         {
                              "message": "fix ipv4 validation",
                              "created_at": "2018-12-09T15:48:13Z",
                              "sha": "a115002ba3469413496d77d2735bd26a195df90c"
                         },
                         {
                              "message": "fix forbidden host code points for opaque hosts",
                              "created_at": "2018-12-09T10:57:25Z",
                              "sha": "0d60ef84104fe4ced2a3d0f77ae1db8ef70c0048"
                         },
                         {
                              "message": "fix compression of ipv6",
                              "created_at": "2018-12-09T09:06:55Z",
                              "sha": "e8829bbf7a9b5a16ef48bf5d93ed39b57487c54f"
                         },
                         {
                              "message": "fix ipv6 parsing",
                              "created_at": "2018-12-08T09:14:47Z",
                              "sha": "bf5d0423957f219d2b775a40b615cf83b01c2ad3"
                         },
                         {
                              "message": "fix unicode support in url",
                              "created_at": "2018-12-08T07:54:10Z",
                              "sha": "c7593ddc5f1379924b9236eedb1dbae679fc9582"
                         },
                         {
                              "message": "some fixes in url parsing and some stylistic changes",
                              "created_at": "2018-12-08T07:54:09Z",
                              "sha": "0cf8ebf426b3383c9e626f0edf2ae2e7c54f737a"
                         },
                         {
                              "message": "some fixes of interaction of URL and URLSearchParams",
                              "created_at": "2018-12-08T07:54:09Z",
                              "sha": "25bc4273105cac45c506e017c3a7ab2f217fa1aa"
                         },
                         {
                              "message": "fix es.symbol.description cap for the pure version",
                              "created_at": "2018-12-03T13:33:00Z",
                              "sha": "10803e89a71800be80d86af6a82e5635ef0768dc"
                         },
                         {
                              "message": "don't use MutationObserver in iOS completely, fixes #455, #339",
                              "created_at": "2018-12-03T10:29:59Z",
                              "sha": "3e75f32f1fdf67321231db9084682fb81d693b8a"
                         },
                         {
                              "message": "fix .gitignore",
                              "created_at": "2018-11-25T05:11:50Z",
                              "sha": "ce139de0167b6f4949d4328cb182387cfe8e6e9c"
                         },
                         {
                              "message": "Merge pull request #453 from nicolo-ribaudo/fix-regexs-on-old-browsers\n\nFix RegExp methods in old browsers",
                              "created_at": "2018-11-17T22:52:52Z",
                              "sha": "8a90bf69606bfc34319ebe3a758f7f43764bbabd"
                         },
                         {
                              "message": "Fix bug in Safari 9",
                              "created_at": "2018-11-15T13:49:36Z",
                              "sha": "d3fa95e7f831c281b00664bc9b05342d76559a47"
                         },
                         {
                              "message": "Fix bug in IE7 (only tested using IE8 in compatibility mode)",
                              "created_at": "2018-11-14T22:40:23Z",
                              "sha": "d2aac8104d6ded621aec232f0c4a21a09716c7cc"
                         },
                         {
                              "message": "Fix String#replace bug with custon exec in IE8",
                              "created_at": "2018-11-13T23:04:36Z",
                              "sha": "823756ad3c6ba29d79f8854bf0c16b44c9514a1c"
                         },
                         {
                              "message": "add a fallback for rhino bug, fix #440",
                              "created_at": "2018-11-13T20:51:20Z",
                              "sha": "bce9800d9a592f20e517b7cc74a8c0601e88a7bc"
                         },
                         {
                              "message": "Fix #lastIndex in IE8 and move NPCG check from #split to #exec\n\nIE8 is not fully fixed yet",
                              "created_at": "2018-11-12T22:57:12Z",
                              "sha": "5bd11fc571ee2a852ba94a57a6ac71ddf8bec6f9"
                         },
                         {
                              "message": "fix Safari 12 `Symbol#description` bug",
                              "created_at": "2018-09-26T06:35:33Z",
                              "sha": "daa6b33f5b1b6ac1a16d776ce2a9a40692c24980"
                         },
                         {
                              "message": "add a fix Safari 12.0 `Array#reverse` bug\n\nhttps://bugs.webkit.org/show_bug.cgi?id=188794",
                              "created_at": "2018-09-25T07:25:25Z",
                              "sha": "9a7f4d5a5c59014db02c240095ae886038d467a4"
                         },
                         {
                              "message": "fix `Map#merge`",
                              "created_at": "2018-07-15T18:00:05Z",
                              "sha": "56f1360f7ca5104b98216bcbcacfb2ffcb9d8cf0"
                         },
                         {
                              "message": "fix #414",
                              "created_at": "2018-07-13T18:16:11Z",
                              "sha": "16dbccf66f0400e16d6bcb3943dddfdedd98fe66"
                         },
                         {
                              "message": "fix `webpack` settings",
                              "created_at": "2018-06-02T17:36:51Z",
                              "sha": "1bdc144621ccfd951c8478f71f8bad03f4082b23"
                         },
                         {
                              "message": "rename `Array.prototype.flatten` to `Array.prototype.flat`, fixes #405\n\nhttps://github.com/tc39/proposal-flatMap/commit/093eacc7fe0906e70f7626bf\n6c7d6e9dfc53cce9",
                              "created_at": "2018-05-26T11:48:32Z",
                              "sha": "27d82cb653579ae7766ee782a77150d9cb1fde31"
                         },
                         {
                              "message": "fix export in the `pure` version",
                              "created_at": "2018-05-26T11:48:32Z",
                              "sha": "db2218a60b984bac43c179445415bb94501a452a"
                         },
                         {
                              "message": "fix a V8 ~ Chrome 49-50 bug with non-writable non-configurable %TypedArray% methods",
                              "created_at": "2018-05-26T11:48:32Z",
                              "sha": "fff12e43d69b01bb6e22704038119ce45866da44"
                         },
                         {
                              "message": "fix microtasks in WebOS, see #396",
                              "created_at": "2018-05-26T11:48:09Z",
                              "sha": "41531f7ead18caca8b11016269e0462573e2bec9"
                         },
                         {
                              "message": "fix v8 6.6 (Node 10 and Chrome 66) `Promise` bug with resolving custom thenables",
                              "created_at": "2018-05-26T11:48:09Z",
                              "sha": "81697a58554aaf43066d619d2eba4732ecfe5ca2"
                         },
                         {
                              "message": "fix `Promise` operations order test, related Chrome 66 bug",
                              "created_at": "2018-05-26T11:48:08Z",
                              "sha": "54d1a394693f9d176c48a9b9f14780d44f12b25e"
                         },
                         {
                              "message": "fix overriding of some modules in the `pure` version",
                              "created_at": "2018-05-26T11:48:08Z",
                              "sha": "ec6a655ebfd2c8dd79ed8c4cabe21a545270f4c0"
                         },
                         {
                              "message": "fix possible problems in `%TypedArray%.{from, of}` when methods polyfilled before constructors",
                              "created_at": "2018-05-26T11:48:08Z",
                              "sha": "b75bd7ec0199c03ac402b0ca4c2fc02c6a46dce1"
                         },
                         {
                              "message": "fix #393",
                              "created_at": "2018-05-26T11:48:08Z",
                              "sha": "b65800215c764e91cc296372a14361371c883bfd"
                         },
                         {
                              "message": "fix #392",
                              "created_at": "2018-05-26T11:48:08Z",
                              "sha": "81e6e4d624aa30609b69fabaa76dc440455ccffd"
                         },
                         {
                              "message": "fix non-enumerable integer keys issue in Nashorn ~ JDK8 bug, close #389",
                              "created_at": "2018-05-26T11:48:08Z",
                              "sha": "6096aecc034ffc8c5f92de2b665084f8014bc1ee"
                         },
                         {
                              "message": "some stylistic changes and minor fixes in entry points",
                              "created_at": "2018-05-26T11:48:08Z",
                              "sha": "1badaab19a78d2bdeef42b253bd076671be289b2"
                         },
                         {
                              "message": "rename `es.regexp.{match, replace, search, split}` -> `es.string.{match, replace, search, split}`\n\nmainly it's fixes / adding support of well-known symbols to string\nmethods, only in second place adding related methods to regexp prototype",
                              "created_at": "2018-05-26T11:48:07Z",
                              "sha": "5ea0eb3f8352617325293e4f3fe5a89fcc93b199"
                         },
                         {
                              "message": "improve IE11 `WeakMap` frozen objects fallback, fixes #384",
                              "created_at": "2018-05-26T11:48:07Z",
                              "sha": "28ff4ff2ef7d60c1cbc5d71b9be935007b118b15"
                         },
                         {
                              "message": "fix an issue with non-configurable Chrome~42 `DOMTokenList` methods",
                              "created_at": "2018-05-26T11:48:07Z",
                              "sha": "0046e31a94211e43a99240e2b685e41bc894021c"
                         },
                         {
                              "message": "refactoring of iterators definition, use native `%IteratorPrototype%` where it's possible, fix an issue related own `%IteratorPrototype%` `@@iterator` method",
                              "created_at": "2018-05-26T11:48:07Z",
                              "sha": "ac669763bb105dd466dee6868c70f20b81cc1a68"
                         },
                         {
                              "message": "fix buggy iterators detection",
                              "created_at": "2018-05-26T11:48:07Z",
                              "sha": "9f0c2b9b1ada3f5efbb7219e90d4f4bac298f2a6"
                         },
                         {
                              "message": "improve accuracy  of `Math,cosh`, FF45- fix",
                              "created_at": "2018-05-26T11:48:07Z",
                              "sha": "75b3d6ed005f948c67ab799bcf6ea6ec5bf444ba"
                         },
                         {
                              "message": "fix `qunit` helpers import because of Chrome 38 issue",
                              "created_at": "2018-05-26T11:48:07Z",
                              "sha": "038825f684c28138116ef0a096986318d6d18343"
                         },
                         {
                              "message": "some `sham` flag fixes for the `pure` version",
                              "created_at": "2018-05-26T11:48:07Z",
                              "sha": "5de52754de366a124d1b710630722a0d22a77821"
                         },
                         {
                              "message": "fix `sham` flag for some methods, make tests work in IE8-",
                              "created_at": "2018-05-26T11:48:07Z",
                              "sha": "00f12ea0e62cd5264a37ba39f618a933936d6824"
                         },
                         {
                              "message": "fix `String#split` `limit` argument conversion",
                              "created_at": "2018-05-26T11:48:07Z",
                              "sha": "d709dca0be6cfc25845960e38e514d40d4afacf1"
                         },
                         {
                              "message": "fix Chrome 38 symbol -> string conversion issue",
                              "created_at": "2018-05-26T11:48:06Z",
                              "sha": "2ca5f3db49437eea77d89961f064c702519c8147"
                         },
                         {
                              "message": "refactoring of typed arrays, fixing of some compatibility issues",
                              "created_at": "2018-05-26T11:48:06Z",
                              "sha": "ca76b327e5a018de8547c2c16303e0069f34aab7"
                         },
                         {
                              "message": "temporarily disable promise unhandled rejection tests because of strange qunit@2.5 bug",
                              "created_at": "2018-05-26T11:48:06Z",
                              "sha": "3f518b404a5e5c1a313a7afb22655062f463f191"
                         },
                         {
                              "message": "refactoring of typed arrays, extract some methods to separate modules, fix prototype chain",
                              "created_at": "2018-05-26T11:48:06Z",
                              "sha": "22e08f7318dcea28eb423e84c7db9eded0946c64"
                         },
                         {
                              "message": "refactoring of typed arrays, extract some methods to separate modules, fix prototype chain",
                              "created_at": "2018-05-26T11:48:06Z",
                              "sha": "343c12825025b0b120fd9dab8ae8050c27656fab"
                         },
                         {
                              "message": "add a workaround for prevent array iteration deoptimisation in v8, fixes #377",
                              "created_at": "2018-05-26T11:48:06Z",
                              "sha": "9aed55e43d3c04fba39fc36a3f0d71776dcb62f4"
                         },
                         {
                              "message": "add own toString method to instances with @@toStringTag in non-global version, fixes #199",
                              "created_at": "2018-05-26T11:48:06Z",
                              "sha": "f524b63a2a34c71551eb9e72fcffe57bfcd80483"
                         },
                         {
                              "message": "fix global case of #262",
                              "created_at": "2018-05-26T11:48:05Z",
                              "sha": "3021bcad8cb84127be8d93d1fc5f21549aeec7b1"
                         },
                         {
                              "message": "minor fix of `Array#@@unscopables`",
                              "created_at": "2018-05-26T11:48:04Z",
                              "sha": "042a5fda209e717c16179e88be6fe41969fa0e59"
                         },
                         {
                              "message": "fix incorrect conversion to string of symbols with undefined descriptor in Edge 13",
                              "created_at": "2018-05-26T11:48:03Z",
                              "sha": "44eef8219bf54392163627967e9881a9c7168449"
                         },
                         {
                              "message": "fix the list of unicode whitespaces",
                              "created_at": "2018-05-26T11:48:03Z",
                              "sha": "dfea3eb5e7cc09ba265c35d03772cdcb06b9855c"
                         },
                         {
                              "message": "fix a theoretical granular import-related problem",
                              "created_at": "2018-05-26T11:47:33Z",
                              "sha": "3c0c54aea093fd34108865603b0d3a87122df00a"
                         },
                         {
                              "message": "remove UMD wrapper from builder, add some debugging info and links",
                              "created_at": "2018-05-26T11:47:32Z",
                              "sha": "cfd8a3202391a79c6588c06e22946b448ae46e63"
                         },
                         {
                              "message": "add triggering unhandled promise rejection events, fixes #205",
                              "created_at": "2018-05-26T11:47:32Z",
                              "sha": "06698285e5d21ed29290af026e95b85ef4d7daf6"
                         },
                         {
                              "message": "update `Observable` by actual version of the spec, fixes #257, #276\n\nhttps://github.com/tc39/proposal-observable",
                              "created_at": "2018-05-26T11:47:31Z",
                              "sha": "2689f1ed9faa386793457a8ec8c26e9c5ca0f0bd"
                         },
                         {
                              "message": "fix .gitignore",
                              "created_at": "2018-05-26T11:47:31Z",
                              "sha": "4a5f5b0a6890525a03f4c5981571a37f5b598bb0"
                         },
                         {
                              "message": "replace `es6.` modules prefix to `es.`, remove `core-js/es5/*` entry points",
                              "created_at": "2018-05-26T11:46:18Z",
                              "sha": "e3f1cbcc0766254c5ff380c326f8a713505ed1f6"
                         },
                         {
                              "message": "replace `es7.` modules prefix to `esnext.`, remove `core-js/es7/*` entry points",
                              "created_at": "2018-05-26T11:46:17Z",
                              "sha": "8e8837fe2316d24aa1c3c3ea4c81fa67dfde8b27"
                         },
                         {
                              "message": "fix __(define|lookup)[GS]etter__ import in the `library` version",
                              "created_at": "2018-01-03T20:15:29Z",
                              "sha": "79bf9059c3761d6497c2aa7c763ee3f70d00648e"
                         },
                         {
                              "message": "fix `Number.{parseInt, parseFloat}` entry points",
                              "created_at": "2017-12-26T18:08:35Z",
                              "sha": "749d23c0a02e81d64e47480bf1ec66c0cb050b43"
                         },
                         {
                              "message": "Merge pull request #367 from aheckmann/always_close_opened_domains\n\n[Feedback needed] fix; exit all manually entered NodeJS domains",
                              "created_at": "2017-12-16T07:26:57Z",
                              "sha": "6f9792057de00c873bca6373c1c5eecf66cbc45d"
                         },
                         {
                              "message": "fix; exit all manually entered NodeJS domains",
                              "created_at": "2017-12-14T20:05:25Z",
                              "sha": "771b32d5d19e8bf7c292c9f7c9f86deddf755824"
                         },
                         {
                              "message": "fix #280",
                              "created_at": "2017-12-11T08:26:15Z",
                              "sha": "2b314f858005da33be07336f06be5cb790311529"
                         },
                         {
                              "message": "fix #318",
                              "created_at": "2017-12-10T07:13:46Z",
                              "sha": "4024915e9a28106df80c9fae050fa4deaa4b3d86"
                         },
                         {
                              "message": "fix #236, #237",
                              "created_at": "2017-12-09T15:34:30Z",
                              "sha": "e1ffbae3e18730072be48c828070f455a694aabc"
                         },
                         {
                              "message": "fix #339",
                              "created_at": "2017-12-08T19:41:59Z",
                              "sha": "23904b8afed067cbb0fd59d4bbbb9f8c4a22c378"
                         },
                         {
                              "message": "fix #345",
                              "created_at": "2017-12-08T19:10:49Z",
                              "sha": "adeb69df0500e824dc25ceeab877e20f241955c9"
                         },
                         {
                              "message": "fix some entry points",
                              "created_at": "2017-08-07T07:37:17Z",
                              "sha": "8b4ddff2fe60576a61d70b4c7eb511152276d76a"
                         },
                         {
                              "message": "remove caching `Function#name`, fix #296",
                              "created_at": "2017-08-04T11:36:12Z",
                              "sha": "ea82fd9ed90020d595651f2c6ed2d3e907e9f52a"
                         },
                         {
                              "message": "fix IE11 WeakMap frozen keys after https://github.com/zloirock/core-js/commit/a69f5773e07e392bd2d20be1b186144b0739bf2a",
                              "created_at": "2017-08-01T15:56:36Z",
                              "sha": "a41dd09ebe22607edf36757a8a7381cc21cbd986"
                         },
                         {
                              "message": "fix the list of whitespaces in the `Number` constructor test",
                              "created_at": "2017-07-30T11:05:38Z",
                              "sha": "d230280a8603f185caafbbe1fc832a110693d99d"
                         },
                         {
                              "message": "fix conversion typed array constructors to string, fix #300",
                              "created_at": "2017-07-26T18:58:24Z",
                              "sha": "198fb53e241e489745afca9eda64d1143b18e02a"
                         },
                         {
                              "message": "add errors on incorrect context of collection methods, fix #272",
                              "created_at": "2017-07-26T17:04:12Z",
                              "sha": "a69f5773e07e392bd2d20be1b186144b0739bf2a"
                         },
                         {
                              "message": "update typed arrays to the modern (ES2016+) arguments validation, fixes #293, #273",
                              "created_at": "2017-07-26T12:45:42Z",
                              "sha": "13920872c09438d97e5f20560740d2c9a9dfd230"
                         },
                         {
                              "message": "add some simple tests for `Promise#finally`, fix one test for `Promise.try`",
                              "created_at": "2017-07-19T09:05:07Z",
                              "sha": "fd70e24f8f076177c321b29aa2dc3b4de8592122"
                         },
                         {
                              "message": "enable and fix some spaces-related `eslint` rules",
                              "created_at": "2017-05-05T13:35:07Z",
                              "sha": "29189e47183cba2ac321fdacba39edcfabf04b05"
                         },
                         {
                              "message": "fix `Observable.of`, broken after changes of linting",
                              "created_at": "2017-05-04T11:47:16Z",
                              "sha": "9d7db4ad4f59323cfe87516967bc8c054927bcfa"
                         },
                         {
                              "message": "fix #285",
                              "created_at": "2017-05-01T07:53:12Z",
                              "sha": "0e59c71a62dd7b7381fa1ea1c15b4c83ddfcf60f"
                         },
                         {
                              "message": "fix #252",
                              "created_at": "2017-04-30T14:44:03Z",
                              "sha": "9e03f881e98e587b7bab01bf1e3a84a1c8f740e3"
                         },
                         {
                              "message": "fix #297, #298",
                              "created_at": "2017-04-29T12:39:44Z",
                              "sha": "b5601acfecb66472944765c2a00eed0164885921"
                         },
                         {
                              "message": "fix `Math.log10`, close #259",
                              "created_at": "2016-11-24T11:51:51Z",
                              "sha": "0bb657cfc7834d03fd68c48a1cba70f2ccab20c0"
                         },
                         {
                              "message": "fix some problems of #249",
                              "created_at": "2016-11-04T16:30:48Z",
                              "sha": "14b3ad23960b2c5f52ade0e0a1d96b05b41490c6"
                         },
                         {
                              "message": "fix some stylistic issues",
                              "created_at": "2016-08-28T12:03:09Z",
                              "sha": "bbf61cfdf5d105acfbf8d6357afefeffd5e721b3"
                         },
                         {
                              "message": "some minor fixes in `Observable` and tests for ES3 engines",
                              "created_at": "2016-05-07T23:39:43Z",
                              "sha": "4b4186ba431e0cdd33eccd48a5729b3649877187"
                         },
                         {
                              "message": "fix behavior `Object.{getOwnPropertySymbols, getOwnPropertyDescriptor, #propertyIsEnumerable}` on `Object.prototype`",
                              "created_at": "2016-05-06T20:23:15Z",
                              "sha": "78770786a4e5f2f87ea32b4dada46b9ce0a92887"
                         },
                         {
                              "message": "fix Math.expm1 in Tor Browser and in old FF",
                              "created_at": "2016-03-28T00:42:24Z",
                              "sha": "d1501b2e816cc50fd1727d18cd38c3e5fe71c613"
                         },
                         {
                              "message": "fix Math.atanh in Tor Browser",
                              "created_at": "2016-03-25T01:11:00Z",
                              "sha": "e0300c874634f09c3cc95ca6a8c2cc7ddf72079e"
                         },
                         {
                              "message": "fix Math.asinh in Tor Browser",
                              "created_at": "2016-03-25T01:03:50Z",
                              "sha": "bb80c29eaf7103a3493a9e2e9975d1d37d260715"
                         },
                         {
                              "message": "fix Math.acosh in Tor Browser",
                              "created_at": "2016-03-25T00:55:40Z",
                              "sha": "3f60c2b5c04a15c36d10ef3911f2c9ada4807ac9"
                         },
                         {
                              "message": "Merge pull request #181 from AgentME/fixgopn\n\nFix Object.getOwnPropertyNames(window) replacement",
                              "created_at": "2016-03-17T08:10:46Z",
                              "sha": "9d4c0f952c53a5501c36b015511bccf555098f92"
                         },
                         {
                              "message": "fix internal isSymbol for polyfill + runtime case",
                              "created_at": "2016-03-14T20:30:34Z",
                              "sha": "782eb5d606a30f783606d9d36e1366efdba1284f"
                         },
                         {
                              "message": "don't use `redefine` for symbol-keyed methods (V8 ~ Chrome 38 bug)",
                              "created_at": "2016-03-12T19:46:56Z",
                              "sha": "86fa797f3665ae12864784620fd266367238a85d"
                         },
                         {
                              "message": "add fix for Edge 13 %TypedArray%#slice bug (throws with @@species)",
                              "created_at": "2016-03-12T19:23:21Z",
                              "sha": "d73cefb2beb2b5c3697b3e42915521d40ce3d440"
                         },
                         {
                              "message": "One more fallback for Qt Script bug, #173",
                              "created_at": "2016-03-09T10:59:21Z",
                              "sha": "66593cee27b2ad40c55e808159a370e718a56e40"
                         },
                         {
                              "message": "Add fallback for Qt Script bug with wrong conversion date to number, #173",
                              "created_at": "2016-03-08T19:28:03Z",
                              "sha": "52b288c3d7270725f12e98775d09cdb735b054b7"
                         },
                         {
                              "message": "[tests] fix 1 `String#split` assert from test262",
                              "created_at": "2016-03-01T17:59:26Z",
                              "sha": "05a552e87cb316b93f4b0d213b318a79e996e729"
                         },
                         {
                              "message": "add fallback for `es6-promise` package bug, close  #176",
                              "created_at": "2016-02-29T17:06:25Z",
                              "sha": "9d7e2da467e97af0b2897efff371b66d561d708e"
                         },
                         {
                              "message": "fix typo in a variable name, close #175",
                              "created_at": "2016-02-26T05:15:31Z",
                              "sha": "23717a486a670eec0be01df37bc90a9f18c0b892"
                         },
                         {
                              "message": "[promise] fixes for unhandled rejection tracking\n\n- if rejecton was handled in `unhandledrejection` handlers,\n`rejectionhandled` should not be triggered in browsers\n(https://html.spec.whatwg.org/#unhandled-promise-rejections, last step),\nbut should in NodeJS\n- errors in handlers should not cause problems for promise",
                              "created_at": "2016-02-24T22:01:04Z",
                              "sha": "c311e34db286a2404e54b4ab4fd59f7d8bdfda30"
                         },
                         {
                              "message": "[promise] fix typo in feature detection",
                              "created_at": "2016-02-24T04:42:08Z",
                              "sha": "3b8292d496a27b5f0d7a90010e77afa101d7f872"
                         },
                         {
                              "message": "[tests] in old V8 ~ Chrome 38 symbols cannot be converted to strings, fix helper",
                              "created_at": "2016-02-22T02:21:12Z",
                              "sha": "64a1165f7247d0fd68ca4de11f2757a7b2cec54b"
                         },
                         {
                              "message": "[promise] fix `Promise.all`, cases iteration closing with wrong promise constructor / `.resolve` and sync constructor",
                              "created_at": "2016-02-21T17:47:22Z",
                              "sha": "600de1cfb089f4d7e1b3b4736ebaed5d1c986c74"
                         },
                         {
                              "message": "add entry points array methods for legacy code and future fixes",
                              "created_at": "2016-02-07T10:36:21Z",
                              "sha": "51e226d5d004d6f45b00276e8b9605abef11a4d6"
                         },
                         {
                              "message": "`Date#toJSON` should check context on finite, WebKit fix",
                              "created_at": "2016-01-28T17:14:05Z",
                              "sha": "f97bb26766cab73e7a4f668cc169a2501cf5cb80"
                         },
                         {
                              "message": "add fixes for trimming whitespaces (by ES6) in `parseFloat` / `Number.parseFloat`",
                              "created_at": "2016-01-27T05:43:58Z",
                              "sha": "b633dd6462998e414c6f438c7463d7a049e8569f"
                         },
                         {
                              "message": "fix Chrome 34 `Number.parseInt`",
                              "created_at": "2016-01-26T15:43:48Z",
                              "sha": "270fabccd38e0210caf1a4ffc44ca328880fba69"
                         },
                         {
                              "message": "add fixes for `String#split` / `RegExp#@@split`, #156",
                              "created_at": "2016-01-26T11:43:39Z",
                              "sha": "7a90ad4004a437bbbf96e29051904eedda3f7457"
                         },
                         {
                              "message": "[tests] fix `@@species` getters tests",
                              "created_at": "2016-01-25T03:00:17Z",
                              "sha": "8a89f4f0a2b20d142bd90b81c252c50e7ab29f4d"
                         },
                         {
                              "message": "add fixes for `RegExp#toString`\n\n- by ES6, `RegExp#toString` should be generic and use `.flags` property\n- also, old engines has incorrect flags order, related #156",
                              "created_at": "2016-01-24T10:39:33Z",
                              "sha": "b24fe208430c9670e0ec20f18d0525ff7c2d6d3f"
                         },
                         {
                              "message": "fix `Array#lastIndexOf`",
                              "created_at": "2016-01-22T09:26:45Z",
                              "sha": "38f373d65ea54429e9e6de3d1de85f0cdd79a2ec"
                         },
                         {
                              "message": "add fix for `parseFloat`, #156",
                              "created_at": "2016-01-22T07:19:58Z",
                              "sha": "398492a64def6ae172b2202b07ef94afe0498f29"
                         },
                         {
                              "message": "add fixes for `parseInt`, #156",
                              "created_at": "2016-01-21T17:06:13Z",
                              "sha": "577bd7b0980219dae588805dd4f2cfb63635c240"
                         },
                         {
                              "message": "[experimental] add fix for `Array#sort`, #156",
                              "created_at": "2016-01-11T14:21:40Z",
                              "sha": "cf15d10cfbb2746a0f7a1a7918c343ce3ad58e38"
                         },
                         {
                              "message": "fix error message because of Chrome 49 `Promise` subclassing bug, close #159",
                              "created_at": "2016-01-09T19:40:16Z",
                              "sha": "7dfea353da3d565083cd964597c32187c9c5a24a"
                         },
                         {
                              "message": "temporarily remove `length` validation from `Uint8Array` constructor wrapper - bug in `ws` module\n\nhttps://github.com/karma-runner/karma/issues/1768\nhttps://github.com/websockets/ws/pull/645",
                              "created_at": "2016-01-03T17:40:45Z",
                              "sha": "978d5d26d95a8e4a71afba19886e9bea5f2983ba"
                         },
                         {
                              "message": "[experimental] metadata reflection api: add basic tests, fix arity, #152",
                              "created_at": "2015-12-31T15:19:51Z",
                              "sha": "167f99379d714d4d91ed1cceb8cbdb79b89dd67b"
                         },
                         {
                              "message": "additional fix for iOS Safari ~ 7.1.2 `DataView#{setUint8, setInt8}`",
                              "created_at": "2015-12-24T07:16:33Z",
                              "sha": "bdc994121e2b2516e5b4478dc039ecfe1adcb220"
                         },
                         {
                              "message": "iOS Safari 7.x has a bug with conversion numbers in `DataView#{setUint8, setInt8}`",
                              "created_at": "2015-12-23T10:35:38Z",
                              "sha": "8310c8e42af596d2ce23216efb82f6e3f56677e7"
                         },
                         {
                              "message": "temporary disable arity tests for `Promise` methods - FF bug",
                              "created_at": "2015-12-22T13:22:52Z",
                              "sha": "3b7ef099643dc9261382e2b4cc80845ea8848116"
                         },
                         {
                              "message": "remove `arguments` shortcuts - old webkit bug, close #150",
                              "created_at": "2015-12-17T12:28:37Z",
                              "sha": "059446f536f9e6af387b06a736a0d3a60bc41908"
                         },
                         {
                              "message": "[tests] fix some assertions",
                              "created_at": "2015-12-10T19:26:36Z",
                              "sha": "fc31c510f2db9a787586da1c1ff863a50b173922"
                         },
                         {
                              "message": "[tests] Android 4.3- `(Ui|I)nt(8|16)Array` has a bug with conversion numbers out of int32 range",
                              "created_at": "2015-12-10T02:28:27Z",
                              "sha": "fc672c61018744c466644d8a86fe13cac740d0eb"
                         },
                         {
                              "message": "[tests] most old (and not only old) engines has some bugs with typed arrays descriptors",
                              "created_at": "2015-12-09T19:23:37Z",
                              "sha": "0497eff45b23d9a37e84911dd138dc4201051dc5"
                         },
                         {
                              "message": "some @@species fixes and tests",
                              "created_at": "2015-12-08T22:30:10Z",
                              "sha": "1bd8ddbd41e14fbf8a809e51f4337a41580a388c"
                         },
                         {
                              "message": "[tests] fix `assert.isIterable`",
                              "created_at": "2015-12-06T22:54:12Z",
                              "sha": "c390f61c3ce0cfc0885d32eed24c0edeb1a30233"
                         },
                         {
                              "message": "fix variable name",
                              "created_at": "2015-12-06T22:21:13Z",
                              "sha": "264c94c386731baee983c132841eed05efb1f596"
                         },
                         {
                              "message": "[experimental] wrap native ArrayBuffer for fix bugs with wrong length",
                              "created_at": "2015-11-30T21:02:19Z",
                              "sha": "0fc9507984fa9d4ee4a6b0c411597998212bff72"
                         },
                         {
                              "message": "[tests] add test SameValueZero in collections with 5+ properties, V8 ~ Chromium 42- bug",
                              "created_at": "2015-11-30T19:38:15Z",
                              "sha": "03b1a850addb7a49085ad69538584ea96c88e671"
                         },
                         {
                              "message": "additional fix for SameValueZero in V8 ~ Chromium 42- collections",
                              "created_at": "2015-11-30T11:32:44Z",
                              "sha": "9776f9f1a658f31aeec5befd86eea83ab0f298dc"
                         },
                         {
                              "message": "[experimental] fix some cases offset native typed array constructors",
                              "created_at": "2015-11-25T16:32:02Z",
                              "sha": "97d91cc1699b4afd8a411d8379c067cc4a6a5232"
                         },
                         {
                              "message": "[experimental] fix redefinition non-configurable `ArrayBuffer#slice` in Chromium 29-, also here `%TypedArray%#subarray` has a wrong arity",
                              "created_at": "2015-11-23T18:49:32Z",
                              "sha": "36cb439561352e56f3e6b82bc38e6f90dad9f77e"
                         },
                         {
                              "message": "[experimental] fix `%TypedArray%#{values, @@iterator}.name` in Chromium 38-45 and FF36",
                              "created_at": "2015-11-23T17:55:50Z",
                              "sha": "46931e2af3f47e67829479997896c5c1d57cb783"
                         },
                         {
                              "message": "change `$` prefix for internal modules file names because (holy shit!) Team Foundation Server does not support it, close #129",
                              "created_at": "2015-11-22T13:38:50Z",
                              "sha": "693767b3c070d1162c08279e8ce4c9dc35c162e5"
                         },
                         {
                              "message": "fix typo",
                              "created_at": "2015-11-21T15:00:39Z",
                              "sha": "987c5f3ae638f4df6192d1481b57115109ae7834"
                         },
                         {
                              "message": "one more fix redefinition dom collections iterators, chromium ~42 case",
                              "created_at": "2015-11-21T14:38:05Z",
                              "sha": "d24337c232efe4dab5c19978e34b60c720cb1f73"
                         },
                         {
                              "message": "fix Array#@@iterator in FF27, improve compatibility with incorrect iterators polyfills",
                              "created_at": "2015-11-20T19:00:12Z",
                              "sha": "e512edccd00529e2c6381ca21d0fd8966e2de123"
                         },
                         {
                              "message": "add Date#toString fix to entry points",
                              "created_at": "2015-11-19T16:13:45Z",
                              "sha": "00dbfde83c0c0bcd2f4fa7cbd5bb0887315b10a7"
                         },
                         {
                              "message": "enable by default fix for Date#toString",
                              "created_at": "2015-11-19T08:43:53Z",
                              "sha": "b39dbeb0dc1312dcd16612b7264eae0cdd250017"
                         },
                         {
                              "message": "[tests] fix some typed arrays constructors tests",
                              "created_at": "2015-11-18T17:57:50Z",
                              "sha": "7ea27db25e47fdcc13c468a137314b182bd73937"
                         },
                         {
                              "message": "[experimental] play with the typed arrays, mainly - fixes for the native constructors",
                              "created_at": "2015-11-17T16:29:19Z",
                              "sha": "377812a91b8bf69129e99b885fc3c044baba8d82"
                         },
                         {
                              "message": "[tests] add typed arrays to `Object#toString` test, fix some typos",
                              "created_at": "2015-11-16T08:44:25Z",
                              "sha": "06ca39d2461e281c87f5287e1cec6d760dc4db09"
                         },
                         {
                              "message": "[experimental] Chromium 38-40 Symbol bug resolved, so play with `@@iterator` on all required DOM collections",
                              "created_at": "2015-11-12T07:51:47Z",
                              "sha": "f233dd419c4e2b518ceaae97079d4ddd56e25374"
                         },
                         {
                              "message": "use Symbol polyfill in Chromium 38-40 because of the native implementation bug with some kinds of DOM collections",
                              "created_at": "2015-11-12T06:22:14Z",
                              "sha": "6dfb388e911eb481308292c7a433cbb500e2f699"
                         },
                         {
                              "message": "add fix for `String(new Date(NaN)) -> 'Invalid Date'`, before next minor - to `experimental` namespace",
                              "created_at": "2015-11-08T03:15:45Z",
                              "sha": "d0179a0f4b2832eec67290bccb1120113e54426d"
                         },
                         {
                              "message": "fix lint warnings",
                              "created_at": "2015-11-08T01:38:00Z",
                              "sha": "54a5190ecae3486a2b9f9000e1b3c8e0a0aecae0"
                         },
                         {
                              "message": "fix IE 7- `[1, 2].join(undefined)`",
                              "created_at": "2015-11-08T01:25:50Z",
                              "sha": "70f94ef35b98811fb568c93494c6f9b7052d8fe5"
                         },
                         {
                              "message": "fix Array#{values, @@iterator}.name in V8 / FF",
                              "created_at": "2015-11-07T23:55:13Z",
                              "sha": "220a61a550fd08c01988d1e265f0fd8a22a0dc66"
                         },
                         {
                              "message": "fix `Promise.all` for a case called twice executor in a fake `.then`",
                              "created_at": "2015-11-07T04:34:02Z",
                              "sha": "4368517e1b2272e530a815eba47f1acac916885d"
                         },
                         {
                              "message": "fix regression: promise can't be resolved itself, just in case prevent shading variables",
                              "created_at": "2015-11-07T02:51:54Z",
                              "sha": "aba4d0d126fdae35bc770c4bd89f27da670ffabb"
                         },
                         {
                              "message": "[tests] fix typo",
                              "created_at": "2015-11-05T03:49:36Z",
                              "sha": "cacc6fddcb7dcb374e31b1bcd9c3b6fc87a9776d"
                         },
                         {
                              "message": "fix wrong rename",
                              "created_at": "2015-11-03T17:10:59Z",
                              "sha": "b965a64aea59ff0723ee2ca7a0521d04a366711b"
                         },
                         {
                              "message": "one more fix for `Number` constructor: `Number(' 0b1\\n') -> 1` case",
                              "created_at": "2015-11-02T10:44:08Z",
                              "sha": "45a91d5dcd9cf6a810510a534daca5d979b176ba"
                         },
                         {
                              "message": "extract `$.to-primitive` helper, one more `Number` constructor fix",
                              "created_at": "2015-11-01T23:46:41Z",
                              "sha": "993e250bed08bb92257578a7a65042cf0bd47f74"
                         },
                         {
                              "message": "fix for old V8 ~ Node 0.8 `Number` constructor: `Number('+0x1')` should be NaN",
                              "created_at": "2015-11-01T16:52:36Z",
                              "sha": "bb2e44c705f857a8045ba75f16377d71f18d1de3"
                         },
                         {
                              "message": "one more fix for `Number` constructor",
                              "created_at": "2015-11-01T02:04:32Z",
                              "sha": "8d70d7bb2b8b91e8689fb5d396fdb5ad56fb3d98"
                         },
                         {
                              "message": "fix `Number('0b12')` case, should be `NaN`",
                              "created_at": "2015-10-31T22:32:26Z",
                              "sha": "e27cba77de16a77ba8d8abfd8cf77b127771d5ce"
                         },
                         {
                              "message": "[tests] fix typo - `setTimeout` arguments positions, thanks FF4 for warning :)",
                              "created_at": "2015-10-27T20:46:57Z",
                              "sha": "942849ca19e059fd04c50f0bafed82a638ff47c8"
                         },
                         {
                              "message": "one more fix for #124 - undefined on `.get`",
                              "created_at": "2015-10-26T21:25:29Z",
                              "sha": "ed8d9f961b12f7452f409797f86e861037268e2c"
                         },
                         {
                              "message": "fix old V8 bug - `Weak(Map|Set)#{delete, get, has}` should not throw error on primitive, close #124",
                              "created_at": "2015-10-26T21:09:18Z",
                              "sha": "0f4435b448f7cffec0afbf6e27ecf4bafb118184"
                         },
                         {
                              "message": "[tests] fix typo",
                              "created_at": "2015-10-25T21:45:54Z",
                              "sha": "533da91942c59997a86b2cffb021ce194c79ef73"
                         },
                         {
                              "message": "fix for some polyfilled methods `.name` property in IE9-11 and `Function#toString` calling in most browsers",
                              "created_at": "2015-10-20T19:18:17Z",
                              "sha": "6ea8605c7467c9f6f399e151794acd380fe86283"
                         },
                         {
                              "message": "fix Safari 8- `Math.imul` arity",
                              "created_at": "2015-10-19T20:46:43Z",
                              "sha": "a7167e0434ac3a4a7cd49651683940fb007ffb81"
                         },
                         {
                              "message": "fix `Set` iter methods `.name` property in IE8-",
                              "created_at": "2015-10-19T20:12:10Z",
                              "sha": "05e610188897c5526adb471dad046b0e0674808f"
                         },
                         {
                              "message": "fix little more lint warnings",
                              "created_at": "2015-10-16T19:02:15Z",
                              "sha": "5a33e3fbf11bba73162d03946d2a5968a0e894ef"
                         },
                         {
                              "message": "update eslint, fix some lint warnings",
                              "created_at": "2015-10-16T18:18:34Z",
                              "sha": "bc547b6bd2c7d82de0b8e5bb838a0931ff6f2b0a"
                         },
                         {
                              "message": "fix lint warning",
                              "created_at": "2015-10-16T17:16:11Z",
                              "sha": "9a94af868b0922ec229064e5113c4392026583ed"
                         },
                         {
                              "message": "[experimental] fix $.buffer",
                              "created_at": "2015-10-04T10:57:51Z",
                              "sha": "6301b720739a3325b05556b70f9e3c366fab78ec"
                         },
                         {
                              "message": "check availability property before assign in `Object.assign`\n\nfix for theoretical problem `Object.assign({b: 1}, {get a(){delete\nthis.b}, b: 2})`",
                              "created_at": "2015-09-26T12:49:53Z",
                              "sha": "70a8b4871a4f144c3f2fb42548b77b2a5357b86e"
                         },
                         {
                              "message": "fix non-deterministic V8 `Object.assign` property order\n\nsometimes it creates problems\nhttps://github.com/kangax/compat-table/commit/afa89886cdf8a954f5572b3c96f50122582c9a08#commitcomment-13449314",
                              "created_at": "2015-09-26T00:20:19Z",
                              "sha": "79d955bec7c6a87a7a3fd93d42cc277972d78083"
                         },
                         {
                              "message": "fix `Object.{values, entries}` for this theoretical case: https://bugzilla.mozilla.org/show_bug.cgi?id=1208464#c8",
                              "created_at": "2015-09-25T17:43:14Z",
                              "sha": "bd7eb296110520b1b7d1c548bab0f03bd735f8ac"
                         },
                         {
                              "message": "fix typo, add missing parentheses",
                              "created_at": "2015-09-21T16:36:40Z",
                              "sha": "2df941c227a034d1c38791c2133992ca3b0c8bda"
                         },
                         {
                              "message": "fix IsRegExp logic in `RegExp` constructor",
                              "created_at": "2015-09-21T16:30:26Z",
                              "sha": "6981d8b150cdbade184083acc3f0c47e96382bff"
                         },
                         {
                              "message": "fix IsRegExp logic in `String#{includex, startsWith, endsWith}`",
                              "created_at": "2015-09-19T18:08:11Z",
                              "sha": "bcc65f9d60dc1b3f8b2c5d3d5eec2de8e136fa74"
                         },
                         {
                              "message": "fix `NodeList` and `HTMLCollection` iterators dependencies on `WeakMap` entry point",
                              "created_at": "2015-09-13T08:18:45Z",
                              "sha": "177a4d83b79f86863b2144338db6d09015e7a83d"
                         },
                         {
                              "message": "fix `$.is-regexp`",
                              "created_at": "2015-09-13T03:29:17Z",
                              "sha": "335c8fd5b5da286bf84b3387cdca160d908272b7"
                         },
                         {
                              "message": "fix compatibility problem with some alternative `Symbol` polyfills",
                              "created_at": "2015-09-11T17:58:38Z",
                              "sha": "2705275035035e6f40f1f9db2509f9e7f0f9b57c"
                         },
                         {
                              "message": "remove WebKit case from `Symbol` + `JSON.stringify` fix",
                              "created_at": "2015-09-07T00:10:42Z",
                              "sha": "ede8e73733e25641e68460981de6a5c4040f2787"
                         },
                         {
                              "message": "fix `Math.sinh` with very small numbers in V8 near Chromium 38",
                              "created_at": "2015-09-05T04:20:46Z",
                              "sha": "708236ecbd4f5fe65dc90d5a9483be0a55e0207a"
                         },
                         {
                              "message": "fix FF25-26 collections iterators",
                              "created_at": "2015-09-05T02:04:25Z",
                              "sha": "ebebaa7c9f053cc0ae81728d745d5dd6fe2ad915"
                         },
                         {
                              "message": "fix support symbols in FF34-35 `Object.assign`",
                              "created_at": "2015-09-05T01:07:54Z",
                              "sha": "9b0289539466893ce85a797f0643d0cb34dab34e"
                         },
                         {
                              "message": "fix `Symbol` to JSON test for the last WebKit, https://github.com/kangax/compat-table/pull/612#issuecomment-136525765",
                              "created_at": "2015-08-31T23:42:31Z",
                              "sha": "42926a718009c6267f31e7c9b83726a34f25ce3a"
                         },
                         {
                              "message": "fix domains support in Promise, #103",
                              "created_at": "2015-08-28T19:19:45Z",
                              "sha": "f24e706a32d93a2897a5f96192035e3c28e005bf"
                         },
                         {
                              "message": "fix conversion symbols to JSON in MS Edge",
                              "created_at": "2015-08-27T16:57:19Z",
                              "sha": "d1fdf331e5f3258c54a7bc70b9a2d76e38448554"
                         },
                         {
                              "message": "fix `Math.acosh` for library version",
                              "created_at": "2015-08-16T09:58:02Z",
                              "sha": "c75ef5f4f0ebaf81b9cabc8a25240543d15fa546"
                         },
                         {
                              "message": "fix some tests for browsers w/o strict mode",
                              "created_at": "2015-08-06T21:29:06Z",
                              "sha": "a184886c6f1eefe21c82a2831df95c5a63168110"
                         },
                         {
                              "message": "fix string / regex well-known symbols logic",
                              "created_at": "2015-08-06T07:41:21Z",
                              "sha": "7032b4f8ed3d7b3660d748256614f1bb83ca3b18"
                         },
                         {
                              "message": "optimize `Reflect.construct` for 0-4 args, fix non-array second argument case, remove 5 args case optimization from `$.invoke`",
                              "created_at": "2015-08-04T01:43:44Z",
                              "sha": "f90412fcb0b6f653dc8b104e9727545d24d49e80"
                         },
                         {
                              "message": "move String#trim from es5 to single es6 module - contains es6 fix",
                              "created_at": "2015-08-03T01:30:57Z",
                              "sha": "b1ed7fe743306716effbacd0408f6a2ab1978866"
                         },
                         {
                              "message": "fix some `library` tests for old FF",
                              "created_at": "2015-08-01T14:34:51Z",
                              "sha": "f91d62695481cdc8e7761d91918911c0ef82b15d"
                         },
                         {
                              "message": "`Reflect.enumerate` was fixed in final MS Edge",
                              "created_at": "2015-07-30T16:51:04Z",
                              "sha": "e271beac346e2f5cb106ed0d4bf8bb9c1caf736c"
                         },
                         {
                              "message": "extract common functionality from some es6 string methods and little fix",
                              "created_at": "2015-07-26T23:37:10Z",
                              "sha": "f65b7c8a416bb3a333e3686e4e216a1412160dc4"
                         },
                         {
                              "message": "use one random postfix for all symbols",
                              "created_at": "2015-07-24T11:44:24Z",
                              "sha": "13c334f04d76719690350ae6def97b98db9b04cb"
                         },
                         {
                              "message": "fix symbol descriptors from different shims",
                              "created_at": "2015-07-21T18:22:26Z",
                              "sha": "56f34c7e40ebe67724c96c3b1afe15184fb2fda3"
                         },
                         {
                              "message": "little more correct IE11 `new Number` fix",
                              "created_at": "2015-07-20T16:39:50Z",
                              "sha": "c2ddbc2d84f81112e55a889d1008fa757a0f83c4"
                         },
                         {
                              "message": "fix  `new Number`  for Opera ~12",
                              "created_at": "2015-07-20T16:32:42Z",
                              "sha": "a30449af6337693b87ee5780689657fb83ee3922"
                         },
                         {
                              "message": "fix some `library` tests",
                              "created_at": "2015-07-16T23:05:45Z",
                              "sha": "3c24134d43f675d367cd3020112018ac8d75a626"
                         },
                         {
                              "message": "little fix and simplify `Array.from`, #83",
                              "created_at": "2015-07-16T18:27:13Z",
                              "sha": "8b44f9eca8c228bb2bd9d43f7039ddbd2a477bdc"
                         },
                         {
                              "message": "little simplify $.fix-re-wks",
                              "created_at": "2015-07-12T08:09:07Z",
                              "sha": "b204a95bd1e6672c3aa43cf994e466bf6c6cadf2"
                         },
                         {
                              "message": "a bit more generalize setting / fixing regex / string well-known symbols, #83",
                              "created_at": "2015-07-08T09:50:06Z",
                              "sha": "7917c0229ae0a7f5eafa19dfc4819e318ad86c2b"
                         },
                         {
                              "message": "generalize setting / fixing regex / string well-known symbols, #83",
                              "created_at": "2015-07-07T17:30:05Z",
                              "sha": "8799301eb8f2fda4fc5f2386f83818b7959a530c"
                         },
                         {
                              "message": "fix `new` detection in `Number` constructor, close #89, https://github.com/babel/babel/issues/1927",
                              "created_at": "2015-07-05T16:16:47Z",
                              "sha": "f047bbc6344f9aa6665107c64984d7bd5d3d4597"
                         },
                         {
                              "message": "fix `copy` task",
                              "created_at": "2015-07-05T15:03:26Z",
                              "sha": "c7b2eac2535bd06cde9aeed10267ea628bb580c9"
                         },
                         {
                              "message": "fix `Math.hypot` library test",
                              "created_at": "2015-07-04T23:36:31Z",
                              "sha": "c0671ec4f432435b5b57a604fc0e93a21bd32368"
                         },
                         {
                              "message": "some fixes in unhandled rejection tracking",
                              "created_at": "2015-06-13T16:16:53Z",
                              "sha": "f7ea577b7b8c1b9559f88373049217d97169a20a"
                         },
                         {
                              "message": "fix conflict with webpack dev server, IE11 case, close #62",
                              "created_at": "2015-06-13T11:11:46Z",
                              "sha": "989acb8febe31d8a8b8a0ce3b9f6df91e2506f5d"
                         },
                         {
                              "message": "fix conflict with webpack dev server, IE9 case, #62",
                              "created_at": "2015-06-13T10:01:47Z",
                              "sha": "8357099f6197b99ea68b0630839ba9a96ae90213"
                         },
                         {
                              "message": "use polyfill instead of buggy V8 Promise, close #78",
                              "created_at": "2015-06-11T08:47:24Z",
                              "sha": "29ad34934c24423b0d599224a66fce94543d4a52"
                         },
                         {
                              "message": "fix typo",
                              "created_at": "2015-06-08T08:11:56Z",
                              "sha": "9141d3c557df021c2b26c64de149c165584bb740"
                         },
                         {
                              "message": "fix redef case",
                              "created_at": "2015-06-03T20:34:29Z",
                              "sha": "6da2e51a09b5b70013684abbaf649c464511598d"
                         },
                         {
                              "message": "add fallback for IE11 Object.getOwnPropertyNames(window) + iframe bug, close #76",
                              "created_at": "2015-06-03T19:33:07Z",
                              "sha": "dd1ca90caa03bce7ee6d3ab8a5eb19fbdd046ec5"
                         },
                         {
                              "message": "remove `@@species` logic from `Promise.resolve`, https://esdiscuss.org/topic/fixing-promise-resolve",
                              "created_at": "2015-06-02T22:21:08Z",
                              "sha": "d478de3c9199b47a69cb13e5253859e6488d9e13"
                         },
                         {
                              "message": "update Promise.resolve behavior, https://esdiscuss.org/topic/fixing-promise-resolve",
                              "created_at": "2015-06-02T19:38:03Z",
                              "sha": "af723a1bd7212183d7d7b1030ef77caeedf035ee"
                         },
                         {
                              "message": "fix name in banner",
                              "created_at": "2015-05-31T03:22:17Z",
                              "sha": "b9f33591248519506b9ce9aa608443c1a98c53fe"
                         },
                         {
                              "message": "fix Symbol for Android 2",
                              "created_at": "2015-05-25T09:58:34Z",
                              "sha": "15a6dcee3df9e0a2798100d8260e1967462c6271"
                         },
                         {
                              "message": "fix Number.isInteger entry point, close #69",
                              "created_at": "2015-05-25T08:30:45Z",
                              "sha": "13e8b60da520e3f804a7a176a9a4fff3e0fbbe30"
                         },
                         {
                              "message": "fix Function#bind for bound constructors, https://github.com/babel/babel/issues/1612",
                              "created_at": "2015-05-23T22:16:07Z",
                              "sha": "82d2bc77d4a58e89a285066f128463701b36f181"
                         },
                         {
                              "message": "Fix Math.hypot normalization issues\n\nhypot will now correctly use the largest (absolute) value for\nnormalization. This also fixes a bug where hypot would return a negative\nresult if the first argument is negative.",
                              "created_at": "2015-05-11T13:05:30Z",
                              "sha": "4ede8632e64b896ef603f5674263f7b748e8d337"
                         },
                         {
                              "message": "fix truncation in String#lpad, https://github.com/zloirock/core-js/pull/61#issuecomment-97835659",
                              "created_at": "2015-05-01T07:30:40Z",
                              "sha": "42f0651aba477079415d4a8c5341d37c15e325a1"
                         },
                         {
                              "message": "fix & ref padding",
                              "created_at": "2015-04-30T09:29:43Z",
                              "sha": "f40eb4051db72b59d3686b915bb0ba0192171e37"
                         },
                         {
                              "message": "fix include path",
                              "created_at": "2015-04-30T08:17:23Z",
                              "sha": "cb91681385e4c9e6ae2b5163ebe89cd4e5f2542b"
                         },
                         {
                              "message": "fix String.fromCodePoint.length in old FF",
                              "created_at": "2015-04-30T05:38:06Z",
                              "sha": "9dab09a086e01332362dcbf95310f0114a8f809b"
                         },
                         {
                              "message": "fix for IE8- buggy named functions",
                              "created_at": "2015-04-29T20:28:05Z",
                              "sha": "f8eceae93cd9e47af0cacf69de9a0488fc411c4d"
                         },
                         {
                              "message": "fix for IE8- buggy named functions",
                              "created_at": "2015-04-29T20:14:58Z",
                              "sha": "8db2d77e474439d3cafbd3db55eaabf3fac4db9a"
                         },
                         {
                              "message": "fix typo",
                              "created_at": "2015-04-29T14:16:19Z",
                              "sha": "35f2b191f2ec42fc16cd21195b099cdb6631f4c7"
                         },
                         {
                              "message": "toISOString: should throw on non-finite, old Android (?) fix",
                              "created_at": "2015-04-29T08:38:48Z",
                              "sha": "91aaf93cec0bbe1ff937d946fee383de45ed2ed0"
                         },
                         {
                              "message": "fix enumerate order in tests",
                              "created_at": "2015-04-28T02:53:52Z",
                              "sha": "4838f9d92718e6d0d5c9d4e5100be725aeb67db9"
                         },
                         {
                              "message": "fix typo",
                              "created_at": "2015-04-27T05:11:00Z",
                              "sha": "0205b711fadf629c26a519451354f6eda4014d22"
                         },
                         {
                              "message": "style fix",
                              "created_at": "2015-04-26T21:32:43Z",
                              "sha": "e26b1302a99abc96cc2fbc5e91e3a81d0e7d9f82"
                         },
                         {
                              "message": "fix RegExp constructor, #55, https://github.com/andrewplummer/Sugar/pull/495",
                              "created_at": "2015-04-26T21:19:18Z",
                              "sha": "be39f6fbe13ae2327338eaa039c32cae641d3823"
                         },
                         {
                              "message": "fix $.dom-create for old IE - wrong typeof",
                              "created_at": "2015-04-25T22:55:25Z",
                              "sha": "0102d4c66cf300bc1c2fee82ff867cbcfaddb025"
                         },
                         {
                              "message": "fix early implementations String#{startsWith, endsWith}",
                              "created_at": "2015-04-25T22:16:45Z",
                              "sha": "6d6dc4fcae02cc731727a72e90dad0c56bb8d72f"
                         },
                         {
                              "message": "fix possible problem in environment with `document`, but w/o `document.createElement`",
                              "created_at": "2015-04-25T20:23:44Z",
                              "sha": "1897a3d025c152568e2c5a13e362514af31a1d1c"
                         },
                         {
                              "message": "fix possible memory leak in Promise",
                              "created_at": "2015-04-25T07:19:54Z",
                              "sha": "311973dcfc4a5d4e1ccadee23fb9f3e18cc550d0"
                         },
                         {
                              "message": "fix fast rejection and unhandled promise rejection detection",
                              "created_at": "2015-04-25T06:31:15Z",
                              "sha": "1277bb13a5def22cdcb9d05a69cc0f6673e52748"
                         },
                         {
                              "message": "fix tests",
                              "created_at": "2015-04-25T03:35:32Z",
                              "sha": "dd39d22b9a72a0ceaa525cc959c00c9ce9a47faf"
                         },
                         {
                              "message": "fix @@species with multiple shim",
                              "created_at": "2015-04-25T03:31:03Z",
                              "sha": "16bc09edf661ff11eaa5b663512c7f85326b05b8"
                         },
                         {
                              "message": "fix statics for subclassing in FF, library version",
                              "created_at": "2015-04-24T21:58:18Z",
                              "sha": "a32579872d32eab29d3a682712c0abd291107f99"
                         },
                         {
                              "message": "style fix",
                              "created_at": "2015-04-24T21:34:29Z",
                              "sha": "e2d4d96ecd15e20ce2f51c8626f06c62c5be7b38"
                         },
                         {
                              "message": "fix missing method in ES3 environment, #54",
                              "created_at": "2015-04-24T05:33:53Z",
                              "sha": "6c94fdff68d207fc6406c529ff52a4e45d879109"
                         },
                         {
                              "message": "fix collection arity",
                              "created_at": "2015-04-24T00:09:44Z",
                              "sha": "b99de906586c82235083fb4ac77ae66fe59b24d1"
                         },
                         {
                              "message": "Merge pull request #55 from cscott/fix-regexp\n\nEnsure that \"new RegExp\" always creates a new object.",
                              "created_at": "2015-04-23T20:57:49Z",
                              "sha": "df786f004a8a31bbe3bfae6eb46b9b962aa2585c"
                         },
                         {
                              "message": "Ensure that \"new RegExp\" always creates a new object.\n\nThis is a fix for PhantomJS (and older versions of webkit/Safari).",
                              "created_at": "2015-04-23T20:51:29Z",
                              "sha": "f2f95e5c5b02c1cfa73ba204f008c6cf3a433d5e"
                         },
                         {
                              "message": "Merge pull request #54 from cscott/fix-date\n\nEnsure that we replace Date#toISOString if native implementation is broken",
                              "created_at": "2015-04-23T20:50:43Z",
                              "sha": "5bc9884fdee7e3a1bce35d499c0df1305f1b8211"
                         },
                         {
                              "message": "fix setting deleted non-enumerable symbols, #45",
                              "created_at": "2015-04-20T15:19:14Z",
                              "sha": "874bb3f03fcef8befce197a3d203a069de104f10"
                         },
                         {
                              "message": "fix missing test",
                              "created_at": "2015-04-20T00:07:18Z",
                              "sha": "cb625e8fa08b748b8bf09a0f2e011422cc6f5025"
                         },
                         {
                              "message": "change lint rules, fix comment",
                              "created_at": "2015-04-19T12:51:21Z",
                              "sha": "8a23e8aa9a0b35953d02d98befc1c0be64d69bfb"
                         },
                         {
                              "message": "fix typo",
                              "created_at": "2015-04-05T14:17:19Z",
                              "sha": "b2a48896e57854a8ef26f0ff1ec77bf3e38c76ef"
                         },
                         {
                              "message": "fix Reflect.setPrototypeOf for some case",
                              "created_at": "2015-04-04T20:22:18Z",
                              "sha": "2e5bf0ff7e99925ca49f0b0b266440efdeb8df64"
                         },
                         {
                              "message": "old IE buggy named functions fix",
                              "created_at": "2015-04-04T18:47:40Z",
                              "sha": "82bb5b08c7147ee12fd7a6a4396e9bbd0a8b62b0"
                         },
                         {
                              "message": "fix Symbol.keyFor",
                              "created_at": "2015-04-03T07:48:13Z",
                              "sha": "04dbdcc11347d67828df4e078bfdff425d9647f6"
                         },
                         {
                              "message": "fix static join & slice with strings in ES3 environment and `library` version",
                              "created_at": "2015-04-02T11:17:17Z",
                              "sha": "bd8d26679b929a6735a70239c4afe4f744d894e2"
                         },
                         {
                              "message": "fix core.Object.getPrototypeOf with strings in ES3 environment and `library` version",
                              "created_at": "2015-04-02T10:31:13Z",
                              "sha": "f1382ac832b81f1d31ec634fe78146f05bcaa384"
                         },
                         {
                              "message": "fix repeated export in `library` version",
                              "created_at": "2015-04-02T07:51:44Z",
                              "sha": "91d1578740e2a34b09add2ad216a14d0dc2a8b5b"
                         },
                         {
                              "message": "fix missing method",
                              "created_at": "2015-03-30T18:08:21Z",
                              "sha": "d5705e663e60b483b8227a920c6b80a8cc848e44"
                         },
                         {
                              "message": "fix wks wrapper with multiple shims",
                              "created_at": "2015-03-29T07:42:22Z",
                              "sha": "3a62d37379c1b766906144599dd390372f219f63"
                         },
                         {
                              "message": "fix Promise static method in library version (wrapped constructor)",
                              "created_at": "2015-03-28T13:05:11Z",
                              "sha": "3338cf4944d9d4669230ed0e33035468a706eaeb"
                         },
                         {
                              "message": "fix comment",
                              "created_at": "2015-03-24T10:47:16Z",
                              "sha": "b80a9cfe2237790d0772bfbdb63b5c38b3a4b31a"
                         },
                         {
                              "message": "fix internal forOf helper on entries and primitives",
                              "created_at": "2015-03-24T10:10:14Z",
                              "sha": "bf2f8f739721685c89eda4bce60c8b27e7b0e635"
                         },
                         {
                              "message": "some fixes",
                              "created_at": "2015-03-22T01:23:12Z",
                              "sha": "b6068b1b237efd9ad1db2b99612042f3d7213f21"
                         },
                         {
                              "message": "fix typo",
                              "created_at": "2015-03-21T10:31:47Z",
                              "sha": "665eaa9b762b9e51fd886ff888661b637c561496"
                         },
                         {
                              "message": "fix support iterators in v8 Promise.all / Promise.race",
                              "created_at": "2015-03-21T07:35:25Z",
                              "sha": "d449caa5011385d64e04ba50eaf09cf9629920e6"
                         },
                         {
                              "message": "fix bug with multiple shims",
                              "created_at": "2015-03-20T04:18:37Z",
                              "sha": "e2b52068699d8986975dad3787ce7a024724dd27"
                         },
                         {
                              "message": "get console at methods call (simplify IE debugging)",
                              "created_at": "2015-02-25T09:41:06Z",
                              "sha": "c71a67054ecef7478eaaf1fd02d8fbda71ce041b"
                         },
                         {
                              "message": "fix IE8 Object.getOwnPropertyDescriptor",
                              "created_at": "2015-02-24T09:36:15Z",
                              "sha": "e513f033a7ad8ff1f6ef941d34f69b0c03c994c5"
                         },
                         {
                              "message": "spec fix closing iteration",
                              "created_at": "2015-02-22T09:17:17Z",
                              "sha": "d31c6a7525b8e706bcf70ad17448679800546261"
                         },
                         {
                              "message": "fix limit",
                              "created_at": "2015-02-21T12:55:29Z",
                              "sha": "cc4d7d42c8b0501effa318b2592cd37a8dbb91e7"
                         },
                         {
                              "message": "fix unhandled promise rejection, close #12",
                              "created_at": "2015-02-19T23:29:52Z",
                              "sha": "095f0cf1cd7c8e74ec55ac243975188c6dbe54ba"
                         },
                         {
                              "message": "add basic capabilities debuggable promises, #12",
                              "created_at": "2015-02-19T10:27:10Z",
                              "sha": "007960fb4c5f8f2b9eef87eafbc5a256f77852f8"
                         },
                         {
                              "message": "fix Date#toISOString, FF case",
                              "created_at": "2015-02-14T03:44:35Z",
                              "sha": "2d26808f357b00f73679933f1e5a9db82d3d0009"
                         },
                         {
                              "message": "fix es6.number.constructor regex",
                              "created_at": "2015-02-12T21:08:51Z",
                              "sha": "4275a1ce7ca5e820908aa86ae09d5415a7e553e7"
                         },
                         {
                              "message": "core.iterator %IteratorPrototype% FF37 fix",
                              "created_at": "2015-02-11T23:11:34Z",
                              "sha": "6fd614a2bf43ff1fcbe599ad7014b59a03ce468c"
                         },
                         {
                              "message": "fix #29",
                              "created_at": "2015-02-10T10:20:21Z",
                              "sha": "43b52d1cc5d85d79a3a4637271fe9dbbca66ab1b"
                         },
                         {
                              "message": "additional asserts for {Map, Set}#clear tests, fix timers tests",
                              "created_at": "2015-02-07T21:05:39Z",
                              "sha": "b9ebc27d00478c3539c93c969fe368faa7fc7dc9"
                         },
                         {
                              "message": "fix 6to5/6to5#713",
                              "created_at": "2015-02-07T20:50:31Z",
                              "sha": "209ac79c7316374923b928772c4ff8b0fe6c00c3"
                         },
                         {
                              "message": "0.4.9 FF20-24 fix",
                              "created_at": "2015-01-26T18:24:03Z",
                              "sha": "d87ce9b8bb35eb9b7fa3f86d3fbb1884bf51e843"
                         },
                         {
                              "message": "IE11 WeakMap#set with frozen keys fix",
                              "created_at": "2015-01-25T10:11:22Z",
                              "sha": "e265653887e1886561acff88e9a2387390439c80"
                         },
                         {
                              "message": "IE11 WeakMap frozen keys fix",
                              "created_at": "2015-01-25T09:56:25Z",
                              "sha": "a6422b6b8882fcca9a1ba220eacaced6083d3d7a"
                         },
                         {
                              "message": "fix {Map, Set}#clear",
                              "created_at": "2015-01-25T09:32:11Z",
                              "sha": "c54386fd793e316b84235e608a3e35e5560b36be"
                         },
                         {
                              "message": "fix Reflect.construct with primitive proto",
                              "created_at": "2015-01-22T10:41:15Z",
                              "sha": "6bcc46f55872659ddfbe7a39682134a6dcc077ef"
                         },
                         {
                              "message": "fix Iterator module w/o Dict, close #20",
                              "created_at": "2015-01-18T07:17:52Z",
                              "sha": "230bfb22818a6f42180e6c95c6bfbb4b3995e17c"
                         },
                         {
                              "message": "fix Math.sinh,  kangax/compat-table#392",
                              "created_at": "2015-01-17T21:25:01Z",
                              "sha": "466efee782f2eb12f590eea7b2f58fe99c6b6365"
                         },
                         {
                              "message": "fix typo",
                              "created_at": "2015-01-17T21:17:04Z",
                              "sha": "c2d1699bf5e513907d59e763a4378b1c500a3627"
                         },
                         {
                              "message": "fix Math.acosh",
                              "created_at": "2015-01-16T18:10:28Z",
                              "sha": "3d249c184a6f7d0f4fdcfc62e50d54a268208659"
                         },
                         {
                              "message": "fix Math.tanh",
                              "created_at": "2015-01-16T16:42:43Z",
                              "sha": "f2634ed2d387db5ea7f24b0ce6638f382b3b5668"
                         },
                         {
                              "message": "fix RegExp.name",
                              "created_at": "2015-01-16T14:14:39Z",
                              "sha": "5f121c57330c7ebfe8cf4bc96bfb5747822f137d"
                         },
                         {
                              "message": "fix some math",
                              "created_at": "2015-01-15T18:35:38Z",
                              "sha": "8f79fb437a0006d2f59e39422456444b7bba9fe2"
                         },
                         {
                              "message": "fix class bar { static name() {} }",
                              "created_at": "2015-01-10T18:05:52Z",
                              "sha": "33738fd5e2ab2c163cd6546cfff3402ce41a0f49"
                         },
                         {
                              "message": "fix `name`",
                              "created_at": "2015-01-10T10:48:28Z",
                              "sha": "aff99155d25b03e5f10c9eb5c0596ca65750aa9c"
                         },
                         {
                              "message": "Reflect.{get, set} arity fix",
                              "created_at": "2015-01-07T14:01:51Z",
                              "sha": "83257b1c720ed962722092a2d5535391a7bb281f"
                         },
                         {
                              "message": "`Math.imul ` with `valueOf` fix",
                              "created_at": "2015-01-07T13:52:30Z",
                              "sha": "5611ad4147f2ab6e4089f2f0fe0fc9620e572334"
                         },
                         {
                              "message": "arity fixes",
                              "created_at": "2015-01-05T20:29:38Z",
                              "sha": "b8efbc0db16b9d2646d80de410e81ddba30bd53c"
                         },
                         {
                              "message": "arity fixes",
                              "created_at": "2015-01-04T15:14:01Z",
                              "sha": "ea1c9bb3d8808cd83ab91b2cdd5191d53ad53b7c"
                         },
                         {
                              "message": "fix module.exports for browsers, close #9",
                              "created_at": "2015-01-04T14:14:32Z",
                              "sha": "659e3d159d80e467660ec488b5cd950069ccc2fc"
                         },
                         {
                              "message": "fix String methods",
                              "created_at": "2015-01-04T14:12:53Z",
                              "sha": "48f5131741f43e73bcff28f48be1bf446bd9f3fd"
                         },
                         {
                              "message": "fix `es6_reflect` & add basic tests",
                              "created_at": "2015-01-02T12:12:11Z",
                              "sha": "c565656e89445ed56b8177b1d856c1a8810ef413"
                         },
                         {
                              "message": "console fix",
                              "created_at": "2014-12-25T05:28:52Z",
                              "sha": "407ee944470f81062efe31f436848ed169f3f379"
                         },
                         {
                              "message": "0.3.2\n\nadd cap for freeze-family methods\nfix console in node.js",
                              "created_at": "2014-12-25T04:11:47Z",
                              "sha": "6cc70610ab78a379f142bbd25367f4345faf88ab"
                         },
                         {
                              "message": "fix #4",
                              "created_at": "2014-12-25T04:08:34Z",
                              "sha": "c2550e96c6da9e96ffaed4b59b8642009d33a5ae"
                         },
                         {
                              "message": "fix console cap, close #4",
                              "created_at": "2014-12-25T04:01:14Z",
                              "sha": "09c3d642fe6dd207af820ed4e3005f7bf34aa0e9"
                         },
                         {
                              "message": "some fixes",
                              "created_at": "2014-12-23T12:49:58Z",
                              "sha": "c4eee1575ae4152d8a5e00f0d59b53b859c469c3"
                         },
                         {
                              "message": "fix stack overflow in iterators with holes",
                              "created_at": "2014-12-20T21:04:53Z",
                              "sha": "6e94e3e3d2f518bbda84e4ff1c2cb43dd317c6f6"
                         },
                         {
                              "message": "0.2.5\n\n`console` no longer shortcut for `console.log` (compatibility problems)\nsome fixes",
                              "created_at": "2014-12-20T03:28:03Z",
                              "sha": "e5fa6eb9912b67bff6f15677af902b4455af979c"
                         },
                         {
                              "message": "0.2.4 - More consistent specification\n\nsome fixes\nadd `Math.fround` (IE10+)",
                              "created_at": "2014-12-17T00:51:33Z",
                              "sha": "c954109b96edb2a8e24d97e94e45e2196886403c"
                         },
                         {
                              "message": "0.2.0\n\nadd es7 module\nadd String#at\nadd real String Iterator, older versions used Array Iterator\nremove deprecated `.contains` methods\nsome fixes",
                              "created_at": "2014-12-06T18:53:39Z",
                              "sha": "40de2aab09c78ba6a4cfc6f66aab2d989638b49f"
                         },
                         {
                              "message": "fix & ref",
                              "created_at": "2014-11-30T13:49:46Z",
                              "sha": "4e4ecc5b096f80cdb209d1071481bed5a05612c8"
                         },
                         {
                              "message": "fix modification of Map during iteration",
                              "created_at": "2014-11-19T13:36:58Z",
                              "sha": "e5609307e8dda37d97edebb8fd47973fb3d29104"
                         },
                         {
                              "message": "isDict fix + $for tests",
                              "created_at": "2014-11-17T00:40:14Z",
                              "sha": "f7031801623780cf2d377e9bf8bbe28a67820011"
                         },
                         {
                              "message": "fix buggy Safari iterators",
                              "created_at": "2014-11-09T20:32:23Z",
                              "sha": "aa4819fe05eb9f187a87f90d8f21bece99ce526d"
                         },
                         {
                              "message": "add Dict Iter tests, some fix",
                              "created_at": "2014-10-30T14:04:29Z",
                              "sha": "c44b5dd25c2a11ce19912ad9a3d5b628567d6e2d"
                         },
                         {
                              "message": "some fix",
                              "created_at": "2014-10-27T12:08:09Z",
                              "sha": "42a3ad916f133f38c3c57f32c86bfbf438f72c0b"
                         },
                         {
                              "message": "jxcore __proto__ fix, Object.make & desc\n\njxcore __proto__ fix\nObject.make always work with descriptors",
                              "created_at": "2014-10-19T21:57:57Z",
                              "sha": "2e9ac75a2769415b62c302fdd222d51e22a461f2"
                         },
                         {
                              "message": "Change Date::format specifiers, fix Object::[_]",
                              "created_at": "2014-10-15T06:07:40Z",
                              "sha": "852791d89321d95dcc94a93802aa6d55165da798"
                         },
                         {
                              "message": "some fix & clean\n\nadd ES6 Object::toString shim\nremove Array::{get, set, delete} -> rework\nadd new console methods\nsrc/core.js -> src/common.js",
                              "created_at": "2014-10-13T13:26:31Z",
                              "sha": "2312d3e5d6f88f2a9e0b28408bf80012f0f2c9ae"
                         },
                         {
                              "message": "cleaning\n\nObject.getOwnPropertyKeys -> Reflect.ownKeys\nremove Function::construct\n-> add late as Reflect.construct\nremove Object.getOwnPropertyDescriptors\n-> add late with fix Object.{create, defineProperties}\n-> use Object.{define, make}\nremove Function::invoke\n-> use Function::apply\nremove Object.isPrototype\n-> use Object::isPrototypeOf.call\nremove Object.getPropertyDescriptor\nremove {Math, Number::}.randomInt",
                              "created_at": "2014-09-22T15:28:42Z",
                              "sha": "1f98747a0fbb88e7142f5ae98923bc91dd2247c9"
                         },
                         {
                              "message": "ref\n\nref\n\nadd fromIndex for {Array::, Array}.contains\nfix {Array::, Array}.fill",
                              "created_at": "2014-08-13T12:32:21Z",
                              "sha": "63569af91df4197d08184584f478dab0cd88ba1a"
                         },
                         {
                              "message": "Lot of changes\n\nuse Symbol vs uid & simple set vs define enumerable: false if possible\n\nSymbol constructor don't work with `new`\nadd Symbol.pure\nadd Symbol.set\nremove Object.symbol -> use Symbol.pure\nremove Object.hidden -> use Symbol.set\n\n{Array::, Array}.contains & Dict.contains use SameValueZero\n\nIE8- Object.getOwnPropertyNames fix\nIE8- Object.getPrototypeOf fix\nIE7mode fix (src/core.js#218, wtf?)\nIE7mode setImmediate fix\n\nadd Object.getOwnPropertyKeys\nfix Object.getOwnPropertyDescriptors\noptimize: Object.make don't work with descriptors & enumerable: false\nproperties\n\nadd Dict.delete\n\nremove Object.isEnumerable",
                              "created_at": "2014-08-07T09:28:20Z",
                              "sha": "9e78638c9fcff2ef7cdb8e9bfafe3ea4ebd0d096"
                         },
                         {
                              "message": "FF33 Symbol.iterator fix",
                              "created_at": "2014-07-21T16:15:59Z",
                              "sha": "1e752501505d46cc1413d92f5b718ce1750e45a1"
                         },
                         {
                              "message": "ie8- fix",
                              "created_at": "2014-07-09T19:28:15Z",
                              "sha": "323d15a6b6ff0835de4f1c0e397c5ef8a7030853"
                         },
                         {
                              "message": "add .clone, fix\n\nadd {Dict, Array, Array::}.clone\nChrome 35 Symbol fix",
                              "created_at": "2014-06-01T15:04:13Z",
                              "sha": "acf6149f70a3b7917ffd22ff5b8a633a2763bdef"
                         },
                         {
                              "message": "add Array::set, fix",
                              "created_at": "2014-05-26T21:23:06Z",
                              "sha": "7a5c68d569356dd63ca961eee2c347dd77881043"
                         },
                         {
                              "message": "fix",
                              "created_at": "2014-05-24T07:58:39Z",
                              "sha": "4b87bad0a5d35b43326032e981dcba3090259257"
                         },
                         {
                              "message": "IE8- fix, add iter helpers, change README\n\nfix IE8- getPrototypeOf / keys\nadd C.isIterable\nadd C.getIterator\nchange README",
                              "created_at": "2014-05-13T17:10:48Z",
                              "sha": "ed8ed38b8bdb276b1651ad4b25724b0e0bce68b6"
                         },
                         {
                              "message": "Dict.contains, fix, tests\n\nadd Dict.contains\nfix Number::{...Math} in ie8-",
                              "created_at": "2014-05-06T21:03:16Z",
                              "sha": "3b64027cd5f0727eba7ca872b0700149faa3b210"
                         },
                         {
                              "message": "add Function::loop, fix Object.classof(arguments)\n\nadd Function::loop\nfix Object.classof(arguments)\nand some over fix",
                              "created_at": "2014-04-30T06:09:33Z",
                              "sha": "f1338a74674cead93da27bfe204d20a43e96710e"
                         },
                         {
                              "message": "fix Promise.{all, race}",
                              "created_at": "2014-04-24T09:13:59Z",
                              "sha": "329aac3a560d972b1a0bdba1f160348d1b6fde26"
                         },
                         {
                              "message": "tc39, transform update, .setPrototypeOf fix\n\nrewrite {Array::, Dict}transform : compatibility with Array::reduce &\n_.transform\nObject.assign gets multiple source objects. : tc39 update\nfix Object.setPrototypeOf with null proto objects\nadd Object{values, entries} : tc39 update\nadd Array::contains : tc39 update\nremove Array::merge : mabe add with Array:: API",
                              "created_at": "2014-04-16T08:06:55Z",
                              "sha": "8e7a9c896e76e55bac57e8f41e0fd6a54d6c5dfc"
                         },
                         {
                              "message": "fix Promise, simplification String iterator\n\nPromise.resolve is old Promise.cast\nremove Promise.cast\nStrings use ArrayIterator, implement StringIterator after add\nString::{at, codePointAt}",
                              "created_at": "2014-04-12T00:41:34Z",
                              "sha": "6c7b8ae4d939047b18fcf04ef4082cbc53927dc7"
                         },
                         {
                              "message": "ref\n\nfix exports on Node.js\nDate::format: use ~ ISO8601 format\nDate.addLocale: use Sugar.js format\nremove Deferred::clone\nSymbol.iterator: '@@iterator' -> Symbol('Symbol.iterator'). Sorry, FF.\nObject.make: remove desc argument\nsrc/init.js -> src/core.js\nsrc/iterator.js -> src/iterators.js\nsrc/es6c.js -> src/collections.js",
                              "created_at": "2014-04-11T01:39:38Z",
                              "sha": "7d7554a3c42ccaf85c3678c7cce3cfc853fc5e4f"
                         },
                         {
                              "message": "ref\n\nNumber::times! == Number::times(->it)\nadd Dict.isDict\nremove {Function, Function::}inherits => use Object.create\nfix Math.asinh",
                              "created_at": "2014-04-05T23:10:30Z",
                              "sha": "e08f7a2592d983bf4b7bd12665ae68791f7637f7"
                         },
                         {
                              "message": "ref\n\nfix _.set(Timeout|Interval|Immediate)\ninit Dict from entries iterator\nString::escapeRegExp -> RegExp.escape\nDict.indexOf -> Dict.keyOf\nDict.findIndex -> Dict.findKey\nObject.useTie -> _.useTie\nremove Object.getPropertyNames\nremove Object.getPropertyDescriptors\nremove Array::pluck\nremove Dict.pluck\nref tests",
                              "created_at": "2014-03-26T17:41:59Z",
                              "sha": "3012871e306a880c348dd29e31373896e8ffc62a"
                         },
                         {
                              "message": "fix Promise",
                              "created_at": "2014-01-11T13:07:33Z",
                              "sha": "5bdc85aad7367862b7adc8b54ba29b7d62e2ca1c"
                         },
                         {
                              "message": "bug fix",
                              "created_at": "2014-01-09T09:06:48Z",
                              "sha": "3bf92ad83c88360b8e4b1bd769fd66b06ba28d4d"
                         },
                         {
                              "message": "readme & small fix",
                              "created_at": "2014-01-05T16:42:36Z",
                              "sha": "bf793c5fd5e8bbe95d1aeced8f7977c15edf5ea2"
                         },
                         {
                              "message": "IE 6-8 fixes & ref tests",
                              "created_at": "2014-01-05T00:05:49Z",
                              "sha": "f260e7e7abb6a2719e71ce4b6eb13742f26943b5"
                         },
                         {
                              "message": "Object.keys fix (later processed), Map & Set constructor fix & some details",
                              "created_at": "2013-07-20T15:04:11Z",
                              "sha": "34a498f3c461cd46768240241ea9006d397df6e3"
                         },
                         {
                              "message": "add to npm & uglifyjs fix",
                              "created_at": "2013-07-18T10:53:31Z",
                              "sha": "6c70363faa6ce0d61d4540d352c3dd71c32544fa"
                         }
                    ]
               },
               "async_constructs": {
                    "callback": 165,
                    "promise": 151,
                    "async": 172
               }
          },
          {
               "index": 3,
               "repoFullName": "node-fetch/node-fetch",
               "creationDate": "2015-01-26",
               "languages": {
                    "JavaScript": 199965,
                    "TypeScript": 3341
               },
               "stars": 8106,
               "issues": {
                    "incomplete_results": false,
                    "status_code": "200",
                    "total_bug_issues": 184,
                    "total_issues": 721,
                    "issues": [
                         {
                              "title": "FetchError: invalid json response body ",
                              "description": "FetchError: invalid json response body at {........} reason: Unexpected token < in JSON at position 0\r\n    at /app/node_modules/node-fetch/lib/index.js:273:32\r\n    at runMicrotasks (<anonymous>)\r\n    at processTicksAndRejections (node:internal/process/task_queues:96:5) {\r\n  type: 'invalid-json'\r\n}\r\n\r\n--My fetch\r\n\r\nfetch(`..........`)\r\n            .then((response) => response.json())\r\n            .then((data) => console.log(data));\r\n\r\n\r\nIn Local everything works correctly, in host (railway) have this error.",
                              "label": "bug",
                              "createdAt": "2023-02-04T13:50:21Z",
                              "closedAt": "2023-02-04T15:54:14Z",
                              "lastComment": "2023-02-04T15:54:09Z",
                              "commentCount": 1
                         },
                         {
                              "title": "Bug with 2.6.8 release throwing exceptions in certain cases",
                              "description": "<!--- Provide a clear and concise description of what the bug is. -->\r\nHello,\r\nRecently, we found a bug that was introduced by [release 2.6.8](https://github.com/node-fetch/node-fetch/releases/tag/v2.6.8) (probably due to [this PR](https://github.com/node-fetch/node-fetch/pull/1172)) that makes node-fetch throw an error in some cases.\r\nI was not able to determine why, but it is simple to reproduce.\r\nHere is the exception:\r\n```sh\r\n/Users/mainrop/Documents/node-fetch-2-6-8-bug/node_modules/node-fetch/lib/index.js:1519\r\n\t\t\tdestroyStream(response.body, err);\r\n\t\t\t                       ^\r\n\r\nTypeError: Cannot read properties of null (reading 'body')\r\n    at /Users/mainrop/Documents/node-fetch-2-6-8-bug/node_modules/node-fetch/lib/index.js:1519:27\r\n    at IncomingMessage.<anonymous> (/Users/mainrop/Documents/node-fetch-2-6-8-bug/node_modules/node-fetch/lib/index.js:1749:6)\r\n    at Object.onceWrapper (node:events:627:28)\r\n    at IncomingMessage.emit (node:events:513:28)\r\n    at emitCloseNT (node:internal/streams/destroy:132:10)\r\n    at process.processTicksAndRejections (node:internal/process/task_queues:81:21)\r\n```\r\n\r\n\r\n**Reproduction**\r\n\r\nHere is a repository I made to reproduce this issue: https://github.com/roptch/node-fetch-2-6-8-bug\r\nSteps to reproduce the behavior:\r\n\r\n1. Clone the repo\r\n2. `nvm use` (the node version in this repo is 16, but also tested with 12 and 18 and the error keeps throwing)\r\n3. `yarn start`\r\n4. See the exception that is thrown\r\n\r\n**Expected behavior**\r\n\r\n<!--- If you're suggesting a change/improvement, tell us how it should work -->\r\n<!--- If fetch is behaving incorrectly, please include a link to the spec or documentation that supports that your expected behavior is correct. -->\r\nNo exception should be thrown.\r\n\r\n**Screenshots**\r\n\r\n<!--- If applicable, add screenshots to help explain your problem. -->\r\n\r\n**Your Environment**\r\n\r\n<!--- Include as many relevant details about the environment you experienced the bug in -->\r\n\r\n| software         | version\r\n| ---------------- | -------\r\n| node-fetch       | 2.6.8\r\n| node             | 16.18.0\r\n| npm              | 8.19.2\r\n| Operating System | macOS Big Sur (11.6.7)\r\n\r\n**Additional context**\r\n\r\n<!--- Add any other context about the problem here. -->\r\n",
                              "label": "bug",
                              "createdAt": "2023-01-16T16:49:00Z",
                              "closedAt": "2023-02-01T04:31:29Z",
                              "lastComment": "2023-01-30T22:35:27Z",
                              "commentCount": 5
                         },
                         {
                              "title": "Cannot read properties of null (reading, 'body'). regression in 2.6.7",
                              "description": "Just reporting this bug upstream that we've run across in crowdin.\r\n\r\nhttps://github.com/crowdin/crowdin-cli/issues/523\r\n\r\n```bash\r\nDownloading java runtime environment for version 11\r\n/Users/shannah/.npm/_npx/e624e2fddcf46226/node_modules/node-fetch/lib/index.js:1519\r\n\t\t\tdestroyStream(response.body, err);\r\n\t\t\t                       ^\r\n\r\nTypeError: Cannot read properties of null (reading 'body')\r\n    at /Users/shannah/.npm/_npx/e624e2fddcf46226/node_modules/node-fetch/lib/index.js:1519:27\r\n    at IncomingMessage.<anonymous> (/Users/shannah/.npm/_npx/e624e2fddcf46226/node_modules/node-fetch/lib/index.js:1749:6)\r\n    at Object.onceWrapper (node:events:641:28)\r\n    at IncomingMessage.emit (node:events:527:28)\r\n    at emitCloseNT (node:internal/streams/destroy:138:10)\r\n    at processTicksAndRejections (node:internal/process/task_queues:82:21)\r\n```\r\n\r\nThis issue doesn't appear to happen using 2.6.7\r\n\r\nTo reproduce, you can just create an empty directory and run `npx @crowdin/cli@3.9.2`\r\n\r\n",
                              "label": "bug",
                              "createdAt": "2023-01-16T16:33:44Z",
                              "closedAt": "2023-02-01T04:32:17Z",
                              "lastComment": "2023-01-30T22:00:19Z",
                              "commentCount": 6
                         },
                         {
                              "title": "Can't pass URL class object to fetch() in TypeScript",
                              "description": "<!--- Provide a clear and concise description of what the bug is. -->\r\n\r\n**Reproduction**\r\n\r\nSteps to reproduce the behavior:\r\n\r\n1. Write `fetch(new URL(\"\"));`\r\n2. `tsc --noEmit`\r\n3. Observe `Argument of type 'URL' is not assignable to parameter of type 'RequestInfo'.ts(2345)`\r\n\r\n**Expected behavior**\r\n\r\nWorks as per example in README: https://github.com/node-fetch/node-fetch#manual-redirect\r\n\r\n<!--- If you're suggesting a change/improvement, tell us how it should work -->\r\n<!--- If fetch is behaving incorrectly, please include a link to the spec or documentation that supports that your expected behavior is correct. -->\r\n\r\n**Screenshots**\r\n\r\n![image](https://user-images.githubusercontent.com/7756211/210482898-83994651-a9dd-4600-aab1-b0529670bdbb.png)\r\n\r\n\r\n<!--- If applicable, add screenshots to help explain your problem. -->\r\n\r\n**Your Environment**\r\n\r\n<!--- Include as many relevant details about the environment you experienced the bug in -->\r\n\r\n| software         | version\r\n| ---------------- | -------\r\n| node-fetch       |  3.3.0\r\n| node             | 19.3.0\r\n| npm              | 9.2.0\r\n| typescript     | 4.9.4\r\n| Operating System | Windows\r\n\r\n**Additional context**\r\n\r\n<!--- Add any other context about the problem here. -->\r\n\r\nRelated:\r\nhttps://github.com/node-fetch/node-fetch/issues/372\r\nhttps://github.com/nodejs/node/pull/17365\r\nhttps://github.com/node-fetch/node-fetch/issues/1430\r\n",
                              "label": "bug",
                              "createdAt": "2023-01-04T04:11:35Z",
                              "closedAt": "2023-01-05T01:16:57Z",
                              "lastComment": "2023-01-05T01:16:57Z",
                              "commentCount": 3
                         },
                         {
                              "title": "Impl \"Response.json\"",
                              "description": "<!--- Provide a clear and concise description of what the bug is. -->\r\n\r\n**Reproduction**\r\n\r\nSteps to reproduce the behavior:\r\n\r\n1. `new Response.json({ foo: 'bar' })`\r\n\r\n",
                              "label": "bug",
                              "createdAt": "2022-11-08T13:00:00Z",
                              "closedAt": "2022-11-10T21:46:52Z",
                              "lastComment": "2022-11-10T21:47:51Z",
                              "commentCount": 1
                         },
                         {
                              "title": "Promise rejection handler not applied to the fetch Promise",
                              "description": "<!--- Provide a clear and concise description of what the bug is. -->\r\n\r\nSee Steps\r\n\r\nSteps to reproduce the behavior:\r\n```js\r\nfetch('https://baddomainblah')\r\n  .then(res => res.json())\r\n  .then(console.log)\r\n  .catch(err => console.error('ERROR?!!', err))\r\n```\r\n\r\nWill fail with unhandled exception because the catch is only applied the the promise returned by the second then()\r\n\r\nThe same code works properly on ES6 in browsers.\r\n\r\n\r\nThis will solve it but is incorrect\r\n\r\n```js\r\nfetch('https://baddomainblah')\r\n  .catch(err => console.error('ERROR?!!', err))\r\n  .then(res => res.json())\r\n  .then(console.log)\r\n```\r\n\r\n**Expected behavior**\r\n\r\nrejection handler is called on exception\r\n\r\n\r\n**Your Environment**\r\n\r\nDoesn't matter. Happens everywhere with every version.\r\n",
                              "label": "bug",
                              "createdAt": "2022-11-02T14:20:27Z",
                              "closedAt": "2022-11-02T17:26:43Z",
                              "lastComment": "2022-11-02T17:26:43Z",
                              "commentCount": 2
                         },
                         {
                              "title": "Cannot bundle Node.js built-in \"node:http\" while vite build",
                              "description": "I am working on Vite v3.0.9 and using node-fetch 3.2.10. I used doc to import node-fetch (see screen) \r\nWhile build I have next issue \r\n<img width=\"917\" alt=\"image\" src=\"https://user-images.githubusercontent.com/16482929/198272939-a0c9f375-b414-4009-bb6b-6566519cbb9e.png\">\r\n\r\n**Current Behavior**\r\n\r\n<img width=\"468\" alt=\"image\" src=\"https://user-images.githubusercontent.com/16482929/198272720-9db2b7b0-8e0c-4f1d-9201-295b91580348.png\">\r\n\r\n**Expected Behavior**\r\nSuccessful build\r\n\r\n**Your Environment**\r\n\r\n<!--- Include as many relevant details about the environment you experienced the bug in -->\r\n\r\n| software         | version\r\n| ---------------- | -------\r\n| node-fetch       | 3.2.10\r\n| node             | 18.12.0\r\n| npm              | 8.19.2\r\n| Operating System |\r\n\r\n**Additional context**\r\n\r\nI've already tried workaround with replacing `node:http` into `http`\r\nBut than I have the same error but with just `http` module\r\n",
                              "label": "bug",
                              "createdAt": "2022-10-27T11:31:02Z",
                              "closedAt": "2022-10-31T09:31:48Z",
                              "lastComment": "2022-10-27T15:49:51Z",
                              "commentCount": 5
                         },
                         {
                              "title": "node-fetch user-agent still says 1.0 when we're now on 2.x and 3.x",
                              "description": "Here is the header sent by node-fetch:\r\n- 'user-agent': 'node-fetch/1.0 (+https://github.com/bitinn/node-fetch)',\r\n\r\n**Reproduction**\r\n\r\n- Check the user agent when your app makes a node-fetch request.\r\n\r\nSteps to reproduce the behavior:\r\n\r\n1. Make a fetch request to some server endpoint.\r\n2. Observe the user-agent string.\r\n\r\n**Expected behavior**\r\n\r\nIs the 1.0 a version number?  If it is, then it would be cool to keep it up to date with the library, similar to how user-agent version numbers are kept up to date by browsers.\r\n\r\n<!--- If you're suggesting a change/improvement, tell us how it should work -->\r\n<!--- If fetch is behaving incorrectly, please include a link to the spec or documentation that supports that your expected behavior is correct. -->\r\n\r\n**Your Environment**\r\n\r\n<!--- Include as many relevant details about the environment you experienced the bug in -->\r\nWe were running on macOS, but I'm sure it's the same in any environment.\r\n\r\n| software         | version\r\n| ---------------- | -------\r\n| node-fetch       |  3.2.10\r\n| node             |  v16.17.0\r\n| npm              |. v8.15.0\r\n| Operating System | macOS 12.4 M1 chip\r\n\r\n**Additional context**\r\n\r\n<!--- Add any other context about the problem here. -->\r\n",
                              "label": "bug",
                              "createdAt": "2022-10-03T05:04:35Z",
                              "closedAt": "2022-10-03T14:09:13Z",
                              "lastComment": "2022-10-03T14:09:03Z",
                              "commentCount": 1
                         },
                         {
                              "title": "node-fetch v2 does not work but node-fetch v3 works",
                              "description": "**Reproduction**\r\n\r\nI'm doing the same request using node-fetch v2 and node-fetch v3\r\n\r\nhere are the response headers for v2\r\n\r\n```jsx\r\n{\r\ndate: [ 'Tue, 27 Sep 2022 10:56:44 GMT' ],\r\n    server: [ 'Apache' ],\r\n    'content-length': [ '318' ],\r\n    connection: [ 'close' ],\r\n    'content-type': [ 'text/html; charset=iso-8859-1' ]\r\n    }\r\n```\r\n\r\nhere are the response headers for v3\r\n\r\n```jsx\r\n{\r\n    'cache-control': [ 'no-store, no-cache, must-revalidate' ],\r\n    connection: [ 'close' ],\r\n    'content-encoding': [ 'gzip' ],\r\n    'content-length': [ '60' ],\r\n    'content-type': [ 'text/html; charset=UTF-8' ],\r\n    date: [ 'Tue, 27 Sep 2022 10:52:20 GMT' ],\r\n    expires: [ 'Thu, 19 Nov 1981 08:52:00 GMT' ],\r\n    pragma: [ 'no-cache' ],\r\n    server: [ 'Apache' ],\r\n    'set-cookie': [\r\n      'frontend=593da7b9ba1979630c43c1a9084c0163; expires=Tue, 27-Sep-2022 11:52:20 GMT; Max-Age=3600; path=/; domain=www.example.com; HttpOnly',\r\n      'frontend_cid=l9Z7tarPrOb8YEM5; expires=Tue, 27-Sep-2022 11:52:20 GMT; Max-Age=3600; path=/; domain=www.example.com; secure; HttpOnly'\r\n    ],\r\n    vary: [ 'Accept-Encoding' ],\r\n    'x-content-type-options': [ 'nosniff' ],\r\n    'x-xss-protection': [ '1; mode=block' ]\r\n  }\r\n```\r\n\r\n**Expected behavior**\r\n\r\nit should work on both node-fetch v2 and v3.\r\nI can't upgrade because ESM breaks my project and many packages\r\n\r\n**Screenshots**\r\n\r\nI can share the script that I'm using to test, ping me on twitter https://twitter.com/sseraphini, it has some sensitive data\r\n\r\n**Your Environment**\r\n\r\n<!--- Include as many relevant details about the environment you experienced the bug in -->\r\n\r\n| software         | version\r\n| ---------------- | -------\r\n| node-fetch       | 2.6.7 and 3.2.10\r\n| node             | 16.17.0\r\n| npm              | 8.15.0\r\n| Operating System | macosx\r\n\r\n**Additional context**\r\n\r\n<!--- Add any other context about the problem here. -->\r\nit also works with native node 18 fetch implementation\r\n",
                              "label": "bug",
                              "createdAt": "2022-09-27T11:07:23Z",
                              "closedAt": "2022-09-27T14:46:05Z",
                              "lastComment": "2022-09-27T11:34:22Z",
                              "commentCount": 1
                         },
                         {
                              "title": "default export not working on pure-ESM typescript (node v16)",
                              "description": "### Discussed in https://github.com/node-fetch/node-fetch/discussions/1642\r\n\r\n<div type='discussions-op-text'>\r\n\r\n<sup>Originally posted by **Polve** September  9, 2022</sup>\r\nI'm developing a new project so I can start from scratch using latest standards, so I'm using latest 16.x node, latest typescript (4.8.2), and trying to develop an ESM library.\r\n\r\nThe problem I have is that I can't import the default export, while everything works fine for the named imports.\r\n\r\nSo for example this works fine:\r\n```\r\nimport {  Blob,  File,  Headers,  Request,  Response } from 'node-fetch'\r\n```\r\nwhile this code:\r\n```\r\nimport fetch from 'node-fetch'\r\n```\r\ngives this error:\r\n```\r\n/home/user/.nvm/versions/node/v16.13.0/lib/node_modules/ts-node/dist/index.js:851\r\n            return old(m, filename);\r\n                   ^\r\nError [ERR_REQUIRE_ESM]: require() of ES Module /home/user/x/node_modules/node-fetch/src/index.js from /user/x/foo.ts not supported.\r\nInstead change the require of index.js in /home/user/x/foo.ts to a dynamic import() which is available in all CommonJS modules.\r\n    at Object.require.extensions.<computed> [as .js] (/home/x/.nvm/versions/node/v16.13.0/lib/node_modules/ts-node/dist/index.js:851:20)\r\n```\r\n\r\nIs it possible for you do avoid exporting the default and simply do a named export for \"fetch\"?\r\nOr maybe both, to have better compatibility with cjs?\r\n\r\nI'm no export on ESM modules but I think that a trivial fix would be to avoid exporting the definition of the function this way:\r\n```\r\nexport default async function fetch(url, options_) {\r\n```\r\nand define the function and export it in two different places like this:\r\n```\r\nasync function fetch(url, options_) {...}\r\nexport default fetch;\r\n```</div>",
                              "label": "unlabeledBug",
                              "createdAt": "2022-09-10T15:39:31Z",
                              "closedAt": "2022-09-10T19:31:28Z",
                              "lastComment": "2022-09-12T11:21:19Z",
                              "commentCount": 1
                         },
                         {
                              "title": "remove \"light weight\" from \"A light-weight module that brings Fetch API to Node.js.\"",
                              "description": "Nitpicking, but: `node-fetch` is an almost 8MB install. It is very much _not_ light weight (even if its own code is, it is _heavily_ weighed down by the 7.5MB `web-streams-polyfill` dependency used by `fetch-blob`)",
                              "label": "bug",
                              "createdAt": "2022-09-04T19:10:07Z",
                              "closedAt": "2022-09-04T19:31:19Z",
                              "lastComment": "2022-11-20T18:55:37Z",
                              "commentCount": 7
                         },
                         {
                              "title": "Timeout behaviour gotcha in nodejs",
                              "description": "The suggested use of the `signal:` property behaves poorly when the nodejs application is under heavy load, in a way which could be considered a regression against the original timeout behavior of the `http` and `https` libraries this is aiming to replace.\r\n\r\nThe current advice is that you use the built-in `AbortController` class and a `setTimeout` to affect a timeout in fetch requests:\r\n\r\n```javascript\r\nimport fetch, { AbortError } from 'node-fetch';\r\n\r\n// AbortController was added in node v14.17.0 globally\r\nconst AbortController = globalThis.AbortController || await import('abort-controller')\r\n\r\nconst controller = new AbortController();\r\nconst timeout = setTimeout(() => {\r\n\tcontroller.abort();\r\n}, 150);\r\n\r\ntry {\r\n\tconst response = await fetch('https://example.com', {signal: controller.signal});\r\n\tconst data = await response.json();\r\n} catch (error) {\r\n\tif (error instanceof AbortError) {\r\n\t\tconsole.log('request was aborted');\r\n\t}\r\n} finally {\r\n\tclearTimeout(timeout);\r\n}\r\n```\r\n\r\nIf the request takes longer than 150 milliseconds then the `setTimeout` will call `controller.abort()`, which will pass the signal through to `node-fetch` and abort the request.  Anyone used to using the `http` library could reasonably assume that this would give the same behavior as:\r\n\r\n```javascript\r\nconst req = http.get(url, {\r\n    timeout: 150,\r\n}, res => {\r\n    let data = \"\";\r\n    res.on(\"data\", (chunk) => {\r\n        data += chunk;\r\n    });\r\n\r\n    res.on(\"end\", () => {\r\n        // do something with `data`\r\n    });\r\n});\r\n\r\nreq.end();\r\n```\r\n\r\nThe difference comes when the server is doing significant amounts of synchronous work, e.g. a sudden spike in traffic through a web server. My understanding of this may not be entirely accurate, but from what I have read and can see the timeline goes something like this:\r\n\r\n- `setTimeout` registers a specific timestamp (`now + 150ms`) at which point an event will be added to the node event loop to trigger the callback it was given\r\n- the underlying http request call issued by `node-fetch` actually inserts an event into the node event loop which causes node to issue the request\r\n- the function call ends and node checks whether or not the setTimeout timestamp has expired (it hasn't yet)\r\n- node picks up the next item in the event loop (if there is one). When the server is under heavy load, lots of items might have been added to the event loop by other expired setTimeouts / incoming http requests / responses to outgoing http requests / etc, so this might take quite a lot of time\r\n- node issues the http request\r\n\r\nThe problem is that bit in the middle where the timestamp for the abort event has already been set but the request hasn't been started yet. The more work node has to churn through, the less of that 150ms timeout is actually available for the request, and if you take it to the logical extreme then the abort can be called before the initial request is even sent!\r\n\r\n**Reproduction**\r\n\r\nSteps to reproduce the behavior:\r\n\r\n```javascript\r\nimport fetch from 'node-fetch';\r\n\r\n// Do some blocking synchronous work (you may need to increase this number if your computer is a lot faster than mine)\r\nasync function doSomeWork() {\r\n    let string = \"\";\r\n\r\n    for (let i = 0; i < 1e7; i++) {\r\n        string += `${i}`;\r\n\r\n        if (i % 1e6 == 0) {\r\n            string = \"\";\r\n            console.debug(`tick: ${i} ${string}`)\r\n        }\r\n    }\r\n}\r\n\r\nasync function start() {\r\n    const controller = new AbortController();\r\n    const timeout = setTimeout(() => {\r\n        controller.abort();\r\n    }, 1000);\r\n\r\n    try {\r\n        const [ response, _ ] = await Promise.all([\r\n            fetch(\"http://some-service:3000/path\", {\r\n                signal: controller.signal\r\n            }),\r\n            doSomeWork()\r\n        ]);\r\n\r\n        console.log(\"that one worked\");\r\n    } catch (err) {\r\n        console.error(err)\r\n    } finally {\r\n        clearTimeout(timeout);\r\n    }\r\n}\r\n\r\nstart();\r\n```\r\n\r\nIf you run the code above, but update the `http://some-service:3000/path` to point at something you own that has reasonable logging running on it, then you can play about with the `1e7` bit of `for (let i = 0; i < 1e7; i++)` to tune the amount of \"load\" to see the three potential outcomes:\r\n\r\n1. load is very light and the request returns successfully\r\n2. load is moderate, and if your `some-service` takes e.g. 500ms to respond then you can see it timing out after e.g. 250ms as the simulated load eats into the timeout time.\r\n3. load is heavy and your `some-service` never receives the request at all\r\n\r\n**Expected behavior**\r\n\r\n`fetch` is already behaving as expected, it's just that the suggested timeout implementation has a vulnerability entirely outside of fetch, the behavior of which is very unexpected if you're not intimately familiar with node's event loop. By definition I'm not sure this problem can be fixed without breaking the fetch API, although happy to be proven wrong, but otherwise it'd be great to see the docs updated so that anyone planning on using this module in a server-side scenario knows to approach the timeout implementation with a healthy dose of caution!\r\n\r\n**Your Environment**\r\n\r\n| software         | version\r\n| ---------------- | -------\r\n| node-fetch       | 3.2.10\r\n| node             | 16.15.0\r\n| npm              | 8.5.5\r\n| Operating System | OSX (Monterey)\r\n",
                              "label": "bug",
                              "createdAt": "2022-08-17T10:51:28Z",
                              "closedAt": "2022-09-08T13:31:32Z",
                              "lastComment": "2022-09-08T13:32:03Z",
                              "commentCount": 1
                         },
                         {
                              "title": "ECONNREFUSED on NodeJS 18",
                              "description": "When using `node-fetch` on NodeJS 18, got ECONNREFUSED\r\n\r\n```js\r\n// test.mjs\r\nimport { Server } from '@hapi/hapi'\r\nimport fetch from 'node-fetch'\r\n\r\nconst start = async () => {\r\n  const server = new Server({\r\n    port: 3344,\r\n  })\r\n\r\n  server.route([\r\n    {\r\n      method: 'GET',\r\n      path: '/',\r\n      handler: async () => {\r\n        return JSON.stringify({ value: 'hello' })\r\n      }\r\n    }\r\n  ])\r\n  await server.start()\r\n\r\n\r\n  const response = await fetch('http://localhost:3344')\r\n  console.log('response', await response.text())\r\n}\r\n\r\nstart()\r\n```\r\n\r\n\r\n\r\nSteps to reproduce the behavior:\r\n\r\n1. Run the above in Node 18.7.0. It fails with:\r\n\r\n```sh\r\nFetchError: request to http://localhost:3344/ failed, reason: connect ECONNREFUSED ::1:3344\r\n    at ClientRequest.<anonymous> (file:///D:/code/mocktomata/node_modules/node-fetch/src/index.js:108:11)\r\n    at ClientRequest.emit (node:events:513:28)\r\n    at Socket.socketErrorListener (node:_http_client:481:9)\r\n    at Socket.emit (node:events:513:28)\r\n    at emitErrorNT (node:internal/streams/destroy:151:8)\r\n    at emitErrorCloseNT (node:internal/streams/destroy:116:3)\r\n    at process.processTicksAndRejections (node:internal/process/task_queues:82:21) {\r\n  type: 'system',\r\n  errno: 'ECONNREFUSED',\r\n  code: 'ECONNREFUSED',\r\n  erroredSysCall: 'connect'\r\n}\r\n```\r\n\r\n\r\n**Expected behavior**\r\n\r\nThe same script will work in NodeJS 16.\r\n\r\nVideo repro: https://youtu.be/PgyYPw4RCoI\r\n\r\n**Your Environment**\r\n\r\n| software         | version\r\n| ---------------- | -------\r\n| node-fetch       |  2.6.7, 3.2.10\r\n| node             | 18.7.0\r\n| @hapi/hapi              | 20.2.2\r\n| Operating System | Windows\r\n\r\n",
                              "label": "bug",
                              "createdAt": "2022-08-12T06:52:45Z",
                              "closedAt": "2023-01-30T09:29:20Z",
                              "lastComment": "2023-01-30T09:29:20Z",
                              "commentCount": 12
                         },
                         {
                              "title": "Question: help me please",
                              "description": "No fix available\r\nnode_modules/@ensdomains/ens/node_modules/yargs-parser\r\n  yargs  4.0.0-alpha1 - 7.0.0-alpha.3 || 7.1.1\r\n  Depends on vulnerable versions of yargs-parser\r\n  node_modules/@ensdomains/ens/node_modules/yargs\r\n    solc  0.3.6 - 0.4.26\r\n    Depends on vulnerable versions of yargs\r\n    node_modules/@ensdomains/ens/node_modules/solc\r\n      @ensdomains/ens  *\r\n      Depends on vulnerable versions of solc\r\n      node_modules/@ensdomains/ens\r\n        @ensdomains/ensjs  <=2.1.0\r\n        Depends on vulnerable versions of @ensdomains/ens\r\n        node_modules/@ensdomains/ensjs\r\n",
                              "label": "unlabeledBug",
                              "createdAt": "2022-08-04T03:17:12Z",
                              "closedAt": "2022-08-04T13:38:54Z",
                              "lastComment": "2022-08-04T13:38:54Z",
                              "commentCount": 1
                         },
                         {
                              "title": "Cannot use import statement outside a module",
                              "description": "```js\r\nimport fetch from 'node-fetch'\r\n```\r\neventhough I put     \"type\": \"module\", in package.json\r\n\r\nwheneever I try\r\n```js\r\nconst fetch = (...args) => import(\"node-fetch\").then(({ default: fetch }) => fetch(...args));\r\n```\r\nIt start working",
                              "label": "bug",
                              "createdAt": "2022-08-03T17:47:06Z",
                              "closedAt": "2022-09-08T13:36:02Z",
                              "lastComment": "",
                              "commentCount": 0
                         },
                         {
                              "title": "Fix high snyk security vulnerability in v2",
                              "description": "Hi there,\r\n\r\nSnyk found a new HIGH-security vulnerability: https://security.snyk.io/vuln/SNYK-JS-NODEFETCH-2964180\r\n\r\nCould you please apply the fix for node-fetch v2?\r\nWe can't update to v3 at the moment and v2 is said to be udpated with bug/security issues.\r\n\r\nBest regards\r\n",
                              "label": "bug",
                              "createdAt": "2022-08-01T14:54:52Z",
                              "closedAt": "2022-08-01T15:57:37Z",
                              "lastComment": "2022-08-03T20:04:48Z",
                              "commentCount": 5
                         },
                         {
                              "title": "Found potential security but got no response",
                              "description": "## Issue\r\n\r\nHi there,\r\n\r\nI have found a potential security issue in [node-fetch](https://github.com/node-fetch/node-fetch). I had tried to connect to SECURITY.md email but got no response too. I don't create a full disclosure issue there cause it could affect the users. So please get in touch with me through email [doublevkay@gmail.com](mailto:doublevkay@gmail.com) or just access the report on https://huntr.dev/bounties/a7e6a136-0a4b-46c4-ad20-802f1dd60bf7 (only private accessible by maintainers).",
                              "label": "bug",
                              "createdAt": "2022-07-26T08:06:02Z",
                              "closedAt": "2022-07-31T08:01:30Z",
                              "lastComment": "2022-08-02T07:55:51Z",
                              "commentCount": 5
                         },
                         {
                              "title": "Response status error. Shows incorrect status code",
                              "description": "<!--- Provide a clear and concise description of what the bug is. -->\r\nFetch reads status as 200, even though express returns a 404.\r\n\r\n**Reproduction**\r\n\r\nSteps to reproduce the behavior:\r\n\r\n1. Express endpoint\r\n```tsx\r\nconst app = express();\r\napp.use(express.json());\r\napp.use(express.urlencoded({ extended: true }));\r\n\r\n\r\n// Catch everything else and return 404\r\napp.get('*', function (req, res, next) {\r\n  const error: CustomError = new Error(\r\n    `${req.ip} tried to access ${req.originalUrl}`\r\n  );\r\n\r\n  error.statusCode = 404;\r\n\r\n  next(error);\r\n});\r\n\r\nexport const server = app.listen(process.env.PORT, function () {\r\n  console.log(`Server listening on PORT: ${process.env.PORT}`);\r\n});\r\n```\r\n2. fetch endpoint `const response await fetch(\"http://localhost/\")`\r\n3. curl same endpoint `curl http://localhost/`\r\n4. `response.status` is 200, but should be 404 like curl\r\n\r\n**Expected behavior**\r\n\r\n<!--- If you're suggesting a change/improvement, tell us how it should work -->\r\n<!--- If fetch is behaving incorrectly, please include a link to the spec or documentation that supports that your expected behavior is correct. -->\r\nI expect it to have statuscode 404, like curl.\r\nCurl output:\r\n```shell\r\nConnected to serviceapi(docker container) (172.22.0.5) port 80 (#0)\r\n> GET / HTTP/1.1\r\n> Host: serviceapi-client\r\n> User-Agent: curl/7.64.0\r\n> Accept: */*\r\n> \r\n< HTTP/1.1 404 Not Found\r\n< X-Powered-By: Express\r\n< Access-Control-Allow-Origin: *\r\n< Content-Security-Policy: default-src 'none'\r\n< X-Content-Type-Options: nosniff\r\n< Content-Type: text/html; charset=utf-8\r\n< Content-Length: 136\r\n< Date: Sun, 24 Jul 2022 14:53:16 GMT\r\n< Connection: keep-alive\r\n< Keep-Alive: timeout=5\r\n< \r\n<!DOCTYPE html>\r\n<html lang=\"en\">\r\n<head>\r\n<meta charset=\"utf-8\">\r\n<title>Error</title>\r\n</head>\r\n<body>\r\n<pre>Not Found</pre>\r\n</body>\r\n</html>\r\n```\r\n\r\n**Screenshots**\r\n\r\n<!--- If applicable, add screenshots to help explain your problem. -->\r\n\r\n**Your Environment**\r\n\r\n<!--- Include as many relevant details about the environment you experienced the bug in -->\r\n\r\n| software         | version\r\n| ---------------- | -------\r\n| node-fetch       | 2.6\r\n| node             | 16.15.1\r\n| rollup           | 2.75.6\r\n| Docker image     | node:16.15.1-bullseye\r\n\r\n**Additional context**\r\n\r\n<!--- Add any other context about the problem here. -->\r\nThis is run inside a compose environment, where it's a graphql service, trying to reach the express service\r\n",
                              "label": "unlabeledBug",
                              "createdAt": "2022-07-24T15:08:55Z",
                              "closedAt": "2022-07-24T15:28:05Z",
                              "lastComment": "",
                              "commentCount": 0
                         },
                         {
                              "title": "TypeError: The \"iterable\" argument must be an instance of Iterable. Received an instance of ReadableStream",
                              "description": "<!--- Provide a clear and concise description of what the bug is. -->\r\n\r\n**Reproduction**\r\n\r\nSteps to reproduce the behavior:\r\n\r\n```js\r\n    const file = fileFromSync(filePath);\r\n    const formData = new FormData();\r\n    formData.append('file', file, path.basename(filePath));\r\n```\r\n\r\n1. I use upon code in electron, but get a `TypeError: The \"iterable\" argument must be an instance of Iterable. Received an instance of ReadableStream`\r\n2. maybe is there wrong ? \r\n![image](https://user-images.githubusercontent.com/8683772/173488815-4d33d904-3953-42ba-add8-372e55983186.png)\r\n3. can you tell me node-fetch can work in electron (which has browser\\node both)\r\n\r\n**Expected behavior**\r\n\r\n<!--- If you're suggesting a change/improvement, tell us how it should work -->\r\n<!--- If fetch is behaving incorrectly, please include a link to the spec or documentation that supports that your expected behavior is correct. -->\r\n\r\n**Screenshots**\r\n![image](https://user-images.githubusercontent.com/8683772/173489097-9c86e6b8-d6f9-4ee4-92bd-8670dc9283b6.png)\r\n\r\n<!--- If applicable, add screenshots to help explain your problem. -->\r\n\r\n**Your Environment**\r\n\r\n<!--- Include as many relevant details about the environment you experienced the bug in -->\r\n\r\n| software         | version\r\n| ---------------- | -------\r\n| node-fetch       | 3.2.6\r\n| node             |\r\n| npm              |\r\n| Operating System |\r\n\r\n**Additional context**\r\n\r\n<!--- Add any other context about the problem here. -->\r\n",
                              "label": "bug",
                              "createdAt": "2022-06-14T03:39:59Z",
                              "closedAt": "2022-06-14T09:17:32Z",
                              "lastComment": "2022-06-14T08:32:40Z",
                              "commentCount": 2
                         },
                         {
                              "title": "Fetch is not a function ",
                              "description": "V2.6.7 is not working with require.\r\nThrows error of 'fetch is not a function'.\r\nFollowed docs. ",
                              "label": "bug",
                              "createdAt": "2022-06-07T12:40:56Z",
                              "closedAt": "2022-06-09T10:52:55Z",
                              "lastComment": "2022-06-09T10:45:55Z",
                              "commentCount": 3
                         },
                         {
                              "title": "TypeError: Cannot read properties of null (reading 'body') after update from 3.2.4 to 3.2.5 on 302 status code",
                              "description": "<!--- Provide a clear and concise description of what the bug is. -->\r\n\r\n**Reproduction**\r\n\r\nSteps to reproduce the behavior:\r\n\r\n```js\r\nimport fetch from 'node-fetch';\r\n\r\nfetch('URL which returns 302 code')\r\n    .then((response) => response.text())\r\n    .then(console.log)\r\n    .catch(console.error);\r\n```\r\n```\r\nfile:///C:/Git/monitoring_bot/node_modules/node-fetch/src/index.js:113\r\n                        response.body.destroy(error);\r\n                                 ^\r\n\r\nTypeError: Cannot read properties of null (reading 'body')\r\n    at file:///C:/Git/monitoring_bot/node_modules/node-fetch/src/index.js:113:13\r\n    at TLSSocket.onSocketClose (file:///C:/Git/monitoring_bot/node_modules/node-fetch/src/index.js:386:5)\r\n    at TLSSocket.emit (node:events:539:35)\r\n    at node:net:715:12\r\n    at TCP.done (node:_tls_wrap:582:7)\r\n\r\nNode.js v17.9.0\r\n```\r\n\r\n**Expected behavior**\r\n\r\nDon't throw error, follow redirect and print response.text()\r\n\r\n\r\n**Your Environment**\r\n\r\n<!--- Include as many relevant details about the environment you experienced the bug in -->\r\n\r\n| software         | version\r\n| ---------------- | -------\r\n| node-fetch       | 3.2.5\r\n| node             | 17.9.0\r\n| npm              | 8.5.0\r\n| Operating System | windows and linux\r\n\r\n**Additional context**\r\n\r\nProblem exists after update to 3.2.5, on 3.2.4 example code doesn't throw error\r\n\r\n<!--- Add any other context about the problem here. -->\r\n",
                              "label": "bug",
                              "createdAt": "2022-06-03T16:56:20Z",
                              "closedAt": "2022-06-11T09:47:16Z",
                              "lastComment": "2022-06-11T09:47:16Z",
                              "commentCount": 6
                         },
                         {
                              "title": "Separete \"accept-encoding\" values with `\", \"`",
                              "description": "_The minor issue from https://github.com/node-fetch/node-fetch/issues/1569._\r\n\r\nCurrently it by default sends `\"accept-encoding\": \"gzip,deflate,br\"`.\r\n\r\nI think it should send `\"accept-encoding\": \"gzip, deflate, br\"`, header as browsers and other libraries do.\r\n\r\nSeparate \"accept-encoding\"'s values with `\", \"` instead of just `\",\"`.\r\n\r\n---\r\n\r\n\"node-fetch\": \"3.2.3\"",
                              "label": "bug",
                              "createdAt": "2022-05-31T06:38:17Z",
                              "closedAt": "2022-06-01T19:43:49Z",
                              "lastComment": "2022-06-01T19:45:00Z",
                              "commentCount": 1
                         },
                         {
                              "title": "Mistype in code example of multipart/form-data payloads",
                              "description": "**Section**: \"_node-fetch comes with a spec-compliant [FormData](https://developer.mozilla.org/en-US/docs/Web/API/FormData) implementations for posting multipart/form-data payloads_\"\r\n```\r\nimport fetch, { FormData, File, fileFrom } from 'node-fetch'\r\n\r\nconst httpbin = 'https://httpbin.org/post'\r\nconst formData = new FormData()\r\nconst binary = new Uint8Array([ 97, 98, 99 ])\r\nconst abc = new File([binary], 'abc.txt'), { type: 'text/plain' })\r\n\r\nformData.set('greeting', 'Hello, world!')\r\nformData.set('file-upload', abc, 'new name.txt')\r\n\r\nconst response = await fetch(httpbin, { method: 'POST', body: formData })\r\nconst data = await response.json()\r\n\r\nconsole.log(data)\r\n```\r\nMistake with extra parenthesis: **`const abc = new File([binary], 'abc.txt'), { type: 'text/plain' })`**\r\nCorrect way: `const abc = new File([binary], 'abc.txt', { type: 'text/plain' })`\r\n",
                              "label": "bug",
                              "createdAt": "2022-05-22T03:14:47Z",
                              "closedAt": "2022-05-27T21:31:17Z",
                              "lastComment": "2022-06-01T19:44:57Z",
                              "commentCount": 2
                         },
                         {
                              "title": "Memory leak nodejs",
                              "description": "Memory leak all over the place",
                              "label": "bug",
                              "createdAt": "2022-05-19T17:06:26Z",
                              "closedAt": "2022-05-19T19:20:33Z",
                              "lastComment": "2022-05-19T19:20:33Z",
                              "commentCount": 1
                         },
                         {
                              "title": "Always warn about `Request.data`, even if it is not used",
                              "description": "<!--- Provide a clear and concise description of what the bug is. -->\r\n\r\n**Reproduction**\r\n\r\nSteps to reproduce the behavior:\r\n\r\n```js\r\n// demo.mjs\r\nconst { Request } = await import('node-fetch')\r\n\r\nconst req = new Request(\r\n  'https://example.com',\r\n  new Request('https://example.com')\r\n)\r\n\r\n// it warns\r\n// (node:37205) [https://github.com/node-fetch/node-fetch/issues/1000 (request)] DeprecationWarning: .data is not a valid RequestInit property, use .body instead\r\n```\r\n\r\n**Expected behavior**\r\n\r\n<!--- If you're suggesting a change/improvement, tell us how it should work -->\r\n<!--- If fetch is behaving incorrectly, please include a link to the spec or documentation that supports that your expected behavior is correct. -->\r\n\r\nWarn nothing.\r\n\r\n**Screenshots**\r\n\r\n<!--- If applicable, add screenshots to help explain your problem. -->\r\n<img width=\"913\" alt=\"image\" src=\"https://user-images.githubusercontent.com/6481596/166701347-27c3c212-6eb2-484f-a1f2-5bc748df3177.png\">\r\n\r\n**Your Environment**\r\n\r\n<!--- Include as many relevant details about the environment you experienced the bug in -->\r\n\r\n| software         | version\r\n| ---------------- | -------\r\n| node-fetch       |`3.2.4`\r\n| node             |`v16.15.0`\r\n| npm              |`8.5.5`\r\n| Operating System |`macOS 12.3.1 (21E258)`\r\n\r\n**Additional context**\r\n\r\n<!--- Add any other context about the problem here. -->\r\n",
                              "label": "bug",
                              "createdAt": "2022-05-04T14:20:40Z",
                              "closedAt": "2022-07-11T22:45:16Z",
                              "lastComment": "2022-07-11T22:46:10Z",
                              "commentCount": 1
                         },
                         {
                              "title": "non-standard HTTP methods are not uppercased by Chrome",
                              "description": "<!--- Provide a clear and concise description of what the bug is. -->\r\n\r\n**Reproduction**\r\n\r\nSteps to reproduce the behavior:\r\nIn the browser (Google Chrome), run this code from the console then look at the request in the Dev Tools Network tab\r\n\r\n```js\r\nfetch('aoeu.jpg', {method: 'weirdMETHOD'})\r\n```\r\n\r\nIt'll show\r\n\r\n```\r\nRequest Method: weirdMETHOD\r\n```\r\n\r\nbut \r\n```\r\nfetch('aoeu.jpg', {method: 'post'})\r\n```\r\n\r\nwill send `POST`.\r\n\r\nBut if you run the same code with `node-fetch`, it'll send `WEIRDMETHOD`\r\n\r\n```js\r\nimport fetch from 'node-fetch';\r\nfetch('http://localhost:8888/', {method: 'weirdMETHOD'});\r\n```\r\n```\r\nnc -kl 8888\r\n```\r\n\r\nwill show\r\n\r\n```\r\nWEIRDMETHOD / HTTP/1.1\r\n```\r\n\r\n**Expected behavior**\r\n\r\n`node-fetch` will behave the same way as Chrome's `fetch()`\r\n\r\n**Your Environment**\r\n\r\n<!--- Include as many relevant details about the environment you experienced the bug in -->\r\n\r\n| software         | version\r\n| ---------------- | -------\r\n| node-fetch       | ^3.2.3\r\n| node             |v16.14.2\r\n| npm              |8.5.3\r\n| Operating System |macOS 12.3.1",
                              "label": "bug",
                              "createdAt": "2022-04-22T05:35:32Z",
                              "closedAt": "2022-04-28T09:33:26Z",
                              "lastComment": "2022-04-28T09:34:23Z",
                              "commentCount": 1
                         },
                         {
                              "title": "require() of ES Module is not supported",
                              "description": "Hi,\r\n\r\nI know v3 only supports ESM. I've read several threads, including the official one pinned at the top of the repo, but I just can't make it work. I use node-fetch from the cli in a frontend project to fetch remote data and update local files (translations).\r\n\r\nThe cli command is:\r\n```json\r\n \"translate\": \"yarn babel-node --root-mode upward --ignore=node_modules tasks/translate\",\r\n```\r\n\r\nMy original version is (works fine with v2.6.0, crashes with v3):\r\n\r\n```js\r\nimport fetch from \"node-fetch\";\r\n\r\nconst saveBundle = async (url, path) => {\r\n  try {\r\n    const response = await fetch(url);\r\n    const buffer = await response.buffer();\r\n    const zip = new AdmZip(buffer);\r\n    zip.extractAllTo(path, true);\r\n  } catch (error) {\r\n    throw new Error(error.message);\r\n  }\r\n};\r\n```\r\n\r\nSo I've tried to use a dynamic import instead (as suggested in your thread):\r\n```js\r\nconst _importDynamic = new Function(\"modulePath\", \"return import(modulePath)\");\r\n\r\nasync function fetch(...args) {\r\n  const { default: fetch } = await _importDynamic(\"node-fetch\");\r\n  return fetch(...args);\r\n}\r\n\r\nconst saveBundle = async (url, path) => {\r\n  try {\r\n    const response = await fetch(url);\r\n    const buffer = await response.buffer();\r\n    const zip = new AdmZip(buffer);\r\n    zip.extractAllTo(path, true);\r\n  } catch (error) {\r\n    throw new Error(error.message);\r\n  }\r\n};\r\n```\r\n\r\nHow to fix this? Thank you!",
                              "label": "bug",
                              "createdAt": "2022-04-12T10:31:58Z",
                              "closedAt": "2022-04-28T11:12:05Z",
                              "lastComment": "",
                              "commentCount": 0
                         },
                         {
                              "title": "FormData not exported in ts definition",
                              "description": "<!--- Provide a clear and concise description of what the bug is. -->\r\n\r\n**Reproduction**\r\n\r\nSteps to reproduce the behavior:\r\n\r\nTry  importing `Formdata` from `node-fetch` in a file and open it in vscode. It will show an error, but run without any issue.\r\n\r\n**Expected behavior**\r\n\r\nNo error should be shown, like `Blob` and `File` being imported from node-fetch. \r\n\r\n**Screenshots**\r\n![image](https://user-images.githubusercontent.com/751732/156812260-8d338f01-1799-44d9-8a43-70fdcba65292.png)\r\n\r\n\r\n**Your Environment**\r\n\r\n<!--- Include as many relevant details about the environment you experienced the bug in -->\r\n\r\n| software         | version\r\n| ---------------- | -------\r\n| node-fetch       | 3.2.1\r\n| node             | 16.14.0\r\n| npm              | 8.3.1\r\n| Operating System | Windows 11\r\n\r\n",
                              "label": "bug",
                              "createdAt": "2022-03-04T17:29:27Z",
                              "closedAt": "2022-03-07T10:56:34Z",
                              "lastComment": "2022-03-07T10:57:16Z",
                              "commentCount": 1
                         },
                         {
                              "title": "Unable to resolve module node:http",
                              "description": "<!--- Provide a clear and concise description of what the bug is. -->\r\n# Description?\r\nI'm working on a ReactNative app, and I was trying to make an HTTP request on an API.\r\nThe implementation in use works fine (I've been using it for a while now).\r\n\r\n![Screen Shot 2022-01-29 at 20 46 47](https://user-images.githubusercontent.com/50319826/151673573-d6dbb1bf-2950-4dd5-aa0a-1cd10caccde4.png)\r\n\r\n\r\nBut with this new version `3.2.0`, when i import the file, I immediately get\r\n`Unable to resolve module node:http` in my the console `cmd`,\r\nand also this suggestion below.\r\n\r\n**If you are sure the module exists, try these steps:**\r\n 1. Clear watchman watches: watchman watch-del-all\r\n 2. Delete node_modules and run yarn install\r\n 3. Reset Metro's cache: yarn start --reset-cache\r\n 4. Remove the cache: rm -rf /tmp/metro-*\r\n\r\n**Reproduction**\r\nSteps to reproduce the behavior:\r\n\r\n1.  yarn add node-fetch\r\n2. run the code above ( image )\r\n\r\n**Expected behavior**\r\n\r\n<!--- If you're suggesting a change/improvement, tell us how it should work -->\r\n<!--- If fetch is behaving incorrectly, please include a link to the spec or documentation that supports that your expected behavior is correct. -->\r\n\r\n**Screenshots**\r\n![Screen Shot 2022-01-29 at 20 51 57](https://user-images.githubusercontent.com/50319826/151673787-1769346c-8a1b-42d7-b8ef-10f0fb7e8e72.png)\r\n\r\n<!--- If applicable, add screenshots to help explain your problem. -->\r\n\r\n**Your Environment**\r\n\r\n<!--- Include as many relevant details about the environment you experienced the bug in -->\r\n\r\n| software         | version\r\n| ---------------- | -------\r\n| node-fetch       | 3.2.0\r\n| node             | 16.13.1\r\n| npm              | 8.1.2\r\n| Operating System | Mac OS X (macOS)\r\n\r\n**Additional context**\r\n\r\n<!--- Add any other context about the problem here. -->\r\n",
                              "label": "bug",
                              "createdAt": "2022-01-29T18:56:13Z",
                              "closedAt": "2022-02-09T21:15:11Z",
                              "lastComment": "2022-02-02T10:24:49Z",
                              "commentCount": 6
                         },
                         {
                              "title": "Apply security patch fix for v2.6",
                              "description": "Version 3.1.1 had a security fix applied:\r\nhttps://github.com/node-fetch/node-fetch/pull/1449\r\n\r\nIn that fix this comment appeared:\r\n\r\n> Should patch v2 also (not many can update to esm)\r\n\r\nWhich is indeed the case for some dependees (https://github.com/apollographql/apollo-server/issues/6065).\r\n\r\nThis issue is specifically to request that the same security issue be patch fixed for `v2.6`.",
                              "label": "bug",
                              "createdAt": "2022-01-29T16:02:45Z",
                              "closedAt": "2022-01-29T16:36:38Z",
                              "lastComment": "2022-01-29T16:36:38Z",
                              "commentCount": 1
                         },
                         {
                              "title": "On fetch method post https, any port different of 443 is ignored",
                              "description": "When calling \"fetch\" with \"post\" method and \"https\", the port will be always 443, even if you try to use a different port.\r\n\r\n**Reproduction**\r\n\r\nSteps to reproduce the behavior:\r\n\r\n1. Run a http**s** server on any port different of 443, example 3000;\r\n2. On nodejs (any version, really) I used v17.3.0;\r\n3. Install node-fetch (using 8.3.2) \"npm i node-fetch\";\r\n4. Run this code:\r\n```js\r\nconst res = await fetch(\"https://yourdomain.com:3000/\", {\r\n  method: \"post\", \r\n  body: '{\"just-test\": \"test\",}'\r\n})\r\nconst body = await res.text()\r\n\r\nconsole.log(body)\r\n```\r\n\r\n**Expected behavior**\r\n\r\nThe connection should be established at the specified port (e.g. 3000).\r\n\r\n**Log**\r\n```\r\nnode_1  | Error at requestAuth() -> FetchError: request to https://mydomain/ failed, reason: connect ECONNREFUSED mydomain:443\r\nnode_1  |     at ClientRequest.<anonymous> (file:///home/node/app/node_modules/node-fetch/src/index.js:95:11)\r\nnode_1  |     at ClientRequest.emit (node:events:390:28)\r\nnode_1  |     at TLSSocket.socketErrorListener (node:_http_client:447:9)\r\nnode_1  |     at TLSSocket.emit (node:events:390:28)\r\nnode_1  |     at emitErrorNT (node:internal/streams/destroy:157:8)\r\nnode_1  |     at emitErrorCloseNT (node:internal/streams/destroy:122:3)\r\nnode_1  |     at processTicksAndRejections (node:internal/process/task_queues:83:21) {\r\nnode_1  |   type: 'system',\r\nnode_1  |   errno: 'ECONNREFUSED',\r\nnode_1  |   code: 'ECONNREFUSED',\r\nnode_1  |   erroredSysCall: 'connect'\r\nnode_1  | }\r\n```\r\n**Your Environment**\r\n\r\n<!--- Include as many relevant details about the environment you experienced the bug in -->\r\n\r\n| software         | version\r\n| ---------------- | -------\r\n| node-fetch       | 3.2.0\r\n| node             | v17.3.0\r\n| npm              | 8.3.2\r\n| Operating System | I use arch, btw\r\n\r\n**Additional Information**\r\n\r\nThis behavior won't happen on \"GET\" method requests. On \"GET\" it works as expected.",
                              "label": "bug",
                              "createdAt": "2022-01-27T12:12:02Z",
                              "closedAt": "2022-01-27T15:30:39Z",
                              "lastComment": "2022-01-27T15:59:56Z",
                              "commentCount": 1
                         },
                         {
                              "title": "Don't check if AbortSignals tag name match EventTarget",
                              "description": "For the v4 milestone: Revert #1001 about checking that if the tag name match EventTarget. \r\n\r\n_Originally posted by @TimothyGu in https://github.com/node-fetch/node-fetch/pull/1001#discussion_r550736382_",
                              "label": "bug",
                              "createdAt": "2022-01-23T00:37:40Z",
                              "closedAt": "2022-01-27T22:49:00Z",
                              "lastComment": "2022-01-27T22:43:09Z",
                              "commentCount": 1
                         },
                         {
                              "title": "Mem leak when keepalive is used",
                              "description": "node-fetch: 3.1.0\r\nnodejs: 17.3.0\r\n\r\nMemory working set is grows and not freed:\r\n```js\r\nimport fetch from \"node-fetch\";\r\nimport http from \"http\";\r\n\r\nconst agent = new http.Agent( {\r\n    \"keepAlive\": true,\r\n    // keepAliveMsecs: 5000,\r\n} );\r\n\r\nvar i = 0;\r\n\r\nwhile ( 1 ) {\r\n\r\n    const res = await fetch(\"http://example.com\", { agent });\r\n    await res.text();\r\n\r\n    console.log( ++i, res.status );\r\n}\r\n```\r\n\r\nFor pure node http everything is ok:\r\n```js\r\nimport http from \"http\";\r\n\r\nconst agent = new http.Agent( {\r\n    \"keepAlive\": true,\r\n    // keepAliveMsecs: 5000,\r\n} );\r\n\r\nvar i = 0;\r\n\r\nwhile ( 1 ) {\r\n    const res = await new Promise( resolve => {\r\n        http.get( \"http://example.com/\", { agent }, res => {\r\n            res.on( \"data\", chunk => {} );\r\n\r\n            res.on( \"end\", () => {\r\n                resolve( { \"status\": res.statusCode } );\r\n            } );\r\n        } );\r\n    } );\r\n\r\n    console.log( ++i, res.status );\r\n}\r\n```",
                              "label": "bug",
                              "createdAt": "2022-01-09T21:25:35Z",
                              "closedAt": "2022-11-13T18:40:42Z",
                              "lastComment": "2022-07-23T01:22:49Z",
                              "commentCount": 7
                         },
                         {
                              "title": "node-fetch version 3.1.0 doesn't work with typescript",
                              "description": "<!--- Provide a clear and concise description of what the bug is. -->\r\n\r\nI am creating new typescript API test project with mocha and node-fetch. while running the tests its showing me  Syntax Error: Cannot use import statement outside a module for import fetch from 'node-fetch'\r\n\r\n**Reproduction**\r\n\r\nSteps to reproduce the behavior:\r\n\r\n1. install mocha, typescript and node-fetch\r\n2. create spec.ts\r\n3. configure in spec file in package.json\r\n4.  run spec file\r\n\r\n**Expected behavior**\r\n I should able to use node-fetch in .ts file.\r\n\r\n**Your Environment**\r\n\r\n\r\n| software         | version\r\n| ---------------- | -------\r\n| node-fetch       | 3.1.0\r\n| node             | v14.17.4\r\n| npm              | 6.14.14\r\n| Operating System | windows 10\r\n\r\n**Additional context**\r\nI saw couple issue on stack overflow regarding this and common solution got is to Add \"type\": \"module\" to your package.json. but unfortunately it doesn't work for me.\r\n",
                              "label": "bug",
                              "createdAt": "2022-01-07T11:53:54Z",
                              "closedAt": "2022-01-07T13:50:47Z",
                              "lastComment": "2022-01-22T18:28:32Z",
                              "commentCount": 3
                         },
                         {
                              "title": "Fetch never resolves on empty response with `deflate`",
                              "description": "```js\r\nconst fetch = require('node-fetch');\r\nconst http = require('http');\r\n\r\nconst server = http.createServer((request, response) => {\r\n        response.setHeader('content-encoding', 'deflate'); // change this to gzip and it works\r\n        response.end();\r\n});\r\n\r\nserver.listen(8080);\r\n\r\n(async () => {\r\n        const response = await fetch('http://localhost:8080');\r\n        const text = await response.text();\r\n\r\n        console.log('Result:', text);\r\n\r\n        server.close();\r\n})();\r\n```\r\n\r\nLooks like you're missing\r\n\r\n```diff\r\n+\t\t\t\tlet hasData = false;\r\n\t\t\t\traw.once('data', chunk => {\r\n+\t\t\t\t\thasData = true;\r\n\t\t\t\t\t// See http://stackoverflow.com/questions/37519828\r\n\t\t\t\t\tbody = (chunk[0] & 0x0F) === 0x08 ? pump(body, zlib.createInflate(), reject) : pump(body, zlib.createInflateRaw(), reject);\r\n\r\n\t\t\t\t\tresponse = new Response(body, responseOptions);\r\n\t\t\t\t\tresolve(response);\r\n\t\t\t\t});\r\n+\r\n+\t\t\t\traw.once('end', () => {\r\n+\t\t\t\t\tif (!hasData) {\r\n+\t\t\t\t\t\tresponse = new Response(body, responseOptions);\r\n+\t\t\t\t\t\tresolve(response);\r\n+\t\t\t\t\t}\r\n+\t\t\t\t});\r\n```\r\n\r\nbefore https://github.com/node-fetch/node-fetch/blob/41f53b9065a00bc73d24215d42aacdcd284b199c/src/index.js#L292",
                              "label": "bug",
                              "createdAt": "2022-01-06T12:51:47Z",
                              "closedAt": "2022-01-16T21:05:47Z",
                              "lastComment": "2022-01-20T20:43:55Z",
                              "commentCount": 4
                         },
                         {
                              "title": "Breaking type annotation in patch release",
                              "description": "<!--- Provide a clear and concise description of what the bug is. -->\r\n\r\nYou released version 2.6.6 which introduces breaking changes. Please revert them. Existing compiling code was broken.\r\n\r\n**Reproduction**\r\n\r\nSteps to reproduce the behavior:\r\n\r\nCompile\r\n```ts\r\n    const { body } = await fetch(url);\r\n    for await (const chunk of body) {}\r\n```\r\nunder 2.6.5 and under 2.6.6.\r\n\r\n**Expected behavior**\r\n\r\nThis library is following semver.\r\n\r\n**Actual behavior**\r\n\r\nThis library is doing breaking changes in patch releases.\r\n\r\n```\r\nerror TS2531: Object is possibly 'null'.\r\n\r\n        for await (const chunk of body) {\r\n                                  ~~~~\r\n```\r\n\r\n<!--- If you're suggesting a change/improvement, tell us how it should work -->\r\n<!--- If fetch is behaving incorrectly, please include a link to the spec or documentation that supports that your expected behavior is correct. -->\r\n\r\n**Your Environment**\r\n\r\n<!--- Include as many relevant details about the environment you experienced the bug in -->\r\n\r\n| software         | version\r\n| ---------------- | -------\r\n| node-fetch       | 2.6.5 and 2.6.6 |\r\n| deno2node | 1.1.0 |\r\n| typescript | 4.5.2 |\r\n| node             | 17.3.0 |\r\n| npm              | 8.3.0 |\r\n| Operating System | Debian 11 |",
                              "label": "bug",
                              "createdAt": "2021-12-23T10:31:47Z",
                              "closedAt": "2021-12-23T12:41:59Z",
                              "lastComment": "2023-01-05T01:36:29Z",
                              "commentCount": 5
                         },
                         {
                              "title": "Error [ERR_REQUIRE_ESM] when working with FormData",
                              "description": "Trying to find a working NodeJs combination for POSTing a `multipart/form-data` , and as mentioned in the docs, I tried a few options including `formdata-polyfill` and ` formdata-node`, and also by using `(await new Response(new URLSearchParams()).formData()).constructor`, In all 3 cases I was unable to run the code, with the following error (or similar):\r\n\r\n```\r\nError [ERR_REQUIRE_ESM]: Must use import to load ES Module: /path/to/../node_modules/node-fetch/src/index.js\r\nrequire() of ES modules is not supported.\r\n```",
                              "label": "bug",
                              "createdAt": "2021-12-14T17:35:51Z",
                              "closedAt": "2021-12-15T22:15:32Z",
                              "lastComment": "2021-12-14T22:40:13Z",
                              "commentCount": 4
                         },
                         {
                              "title": "Error when sending response.body using formdata-node",
                              "description": "Using node-fetch@3.1.0 and formdata-node@4.3.1 I'm trying to send a body as stream and getting an error:\r\n```\r\nnode:internal/buffer:959\r\n    super(bufferOrLength, byteOffset, length);\r\n    ^\r\n\r\nTypeError: Cannot perform Construct on a detached ArrayBuffer\r\n    at new Uint8Array (<anonymous>)\r\n    at new FastBuffer (node:internal/buffer:959:5)\r\n    at Buffer.slice (node:buffer:1120:10)\r\n    at Socket.<anonymous> (file:///home/alexk/code/node_modules/node-fetch/src/index.js:331:35)\r\n```\r\n\r\n**Reproduction**\r\n\r\nSteps to reproduce the behavior:\r\n\r\nRun this code and see the error\r\n```ts\r\nimport { FormData } from 'formdata-node'\r\nimport { createServer } from 'http'\r\nimport fetch from 'node-fetch'\r\n\r\nclass BlobFromStream {\r\n\t#stream\r\n\r\n\tconstructor(stream, size) {\r\n\t\tthis.#stream = stream\r\n\t\tthis.size = size\r\n\t}\r\n\r\n\tstream() {\r\n\t\treturn this.#stream\r\n\t}\r\n\r\n\tget [Symbol.toStringTag]() {\r\n\t\treturn 'Blob'\r\n\t}\r\n}\r\n\r\ncreateServer((req, res) => {\r\n\tres.end(Buffer.alloc(64 * 1024, '_'))\r\n}).listen(3000)\r\n\r\nconst response = await fetch('http://localhost:3000')\r\nconst form = new FormData()\r\n\r\nconst contentLength = Number(response.headers.get('Content-Length'))\r\n\r\nform.append(\r\n\t'file',\r\n\tnew BlobFromStream(response.body, Number(contentLength)),\r\n\t`index.html`,\r\n)\r\n\r\nawait fetch('http://localhost:3000', {\r\n\tmethod: 'POST',\r\n\tbody: form,\r\n})\r\nprocess.exit(0)\r\n```\r\n\r\n**Expected behavior**\r\n\r\nI expect it to work as intended. It works OK, when I use `form-data` package. Am I missing something?\r\n\r\n**Screenshots**\r\n\r\n<!--- If applicable, add screenshots to help explain your problem. -->\r\n\r\n**Your Environment**\r\n\r\n<!--- Include as many relevant details about the environment you experienced the bug in -->\r\n\r\n| software         | version\r\n| ---------------- | -------\r\n| node-fetch       | 3.1.0\r\n| node             | 16.13.1\r\n| npm              | 8.1.2\r\n| Operating System | WSL\r\n\r\n**Additional context**\r\n\r\n<!--- Add any other context about the problem here. -->\r\n",
                              "label": "bug",
                              "createdAt": "2021-12-13T11:45:34Z",
                              "closedAt": "2021-12-13T13:38:16Z",
                              "lastComment": "2021-12-13T21:55:19Z",
                              "commentCount": 7
                         },
                         {
                              "title": "async import('node-fetch') with v3.1.0 breaks in vite build for sveltejs",
                              "description": "<!--- Provide a clear and concise description of what the bug is. -->\r\nBuilding a Svelte Kit app with Vite, and using the latest v3.1.0 of node-fetch, I receive this error:\r\n\r\n```sh\r\n[vite-plugin-svelte] ENOENT: no such file or directory, open 'node:http/package.json'\r\n> ENOENT: no such file or directory, open 'node:http/package.json'\r\nError: ENOENT: no such file or directory, open 'node:http/package.json'\r\n    at Object.openSync (node:fs:585:3)\r\n    at Object.readFileSync (node:fs:453:35)\r\n    at resolveViaPackageJsonSvelte (…vite@2.6.14/node_modules/@sveltejs/vite-plugin-svelte/dist/index.js:1148:39)\r\n```\r\n\r\nI have attempted the async ESM import as suggested in the pinned issue here.  Here is my attempt:\r\n\r\n```typescript\r\n\tconst fetch =\r\n\t\ttypeof window !== 'undefined'\r\n\t\t\t? window.fetch\r\n\t\t\t: await import('node-fetch').then(mod => mod.default);\r\n```\r\n\r\n**Reproduction**\r\n\r\nSteps to reproduce the behavior:\r\n\r\n```sh\r\n# 1. Build a new Svelte Kit app with Vite:\r\nnpm init svelte@next my-app # choose `skeleton app`, then say no to all prompts\r\n# 2. \r\ncd my-app && npm i node-fetch\r\n# 3.\r\ntouch src/routes/api.js && echo \"async function send() {const fetch=await import('node-fetch').then(m => m.default);}\" >> src/routes/api.js\r\n# 4.\r\nnpm run build\r\n```\r\n\r\n**Expected behavior**\r\n\r\n<!--- If you're suggesting a change/improvement, tell us how it should work -->\r\nWhen I revert to 3.0.0, the app builds fine.\r\n<!--- If fetch is behaving incorrectly, please include a link to the spec or documentation that supports that your expected behavior is correct. -->\r\n\r\n**Screenshots**\r\n\r\n<!--- If applicable, add screenshots to help explain your problem. -->\r\n\r\n**Your Environment**\r\n\r\n<!--- Include as many relevant details about the environment you experienced the bug in -->\r\n\r\n```sh\r\nϕ 00:36:32 ⚭ $ npx envinfo --system --binaries --browsers --npmPackages \"{node-fetch,svelte,@sveltejs/*,vite}\"\r\n\r\n  System:\r\n    OS: macOS 12.0.1\r\n    CPU: (8) arm64 Apple M1\r\n    Memory: 107.44 MB / 16.00 GB\r\n    Shell: 3.3.1 - /opt/homebrew/bin/fish\r\n  Binaries:\r\n    Node: 16.13.0 - ~/.nvm/versions/node/v16.13.0/bin/node\r\n    Yarn: 1.22.10 - ~/.asdf/shims/yarn\r\n    npm: 8.1.0 - ~/.nvm/versions/node/v16.13.0/bin/npm\r\n  Browsers:\r\n    Chrome: 96.0.4664.93\r\n    Chrome Canary: 98.0.4751.0\r\n    Firefox: 92.0.1\r\n    Safari: 15.1\r\n  npmPackages:\r\n    @sveltejs/adapter-auto: next => 1.0.0-next.3 \r\n    @sveltejs/kit: next => 1.0.0-next.201 \r\n    node-fetch: ^3.1.0 => 3.1.0 \r\n    svelte: ^3.44.0 => 3.44.2 \r\n```\r\n**Additional context**\r\n\r\n<!--- Add any other context about the problem here. -->\r\n\r\nMany thanks for your labors and attentions!\r\n",
                              "label": "bug",
                              "createdAt": "2021-12-07T08:37:27Z",
                              "closedAt": "2021-12-07T10:03:43Z",
                              "lastComment": "2021-12-09T03:11:58Z",
                              "commentCount": 6
                         },
                         {
                              "title": "ReferenceError: exports is not defined.",
                              "description": "Hello,\r\n\r\nI'm trying to use the .fetch method but it's not working fine for me.\r\n\r\nThis is my tsconfig:\r\n\r\n![image](https://user-images.githubusercontent.com/48953066/144763412-9acc7fd2-0aca-4987-86dc-f39eaf178563.png)\r\n\r\nThis is my server.ts: \r\n\r\n![image](https://user-images.githubusercontent.com/48953066/144763431-706cab6a-a827-4b3b-a585-4ec521282355.png)\r\n\r\nAfter running the server.js this is the error that I'm getting:\r\n![image](https://user-images.githubusercontent.com/48953066/144763450-b97d553e-1337-4aec-bd6f-8207ab9a9e22.png)\r\n\r\nI saw in stackoverflow to resolve this, add \"type\":\"module\" to the package.json but if I do that I have a different error:\r\n\r\n![image](https://user-images.githubusercontent.com/48953066/144763485-1aeeaeb4-da57-4fec-92e9-24854de08036.png)\r\n\r\n\r\nCan someone explain why I'm getting those errors? What should I do to be able to use the fetch? I've been trying to resolve this problem like two days... really annoying...",
                              "label": "bug",
                              "createdAt": "2021-12-05T20:54:13Z",
                              "closedAt": "2021-12-05T21:18:07Z",
                              "lastComment": "2021-12-05T21:19:58Z",
                              "commentCount": 1
                         },
                         {
                              "title": "Does not work with any formData implementations",
                              "description": "I have tried using node-fetch to POST a simple Object JSON to an API without success.\r\n\r\nI started using Node-Fetch together with the npm package \"form-data\". But the response from the API never recognised the value sent through Node-fetch. I have then moved to package \"formdata-polyfill/esm.min.js\" as suggested by Node-fetch documentation, also without success, and finally tested with package \"formdata-node\", that also did not work.\r\n\r\nThe solution was to move away from Node-fetch and use Axios with package \"form-data\", my original choice.\r\n\r\nI have tested appending the JSON to formData in zillions of ways, such as:\r\n```js\r\nformData.append(\"guest[phone_country_code]\",\"55\");\r\n```\r\nOR\r\n```js\r\nconst Guest = {\r\n  phone_country_code: \"55\",\r\n  country_id: null,\r\n};\r\nformData.append(\"Guest\", JSON.stringify(Guest));\r\n```\r\nOR\r\n```js\r\nformData.append(\"guest\", \"{\\\"phone_country_code\\\":55,\\\"country_id\\\":null}\");\r\n```\r\n\r\nI am running a Meteor.js version 2.3 server application with its pre-installed Node-Fetch package.\r\n\r\n",
                              "label": "bug",
                              "createdAt": "2021-12-02T01:29:02Z",
                              "closedAt": "2021-12-03T16:47:54Z",
                              "lastComment": "2021-12-03T16:47:53Z",
                              "commentCount": 2
                         },
                         {
                              "title": "Memory leak in v3.1.0",
                              "description": "node-fetch: 3.1.0\r\n\r\nThis code produces memory leak warning:\r\n```js\r\nimport fetch from \"node-fetch\";\r\nimport { Agent } from \"http\";\r\n\r\nconst agent = new Agent( {\r\n    \"maxSockets\": 1,\r\n} );\r\n\r\nfor ( let n = 0; n < 30; n++ ) {\r\n    fetch( \"http://example.com/\", { agent } ).then( res => console.log( res.status ) );\r\n}\r\n```\r\n```\r\n200\r\n200\r\n(node:3152) MaxListenersExceededWarning: Possible EventEmitter memory leak detected. 11 close listeners added to [Socket]. Use emitter.setMaxListeners() to increase limit\r\n    at _addListener (node:events:465:17)\r\n    at Socket.prependListener (node:events:501:14)\r\n    at ClientRequest.<anonymous> (file:///d:/downloads/111/node_modules/node-fetch/src/index.js:319:10)\r\n    at ClientRequest.emit (node:events:390:28)\r\n    at tickOnSocket (node:_http_client:757:7)\r\n    at onSocketNT (node:_http_client:820:5)\r\n    at processTicksAndRejections (node:internal/process/task_queues:84:21)\r\n200\r\n(node:3152) MaxListenersExceededWarning: Possible EventEmitter memory leak detected. 11 data listeners added to [Socket]. Use emitter.setMaxListeners() to increase limit\r\n    at _addListener (node:events:465:17)\r\n    at Socket.addListener (node:events:487:10)\r\n    at Socket.Readable.on (node:internal/streams/readable:899:35)\r\n    at ClientRequest.<anonymous> (file:///d:/downloads/111/node_modules/node-fetch/src/index.js:325:10)\r\n    at ClientRequest.emit (node:events:390:28)\r\n    at tickOnSocket (node:_http_client:757:7)\r\n    at onSocketNT (node:_http_client:820:5)\r\n    at processTicksAndRejections (node:internal/process/task_queues:84:21)\r\n200\r\n200\r\n200\r\n200\r\n200\r\n200\r\n200\r\n```",
                              "label": "bug",
                              "createdAt": "2021-11-26T14:19:11Z",
                              "closedAt": "2022-11-13T18:40:20Z",
                              "lastComment": "2022-01-24T00:22:59Z",
                              "commentCount": 5
                         },
                         {
                              "title": "node-fetch ver 3.1.0 don't work inside ts file",
                              "description": "<!--- Provide a clear and concise description of what the bug is. -->\r\nnode-fetch ver 3.1.0 don't work inside ts file\r\n\r\n\r\n\r\n**Reproduction**\r\nSteps to reproduce the behavior:\r\n\r\npackage.json :\r\n```\r\n{\r\n  \"name\": \"node-typescript-v1\",\r\n  \"scripts\": {\r\n    \"start\": \"nodemon --exec 'ts-node' src/index.ts localhost 8080\"\r\n  },\r\n  \"dependencies\": {\r\n    \"@types/node\": \"16.11.10\",\r\n    \"node-fetch\": \"3.1.0\",\r\n    \"ts-node\": \"10.4.0\",\r\n    \"typescript\": \"4.5.2\"\r\n  },\r\n  \"devDependencies\": {\r\n    \"nodemon\": \"1.18.4\"\r\n  },\r\n  \"keywords\": []\r\n}\r\n```\r\n\r\ntsconfig:\r\n```\r\n{\r\n  \"compilerOptions\": {\r\n    \"outDir\": \"./dist\",\r\n    \"allowJs\": true,\r\n    \"lib\": [\"esnext\"],\r\n    \"target\": \"es5\"\r\n  },\r\n  \"include\": [\"./src/**/*\"],\r\n  \"exclude\": [\"node_modules\", \"__tests__\"]\r\n}\r\n```\r\n\r\nindex.ts\r\n```\r\nimport fetch from \"node-fetch\";\r\nasync function test() {\r\n  const response = await fetch(\"https://api.github.com/users/github\");\r\n  const data = await response.json();\r\n  console.log(data);\r\n}\r\n(async ()=>{await test();})();\r\n```\r\n\r\nResult:\r\n```\r\nError [ERR_REQUIRE_ESM]: Must use import to load ES Module: /sandbox/node_modules/node-fetch/src/index.js\r\n```\r\n\r\n**Expected behavior**\r\nwrite result to console\r\n\r\n<!--- If you're suggesting a change/improvement, tell us how it should work -->\r\n<!--- If fetch is behaving incorrectly, please include a link to the spec or documentation that supports that your expected behavior is correct. -->\r\n\r\n**Screenshots**\r\n\r\n<!--- If applicable, add screenshots to help explain your problem. -->\r\n\r\n**Your Environment**\r\n\r\n<!--- Include as many relevant details about the environment you experienced the bug in -->\r\n\r\n| software         | version\r\n| ---------------- | -------\r\n| node-fetch       |\r\n| node             | 14\r\n| npm              | 6\r\ntypescript ver 4.5.2\r\n| Operating System |\r\n\r\n**Additional context**\r\n\r\n<!--- Add any other context about the problem here. -->\r\n",
                              "label": "bug",
                              "createdAt": "2021-11-24T15:03:47Z",
                              "closedAt": "2021-12-01T12:57:34Z",
                              "lastComment": "2022-08-02T21:01:28Z",
                              "commentCount": 4
                         },
                         {
                              "title": "Upgrading 3.0.0 to 3.1.0 is a breaking change, major not minor update.",
                              "description": "Just for your information when upgrading to 3.1.0 from 3.0.0 I got a breaking change in my build system, hence yous should of bumped it to 4.0.0.\r\n\r\nv.3.0.0\r\n**working**\r\n\r\nv3.1.0\r\n```\r\n    Cannot find module 'node:http' from 'index.js'\r\n\r\n    Require stack:\r\n      node_modules/node-fetch/src/index.js\r\n      test/contract/consumer-test.js\r\n\r\n      at Resolver.resolveModule (node_modules/jest-resolve/build/index.js:299:11)\r\n      at Object.<anonymous> (node_modules/node-fetch/src/index.js:9:1)\r\n```\r\n\r\nAs you can see from the stacktrace, we are importing node-fetch into a test in the jest framework (jest version 25.1.0).",
                              "label": "bug",
                              "createdAt": "2021-11-18T12:52:00Z",
                              "closedAt": "2021-11-18T13:05:03Z",
                              "lastComment": "2021-11-18T14:10:27Z",
                              "commentCount": 4
                         },
                         {
                              "title": "Uncatchable error when server redirects to invalid URL",
                              "description": "<!--- Provide a clear and concise description of what the bug is. -->\r\n\r\n**Reproduction**\r\n\r\nSteps to reproduce the behavior:\r\n\r\n1. Request to a valid URL to which the server responds with an invalid Location header\r\n2. Server crashes despite `await fetch()` being wrapped in `try { } / catch () { }`\r\n\r\n```\r\nUncaught TypeError [ERR_INVALID_URL]: Invalid URL: //super:invalid:url%/\r\n      at onParseError (internal/url.js:279:9)\r\n      at new URL (internal/url.js:355:5)\r\n      at ClientRequest.<anonymous> (file:///home/tasinet/code/node-fetch/src/index.js:133:52)\r\n      at HTTPParser.parserOnIncomingClient [as onIncoming] (_http_client.js:647:27)\r\n      at HTTPParser.parserOnHeadersComplete (_http_common.js:126:17)\r\n      at Socket.socketOnData (_http_client.js:515:22)\r\n      at addChunk (internal/streams/readable.js:290:12)\r\n      at readableAddChunk (internal/streams/readable.js:265:9)\r\n      at Socket.Readable.push (internal/streams/readable.js:204:10)\r\n      at TCP.onStreamRead (internal/stream_base_commons.js:188:23)\r\n```\r\n\r\nAn example URL with this behaviour is `http://vardakeio.gr`:\r\n```\r\ncurl -v http://vardakeio.gr 2>&1 | grep Location\r\n< Location: https://vardakeio.gr%/\r\n```\r\n\r\n**Expected behavior**\r\n\r\nInvalid URL should be caught and an appropriate error returned\r\n\r\n**Your Environment**\r\n\r\n<!--- Include as many relevant details about the environment you experienced the bug in -->\r\n\r\n| software         | version\r\n| ---------------- | -------\r\n| node-fetch       | 3.1.0\r\n| node             | 14.17.6\r\n| npm              | 6.14.15\r\n| Operating System | Ubuntu 20.04.2 LTS\r\n\r\n**Additional context**\r\n\r\nThis is because the location header is passed to `new URL()` without a try/catch block around it:\r\n\r\nindex.js:133\r\n```\r\n// HTTP fetch step 5.3\r\nconst locationURL = location === null ? null : new URL(location, request.url);\r\n```\r\n\r\nRaising a PR to address this.",
                              "label": "bug",
                              "createdAt": "2021-11-18T05:49:00Z",
                              "closedAt": "2021-11-26T10:19:25Z",
                              "lastComment": "",
                              "commentCount": 0
                         },
                         {
                              "title": "Empty query params in hapi framework",
                              "description": "**Issue**\r\nWhen I make a GET request to hapi.js based server like `http://localhost:8000?ekstern_id=astrinfsds&name=elo`, `request.query` in handler function is empty `{}` \r\n\r\nIn my code snippet, I included test functions for request-promise-native(deprecated), Axios, curl calls - that works - query params are present - same as when doing request from the browser.\r\n\r\n**Reproduction**\r\n\r\nSteps to reproduce the behavior:\r\n\r\n1.  npm i @hapi/hapi@18.4.1 node-fetch@2.6.6 request-promise-native axios\r\n2.  run server \r\n```js\r\nconst Hapi = require('@hapi/hapi');// @hapi/hapi@18.4.1 but even @latest\r\n\r\nconst init = async () => {\r\n\r\n  const server = Hapi.server({\r\n    port: 8000,\r\n  });\r\n\r\n  server.route({\r\n    method: 'GET',\r\n    path: '/',\r\n    handler: function (request, h) {\r\n\r\n      console.log(request.query, request.payload);\r\n      return [];\r\n    }\r\n  });\r\n  await server.start();\r\n  console.info('Server started on ' + server.info.uri + '.');\r\n}\r\n\r\nprocess.on('unhandledRejection', (err) => {\r\n  console.error(err.message, err);\r\n  process.exit(1);\r\n});\r\n\r\ninit();\r\n```\r\n3.  Run test functions and see what is logged by the route handler function\r\n```js\r\nconst fetch = require('node-fetch'); // node-fetch@2.6.6\r\nconst url = 'http://localhost:8000?ekstern_id=astrinfsds&name=elo';\r\nasync function getData() {\r\n\r\n  const response = await fetch(url);\r\n  const users = await response.json();\r\n  console.log(users, users.length);\r\n}\r\n\r\nconst request = require('request-promise-native');\r\nasync function getData2() {\r\n  const response = await request(url, {\r\n    method: 'GET',\r\n    json: true,\r\n    body: undefined,\r\n    headers: {\r\n      Accept: 'application/json'\r\n    },\r\n    resolveWithFullResponse: true,\r\n  });\r\n  console.log(response.body)\r\n}\r\nconst axios = require('axios');\r\nasync function getDataAxios() {\r\n  const response = await axios.get(url);\r\n  console.log(response)\r\n}\r\n\r\n//curl -H \"Content-Type: application/json\" -X GET \"http://localhost:8000?ekstern_id=astrinfsds&name=elo\"\r\n\r\n``` \r\n\r\n**Expected behavior**\r\n\r\nrequest.query in hapi handler is not empty\r\n\r\n**Your Environment**\r\n\r\n<!--- Include as many relevant details about the environment you experienced the bug in -->\r\n\r\n| software         | version\r\n| ---------------- | -------\r\n| node-fetch       | 2.6.6\r\n| node             |  14.18.1 locally, but also 10.17 on production\r\n| npm              | 8.1.2 \r\n| @hapi/hapi | 18.4.1 but also @latest\r\n| Operating System | ubuntu locally, but also alpine based image on prod\r\n\r\n**Additional context**\r\nI'm using custom module to sign requests between backend servers - and this library is using node-fetch, therefore I very much need it to support query params - since I'm not able to replace nor update framework and service that is using it ",
                              "label": "bug",
                              "createdAt": "2021-11-15T14:01:04Z",
                              "closedAt": "2021-11-18T10:15:14Z",
                              "lastComment": "2021-11-17T08:00:57Z",
                              "commentCount": 1
                         },
                         {
                              "title": "Typo in `formdata-polyfill` code in `README.md`.",
                              "description": "There is a typo in the 2nd code block of the [Post data using a file](https://github.com/node-fetch/node-fetch#post-data-using-a-file) section in the `README.md` file.\r\n\r\nMistake: `import {FormData} from 'formdata-polyfill/esm-min.js';`\r\nCorrection: `import {FormData} from 'formdata-polyfill/esm.min.js';`\r\n\r\n**Screenshot**\r\nMistake 👇 \r\n![image](https://user-images.githubusercontent.com/50140864/141368602-b2241605-78ff-4a58-92f3-577a6fbb14b9.png)\r\n",
                              "label": "bug",
                              "createdAt": "2021-11-11T21:08:43Z",
                              "closedAt": "2021-11-12T11:31:30Z",
                              "lastComment": "2021-11-12T05:41:21Z",
                              "commentCount": 2
                         },
                         {
                              "title": "Regression in node-fetch@3.1.0 + Electron renderer process. \"TypeError: The \"listener\" argument must be of type function\"",
                              "description": "<!--- Provide a clear and concise description of what the bug is. -->\r\n\r\n**Reproduction**\r\n\r\nSteps to reproduce the behavior:\r\n\r\n1. Use node-fetch@3.1 in Electron renderer process.\r\n\r\nI've created a sample project: https://github.com/babatakao/node-fetch-3-electron-test . With this sample,\r\n\r\n1. Clone the project.\r\n2. `npm ci`\r\n3. `npm run build`\r\n4. `npm start`\r\n\r\nNote that the project uses webpack since `node:` prefix of esm import, used by node-fetch, is not supported by Electron renderer.\r\n\r\n**Expected behavior**\r\n\r\n`done` alert is shown.\r\n\r\n**Actual behavior**\r\n\r\n![image](https://user-images.githubusercontent.com/277476/141312954-6ae09210-e27b-4d16-995a-334d9c87696f.png)\r\n\r\n```\r\nTypeError: The \"listener\" argument must be of type function. Received an instance of Object\r\n    at __node_internal_captureLargerStackTrace (node:internal/errors:463)\r\n    at new NodeError (node:internal/errors:370)\r\n    at __node_internal_ (node:internal/validators:229)\r\n    at checkListener (node:events:131)\r\n    at ClientRequest.once (node:events:533)\r\n    at new ClientRequest (node:_http_client:209)\r\n    at request (node:http:96)\r\n    at renderer.js:111\r\n    at new Promise (<anonymous>)\r\n    at fetch (renderer.js:66)\r\n    at renderer.js:7025\r\n    at renderer.js:7030\r\n    at renderer.js:7032\r\n```\r\n\r\n<!--- If applicable, add screenshots to help explain your problem. -->\r\n\r\n**Your Environment**\r\n\r\n<!--- Include as many relevant details about the environment you experienced the bug in -->\r\n\r\n| software         | version\r\n| ---------------- | -------\r\n| node-fetch       | 3.1.0 |\r\n| node             | 16.13.0 (Electron 15 uses Node 16.5) |\r\n| npm              | 7.20.6 |\r\n| Operating System | Windows 10 x64 |\r\n\r\n**Additional context**\r\n\r\n<!--- Add any other context about the problem here. -->\r\n\r\nThe issue does not occur on node-fetch@3.0.0. Thus it seems a recent regression.\r\n\r\nI've found the root cause. At [here](https://github.com/node-fetch/node-fetch/blob/v3.1.0/src/request.js#L51), `new URL` constructor references [NodeJS URL](https://nodejs.org/api/url.html) in most cases. However, it references [Chromium renderer native URL](https://developer.mozilla.org/en-US/docs/Web/API/URL/URL) in the Electron renderer process. This causes type mismatch: NodeJS http library checks that whether the URL has `searchParamsSymbol` or not at https://github.com/nodejs/node/blob/v16.13.0/lib/_http_client.js#L117.\r\n\r\nI suspect that [this](https://github.com/node-fetch/node-fetch/blob/v3.1.0/src/request.js#L10) should be `import {URL, format as formatUrl} from 'node:url';` 🤔 ",
                              "label": "bug",
                              "createdAt": "2021-11-11T14:34:20Z",
                              "closedAt": "2021-11-12T11:37:51Z",
                              "lastComment": "2021-11-11T16:19:32Z",
                              "commentCount": 2
                         },
                         {
                              "title": "Are there plans to upgrade Fetch Blob to version 3.1.3？",
                              "description": "There was a \"stream/web is an experimental feature\" warning in my repo fetch-blob@3.1.3 solved this problem fortunately.\r\nSo, are there plans to upgrade Fetch Blob to version 3.1.3？Appreciate!\r\n",
                              "label": "bug",
                              "createdAt": "2021-11-10T13:42:37Z",
                              "closedAt": "2021-11-10T15:46:19Z",
                              "lastComment": "2022-01-14T18:49:42Z",
                              "commentCount": 3
                         },
                         {
                              "title": "Cannot find module 'node:http` on AWS Lambda v14",
                              "description": "Upgrade from version `3.0` to `3.1` produces a `Runtime.ImportModuleError: Error: Cannot find module 'node:http` on AWS Lambda runtime.\r\n\r\n**Screenshots**\r\n\r\n<img width=\"1212\" alt=\"Screenshot 2021-11-09 at 07 32 57\" src=\"https://user-images.githubusercontent.com/3697104/140881402-d4d6e3a1-a9b6-4a22-9a63-796a3f080bbd.png\">\r\n\r\n\r\n**Your Environment**\r\n\r\n<!--- Include as many relevant details about the environment you experienced the bug in -->\r\n\r\n| software         | version\r\n| ---------------- | -------\r\n| node-fetch       |3.1\r\n| node             |14\r\n\r\n**Additional context**\r\n\r\n\r\nLooks like `node:` prefix for imports added as part of https://github.com/node-fetch/node-fetch/pull/1346 causes this issue. I am happy to submit MR with a revert of this one, but I need to understand the reason why this prefix has been added here on the first place. Can you suport me on this one please @dnalborczyk ?",
                              "label": "bug",
                              "createdAt": "2021-11-09T07:40:15Z",
                              "closedAt": "2021-12-02T10:59:01Z",
                              "lastComment": "2022-01-28T15:43:29Z",
                              "commentCount": 34
                         },
                         {
                              "title": "It just doesn't work",
                              "description": "<!--- Provide a clear and concise description of what the bug is. -->\r\nTrying to make your lib work, but have a couple of problems\r\nProblem one:\r\ninternal/modules/cjs/loader.js:1102\r\n      throw new ERR_REQUIRE_ESM(filename, parentPath, packageJsonPath);\r\n      ^\r\n\r\nError [ERR_REQUIRE_ESM]: Must use import to load ES Module: D:\\CODE\\node_modules\\node-fetch\\src\\index.js\r\nrequire() of ES modules is not supported.\r\nrequire() of D:\\CODE\\node_modules\\node-fetch\\src\\index.js from D:\\CODE\\dist\\index.js is an ES module file as it is a .js file whose nearest parent package.json contains \"type\": \"module\" which defines all .js files in that package scope as ES modules.\r\nInstead rename D:\\CODE\\node_modules\\node-fetch\\src\\index.js to end in .cjs, change the requiring code to use import(), or remove \"type\": \"module\" from D:\\CODE\\node_modules\\node-fetch\\package.json.\r\n\r\n\r\nAt the end of the log it has some instructions, I followed it but it has another error:\r\n```\r\nTypeError: (0 , node_fetch_1.default) is not a function\r\n    at D:\\CODE\\dist\\index.js:30:34\r\n    at Layer.handle [as handle_request] (D:\\CODE\\node_modules\\express\\lib\\router\\layer.js:95:5)\r\n    at next (D:\\CODE\\node_modules\\express\\lib\\router\\route.js:137:13)\r\n    at Route.dispatch (D:\\CODE\\node_modules\\express\\lib\\router\\route.js:112:3)\r\n    at Layer.handle [as handle_request] (D:\\CODE\\node_modules\\express\\lib\\router\\layer.js:95:5)\r\n    at D:\\CODE\\node_modules\\express\\lib\\router\\index.js:281:22\r\n    at Function.process_params (D:\\CODE\\node_modules\\express\\lib\\router\\index.js:335:12)\r\n    at next (D:\\CODE\\node_modules\\express\\lib\\router\\index.js:275:10)\r\n    at D:\\CODE\\dist\\index.js:27:9\r\n    at Layer.handle [as handle_request] (D:\\CODE\\node_modules\\express\\lib\\router\\layer.js:95:5)\r\n    at trim_prefix (D:\\CODE\\node_modules\\express\\lib\\router\\index.js:317:13)\r\n    at D:\\CODE\\node_modules\\express\\lib\\router\\index.js:284:7\r\n    at Function.process_params (D:\\CODE\\node_modules\\express\\lib\\router\\index.js:335:12)\r\n    at next (D:\\CODE\\node_modules\\express\\lib\\router\\index.js:275:10)\r\n    at D:\\CODE\\node_modules\\express\\lib\\router\\index.js:635:15\r\n    at next (D:\\CODE\\node_modules\\express\\lib\\router\\index.js:260:14)\r\n```\r\n\r\n**Reproduction**\r\nJust trying to fetch with your lib, doesn't work. You might be interested to hear that I use TS, and I have something called tsc - watch that converts TS code to JS, this might have something to do with the problems above.\r\n\r\n**Expected behavior**\r\nIt should work.\r\n\r\nHope you can fix this soon.\r\n",
                              "label": "bug",
                              "createdAt": "2021-11-03T07:49:34Z",
                              "closedAt": "2021-11-03T08:04:49Z",
                              "lastComment": "2021-11-04T16:37:50Z",
                              "commentCount": 20
                         },
                         {
                              "title": "TypeError: Invalid URL",
                              "description": "<!--- Provide a clear and concise description of what the bug is. -->\r\n\r\n**Reproduction**\r\n\r\nSteps to reproduce the behavior:\r\n\r\n1.  use node-fetch to request url https://r2---sn-n4v7sney.googlevideo.com\r\n2. throw error: `TypeError: Invalid URL`\r\n\r\nYou can try to reproduce the issue by running the code below\r\n\r\n```JavaScript\r\nconst fetch = require('node-fetch')\r\n\r\nasync function getAudio() {\r\n    const ret = await fetch('https://r2---sn-n4v7sney.googlevideo.com')\r\n    const text = await ret.text()\r\n    return text\r\n}\r\n\r\ngetAudio().catch(e => console.error(e))\r\n```\r\n\r\n\r\n**Expected behavior**\r\n\r\nhttps://r2---sn-n4v7sney.googlevideo.com is a valid url\r\n\r\n<!--- If you're suggesting a change/improvement, tell us how it should work -->\r\n<!--- If fetch is behaving incorrectly, please include a link to the spec or documentation that supports that your expected behavior is correct. -->\r\n\r\n**Screenshots**\r\n\r\n![temp](https://user-images.githubusercontent.com/19632522/138259790-b7367280-396d-4dc2-ad6f-9bc5b1606f65.png)\r\n<!--- If applicable, add screenshots to help explain your problem. -->\r\n\r\n**Your Environment**\r\n\r\n<!--- Include as many relevant details about the environment you experienced the bug in -->\r\n\r\n| software         | version\r\n| ---------------- | -------\r\n| node-fetch       |  2.6.5 \r\n| node             |  v14.18.1 \r\n| npm              |  6.14.15\r\n| Operating System | Windows 10\r\n\r\n**Additional context**\r\n\r\n<!--- Add any other context about the problem here. -->\r\n\r\n",
                              "label": "bug",
                              "createdAt": "2021-10-21T10:30:01Z",
                              "closedAt": "2021-11-03T08:12:44Z",
                              "lastComment": "2021-11-03T02:26:25Z",
                              "commentCount": 3
                         },
                         {
                              "title": "I found that on Firefox / Firefox mobile / Chrome that when I use an anchor link, sometimes it loads it at the bottom of the page instead of the top.",
                              "description": "I found that on Firefox / Firefox mobile / Chrome that when I use an anchor link, sometimes it loads it at the bottom of the page instead of the top.\r\n\r\n```\r\n--------------\r\n| #anchor    |   <-- expected position after page load\r\n|            |\r\n|            |\r\n|            |\r\n|            |\r\n--------------\r\n```\r\n\r\n```\r\n--------------\r\n|            |\r\n|            |\r\n|            |\r\n|            |\r\n| #anchor    |   <-- the anchor appears at the bottom instead\r\n--------------\r\n```\r\n\r\nI believe I've narrowed this down to the following css:\r\n\r\n```css\r\n        scroll-behavior: smooth;\r\n```\r\n\r\nIf I remove this scroll-behavior then the issue disappears but my app requires smooth scroll so I don't disorientate the user when jumping between paragraphs.\r\n\r\nMy pages are long articles with anchors for each paragraph and they are numbered starting at anchor#1 up to anchor#40 for example.\r\n\r\nIf I am at anchor#3 and click on a higher number like anchor#15 it'll scroll down and put that anchor at the bottom of the page... so it must be scrolling until the anchor is in-screen but not to the top of the viewport.\r\n\r\nIf I am at anchor anchor#35 for example, and click a lower number like anchor#4 then it looks like it scrolls up the page and puts the anchor at the top of the page because it's higher up. This must be because the anchor only appears into view at the top of the page and then it stops. This bug happens when you load new pages, but not when jumping between paragraphs on the same page.\r\n\r\nSo I only found the problem going from lower numbers like anchor#3 to a higher one like anchor#15 where the next link has a much higher `Y` position on the new page. As soon as the anchor appears at the bottom of the page it must stop the scroll calculation and leave the anchor at the bottom instead of the top of viewport.\n\n__Originally posted by @tao in https://github.com/hotwired/turbo/issues/400__",
                              "label": "unlabeledBug",
                              "createdAt": "2021-10-16T00:13:37Z",
                              "closedAt": "2021-10-16T00:14:05Z",
                              "lastComment": "",
                              "commentCount": 0
                         },
                         {
                              "title": "follow = 0 not working (FetchError: maximum redirect reached at: http://localhost:4444/)",
                              "description": "**Reproduction**\r\n\r\nSteps to reproduce the behavior:\r\n\r\n1. set follow to 0\r\n2. call a 301 page\r\n3. fetch error is thrown wiht maximum redirect reacher at\r\n\r\n**Expected behavior**\r\n\r\nno redirect should occur at all, like it is stated in the documentation, output should just return\r\n\r\n**Your Environment**\r\n\r\n<!--- Include as many relevant details about the environment you experienced the bug in -->\r\n\r\n| software         | version\r\n| ---------------- | -------\r\n| node-fetch       | 2.6.5\r\n| node             | v16.10.0\r\n| npm              | 7.24.1\r\n| Operating System | linux\r\n\r\n",
                              "label": "bug",
                              "createdAt": "2021-10-10T16:17:15Z",
                              "closedAt": "2022-01-16T22:35:49Z",
                              "lastComment": "2021-10-10T18:30:42Z",
                              "commentCount": 1
                         },
                         {
                              "title": "Certificate has expired",
                              "description": "I am using an old version of node, v8.7 since my application won't work with anything above.\r\nIt recently started happening, where I started to get this weird error, \r\n\r\n![Screenshot from 2021-10-09 14-30-54](https://user-images.githubusercontent.com/43424528/136652836-3d165bb6-b88d-4c5b-8988-dba0dd0b5057.png)\r\n\r\nIt clearly arises, from node-fetch \r\nI do have a fresh certificate installed using certbot \r\n\r\nI studied this issue a little bit, and I happen to know why it started appearing\r\nhttps://letsencrypt.org/docs/dst-root-ca-x3-expiration-september-2021/\r\n\r\nI don't know how to fix it. if anyone has a solution\r\n",
                              "label": "bug",
                              "createdAt": "2021-10-09T09:35:32Z",
                              "closedAt": "2021-10-11T17:35:57Z",
                              "lastComment": "2021-10-12T02:42:56Z",
                              "commentCount": 4
                         },
                         {
                              "title": "Basic user@pass is dropped (worked  in 2.6.1)",
                              "description": "I didn't see it mentioned in the upgrade guide\r\n\r\n**Reproduction**\r\n\r\nSteps to reproduce the behavior:\r\n\r\n1. Create an url that contains a user and password\r\n2. use fetch\r\n3. look at what was sent\r\n4. (Basic http header is missing)\r\n\r\n```js\r\nimport fetch from \"node-fetch\";\r\n\r\nif (!globalThis.fetch) {\r\n    globalThis.fetch = fetch;\r\n}\r\n\r\n\r\nconst baseUrl = `https://XXX:YYY@letz.social/echo-test/zzz`;\r\n\r\nfetch(baseUrl, {\r\n    headers: {\r\n        Accept: `application/json`,\r\n    },\r\n}).then(response => {\r\n    if(!response.ok) {\r\n        throw response.statusText;\r\n    }\r\n    return response.text();\r\n}).then(text => {\r\n    console.log(text);\r\n});\r\n```\r\n**Observed behavior (3.0.0)**\r\n\r\n```\r\nnode test.js\r\n/echo-test/zzz    Method: GET\r\n\r\n    Headers:\r\n\r\nHost: letz.social\r\nConnection: close\r\naccept: application/json\r\naccept-encoding: gzip,deflate,br\r\nuser-agent: node-fetch\r\n\r\n    Body:\r\n```\r\n**Expected behavior (2.6.5)**\r\n\r\n```\r\nnode test.js      \r\n/echo-test/zzz    Method: GET\r\n\r\n    Headers:\r\n\r\nHost: letz.social\r\nConnection: close\r\nAccept: application/json\r\nUser-Agent: node-fetch/1.0 (+https://github.com/bitinn/node-fetch)\r\nAccept-Encoding: gzip,deflate\r\nAuthorization: Basic WFhYOllZWQ==\r\n\r\n    Body:\r\n\r\n\r\n```\r\n\r\n<!--- If you're suggesting a change/improvement, tell us how it should work -->\r\n<!--- If fetch is behaving incorrectly, please include a link to the spec or documentation that supports that your expected behavior is correct. -->\r\n\r\n**Screenshots**\r\n\r\n<!--- If applicable, add screenshots to help explain your problem. -->\r\n\r\n**Your Environment**\r\n\r\n<!--- Include as many relevant details about the environment you experienced the bug in -->\r\n\r\n| software         | version\r\n| ---------------- | -------\r\n| node-fetch       | 3.0.0\r\n| node             | 16\r\n| npm              |\r\n| Operating System |\r\n\r\n**Additional context**\r\n\r\nhttps://letz.social/echo-test/xyz is a simple  echo http server \r\nhttps://github.com/GrosSacASac/echo-http-node\r\n",
                              "label": "bug",
                              "createdAt": "2021-10-07T07:27:12Z",
                              "closedAt": "2021-10-28T20:14:24Z",
                              "lastComment": "2021-10-07T07:32:28Z",
                              "commentCount": 1
                         },
                         {
                              "title": "Keep on par with 2.x tags, releases and npm uploads (2.6.4, 2.6.5 only on npm)",
                              "description": "## Description\r\nPlease take care of adding tags, create github releases and npm uploads\r\n\r\nAt the moment v2.6.4 and v2.6.5 are not tagged, are not listed in the releases list but already got an upload at npm.\r\n\r\nBecause of that, githubs dependabot creates PRs to upgrade from 2.6.3 to 2.6.4 or 2.6.4 to 2.6.5 but cannot clearly distinguish the related commits or changelog history (it always refers to latest commits for 3.0 instead which makes merge decisions on our side difficult, if i cannot figure out what really has changed)\r\n",
                              "label": "bug",
                              "createdAt": "2021-09-23T06:28:10Z",
                              "closedAt": "2022-01-16T22:45:38Z",
                              "lastComment": "2022-01-17T12:12:05Z",
                              "commentCount": 2
                         },
                         {
                              "title": "Response.body is not a ReadableStream when constructed from a string or buffer.",
                              "description": "`Response.body` should always be a `ReadableStream`, however, when a `Response` is constructed from something else, like a string or a `Buffer`, a `Buffer is used.\r\n\r\n**Reproduction**\r\n\r\nSteps to reproduce the behavior:\r\n\r\nUsing the REPL:\r\n```\r\n> var {Response} = require('node-fetch')\r\nundefined\r\n> var r = new Response('asdf');\r\nundefined\r\n> r.body\r\n<Buffer 61 73 64 66>\r\n```\r\n\r\n**Expected behavior**\r\n\r\nThe spec says that the body is of type `ReadableStream`: https://fetch.spec.whatwg.org/#concept-body\r\n\r\nSo, I'd expect to receive a `ReadableStream` as the body, instead of a `Buffer`. \r\n\r\nWhen I try this same snippet of code in a browser, I get the following:\r\n```\r\n> var r = new Response('asdf')\r\nundefined\r\n> r.body\r\nReadableStream { locked: false }\r\n```\r\n\r\n**Your Environment**\r\n\r\n<!--- Include as many relevant details about the environment you experienced the bug in -->\r\n\r\n| software         | version\r\n| ---------------- | -------\r\n| node-fetch       |  2.6.2\r\n| node             | 12.20.1\r\n| npm              |  6.14.10\r\n| Operating System | MacOS 11.6\r\n\r\n**Additional context**\r\n\r\nThis is particularly problematic when I'm trying to test my code using fetch-mock, as the default behavior results in Buffers everywhere.\r\n",
                              "label": "bug",
                              "createdAt": "2021-09-22T18:14:38Z",
                              "closedAt": "2021-09-29T15:53:23Z",
                              "lastComment": "2021-09-29T15:53:08Z",
                              "commentCount": 3
                         },
                         {
                              "title": "node-fetch@2.6.4 build error in webpack@4, node-fetch@2.6.2 works fine",
                              "description": "<!--- Provide a clear and concise description of what the bug is. -->\r\n\r\n**Reproduction**\r\n- https://unpkg.alipay.com/browse/node-fetch@2.6.4/lib/index.mjs\r\n-  `import { URL } from 'whatwg-url';`  （es module）\r\n-  https://unpkg.alipay.com/browse/whatwg-url@5.0.0/lib/public-api.js  (commonjs, no default export)\r\n-  `ModuleDependencyError: Can't import the named export 'URL' from non EcmaScript module (only default export is available)`\r\n\r\n\r\n**Expected behavior**\r\n\r\n<!--- If you're suggesting a change/improvement, tell us how it should work -->\r\n<!--- If fetch is behaving incorrectly, please include a link to the spec or documentation that supports that your expected behavior is correct. -->\r\n\r\n**Screenshots**\r\n\r\n<!--- If applicable, add screenshots to help explain your problem. -->\r\n\r\n**Your Environment**\r\n\r\n<!--- Include as many relevant details about the environment you experienced the bug in -->\r\n\r\n| software         | version\r\n| ---------------- | -------\r\n| node-fetch       |\r\n| node             |\r\n| npm              |\r\n| Operating System |\r\n\r\n**Additional context**\r\n\r\n<!--- Add any other context about the problem here. -->\r\n",
                              "label": "bug",
                              "createdAt": "2021-09-22T03:52:17Z",
                              "closedAt": "2021-09-22T12:57:27Z",
                              "lastComment": "2021-09-22T12:57:27Z",
                              "commentCount": 1
                         },
                         {
                              "title": "node-fetch v3 basic auth in URL not working",
                              "description": "In node-fetch v2, we could set a username/password in the URL for Basic Auth.\r\nAppears that v3 is silently discarding these from the URL, and need to be added using an Authorization header now.\r\n\r\nThis appears to match what the browsers (chrome at least) are doing:\r\n> fetch('https://test:test@httpbin.org/get')\r\nUncaught (in promise) TypeError: Failed to execute 'fetch' on 'Window': Request cannot be constructed from a URL that includes credentials: https://test:test@httpbin.org/get\r\n\r\nI assume this is the desired behavior going forward? However there is no mention in the upgrade guide and it is a breaking change. Also I would prefer to see an error return rather than silently ignoring the credentials.\r\n",
                              "label": "bug",
                              "createdAt": "2021-09-21T16:05:48Z",
                              "closedAt": "2021-09-21T17:45:23Z",
                              "lastComment": "2021-09-21T17:45:52Z",
                              "commentCount": 1
                         },
                         {
                              "title": "Authentication parameters in url does not work on 2.6.3",
                              "description": "**Reproduction**\r\n\r\nSteps to reproduce the behavior:\r\n\r\n1. node\r\n2. FETCH = require('node-fetch');\r\n3. FETCH(\"http://admin:p#ass!word@localhost:5984/mydatabase\").then(r => {return r.json();}).then(l => {console.log(l);});\r\n\r\n**Expected behavior**\r\nReturn the response from database but instead i always get access denied. The error does not occur with node-fecth@2.6.2\r\n\r\n**Your Environment**\r\n\r\n| software         | version\r\n| ---------------- | -------\r\n| node-fetch       | 2.6.3\r\n| node             | 16.9.1\r\n| npm              | 7.24.0\r\n| Operating System |\r\nUbuntu 20.04LTS or 16.04LTS\r\n",
                              "label": "bug",
                              "createdAt": "2021-09-21T09:22:21Z",
                              "closedAt": "2021-09-21T09:33:47Z",
                              "lastComment": "2021-09-21T09:42:53Z",
                              "commentCount": 2
                         },
                         {
                              "title": "Problem with query params",
                              "description": "<!--- Provide a clear and concise description of what the bug is. -->\r\n\r\n**Reproduction**\r\n\r\nSteps to reproduce the behavior:\r\n\r\nWhen using node-fetch version 2.6.3, making a request to http://nginx/transactions/total?month=2021-09 do not send the url params. If I am using node-fetch version 2.6.1 everything work fine. Enabling node http verbose log, when making the request using node-fetch version 2.6.1 I get:\r\n\r\n```\r\nHTTP 52: createConnection nginx:80: {\r\n  protocol: 'http:',\r\n  slashes: true,\r\n  auth: null,\r\n  host: 'nginx',\r\n  port: 80,\r\n  hostname: 'nginx',\r\n  hash: null,\r\n  search: '?month=2021-09',\r\n  query: 'month=2021-09',\r\n  pathname: '/api/transactions/total',\r\n  path: null,\r\n  href: 'http://nginx/api/transactions/total?month=2021-09',\r\n  method: 'GET',\r\n  headers: [Object: null prototype] {\r\n    Authorization: [\r\n      'Bearer ....'\r\n    ],\r\n    Accept: [ '*/*' ],\r\n    'User-Agent': [ 'node-fetch/1.0 (+https://github.com/bitinn/node-fetch)' ],\r\n    'Accept-Encoding': [ 'gzip,deflate' ],\r\n    Connection: [ 'close' ]\r\n  },\r\n  agent: undefined,\r\n  servername: 'nginx',\r\n  _agentKey: 'nginx:80:'\r\n}\r\n```\r\n\r\nbut using node-fetch version 2.6.3 I get\r\n\r\n```\r\nHTTP 24: createConnection nginx:80: {\r\n  path: null,\r\n  pathname: '/api/transactions/total',\r\n  hostname: 'nginx',\r\n  protocol: 'http:',\r\n  port: 80,\r\n  hash: '',\r\n  search: '?month=2021-09',\r\n  query: undefined,\r\n  href: 'http://nginx/api/transactions/total?month=2021-09',\r\n  method: 'GET',\r\n  headers: [Object: null prototype] {\r\n    Authorization: [\r\n      'Bearer ....\r\n    ],\r\n    Accept: [ '*/*' ],\r\n    'User-Agent': [ 'node-fetch/1.0 (+https://github.com/bitinn/node-fetch)' ],\r\n    'Accept-Encoding': [ 'gzip,deflate' ],\r\n    Connection: [ 'close' ]\r\n  },\r\n  agent: undefined,\r\n  host: 'nginx',\r\n  servername: 'nginx',\r\n  _agentKey: 'nginx:80:'\r\n}\r\n```\r\n\r\nNote the query part is undefined when using node-fetch version 2.6.3.\r\n\r\n**Expected behavior**\r\n\r\n<!--- If you're suggesting a change/improvement, tell us how it should work -->\r\n<!--- If fetch is behaving incorrectly, please include a link to the spec or documentation that supports that your expected behavior is correct. -->\r\n\r\nThe behaviour of the two versions should be the same.\r\n\r\n**Screenshots**\r\n\r\n<!--- If applicable, add screenshots to help explain your problem. -->\r\n\r\n**Your Environment**\r\n\r\n<!--- Include as many relevant details about the environment you experienced the bug in -->\r\n\r\n| software         | version\r\n| ---------------- | -------\r\n| node-fetch       | 2.6.3\r\n| node             | 14.17.3\r\n| npm              | 6.14.3\r\n| Operating System | linux\r\n\r\n**Additional context**\r\n\r\n<!--- Add any other context about the problem here. -->\r\n",
                              "label": "bug",
                              "createdAt": "2021-09-21T03:20:59Z",
                              "closedAt": "2021-09-21T14:43:31Z",
                              "lastComment": "2021-09-21T15:21:50Z",
                              "commentCount": 14
                         },
                         {
                              "title": "dns.lookup's should be done with `verbatim=true`",
                              "description": "**Is your feature request related to a problem? Please describe.**\r\n\r\nCurrently, NodeJS ignores [rfc 6724](https://datatracker.ietf.org/doc/html/rfc6724) which can cause problems when a network drops IPv6 support, which is increasingly common on 4G networks.\r\n\r\n**Describe the solution you'd like**\r\n\r\nNode should set `verbatim=true` on all requests.\r\n\r\n**Describe alternatives you've considered**\r\n\r\nThis will eventually be the default in Node, but it's better if we can go ahead an implement it, because this is a stupid design decision and causes extremely confusing bugs, while ignoring web standards",
                              "label": "unlabeledBug",
                              "createdAt": "2021-09-17T20:25:41Z",
                              "closedAt": "2021-09-26T12:24:31Z",
                              "lastComment": "2021-09-26T12:24:31Z",
                              "commentCount": 4
                         },
                         {
                              "title": "MaxListenersExceededWarning: Possible EventEmitter memory leak detected.",
                              "description": "Hi there,\r\n\r\nI think there is a regression in version 3.0.\r\n\r\nWhen I'm using [Custom Agent](https://github.com/node-fetch/node-fetch#custom-agent) (`https`) with `keepAlive: true` option and then just make a bunch of requests. Pretty soon such warnings show up:\r\n\r\n> (node:24083) MaxListenersExceededWarning: Possible EventEmitter memory leak detected. 11 data listeners added to [TLSSocket]. Use emitter.setMaxListeners() to increase limit\r\nMaxListenersExceededWarning: Possible EventEmitter memory leak detected. 11 data listeners added to [TLSSocket]. Use emitter.setMaxListeners() to increase limit\r\n    at _addListener (node:events:469:17)\r\n    at TLSSocket.addListener (node:events:491:10)\r\n    at TLSSocket.Readable.on (node:internal/streams/readable:876:35)\r\n    at ClientRequest.<anonymous> (.../node_modules/node-fetch/src/index.js:316:10)\r\n    at ClientRequest.emit (node:events:394:28)\r\n    at tickOnSocket (node:_http_client:755:7)\r\n    at onSocketNT (node:_http_client:815:5)\r\n    at processTicksAndRejections (node:internal/process/task_queues:84:21)\r\n\r\nThe same thing with `http`, just listeners added not to `TLSSocket` but to just `Socket`.\r\n\r\n**Reproduction**\r\n\r\nHere is a really simple example.\r\n\r\n```js\r\nimport https from 'node:https'\r\nimport fetch from 'node-fetch'\r\n\r\nconst agent = new https.Agent({ keepAlive: true })\r\n\r\nasync function start () {\r\n  for (let i = 1; i < 1000; i++) {\r\n    await fetch('https://example.com', { agent })\r\n  }\r\n}\r\n\r\nprocess.on('warning', e => console.warn(e.stack))\r\n\r\nstart().catch(e => console.error(e))\r\n```\r\n\r\nSteps to reproduce the behavior:\r\n\r\n1. Run this code with `node-fetch@3` installed and you will start getting warnings.\r\n2. Install `node-fetch@2` as a dependency, run the same code, and boom, no warnings.\r\n\r\n**Expected behavior**\r\n\r\nVersion 2.6.2 does not produce any warning on the same code.\r\nVersion 3.0.0 produces warnings.\r\n\r\n**Your Environment**\r\n\r\nI have been running this on node.js 14 (LTS) and 16 (latest) with the same results.\r\n\r\n| software         | version\r\n| ---------------- | -------\r\n| node-fetch       | 3.0.0\r\n| node             | v14.17.6 & v16.9.1\r\n| npm              | 6.14.15 & 7.21.1\r\n| Operating System | MacOS 11.5.2 (20G95) & Docker with alpine linux\r\n",
                              "label": "bug",
                              "createdAt": "2021-09-16T18:49:42Z",
                              "closedAt": "2022-05-07T21:56:37Z",
                              "lastComment": "2022-06-01T19:44:54Z",
                              "commentCount": 25
                         },
                         {
                              "title": "error TS2322: Type 'FormData' is not assignable to type 'BodyInit'",
                              "description": "Using `formdata-polyfill` with `node-fetch@3.0.0` results in the following error:\r\n```\r\nerror TS2322: Type 'FormData' is not assignable to type 'BodyInit'.\r\n  Property 'sort' is missing in type 'FormData' but required in type 'URLSearchParams'.\r\n```",
                              "label": "bug",
                              "createdAt": "2021-09-14T17:05:10Z",
                              "closedAt": "2021-11-08T11:51:49Z",
                              "lastComment": "2021-09-14T17:06:16Z",
                              "commentCount": 1
                         },
                         {
                              "title": "Typings polutes global space with DOM types",
                              "description": "Same issue superagent had with their typings: https://github.com/DefinitelyTyped/DefinitelyTyped/issues/41425#issuecomment-573385657\r\n\r\nThe `dom` reference triple-slash directive in `/@types/index.d.ts` causes all DOM types to be included in the global ambient declarations which breaks type checking.\r\n\r\nhttps://github.com/node-fetch/node-fetch/blob/9cd2e43e6272a48d8971843bf93e0deb498664fa/%40types/index.d.ts#L2\r\n\r\nSee: https://www.typescriptlang.org/docs/handbook/triple-slash-directives.html#-reference-lib-\r\n\r\nThis means that Node.js projects that import `node-fetch` can reference DOM global types and values (`window`, `document`, `Element`, `ChildNode`, etc.) without typing errors.\r\n\r\nThis line don't seem to be needed as nothing from the DOM library is referenced. Can we just delete this line? I tried doing so, and TypeScript had no complaints.\r\n\r\nReproduction:\r\n\r\nSimple TypeScript project that does NOT include DOM library.\r\n```bash\r\necho '{\r\n  \"compilerOptions\": {\r\n    \"lib\": [\"ES2015\"]\r\n  }\r\n}' > tsconfig.json\r\n\r\nnpm i node-fetch @types/node\r\n```\r\n\r\nAttempting to access the window global throws a type error as expected.\r\n```bash\r\necho \"window.alert('hi');\" > index.ts\r\n\r\ntsc\r\n# index.ts:1:1 - error TS2304: Cannot find name 'window'.\r\n```\r\n\r\nSame as above except we import node-fetch and the type error disappears unexpectedly.\r\n``` bash\r\necho \"import {} from 'node-fetch';\r\nwindow.alert('hi');\" > index.ts\r\n\r\ntsc\r\n# no errors\r\n```\r\n\r\nTypeScript reports the DOM library is being loaded due to a reference in node-fetch's type declaration file.\r\n```bash\r\ntsc --explainFiles\r\n# ../../.nvm/versions/node/v14.17.6/lib/node_modules/typescript/lib/lib.dom.d.ts\r\n#   Library referenced via 'dom' from file 'node_modules/node-fetch/@types/index.d.ts'\r\n```\r\n\r\nAs you can see, simply importing `node-fetch` breaks type checking because `lib.dom.d.ts` is loaded due to the reference from `node-fetch/@types/index.d.ts`. This can also be observed in VSCode where DOM types are shown in autocomplete suggestions.",
                              "label": "bug",
                              "createdAt": "2021-09-13T16:25:13Z",
                              "closedAt": "2022-07-13T18:39:45Z",
                              "lastComment": "2022-07-18T15:21:28Z",
                              "commentCount": 3
                         },
                         {
                              "title": "\"stream/web is an experimental feature\" warning on Node 16.5.0",
                              "description": "It looks like the warning below happens on Node 16.5.0. I tried with 14.17.4 and didn't get the warning.\r\n\r\n(node:17339) ExperimentalWarning: stream/web is an experimental feature. This feature could change at any time\r\n\r\n````\r\nnode --trace-warnings index.js\r\n(node:17390) ExperimentalWarning: stream/web is an experimental feature. This feature could change at any time\r\n    at emitExperimentalWarning (node:internal/util:205:11)\r\n    at node:stream/web:7:1\r\n    at NativeModule.compileForInternalLoader (node:internal/bootstrap/loaders:312:7)\r\n    at NativeModule.compileForPublicLoader (node:internal/bootstrap/loaders:252:10)\r\n    at loadNativeModule (node:internal/modules/cjs/helpers:40:9)\r\n    at Function.Module._load (node:internal/modules/cjs/loader:798:15)\r\n    at Module.require (node:internal/modules/cjs/loader:999:19)\r\n    at require (node:internal/modules/cjs/helpers:93:18)\r\n    at Object.<anonymous> (/.../test/node_modules/fetch-blob/streams.cjs:7:31)\r\n    at Module._compile (node:internal/modules/cjs/loader:1095:14)\r\n````\r\n\r\n**Reproduction**\r\n\r\nSteps to reproduce the behavior:\r\n\r\nCreate a index.js file:\r\n````\r\nimport fetch from \"node-fetch\";\r\n````\r\n\r\npackage.json:\r\n````\r\n{\r\n  \"name\": \"test\",\r\n  \"type\": \"module\",\r\n  \"dependencies\": {\r\n    \"node-fetch\": \"^3.0.0\"\r\n  }\r\n}\r\n````\r\n\r\n**Expected behavior**\r\n\r\nWarning shouldn't display.\r\n\r\n**Your Environment**\r\n\r\n<!--- Include as many relevant details about the environment you experienced the bug in -->\r\n\r\n| software         | version\r\n| ---------------- | -------\r\n| node-fetch       | 3.0.0\r\n| node             | 16.5.0\r\n| npm              | 7.19.1\r\n| Operating System | Linux\r\n\r\n**Additional context**\r\n\r\n<!--- Add any other context about the problem here. -->\r\n",
                              "label": "bug",
                              "createdAt": "2021-09-08T19:34:16Z",
                              "closedAt": "2021-09-08T19:37:22Z",
                              "lastComment": "2021-10-30T11:13:23Z",
                              "commentCount": 9
                         },
                         {
                              "title": "importing fails",
                              "description": "<!--- Provide a clear and concise description of what the bug is. -->\r\n\r\n**Reproduction**\r\n\r\nSteps to reproduce the behavior:\r\n\r\n1. get latest version of node-fetch (with yarn?)\r\n2. try to import node-fetch (using typescript?)\r\n3. complains about `unexpected identifier` (`import http from 'http';`)\r\n\r\n**Expected behavior**\r\n\r\n<!--- If you're suggesting a change/improvement, tell us how it should work -->\r\n<!--- If fetch is behaving incorrectly, please include a link to the spec or documentation that supports that your expected behavior is correct. -->\r\nimports the library correctly\r\n\r\n**Screenshots**\r\n```\r\nDone in 4.61s.\r\n/home/me/Projects/UAPK/node_modules/node-fetch/src/index.js:9\r\nimport http from 'http';\r\n       ^^^^\r\n\r\nSyntaxError: Unexpected identifier\r\n    at Module._compile (internal/modules/cjs/loader.js:872:18)\r\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:947:10)\r\n    at Module.load (internal/modules/cjs/loader.js:790:32)\r\n    at Function.Module._load (internal/modules/cjs/loader.js:703:12)\r\n    at Module.require (internal/modules/cjs/loader.js:830:19)\r\n    at require (internal/modules/cjs/helpers.js:68:18)\r\n    at Object.<anonymous> (/home/me/Projects/UAPK/build/dist/providers/fdroid.js:63:36)\r\n    at Module._compile (internal/modules/cjs/loader.js:936:30)\r\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:947:10)\r\n    at Module.load (internal/modules/cjs/loader.js:790:32)\r\n```\r\n<!--- If applicable, add screenshots to help explain your problem. -->\r\n\r\n**Your Environment**\r\n\r\n<!--- Include as many relevant details about the environment you experienced the bug in -->\r\n\r\n| software         | version\r\n| ---------------- | -------\r\n| node-fetch       | 3.0.0\r\n| node             | linux-x86-12.9.1\r\n| npm              | yarn 1.22.10\r\n| Operating System | `Linux fedora 5.13.12-201.fsync.fc34.x86_64 #1 SMP Mon Aug 23 21:11:13 UTC 2021 x86_64 x86_64 x86_64 GNU/Linux`\r\n\r\n**Additional context**\r\n\r\n<!--- Add any other context about the problem here. -->\r\nNothing",
                              "label": "bug",
                              "createdAt": "2021-09-04T11:47:45Z",
                              "closedAt": "2021-09-04T12:11:58Z",
                              "lastComment": "2021-09-04T12:12:08Z",
                              "commentCount": 3
                         },
                         {
                              "title": "Version 2.6.1 has incorrect configuration for CJS in package.json",
                              "description": "As file with `jest-fetch-mock`:\r\nhttps://github.com/jefflau/jest-fetch-mock/issues/161#issuecomment-911921788\r\n\r\nThere is a mistake in the \"main\" entry in the package.json release in 2.6.1 that is causing import errors.\r\n\r\nIt currently reads:\r\n```\r\n\"main\": \"lib/index\",\r\n```\r\n\r\nIt should be:\r\n```\r\n\"main\": \"lib/index.js\",\r\n```",
                              "label": "bug",
                              "createdAt": "2021-09-03T03:15:10Z",
                              "closedAt": "2021-09-06T13:07:20Z",
                              "lastComment": "2021-09-05T18:55:42Z",
                              "commentCount": 1
                         },
                         {
                              "title": "IPv6 literals are broken",
                              "description": "**Reproduction**\r\n\r\n```\r\nimport fetch from 'node-fetch';\r\nfetch('http://[::1]:8080')\r\n  .then(res => console.debug('ok'))\r\n  .catch(err => console.error('err', err));\r\n```\r\n\r\n```\r\ngetaddrinfo ENOTFOUND [::1]\r\n```\r\n\r\n**Expected behavior**\r\n\r\n- If there is a server at `[::1]:8080`, it should not fail\r\n\r\n**Cause**\r\n\r\n- This was working fine in 2.x, but in 3.x the URL parser switched from Node's `url.Url` to WHATWG's `URL`\r\n\r\n```\r\n> u = url.parse('http://[::1]');\r\nUrl {\r\n...\r\n  host: '[::1]',\r\n  hostname: '::1',\r\n...\r\n}\r\n> u = new URL('http://[::1]')\r\nURL {\r\n...\r\n  host: '[::1]',\r\n  hostname: '[::1]',\r\n...\r\n}\r\n```\r\n\r\n- [offending line, 3.x](https://github.com/node-fetch/node-fetch/blob/914ce6be5ec67a8bab63d68510aabf07cb818b6d/src/request.js#L265) \r\n- [2.x](https://github.com/node-fetch/node-fetch/blob/b5e2e41b2b50bf2997720d6125accaf0dd68c0ab/src/request.js#L245) passes `url.Url` directly to `request()`\r\n",
                              "label": "bug",
                              "createdAt": "2021-09-02T11:44:49Z",
                              "closedAt": "2021-09-09T04:02:06Z",
                              "lastComment": "2021-09-02T14:52:46Z",
                              "commentCount": 2
                         },
                         {
                              "title": "Engines field",
                              "description": "Looks like your latest engines is:\r\n\r\n\"node\": \"^12.20.0 || ^14.13.1 || >=16.0.0\"\r\n\r\nSo either you intend to no longer support node 15 or someone made a mistake",
                              "label": "bug",
                              "createdAt": "2021-08-31T18:48:29Z",
                              "closedAt": "2021-08-31T22:08:38Z",
                              "lastComment": "2021-08-31T22:08:38Z",
                              "commentCount": 2
                         },
                         {
                              "title": "Stream has been externalized",
                              "description": "<!--- Provide a clear and concise description of what the bug is. -->\r\n\r\nWhile trying to incorporate my package that uses node-fetch to make API requests, I run into an error that says\r\n```\r\nModule \"stream\" has been externalized for browser compatibility and cannot be accessed in client code.\r\n```\r\n**Reproduction**\r\n\r\nSteps to reproduce the behavior:\r\n\r\n1.  Require `node-fetch` in your package\r\n2.  import that package into your svelte environment \r\n3.  run the dev/build script\r\n4.  poof error\r\n\r\n**Expected behavior**\r\n\r\n<!--- If you're suggesting a change/improvement, tell us how it should work -->\r\n<!--- If fetch is behaving incorrectly, please include a link to the spec or documentation that supports that your expected behavior is correct. -->\r\n\r\nThe expected behavior would be an error not occurring 🤔 \r\n\r\n\r\n**Screenshots**\r\n\r\n<!--- If applicable, add screenshots to help explain your problem. -->\r\n\r\n![image](https://user-images.githubusercontent.com/20328657/131179605-6434dd6f-4342-4772-9953-087ddaefa2b4.png)\r\n\r\n\r\n**Your Environment**\r\n\r\n<!--- Include as many relevant details about the environment you experienced the bug in -->\r\n\r\n| software         | version\r\n| ---------------- | -------\r\n| node-fetch       | v2.6.1\r\n| node             |  v16.7.0\r\n| npm              | v7.20.6\r\n| Operating System | Windows 64bit\r\n\r\n**Additional context**\r\n\r\n<!--- Add any other context about the problem here. -->\r\nThis problem only happens when trying to import my package into a browser environment, and well as stated in the error due to browser  compatibility it doesn't w*a*nna **work**\r\n\r\nif it is at all helpful, the package that im using that produces this error is [@MattPlays/aniapi](https://www.npmjs.com/package/@mattplays/aniapi)\r\n",
                              "label": "bug",
                              "createdAt": "2021-08-27T19:36:23Z",
                              "closedAt": "2021-10-02T20:34:07Z",
                              "lastComment": "",
                              "commentCount": 0
                         },
                         {
                              "title": "Random cut chunk in JSONStreamParse on array of json",
                              "description": "<!--- Provide a clear and concise description of what the bug is. -->\r\n\r\nMight relate to #1239 , https://httpbin.org/stream/2 return a stream response of 2 objects joined by `\\n`, but what if the response is array of json\r\n```\r\ntext := `\r\n\t[{\"url\": \"https://httpbin.org/stream/2\", \"args\": {}, \"headers\": {\"Host\": \"httpbin.org\", \"X-Amzn-Trace-Id\": \"Root=1-611042df-683c6fe905966fb62396f28b\", \"Sec-Ch-Ua\": \"\"Chromium\";v=\"92\", \" Not A;Brand\";v=\"99\", \"Google Chrome\";v=\"92\"\", \"Sec-Ch-Ua-Mobile\": \"?0\", \"Upgrade-Insecure-Requests\": \"1\", \"User-Agent\": \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/92.0.4515.107 Safari/537.36\", \"Accept\": \"text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.9\", \"Sec-Fetch-Site\": \"none\", \"Sec-Fetch-Mode\": \"navigate\", \"Sec-Fetch-User\": \"?1\", \"Sec-Fetch-Dest\": \"document\", \"Accept-Encoding\": \"gzip, deflate, br\", \"Accept-Language\": \"en-US,en;q=0.9\"}, \"origin\": \"73.223.140.186\", \"id\": 0},\r\n\t{\"url\": \"https://httpbin.org/stream/2\", \"args\": {}, \"headers\": {\"Host\": \"httpbin.org\", \"X-Amzn-Trace-Id\": \"Root=1-611042df-683c6fe905966fb62396f28b\", \"Sec-Ch-Ua\": \"\"Chromium\";v=\"92\", \" Not A;Brand\";v=\"99\", \"Google Chrome\";v=\"92\"\", \"Sec-Ch-Ua-Mobile\": \"?0\", \"Upgrade-Insecure-Requests\": \"1\", \"User-Agent\": \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/92.0.4515.107 Safari/537.36\", \"Accept\": \"text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.9\", \"Sec-Fetch-Site\": \"none\", \"Sec-Fetch-Mode\": \"navigate\", \"Sec-Fetch-User\": \"?1\", \"Sec-Fetch-Dest\": \"document\", \"Accept-Encoding\": \"gzip, deflate, br\", \"Accept-Language\": \"en-US,en;q=0.9\"}, \"origin\": \"73.223.140.186\", \"id\": 1}]\r\n\t`\r\n```\r\n\r\nWhen iterate on response.body, the chunk cut the object randomly. So the json fails on parse each chunk\r\n**Reproduction**\r\n\r\nSteps to reproduce the behavior:\r\n```js\r\nconst fetch = require('node-fetch');\r\n\r\nasync function main() {\r\n  const response = await fetch('url return array of json stream');\r\n  try {\r\n    for await (const chunk of response.body) {\r\n      console.log(JSON.parse(chunk.toString()));\r\n    }\r\n  } catch (err) {\r\n    console.error(err.stack);\r\n  }\r\n}\r\n\r\nmain()\r\n```\r\n**Expected behavior**\r\n\r\n<!--- If you're suggesting a change/improvement, tell us how it should work -->\r\n<!--- If fetch is behaving incorrectly, please include a link to the spec or documentation that supports that your expected behavior is correct. -->\r\n\r\n**Screenshots**\r\n\r\n<!--- If applicable, add screenshots to help explain your problem. -->\r\n\r\n**Your Environment**\r\n\r\n<!--- Include as many relevant details about the environment you experienced the bug in -->\r\n\r\n| software         | version\r\n| ---------------- | -------\r\n| node-fetch       | ^2.6.1\r\n| node             | v14.17.0\r\n| npm              | 7.15.0\r\n| Operating System | MacOS\r\n\r\n**Additional context**\r\n\r\n<!--- Add any other context about the problem here. -->\r\n",
                              "label": "bug",
                              "createdAt": "2021-08-09T01:36:51Z",
                              "closedAt": "2021-08-09T09:11:24Z",
                              "lastComment": "2021-08-09T09:11:24Z",
                              "commentCount": 1
                         },
                         {
                              "title": "Fail to parse the JSON stream by iterate on response.body",
                              "description": "<!--- Provide a clear and concise description of what the bug is. -->\r\nFail to parse the stream json in the sample 'https://httpbin.org/stream/3\r\n**Reproduction**\r\n\r\nSteps to reproduce the behavior:\r\n\r\nsample code:\r\n```js\r\nconst fetch = require('node-fetch');\r\n\r\nasync function main() {\r\n  const response = await fetch('https://httpbin.org/stream/3');\r\n  try {\r\n    for await (const chunk of response.body) {\r\n      console.log('----start')\r\n      console.dir(JSON.parse(chunk.toString()));\r\n      console.log('----end')}\r\n  } catch (err) {\r\n    console.error(err.stack);\r\n  }\r\n}\r\n\r\nmain()\r\n```\r\nThe Error `SyntaxError: Unexpected token { in JSON at position 312`\r\n\r\nEach chunk is end by `\"\\n\"`, for example\r\n```\r\n'{\"url\": \"https://httpbin.org/stream/3\", \"args\": {}, \"headers\": {\"Host\": \"httpbin.org\", \"X-Amzn-Trace-Id\": \"Root=1-6110767f-318d876e477f329d79db7b40\", \"Accept\": \"*/*\", \"User-Agent\": \"node-fetch/1.0 (+https://github.com/bitinn/node-fetch)\", \"Accept-Encoding\": \"gzip,deflate\"}, \"origin\": \"73.223.140.186\", \"id\": 0}\\n'\r\n```\r\n**Expected behavior**\r\n\r\n<!--- If you're suggesting a change/improvement, tell us how it should work -->\r\n<!--- If fetch is behaving incorrectly, please include a link to the spec or documentation that supports that your expected behavior is correct. -->\r\n\r\n**Screenshots**\r\n\r\n<!--- If applicable, add screenshots to help explain your problem. -->\r\n\r\n**Your Environment**\r\n\r\n<!--- Include as many relevant details about the environment you experienced the bug in -->\r\n\r\n| software         | version\r\n| ---------------- | -------\r\n| node-fetch       | ^2.6.1\r\n| node             | v14.17.0\r\n| npm              | 7.15.0\r\n| Operating System | MacOS\r\n\r\n**Additional context**\r\n\r\n<!--- Add any other context about the problem here. -->\r\n",
                              "label": "bug",
                              "createdAt": "2021-08-09T00:34:22Z",
                              "closedAt": "2021-08-09T07:45:42Z",
                              "lastComment": "2021-08-09T07:45:42Z",
                              "commentCount": 1
                         },
                         {
                              "title": "Could not find a declaration file for module",
                              "description": "<!--- Provide a clear and concise description of what the bug is. -->\r\n\r\n**Reproduction**\r\n\r\nSteps to reproduce the behavior:\r\n\r\n1. Create a typescript project\r\n2. npm install node-fetch\r\n3. Go into a ts file and add to the top `import fetch from 'node-fetch';`\r\n\r\n**Expected behavior**\r\n\r\n<!--- If you're suggesting a change/improvement, tell us how it should work -->\r\n<!--- If fetch is behaving incorrectly, please include a link to the spec or documentation that supports that your expected behavior is correct. -->\r\n\r\nI expect it should be fine and just import without any typescript errors\r\n\r\n**Screenshots**\r\n\r\n<!--- If applicable, add screenshots to help explain your problem. -->\r\n\r\n![image](https://user-images.githubusercontent.com/655716/128530231-5b943da7-5a92-403f-88e7-55e4b36f5834.png)\r\n\r\n**Your Environment**\r\n\r\n<!--- Include as many relevant details about the environment you experienced the bug in -->\r\n\r\n| software         | version\r\n| ---------------- | -------\r\n| node-fetch       | ^2.6.1\r\n| node             | 14.17.4\r\n| npm              | 6.14.14\r\n| Operating System | macOS Big Sir\r\n\r\n**Additional context**\r\n\r\n<!--- Add any other context about the problem here. -->\r\n\r\ntsconfig.json\r\n\r\n```json\r\n{\r\n  \"compilerOptions\": {\r\n    \"target\": \"es5\",\r\n    \"lib\": [\"dom\", \"dom.iterable\", \"esnext\"],\r\n    \"allowJs\": true,\r\n    \"skipLibCheck\": true,\r\n    \"esModuleInterop\": true,\r\n    \"allowSyntheticDefaultImports\": true,\r\n    \"strict\": true,\r\n    \"forceConsistentCasingInFileNames\": true,\r\n    \"noFallthroughCasesInSwitch\": true,\r\n    \"module\": \"esnext\",\r\n    \"moduleResolution\": \"node\",\r\n    \"resolveJsonModule\": true,\r\n    \"isolatedModules\": true,\r\n    \"noEmit\": true\r\n  }\r\n}\r\n```",
                              "label": "bug",
                              "createdAt": "2021-08-06T14:59:22Z",
                              "closedAt": "2021-08-06T15:08:40Z",
                              "lastComment": "2021-08-06T15:08:40Z",
                              "commentCount": 1
                         },
                         {
                              "title": "Getting 403 while trying to fetch html data.",
                              "description": "<!--- Provide a clear and concise description of what the bug is. -->\r\n\r\n**Reproduction**\r\n\r\nSteps to reproduce the behavior:\r\n\r\n1.  call a get request to `https://www.novelupdates.com/wp-admin/admin-ajax.php?action=nd_ajaxsearchmain&strType=desktop&strOne=Against%20the%20Gods&strSearchType=series`\r\n2. response `please enable cookies` with status [403]\r\n\r\n**Expected behavior**\r\nThe request should work as it dose not need any cookies. \r\nWhen I am using the regular fetch everything work out really good and I am getting response but when I build an API \r\nand used `node-fetch` the request above dose not work.\r\n\r\n**Your Environment**\r\n\r\n| software         | version\r\n| ---------------- | -------\r\n| node-fetch       | node-fetch\r\n| node             | ???? latest\r\n| npm              | ???? latest\r\n| Operating System | Windows, visual code\r\n\r\n",
                              "label": "bug",
                              "createdAt": "2021-08-06T10:34:53Z",
                              "closedAt": "2021-08-12T16:37:22Z",
                              "lastComment": "2021-10-14T00:21:00Z",
                              "commentCount": 6
                         },
                         {
                              "title": "Not receiving AbortError",
                              "description": "in the browser fetch implementation (tested on chrome), when the request is aborted you receive an Error \"DOMException: The user aborted a request.\", while with node-fetch no error is emitted.\r\n\r\n```js\r\nimport { assert } from \"chai\"\r\nimport fetch from \"node-fetch\"\r\nimport AbortController from \"abort-controller\";\r\n\r\ndescribe(\"Use AbortController\", function () {\r\n  it(`Should be able to abort a request`, function (done) {\r\n    const url = \"http://httpbin.org/ip\"\r\n    const ac = new AbortController()\r\n\r\n    const { signal } = ac\r\n    const r = fetch(url, { signal })\r\n    setTimeout(() => {\r\n      ac.abort()\r\n    }, 12)\r\n\r\n    r.then((x) => { done(\"should not pass in then block\") })\r\n      .catch((e) => {\r\n        assert.equal(e, \"AbortError: The user aborted a request\")\r\n        console.log(\"expecting to fail here\")\r\n        done()\r\n      })\r\n      .finally(() => {\r\n        console.log(\"we're getting here\")\r\n        done()\r\n      })\r\n  })\r\n})\r\n```\r\n\r\n\r\nI've also tried the example in the [error handling docs](https://github.com/node-fetch/node-fetch/blob/master/docs/ERROR-HANDLING.md) but no error gets thrown.\r\n\r\n| software         | version\r\n| ---------------- | -------\r\n| node-fetch             | 2.6.1\r\n| node                      | 14.15.0\r\n| npm                       | 6.14.8\r\n| Operating System | linux\r\n\r\nas `AbortCtrl` I'm using mysticatea/abort-controller, am I supposed to use something else?\r\n\r\n",
                              "label": "bug",
                              "createdAt": "2021-08-01T21:37:31Z",
                              "closedAt": "2021-08-04T22:31:56Z",
                              "lastComment": "2022-08-04T23:49:14Z",
                              "commentCount": 4
                         },
                         {
                              "title": "Support for fetching binary files and passing them to client to create object URLs",
                              "description": "Hi Team,\r\n\r\nI am trying to create a review feature where in files already uploaded in a remote server are fetched via node.js and the binary data is used to createObjectUrls and used to show the files(images/pdfs) in separate windows. While using node-fetch, if I write the stream to a file in Node.js the file looks good. Below is the code for the same:\r\n```js\r\n      fetch(doc_preview_url, requestOptions)\r\n        .then((response) => {\r\n          const dest = fs.createWriteStream(\"./test.jpg\");\r\n          response.body.pipe(dest);\r\n      });\r\n```\r\nHowever, since I have to send the binary data to the client I am trying the below code which does send the binary data but its corrupted as I can verify looking at the file size and also the files cannot be previewed in the browser. \r\n\r\n```js\r\n      fetch(doc_preview_url, requestOptions)\r\n        .then((response) => {\r\n          res.setHeader(\"Content-Type\", response.headers.get(\"content-type\"));\r\n          response.buffer().then((buffer) => {\r\n            res.send(response.status).send(buffer);\r\n          });\r\n      });\r\n```\r\nWanted to know if there is some other way to send binary data to client that is fetched from third party APIs. I am not sure if this is a bug, marking this as a question as of now. ",
                              "label": "unlabeledBug",
                              "createdAt": "2021-07-29T20:03:44Z",
                              "closedAt": "2021-08-06T19:44:42Z",
                              "lastComment": "2021-08-06T22:13:50Z",
                              "commentCount": 4
                         },
                         {
                              "title": "3.0.0 beta.10: TypeError: Cannot read property 'body' of null",
                              "description": "```js\r\nimport fetch from 'node-fetch'\r\n\r\nconst response = await fetch('https://blog.logrocket.com/feed')\r\nconst body = await response.text()\r\n\r\nconsole.log(body)\r\n```\r\n\r\nthrows\r\n```\r\nfile:///root/fetchbug/node_modules/node-fetch/src/index.js:99\r\n\t\t\tresponse.body.destroy(error);\r\n\t\t\t         ^\r\n\r\nTypeError: Cannot read property 'body' of null\r\n    at file:///root/fetchbug/node_modules/node-fetch/src/index.js:99:13\r\n    at TLSSocket.<anonymous> (file:///root/fetchbug/node_modules/node-fetch/src/index.js:310:6)\r\n    at TLSSocket.emit (events.js:327:22)\r\n    at net.js:673:12\r\n    at TCP.done (_tls_wrap.js:563:7)\r\n```\r\n\r\n\r\n| software         | version\r\n| ---------------- | -------\r\n| node-fetch       | 3.0.0-beta.10\r\n| node             | v14.16.0\r\n| npm              | 7.17.0\r\n| Operating System | archlinux",
                              "label": "bug",
                              "createdAt": "2021-07-24T01:01:14Z",
                              "closedAt": "2021-08-12T16:37:22Z",
                              "lastComment": "2021-07-26T19:04:43Z",
                              "commentCount": 6
                         },
                         {
                              "title": "Premature close",
                              "description": "```js\r\nimport fetch from 'node-fetch'\r\n\r\nconst response = await fetch('https://fex.baidu.com/feed.xml')\r\nconst body = await response.text()\r\n\r\nconsole.log(body)\r\n```\r\n\r\nThrows \r\n```\r\nfile:///home/wjzhou/tmp/tmp/fetchbug/node_modules/node-fetch/src/body.js:210\r\n\t\tconst error_ = error instanceof FetchBaseError ? error : new FetchError(`Invalid response body while trying to fetch ${data.url}: ${error.message}`, 'system', error);\r\n\t\t                                                         ^\r\n\r\nFetchError: Invalid response body while trying to fetch https://fex.baidu.com/feed.xml: Premature close\r\n    at consumeBody (file:///home/wjzhou/tmp/tmp/fetchbug/node_modules/node-fetch/src/body.js:210:60)\r\n    at processTicksAndRejections (internal/process/task_queues.js:93:5)\r\n    at async Response.text (file:///home/wjzhou/tmp/tmp/fetchbug/node_modules/node-fetch/src/body.js:129:18)\r\n    at async file:///home/wjzhou/tmp/tmp/fetchbug/b.js:4:14 {\r\n  type: 'system',\r\n  errno: 'ERR_STREAM_PREMATURE_CLOSE',\r\n  code: 'ERR_STREAM_PREMATURE_CLOSE',\r\n  erroredSysCall: undefined\r\n}\r\n```\r\n\r\n| software         | version\r\n| ---------------- | -------\r\n| node-fetch       | 3.0.0-beta.10\r\n| node             | v14.16.0\r\n| npm              | 7.17.0\r\n| Operating System | archlinux\r\n",
                              "label": "bug",
                              "createdAt": "2021-07-24T00:48:05Z",
                              "closedAt": "2022-01-16T01:43:32Z",
                              "lastComment": "2022-11-29T17:22:28Z",
                              "commentCount": 11
                         },
                         {
                              "title": "Cloning Body and not consume one of them is a problem in node v16",
                              "description": "The test got disabled (only in v16+) when we started to test the newer version\r\n\r\nhttps://github.com/node-fetch/node-fetch/blob/5f0500dc382d6d669f35f00dcc1fcd92760728ab/test/main.js#L1901\r\nhttps://github.com/node-fetch/node-fetch/blob/5f0500dc382d6d669f35f00dcc1fcd92760728ab/test/main.js#L1918\r\nhttps://github.com/node-fetch/node-fetch/blob/5f0500dc382d6d669f35f00dcc1fcd92760728ab/test/main.js#L1935\r\n\r\nI don't know if it's worth fixing now when we finally recived whatwg streams in node v16.5. cuz whatwg streams have a `tee()` method that we could use to clone a stream. \r\n\r\n---\r\n\r\n*Bit off topic:* I was never sure NodeJS would ever get whatwg-stream but it did! Now we can write better cross platform code and I'm starting to think that it can be worth bringing in that dependency from whatwg stream polyfill might be worth it. i already included it in fetch-blob so it will not download it in vain if we add it also but it would be a breaking change.",
                              "label": "bug",
                              "createdAt": "2021-07-17T14:02:48Z",
                              "closedAt": "2022-01-28T00:22:40Z",
                              "lastComment": "",
                              "commentCount": 0
                         },
                         {
                              "title": "[yarn][beta] \"engine node is incompatible\" error",
                              "description": "<!--- Provide a clear and concise description of what the bug is. -->\r\n\r\nWhen I install the beta version (3.0.0-beta.9) of node-fetch with Yarn, Yarn returns an error:\r\n\r\n```\r\nerror fetch-blob@1.0.7: The engine \"node\" is incompatible with this module. Expected version \"^10.17.0\". Got \"14.15.4\"\r\nerror Found incompatible module.\r\n```\r\n\r\nSo I have to force the installation with `--ignore-engines`.\r\n\r\n**Reproduction**\r\n\r\nSteps to reproduce the behavior:\r\n\r\n1. Install Node.js version 14 (I use v14.15.4)\r\n2. Install Yarn (`sudo npm i -g yarn`)\r\n3. Create an empty folder, open it in a terminal\r\n4. Install node-fetch version 3 beta with Yarn (`yarn add --dev node-fetch@^3.0.0-beta.9`)\r\n\r\n**Expected behavior**\r\n\r\nNo error because v14 is the current stable version of Node.js.\r\n\r\n<!--- If you're suggesting a change/improvement, tell us how it should work -->\r\n<!--- If fetch is behaving incorrectly, please include a link to the spec or documentation that supports that your expected behavior is correct. -->\r\n\r\n**Your Environment**\r\n\r\n<!--- Include as many relevant details about the environment you experienced the bug in -->\r\n\r\n| software         | version\r\n| ---------------- | -------\r\n| node-fetch       | 3.0.0-beta.9\r\n| node             | 14.15.4\r\n| yarn             | 1.22.5\r\n| Operating System | macOS 11.4\r\n",
                              "label": "bug",
                              "createdAt": "2021-07-05T03:59:17Z",
                              "closedAt": "2021-07-05T04:58:28Z",
                              "lastComment": "2021-08-16T14:12:09Z",
                              "commentCount": 9
                         },
                         {
                              "title": "Confused by README about `latest stable` version",
                              "description": "The [README](https://github.com/node-fetch/node-fetch/edit/master/README.md) here says\r\n\r\n```\r\n## Installation\r\n\r\nCurrent stable release (`3.x`)\r\n\r\nnpm install node-fetch\r\n```\r\n\r\n\r\nBut npm says `latest` is `2.6.1`, not 3\r\nhttps://www.npmjs.com/package/node-fetch\r\n<img width=\"970\" alt=\"Screen Shot 2021-06-07 at 10 02 09\" src=\"https://user-images.githubusercontent.com/1328733/120980985-78673f00-c777-11eb-9ba5-d1ec38ecd84a.png\">\r\n\r\n\r\nSo running `npm install node-fetch` will install `2.6.1`, `not 3.x`",
                              "label": "bug",
                              "createdAt": "2021-06-08T07:27:50Z",
                              "closedAt": "2021-08-07T14:42:00Z",
                              "lastComment": "2021-07-05T04:59:54Z",
                              "commentCount": 1
                         },
                         {
                              "title": "Chained calls to response.clone() do not persist the high water mark",
                              "description": "When calling `.clone()` on a `Response` instance, the `highWaterMark` is persisted in the cloned body, but not in the cloned `Request` itself.  This means that cloning the clone results in a lost `highWaterMark`.\r\n\r\n**Reproduction**\r\n\r\nSteps to reproduce the behavior:\r\n\r\n```js\r\nconst res = await fetch('https://httpbin.org/bytes/200', {\r\n  highWaterMark: 1024 * 1024\r\n})\r\n\r\nconsole.log(res.highWaterMark) // Is set correctly\r\n\r\nconst cloneOne = res.clone()\r\n\r\nconsole.log(cloneOne.highWaterMark) // Is undefined\r\n\r\nconst cloneTwo = cloneOne.clone()\r\n\r\nconsole.log(cloneTwo.highWaterMark) // Is undefined\r\n```\r\n\r\n**Expected behavior**\r\n\r\n```js\r\nconst res = await fetch('https://httpbin.org/bytes/200', {\r\n  highWaterMark: 1024 * 1024\r\n})\r\n\r\nconsole.log(res.highWaterMark) // Is set correctly\r\n\r\nconst cloneOne = res.clone()\r\n\r\nconsole.log(cloneOne.highWaterMark) // Is set correctly\r\n\r\nconst cloneTwo = cloneOne.clone()\r\n\r\nconsole.log(cloneTwo.highWaterMark) // Is set correctly\r\n```\r\n\r\n| software         | version\r\n| ---------------- | -------\r\n| node-fetch | 3.0.0-beta.9\r\n| node             | 14.16.1\r\n| npm              | 6.14.12\r\n| Operating System | Ubuntu 20.04.2 LTS\r\n",
                              "label": "bug",
                              "createdAt": "2021-05-18T14:06:41Z",
                              "closedAt": "2021-10-07T02:07:24Z",
                              "lastComment": "",
                              "commentCount": 0
                         },
                         {
                              "title": "Can't get content-type of the final request after redirect",
                              "description": "<!--- Provide a clear and concise description of what the bug is. -->\r\n**Reproduction**\r\n\r\nUse this url: https://cite.case.law/pdf/5713742/Blanks%20v.%20West%20Point%20Wholesale%20Grocery%20Co.,%20225%20Ala.%2074,%20142%20So.%2049%20(1932).pdf\r\n\r\nExctract headers with `response.headers.get('content-type')`\r\n\r\nThe result returns 'text/html; charset=utf-8'\r\n\r\n\r\n**Expected behavior**\r\nThe result should be 'application/pdf'\r\n\r\nI tried setting the redirect option since request is being redirected to both \"follow\" or \"manual\" but none of them gave the expected result. \r\nThe url is being redirected as far as i can tell because the status code of the response is 302, but i need the actual final response that gives me the content-type of the link (application/pdf in this case)\r\n\r\nIs there a different way to get the content-type of the final request?\r\n**Your Environment**\r\n\r\n<!--- Include as many relevant details about the environment you experienced the bug in -->\r\n\r\n| software         | version\r\n| ---------------- | -------\r\n| node-fetch       | 2.6.1\r\n| node             | 14.0.0\r\n| npm              | 6.14.4\r\n| Operating System | Ubuntu 20.04\r\n\r\n",
                              "label": "bug",
                              "createdAt": "2021-05-01T11:24:41Z",
                              "closedAt": "2021-05-02T05:50:26Z",
                              "lastComment": "2021-05-02T08:18:19Z",
                              "commentCount": 2
                         },
                         {
                              "title": "Fetching subdomains with special characters",
                              "description": "\r\n**Reproduction**\r\n\r\nSteps to reproduce the behavior:\r\n\r\n1. fetch('otherdomain[.example.com') will fetch otherdomain/[.example.com\r\n\r\n**Expected behavior**\r\n\r\nI believe the request should fail, as is the case with the normal fetch api and location header within browsers.\r\nhttps://tools.ietf.org/html/rfc1035\r\n\r\n**Your Environment**\r\n\r\n| software         | version\r\n| ---------------- | -------\r\n| node-fetch       | 2.6.1\r\n| node             | 12.18.4\r\n| npm              | 6.14.8\r\n| Operating System | ubuntu\r\n\r\n**Additional context**\r\n\r\nThis has security implicatons, there are circumstances where any subdomains of a specific root domain are allowed to be fetched (and are user-supplied) but node-fetch adds a forward slash and allows other domains to be fetched\r\n",
                              "label": "bug",
                              "createdAt": "2021-03-31T08:45:24Z",
                              "closedAt": "2022-01-22T23:24:43Z",
                              "lastComment": "2022-01-22T23:24:43Z",
                              "commentCount": 6
                         },
                         {
                              "title": "consumeBody Breaks If String Chunks Added to Accumulator",
                              "description": "When using node-fetch to retrieve data from an internal API, `consumeBody` breaks on short responses (Content-Length < 1000) and this error is thrown:\r\n\r\n```\r\nFetchError: Could not create Buffer from response body for [ REDACTED ]: The \"list[0]\" argument must be one of type Array, Buffer, or Uint8Array. Received type string\r\n      at PassThrough.<anonymous> (/opt/ws/webapps/apiv3/node_modules/node-fetch/lib/index.js:432:12)\r\n      at PassThrough.emit (events.js:198:13)\r\n      at endReadableNT (_stream_readable.js:1143:12)\r\n      at process._tickCallback (internal/process/next_tick.js:63:19)\r\n2021-03-19 15:35 -07:00: \r\n  InternalServerError: Internal Server Error\r\n      at Object.throw (/opt/ws/webapps/apiv3/node_modules/koa/lib/context.js:97:11)\r\n      at Middleware (/opt/ws/webapps/apiv3/middleware/catch_all_errors.js:30:12)\r\n      at process._tickCallback (internal/process/next_tick.js:68:7)\r\n```\r\n\r\n**Reproduction**\r\n\r\nThe only place we've seen the error is in retrieving data from an internal server running Express, so we can't share the URL or credentials needed to access it.\r\n\r\nHere are the headers for two responses, one that succeeds and one that fails:\r\n\r\nHeader | Value for successful query | Value for unsuccessful query\r\n------------ | -------------\r\nServer | nginx/1.14.0 (Ubuntu) | nginx/1.14.0 (Ubuntu)\r\nDate | Fri, 19 Mar 2021 22:38:07 GMT | Fri, 19 Mar 2021 22:42:43 GMT\r\nContent-Type | application/json; charset=utf-8 | application/json; charset=utf-8\r\nContent-Length | 1772 | 895\r\nConnection | keep-alive | keep-alive\r\nX-Powered-By | Express | Express\r\nETag | W/\"6ec-T42wldLuYk3KBSQYxR6B94eUG64\" | W/\"37f-eWKswgXApEsLQawERLrsbeEguSE\"\r\n\r\nIn the backend, when issuing the unsuccessful query, the initial fetch succeeds, but calling any method that uses `consumeBody` breaks. `Buffer.concat()` is applied to the accumulator, which contains a string, and we get the error from the top of this report.\r\n\r\n**Expected behavior**\r\n\r\nThe expected behavior is for `body.json` to return parsed JSON, or `body.text`, or any of the other methods that consume the body. Instead, `node-fetch` throws an error.\r\n\r\n**Your Environment**\r\n\r\n| software         | version\r\n| ---------------- | -------\r\n| node-fetch       | 2.6.1\r\n| node             | 10.17.0\r\n| npm              | 6.11.3\r\n| Operating System | Ubuntu 18.04.3 LTS\r\n\r\n**Additional context**\r\n\r\nI was able to get things working by directly editing `node-fetch/lib/index.js` in the `body.on('data')` callback. When it pushes a chunk into `accum`, I called `Buffer.from` on the chunk if it was a string. This solved the problem. I don't know if this might cause unexpected problems elsewhere.",
                              "label": "bug",
                              "createdAt": "2021-03-19T22:52:24Z",
                              "closedAt": "2021-03-20T02:01:14Z",
                              "lastComment": "2021-03-20T02:01:14Z",
                              "commentCount": 1
                         },
                         {
                              "title": "Encoding error not caught",
                              "description": "I am using this module to crawl various webpages with unkown encodings. I use the `convertedText()` method. Relevant piece of code:\r\n\r\n```typescript\r\nreturn fetch(url, { timeout: this.timeoutMs(), agent: agent })\r\n            .then((res) => {\r\n                logger.silly(`[StaticStrategy] [${res.status}] ${url}`);\r\n                return Promise.all([this.mapHeaders(res), res.status, res.textConverted()]);\r\n            })\r\n            .then(([headers, status, html]) => {\r\n                return this.parseDocument(status, url, html, headers, this.charThreshold, this.failOnNoscript);\r\n            })\r\n            .then((doc) => {\r\n                const t1: number = Date.now();\r\n                return {\r\n                    result: {\r\n                        userAgent: this.userAgent,\r\n                        responseHeaders: doc.headers,\r\n                        statusCode: doc.statusCode,\r\n                        scheme: this.scheme,\r\n                        domain: this.domain,\r\n                        url: this.pageUrl,\r\n                        fetchTimeMs: t1 - t0,\r\n                        content: doc.html,\r\n                        urls: this.filterHrefs(doc.urls),\r\n                    }\r\n                } as ICrawlingResult;\r\n            })\r\n            .catch((e: FetchError) => {\r\n                const retry: boolean = !errorCodes.includes(e.errno || '') && e.type !== 'request-timeout';\r\n                return {\r\n                    error: {\r\n                        retry: retry,\r\n                        message: `[StaticStrategy] error ${e.message}`,\r\n                    },\r\n                } as ICrawlingResult;\r\n            });\r\n```\r\n\r\nAdditionally, I register handlers for `unhandledRejection` and `uncaughtException`:\r\n```typescript\r\nprocess.once('unhandledRejection', async (reason: {} | null | undefined) => {\r\n        logger.error('worker unhandledRejection', { err: reason });\r\n        process.exit(1);\r\n    });\r\n    process.once('uncaughtException', async (error: Error) => {\r\n        logger.error('worker uncaughtException', { err: error });\r\n        process.exit(2);\r\n    });\r\n``` \r\n\r\nHowever, I keep seeing uncaught errors:\r\n```\r\n\r\nMar 11, 2021 @ 12:58:56.123 | Error: Encoding not recognized: 'UTF-8,TEXT/HTML' (searched as: 'utf8texthtml')\r\n-- | --\r\n  | Mar 11, 2021 @ 12:58:56.123 | at Object.getCodec (/var/www/soleadify-avro-aggregator/node_modules/encoding/node_modules/iconv-lite/lib/index.js:104:23)\r\n  | Mar 11, 2021 @ 12:58:56.123 | at Object.getDecoder (/var/www/soleadify-avro-aggregator/node_modules/encoding/node_modules/iconv-lite/lib/index.js:125:23)\r\n  | Mar 11, 2021 @ 12:58:56.123 | at Object.decode (/var/www/soleadify-avro-aggregator/node_modules/encoding/node_modules/iconv-lite/lib/index.js:38:25)\r\n  | Mar 11, 2021 @ 12:58:56.123 | at convertIconvLite (/var/www/soleadify-avro-aggregator/node_modules/encoding/lib/encoding.js:59:26)\r\n  | Mar 11, 2021 @ 12:58:56.123 | at convert (/var/www/soleadify-avro-aggregator/node_modules/encoding/lib/encoding.js:35:22)\r\n  | Mar 11, 2021 @ 12:58:56.123 | at convertBody (/var/www/soleadify-avro-aggregator/node_modules/node-fetch/lib/index.js:497:9)\r\n  | Mar 11, 2021 @ 12:58:56.123 | at /var/www/soleadify-avro-aggregator/node_modules/node-fetch/lib/index.js:307:11\r\n  | Mar 11, 2021 @ 12:58:56.123 | at runMicrotasks (<anonymous>)\r\n  | Mar 11, 2021 @ 12:58:56.123 | at processTicksAndRejections (internal/process/task_queues.js:97:5)\r\n  | Mar 11, 2021 @ 12:58:56.123 | at async Promise.all (index 2)\r\n```\r\n\r\nAm I missing something here, how can I properly catch this error and handle it? \r\n\r\n**Reproduction**\r\n\r\nSteps to reproduce the behavior:\r\n\r\n1. Visit a page whose encoding is not supported by `iconv-lite`\r\n\r\n**Expected behavior**\r\n\r\nI think `node-fetch` should throw a `FetchError` specifying that it couldn't decode the body. \r\n\r\n**Your Environment**\r\n\r\n<!--- Include as many relevant details about the environment you experienced the bug in -->\r\n\r\n| software         | version\r\n| ---------------- | -------\r\n| node-fetch       | 2.6.1\r\n| node             | 12.20.1\r\n| encoding              | 0.1.13\r\n\r\n**Additional context**\r\n\r\n[http://burlandtm.com/1990-2000-arup-associates.html](http://burlandtm.com/1990-2000-arup-associates.html)\r\n\r\nThis url will produce:\r\n```\r\nError: Encoding not recognized: 'NONE' (searched as: 'none')\r\n    at Object.getCodec (/home/Projects/test/node_modules/encoding/node_modules/iconv-lite/lib/index.js:104:23)\r\n    at Object.getDecoder (/home/Projects/test/node_modules/encoding/node_modules/iconv-lite/lib/index.js:125:23)\r\n    at Object.decode (/home/Projects/test/node_modules/encoding/node_modules/iconv-lite/lib/index.js:38:25)\r\n    at convertIconvLite (/home/Projects/test/node_modules/encoding/lib/encoding.js:59:26)\r\n    at convert (/home/Projects/test/node_modules/encoding/lib/encoding.js:35:22)\r\n    at convertBody (/home/Projects/test/node_modules/node-fetch/lib/index.js:497:9)\r\n    at /home/Projects/test/node_modules/node-fetch/lib/index.js:307:11\r\n    at processTicksAndRejections (internal/process/task_queues.js:97:5)\r\n    at async Promise.all (index 2)\r\n    at async /home/Projects/test/build/test.read.js:21:21\r\n```\r\n",
                              "label": "bug",
                              "createdAt": "2021-03-11T11:08:29Z",
                              "closedAt": "2021-03-11T13:46:15Z",
                              "lastComment": "2021-03-11T13:46:15Z",
                              "commentCount": 1
                         },
                         {
                              "title": "Vulnerability - The `size` option isn't honored after following a redirect in node-fetch",
                              "description": "node-fetch before versions 2.6.1 and 3.0.0-beta.9 did not honor the size option after following a redirect, which means that when a content size was over the limit, a FetchError would never get thrown and the process would end without failure. For most people, this fix will have a little or no impact. However, if you are relying on node-fetch to gate files above a size, the impact could be significant, for example: If you don't double-check the size of the data after fetch() has completed, your JS thread could get tied up doing work on a large file (DoS) and/or cost you money in computing.\r\n\r\nidentifier: NVD CVE-2020-15168",
                              "label": "bug",
                              "createdAt": "2021-02-18T04:59:04Z",
                              "closedAt": "2021-02-18T05:01:08Z",
                              "lastComment": "",
                              "commentCount": 0
                         },
                         {
                              "title": "redirect: \"manual\" automatically resolving to a new URL is an undocumented diversion from `fetch` spec",
                              "description": "<!--- Provide a clear and concise description of what the bug is. -->\r\n\r\n**Reproduction**\r\n\r\nSteps to reproduce the behavior:\r\n\r\n1. Have a website (with light backend) running on `localhost:5000` and a separate backend running on `localhost:5001`.\r\n2. Have a working proxy on the `:5000` server to proxy traffic (via `node-fetch`, with `redirect: \"manual\"`) from `localhost:5000/backend/*` to `localhost:5001`.\r\n3. A request originates from the browser to `localhost:5000/backend`, goes to the backend powering `5000` and it initiates a request using `node-fetch` with `redirect: \"manual\"` to `localhost:5001/backend/*`.\r\n4. `localhost:5001/backend/*` returns a `301` response with `location: /foo`\r\n5. The response the browser receives contains the header `location: http://localhost:5001/foo`, which may not be desired. (in this case, the backend is telling the frontend to go to `/foo`, not to redirect to `localhost:5001/foo` - when both of these backends are running on the same domain later, this is more obviously desired behavior).\r\n\r\n**Expected behavior**\r\n\r\nEither:\r\n\r\n* At (5) above, the returned header should not be resolved. There is nothing [in the spec](https://fetch.spec.whatwg.org/#http-redirect-fetch) that says that it should be manipulated and even [the code is commented](https://github.com/node-fetch/node-fetch/blob/4abbfd231f4bce7dbe65e060a6323fc6917fd6d9/src/index.js#L117-L120) saying that this is a node-fetch-specific change.\r\n* This diversion from the spec should be documented in the README/docs and clearly called out.\r\n\r\n**Screenshots**\r\n\r\nChrome doesn't manipulate the `location` header on a redirect: \r\n![image](https://user-images.githubusercontent.com/160236/106798018-3f289200-6612-11eb-864d-cacf027abbfa.png)\r\n\r\nBut when I'm going through my redirect (`/start` goes to the same `helloWorld` backend - this is using `redirect: \"manual\"`):\r\n![image](https://user-images.githubusercontent.com/160236/106798078-536c8f00-6612-11eb-84d6-333c119ef098.png)\r\n\r\n\r\n**Your Environment**\r\n\r\n<!--- Include as many relevant details about the environment you experienced the bug in -->\r\n\r\n| software         | version\r\n| ---------------- | -------\r\n| node-fetch       | 2.6.1\r\n| node             | v12.19.0\r\n| npm              | 6.14.11\r\n| Operating System | macOS 11.1\r\n\r\n**Additional context**\r\n\r\nNothing more to add.\r\n",
                              "label": "bug",
                              "createdAt": "2021-02-03T19:29:20Z",
                              "closedAt": "2022-01-15T21:08:16Z",
                              "lastComment": "",
                              "commentCount": 0
                         },
                         {
                              "title": "Response statusText must be empty string",
                              "description": "[Fetch API statusText](https://developer.mozilla.org/en-US/docs/Web/API/Response/statusText)\r\n\r\n#### Diference\r\nFetch API browser the default value is **\"\"**.\r\n\r\nNode-fetch the default value **'unknown'**.\r\n\r\n\r\nThis maybe can generate inconsistencies in test environments.\r\n",
                              "label": "bug",
                              "createdAt": "2021-01-10T23:27:31Z",
                              "closedAt": "2021-01-17T19:34:09Z",
                              "lastComment": "2021-01-17T19:34:09Z",
                              "commentCount": 6
                         },
                         {
                              "title": "abortcontroller-polyfill 1.6 & 1.7 breaks test for using signal with multiple requests",
                              "description": "[abortcontroller-polyfill](https://github.com/mo/abortcontroller-polyfill) 1.6.0 and 1.7.0 were released today, and both break node-fetch when using a signal with multiple requests.  I am creating this bug in case anyone else encounters this issue.\r\n\r\nIssue has been created for abortcontroller-polyfill: https://github.com/mo/abortcontroller-polyfill/issues/53\r\n\r\n**Reproduction**\r\n\r\nSee refactored test case: https://github.com/tekwiz/node-fetch/blob/feature/abort-controller-tests/test/main.js#L890\r\n\r\nSee test run: https://github.com/tekwiz/node-fetch/runs/1674440695?check_suite_focus=true#step:7:256\r\n\r\n**Environment**\r\n\r\n| software | version |\r\n| --- | --- |\r\n| node-fetch | 2.6 and 3.0 (beta) |\r\n| node | 12.x and 14.x |\r\n| Operating System | all |\r\n",
                              "label": "bug",
                              "createdAt": "2021-01-09T19:46:01Z",
                              "closedAt": "2021-01-10T17:00:09Z",
                              "lastComment": "2021-01-10T17:00:09Z",
                              "commentCount": 1
                         },
                         {
                              "title": "response.body should fail if server terminates connection before response is fully transmitted",
                              "description": "If server terminates connection before response is fully transmitted that should cause an error. In fact that seems to be the case when consuming the response e.g. via `response.text()` API. However if `response.body` is used directly via for await loop no errors are reported.\r\n\r\n**Reproduction**\r\n\r\nTest case is provided by #1056\r\n\r\n**Expected behavior**\r\n\r\nFollowing code should log error if connection is terminated before transmission is complete, instead loop is complete without any errors\r\n\r\n```js\r\ntry {\r\n  for await (const chuck of response.body) {\r\n    // ...\r\n  }\r\n} catch(error) {\r\n  console.error(error)\r\n}\r\n```\r\n\r\n**Screenshots**\r\n\r\nSame code in browsers produces error as expected here is an example (querying same server) as the attached test:\r\n\r\n<img width=\"1022\" alt=\"Screen Shot 2020-12-31 at 5 27 15 PM\" src=\"https://user-images.githubusercontent.com/21236/103432198-20a52600-4b90-11eb-8c5f-2cfb3a3e78f2.png\">\r\n\r\n\r\n**Your Environment**\r\n\r\n<!--- Include as many relevant details about the environment you experienced the bug in -->\r\n\r\n| software         | version\r\n| ---------------- | -------\r\n| node-fetch       | master\r\n| node             | v12.18.2\r\n| npm              |6.14.5\r\n| Operating System | Mac\r\n\r\n",
                              "label": "bug",
                              "createdAt": "2021-01-01T01:47:39Z",
                              "closedAt": "2021-02-23T07:14:10Z",
                              "lastComment": "2021-01-10T00:20:41Z",
                              "commentCount": 1
                         },
                         {
                              "title": "Question about comparing Node version",
                              "description": "I might be missing something, but this does not seem correct:\r\n\r\nhttps://github.com/node-fetch/node-fetch/blob/17b6c10052dc790f63ebe5b5d18db7f8fbda6068/src/index.js#L190\r\n\r\nFrom https://nodejs.org/api/process.html#process_process_version, it seems the `process.version` is a string and should be compared in `semver` format. Or is this intended?\r\n\r\n```javascript\r\n'v12.2.0' < 'v12.10' // false\r\n```",
                              "label": "bug",
                              "createdAt": "2020-12-10T04:05:01Z",
                              "closedAt": "2021-06-25T03:44:18Z",
                              "lastComment": "2020-12-13T16:08:15Z",
                              "commentCount": 1
                         },
                         {
                              "title": "Don't silently ignore referrer",
                              "description": "As described in the Readme of the node-fetch repo 'referrer' is currently not implemented. The user is also not warned about its usage either though.\r\n\r\n**Reproduction**\r\n\r\nSteps to reproduce the behavior:\r\n\r\nRun this in node:\r\n```js\r\nconst fetch = require('node-fetch');\r\nvar HttpProxyAgent = require('http-proxy-agent');\r\n\r\nlet url = \"http://127.0.0.1\"\r\nlet promise = fetch(url, {\r\n  agent: new HttpProxyAgent('http://127.0.0.1:8080'),\r\n  method: \"GET\", // POST, PUT, DELETE, etc.\r\n  referrer: url,\r\n});\r\npromise\r\n    .then(data => data.text())\r\n    .then(text => console.log(text))\r\n```\r\n**Expected behavior**\r\n\r\n1. Preferably set the Referer in the HTTP request\r\n2. Alternatively emit a warning that 'referrer' was ignored.\r\n\r\n**Screenshots**\r\n\r\nRequest in burp, missing Referer:\r\n\r\n<img width=\"477\" alt=\"Screenshot 2020-12-09 at 17 40 06\" src=\"https://user-images.githubusercontent.com/224042/101660138-2010e800-3a47-11eb-98f3-8070740cdf1b.png\">\r\n\r\n**Your Environment**\r\n\r\n<!--- Include as many relevant details about the environment you experienced the bug in -->\r\n\r\n| software         | version\r\n| ---------------- | -------\r\n| http-proxy-agent       | 4.0.1\r\n| node-fetch       | 2.6.1\r\n| node             | v14.6.0\r\n| npm              | 6.14.7\r\n",
                              "label": "bug",
                              "createdAt": "2020-12-09T16:54:00Z",
                              "closedAt": "2021-11-05T09:26:13Z",
                              "lastComment": "",
                              "commentCount": 0
                         },
                         {
                              "title": "{signal: undefined} crashes node-fetch",
                              "description": "<!--- Provide a clear and concise description of what the bug is. -->\r\n\r\n**Reproduction**\r\n\r\nSteps to reproduce the behavior:\r\n\r\n```js\r\nrequire('node-fetch')('http://example.com', { signal: undefined })\r\n// TypeError: Expected signal to be an instanceof AbortSignal\r\n```\r\n\r\n**Expected behavior**\r\n\r\nSame as\r\n```js\r\nrequire('node-fetch')('http://example.com', {})\r\n```\r\n\r\n---\r\n\r\nNow, technically there is nothing in the fetch spec that says this is wrong:\r\n```\r\n28. If init[\"signal\"] exists, then set signal to it.\r\n30. If signal is not null, then make this’s signal follow signal.\r\n```\r\nwhere the [infra spec says](https://infra.spec.whatwg.org/#nulls)\r\n```\r\nThe value null is used to indicate the lack of a value. It can be used interchangeably with the JavaScript null value. [ECMA-262]\r\n```\r\n`node-fetch` has implemented the `exists` using the `in` operator, which finds that `signal` exists even if it is `undefined`, and then uses it because it is not (`!==`) `null`. However, bearing in mind that the Fetch and Infra specs almost never mention the `undefined` value, I don't think it should be read this pedantically and `{signal: undefined}` as an `init` is intended to break the `fetch` call.\r\nAlso, with Firefox, Chromium, and https://github.com/github/fetch all implementations that I've checked handle this gracefully.\r\n\r\n**Your Environment**\r\n\r\n<!--- Include as many relevant details about the environment you experienced the bug in -->\r\n\r\n| software         | version\r\n| ---------------- | -------\r\n| node-fetch       | 3.0.0-beta.8\r\n| node             | 12.18.3\r\n| npm              |\r\n| Operating System |\r\n",
                              "label": "bug",
                              "createdAt": "2020-12-04T20:01:43Z",
                              "closedAt": "2021-01-01T05:35:47Z",
                              "lastComment": "2020-12-24T23:42:58Z",
                              "commentCount": 1
                         },
                         {
                              "title": "BodyInit not accepting Blob or string types",
                              "description": "<!--- Provide a clear and concise description of what the bug is. -->\r\nI am trying to pass a string or a blob as ``BodyInit`` and it yields an error saying that the type is \r\n\r\n``type BodyInit = Blob | BufferSource | FormData | URLSearchParams | ReadableStream<Uint8Array> | string;`` \r\n\r\n```ts\r\ntype methods = 'DELETE' | 'POST' | 'GET' | 'POST';\r\nexport async function request(\r\n  url: string,\r\n  method: methods,\r\n  headers: any,\r\n  body: RequestBody<any>\r\n): Promise<any> {\r\n  const defaultHeaders = {\r\n    'Content-Type': 'application/json'\r\n  };\r\n\r\n  const requestOptions: RequestInit = {\r\n    method: method !== null ? method : 'GET',\r\n    headers:\r\n      headers !== null\r\n        ? {\r\n            ...defaultHeaders,\r\n            ...headers\r\n          }\r\n        : defaultHeaders\r\n  };\r\n  if (\r\n    body !== null &&\r\n    requestOptions.method !== 'GET' &&\r\n    requestOptions.method !== 'DELETE'\r\n  ) {\r\n    requestOptions.body = body.toBody();\r\n  }\r\n\r\n  const response = await fetch(url, requestOptions);//<--requestOptions INVALID\r\n  return response.json();\r\n}\r\n``` \r\n``` \r\nfetch/index\").RequestInit'.\r\n  Types of property 'body' are incompatible.\r\n    Type 'BodyInit' is not assignable to type 'import(\"/home/jonas/WebstormProjects/mindtherags-backend/node_modules/@types/node-fetch/index\").BodyInit'.\r\n      Type 'Blob' is not assignable to type 'BodyInit'.\r\n        Type 'Blob' is missing the following properties from type 'ArrayBuffer': byteLength, [Symbol.toStringTag]\r\n\r\n29   const response = await fetch(url, requestOptions);\r\n                                       ~~~~~~~~~~~~~~\r\n\r\n[9:40:22 PM] Found 1 error. Watching for file changes.\r\n```\r\n\r\neven converting a string to a ``Blob`` and passing it directly as ``RequestInit.body`` yields the same error. Could the type be off?\r\n\r\n```ts\r\n  const requestOptions: RequestInit = {\r\n    method: method !== null ? method : 'GET',\r\n    headers:\r\n      headers !== null\r\n        ? {\r\n            ...defaultHeaders,\r\n            ...headers\r\n          }\r\n        : defaultHeaders,\r\n    body: new Blob([JSON.stringify({ something: 'something' })], {\r\n      type: 'text/plain'\r\n    })\r\n  };\r\n\r\n  const response = await fetch(url, requestOptions);\r\n  return response.json();\r\n}\r\n```\r\n\r\n```\r\nArgument of type 'RequestInit' is not assignable to parameter of type 'import(\"/home/jonas/WebstormProjects/mindtherags-backend/node_modules/@types/node-fetch/index\").RequestInit'.\r\n  Types of property 'body' are incompatible.\r\n    Type 'BodyInit' is not assignable to type 'import(\"/home/jonas/WebstormProjects/mindtherags-backend/node_modules/@types/node-fetch/index\").BodyInit'.\r\n      Type 'Blob' is not assignable to type 'BodyInit'.\r\n        Type 'Blob' is missing the following properties from type 'ArrayBuffer': byteLength, [Symbol.toStringTag]ts(2345)\r\n```\r\n\r\n```ts\r\n    body: JSON.stringify({\r\n      something: 'something'\r\n    })\r\n```\r\ndoes not work either\r\n\r\nuninstalling ``@types/node-fetch`` and fetching through anyways with ``Blob``, ``JSON.stringify(obj)`` and ``toBody()`` as the body all yield the following error on the request\r\n\r\n```\r\n(node:145700) UnhandledPromiseRejectionWarning: TypeError: Cannot read property 'Symbol(Request internals)' of null\r\n```\r\n\r\nwhich is this function ``node-fetch``\r\n ```js\r\nconst INTERNALS$2 = Symbol('Request internals');\r\n\r\n/**\r\n * Check if a value is an instance of Request.\r\n *\r\n * @param   Mixed   input\r\n * @return  Boolean\r\n */\r\nfunction isRequest(input) {\r\n\treturn typeof input === 'object' && typeof input[INTERNALS$2] === 'object';\r\n}\r\n```\r\n\r\n**Expected behavior**\r\n\r\n``BodyInit`` accepting the ``Blob`` or the strings and performing the request\r\n\r\n**Your Environment**\r\n\r\n```\r\nnodejs -v 10.19.0\r\nnpm -v 6.14.4\r\n\"node-fetch\": \"^2.6.1\"\r\n \"@types/node-fetch\": \"^2.5.7\"\r\n```\r\n",
                              "label": "bug",
                              "createdAt": "2020-10-19T20:50:56Z",
                              "closedAt": "2022-01-24T18:50:25Z",
                              "lastComment": "2021-05-19T13:12:17Z",
                              "commentCount": 2
                         },
                         {
                              "title": "Bug: node-fetch doesn't throw an error when downloading a big file fails",
                              "description": "When downloading a file bigger than 4 GiB (= 2<sup>32</sup> bytes) with [`http`](https://nodejs.org/api/http.html) in a **32-bit** environment, *Node.js* fails and throws the `HPE_INVALID_CONSTANT` error. With *node-fetch*, the download also fails (the file is truncated), but no error is raised.\r\n\r\n**Reproduction**\r\n\r\n* *server.js*\r\n\r\n```JavaScript\r\nconst http = require(\"http\");\r\nconst stream = require(\"stream\");\r\n\r\nconst ZeroFillReadable = class extends stream.Readable {\r\n    constructor(length) {\r\n        super();\r\n        this.length = length;\r\n    }\r\n\r\n    _read() {\r\n        if (this.length === 0) {\r\n            this.push(null);\r\n        } else {\r\n            const size = Math.min(this.length, 1024);\r\n            this.push(Buffer.alloc(size));\r\n            this.length -= size;\r\n        }\r\n    }\r\n};\r\n\r\nconst server = http.createServer((req, res) => {\r\n    const length = Number.parseInt(req.url.slice(1));\r\n\r\n    res.setHeader(\"Content-Type\", \"application/octet-stream\");\r\n    res.setHeader(\"Content-Disposition\", \"attachment; filename=data.rnd\");\r\n    res.setHeader(\"Content-Length\", length);\r\n\r\n    new ZeroFillReadable(length).pipe(res);\r\n}).listen(8000, () => {\r\n    console.log(\"Listening on 8000\");\r\n});\r\n```\r\n\r\n* *client_fetch.js*\r\n\r\n```JavaScript\r\nconst fs = require(\"fs\");\r\nconst stream = require(\"stream\");\r\nconst util = require(\"util\");\r\nconst fetch = require(\"node-fetch\");\r\nconst pipeline = util.promisify(stream.pipeline);\r\n\r\nconst INPUT = \"http://localhost:8000/\";\r\nconst OUTPUT = \"/tmp/output_fetch.data\";\r\n\r\nconst length = Math.pow(2, 32) + 1024 * 1024; // 4 Gio + 1 Mio.\r\nfetch(INPUT + length).then(async (response) => {\r\n    try {\r\n        await pipeline(response.body, fs.createWriteStream(OUTPUT));\r\n    } catch (err) {\r\n        console.log(\"pipeline\", err);\r\n    }\r\n}).catch((err) => {\r\n    console.log(\"fetch\", err);\r\n});\r\n```\r\n\r\n* *client_http.js*\r\n\r\n```JavaScript\r\nconst fs = require(\"fs\");\r\nconst http = require(\"http\");\r\n\r\nconst INPUT = \"http://localhost:8000/\";\r\nconst OUTPUT = \"/tmp/output_http.data\";\r\n\r\ntry {\r\n    const length = Math.pow(2, 32) + 1024 * 1024; // 4 Gio + 1 Mio.\r\n    const request = http.request(INPUT + length, (response) => {\r\n        console.log(`request.on(\"response\")`);\r\n\r\n        const file = fs.createWriteStream(OUTPUT);\r\n        file.on(\"error\", (err) => console.log(`file.on(\"error\")`, err))\r\n            .on(\"finish\", () => console.log(`file.on(\"finish\")`))\r\n            .on(\"close\", () => console.log(`file.on(\"close\")`))\r\n            .on(\"pipe\", () => console.log(`file.on(\"pipe\")`))\r\n            .on(\"unpipe\", () => console.log(`file.on(\"unpipe\")`));\r\n\r\n        response.pipe(file)\r\n                .on(\"error\", (err) => console.log(`response.on(\"error\")`, err))\r\n                .on(\"finish\", () => console.log(`response.on(\"finish\")`))\r\n                .on(\"close\", () => console.log(`response.on(\"close\")`))\r\n                .on(\"pipe\", () => console.log(`response.on(\"pipe\")`))\r\n                .on(\"unpipe\", () => console.log(`response.on(\"unpipe\")`));\r\n    });\r\n\r\n    request.on(\"error\", (err) => console.log(`request.on(\"error\")`, err))\r\n           .on(\"finish\", () => console.log(`request.on(\"finish\")`))\r\n           .on(\"close\", () => console.log(`request.on(\"close\")`))\r\n           .on(\"pipe\", () => console.log(`request.on(\"pipe\")`))\r\n           .on(\"unpipe\", () => console.log(`request.on(\"unpipe\")`))\r\n           .end();\r\n} catch (err) {\r\n    console.trace(\"catch (err)\", err);\r\n}\r\n```\r\n\r\nSteps to reproduce the behavior:\r\n\r\n1. In a 32-bit environment.\r\n2. `node server.js`\r\n3. `node client_fetch.js`\r\n\r\n**Expected behavior**\r\n\r\nRunning `node client_fetch.js` should throw an error. With `node client_http.js` we get the following error:\r\n\r\n```\r\nError: Parse Error: Expected HTTP/\r\n    at Socket.socketOnData (_http_client.js:509:22)\r\n    at Socket.emit (events.js:314:20)\r\n    at addChunk (_stream_readable.js:307:12)\r\n    at readableAddChunk (_stream_readable.js:282:9)\r\n    at Socket.Readable.push (_stream_readable.js:221:10)\r\n    at TCP.onStreamRead (internal/stream_base_commons.js:188:23) {\r\n  bytesParsed: 16384,\r\n  code: 'HPE_INVALID_CONSTANT',\r\n  reason: 'Expected HTTP/',\r\n  rawPacket: <Buffer 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 ... 65433 more bytes>\r\n}\r\n```\r\n\r\nWith `client_http`, you can see that the error has been threw by `request.on(\"error\", ...)`. I think that *node-fetch* doesn't listen anymore to the errors associated with the `request` when it has received the `response`.\r\n\r\n**Your Environment**\r\n\r\n| software         | version\r\n| ---------------- | -------\r\n| node-fetch       | 3.0.0-beta.9 / 2.6.1\r\n| node             | v14.13.0\r\n| npm              | 6.14.8\r\n| Operating System | OSMC 2020.06-1 (Debian 9.13)\r\n| Computer | Raspberry Pi 2 Model B Rev 1.1\r\n| Processor | ARMv7 Processor rev 5 (v7l)\r\n\r\n**Additional context**\r\n\r\nI'm not asking to fix large file downloads, but I would like *node-fetch* to throw an error when it happens.",
                              "label": "bug",
                              "createdAt": "2020-10-12T14:57:32Z",
                              "closedAt": "2022-01-21T14:58:23Z",
                              "lastComment": "2022-01-21T14:58:36Z",
                              "commentCount": 8
                         },
                         {
                              "title": "Bug: ",
                              "description": "<!--- Provide a clear and concise description of what the bug is. -->\r\n\r\n**Reproduction**\r\n\r\nSteps to reproduce the behavior:\r\n\r\n1. \r\n2. \r\n3. \r\n4. \r\n\r\n**Expected behavior**\r\n\r\n<!--- If you're suggesting a change/improvement, tell us how it should work -->\r\n<!--- If fetch is behaving incorrectly, please include a link to the spec or documentation that supports that your expected behavior is correct. -->\r\n\r\n**Screenshots**\r\n\r\n<!--- If applicable, add screenshots to help explain your problem. -->\r\n\r\n**Your Environment**\r\n\r\n<!--- Include as many relevant details about the environment you experienced the bug in -->\r\n\r\n| software         | version\r\n| ---------------- | -------\r\n| node-fetch       |\r\n| node             |\r\n| npm              |\r\n| Operating System |\r\n\r\n**Additional context**\r\n\r\n<!--- Add any other context about the problem here. -->\r\n",
                              "label": "bug",
                              "createdAt": "2020-09-28T20:49:31Z",
                              "closedAt": "2020-09-28T21:02:46Z",
                              "lastComment": "",
                              "commentCount": 0
                         },
                         {
                              "title": "Bug: ",
                              "description": "<!--- Provide a clear and concise description of what the bug is. -->\r\n\r\n**Reproduction**\r\nI can't seem to detect when the stream is closed if the server abruptly resets the connection. In fact i don't think node-fetch closes the stream if the connection is reset which makes the application hang. Is there a way to detect this when working with streams?\r\n\r\n**Your Environment**\r\n\r\n<!--- Include as many relevant details about the environment you experienced the bug in -->\r\n\r\n| software         | version\r\n| ---------------- | -------\r\n| node-fetch       | 2.6.0\r\n| node             | 14.9.0\r\n| npm              |\r\n| Operating System | Windows 10, Linux\r\n\r\n**Additional context**\r\n\r\n<!--- Add any other context about the problem here. -->\r\n\r\n\r\n```\r\nconst express = require('express');\r\nconst fetch = require('node-fetch');\r\n\r\nconst { Writable, Readable } = require('stream');\r\n\r\nconst nullStream = new Writable({\r\n  write(chunk, enc, cb) {\r\n    console.log('got chunk');\r\n    cb();\r\n  }\r\n})\r\n\r\nconst zeroStream = new Readable({\r\n  read(sz) {\r\n    this.push(new Uint8Array(sz).fill(0));\r\n    console.log('sent chunk');\r\n  }\r\n})\r\n\r\nfunction awaitStream(stream) {\r\n  return new Promise((res, rej) => {\r\n    stream.on('end', res);\r\n    stream.on('close', res);\r\n    stream.on('finish', res);\r\n    stream.on('error', rej);\r\n    stream.on('unpipe', rej);\r\n  });\r\n}\r\n\r\nasync function main() {\r\n  const app = express();\r\n  app.use('/test', (req, res) => {\r\n    res.status(200);\r\n    zeroStream.pipe(res);\r\n    setTimeout(() => res.socket.destroy(), 10);\r\n  });\r\n\r\n  app.listen(9999);\r\n\r\n  const res = await fetch(\"http://localhost:9999/test\");\r\n  if (res.ok) {\r\n    res.body.pipe(nullStream);\r\n    setTimeout(() => {\r\n      console.log(`stream destroyed? ${res.body.destroyed}`);\r\n    }, 1000)\r\n    await awaitStream(res.body);\r\n  }\r\n}\r\n\r\nmain();\r\n```",
                              "label": "bug",
                              "createdAt": "2020-09-27T07:02:59Z",
                              "closedAt": "2021-03-12T00:58:20Z",
                              "lastComment": "2021-01-10T00:19:07Z",
                              "commentCount": 4
                         },
                         {
                              "title": "Bug: Typescript definition file index.d.ts is missing insecureHTTPParser",
                              "description": "<!--- Provide a clear and concise description of what the bug is. -->\r\n\r\n**Reproduction**\r\n\r\nfetch(\"./user-details\", {\r\n    method: \"POST\",\r\n    headers: headers,\r\n    body: JSON.stringify({ userId: userId }),\r\n    insecureHTTPParser: true,\r\n  }) \r\n\r\nGives typescript error: Object literal may only specify known properties, and 'insecureHTTPParser' does not exist in type 'RequestInit'.\r\n\r\n| software         | version\r\n| ---------------- | -------\r\n| node-fetch    | 3.0.0-beta.9\r\n| node             | 14.4.0\r\n| npm              | 6.14.5\r\n| Operating System | Linux MInt\r\n\r\n\r\n",
                              "label": "bug",
                              "createdAt": "2020-09-16T14:08:57Z",
                              "closedAt": "2021-03-11T02:51:32Z",
                              "lastComment": "",
                              "commentCount": 0
                         },
                         {
                              "title": "Bug: Link to error handling on NPMJS is broken",
                              "description": "**Reproduction**\r\n\r\nSteps to reproduce the behavior:\r\n\r\n1. Go to https://www.npmjs.com/package/node-fetch#handling-client-and-server-errors \r\n2. Click on the `error handling document` link\r\n3. See that it links to the wrong URL\r\n\r\n**Expected behavior**\r\n\r\nThe link should work. \r\n\r\nIt should link to `https://github.com/node-fetch/node-fetch/blob/master/docs/ERROR-HANDLING.md`\r\n\r\n**Screenshots**\r\n\r\n![image](https://user-images.githubusercontent.com/45217974/93270295-20d01000-f7b1-11ea-8965-0292e3e715a8.png)",
                              "label": "bug",
                              "createdAt": "2020-09-15T22:12:02Z",
                              "closedAt": "2020-09-16T04:27:37Z",
                              "lastComment": "2020-09-16T04:27:37Z",
                              "commentCount": 1
                         },
                         {
                              "title": "Bug: Denial of Service when using npm",
                              "description": "<!--- Provide a clear and concise description of what the bug is. -->\r\n\r\n**Reproduction**\r\n\r\nSteps to reproduce the behavior:\r\n\r\n1. run `npm audit`\r\n2. cannot be fixed by running `npm audit fix`\r\n\r\n**Expected behavior**\r\n\r\n<!--- If you're suggesting a change/improvement, tell us how it should work -->\r\n<!--- If fetch is behaving incorrectly, please include a link to the spec or documentation that supports that your expected behavior is correct. -->\r\n\r\nno vulnerabilities\r\n\r\n**Screenshots**\r\n\r\n<!--- If applicable, add screenshots to help explain your problem. -->\r\n\r\n![Screenshot 2020-09-14 at 2 02 15 PM](https://user-images.githubusercontent.com/232541/93049264-3ea75300-f693-11ea-8ffa-6b0a561a6120.png)\r\n\r\n\r\n**Your Environment**\r\n\r\n<!--- Include as many relevant details about the environment you experienced the bug in -->\r\n\r\n| software         | version\r\n| ---------------- | -------\r\n| node-fetch       | latest\r\n| node             | latest\r\n| npm              | latest\r\n| Operating System | latest macOs\r\n",
                              "label": "bug",
                              "createdAt": "2020-09-14T06:06:45Z",
                              "closedAt": "2020-09-14T06:08:59Z",
                              "lastComment": "2020-09-14T06:08:59Z",
                              "commentCount": 1
                         },
                         {
                              "title": "Bug: body.pipe is not a function",
                              "description": "**Reproduction**\r\n\r\nSteps to reproduce the behavior:\r\n\r\nI am using node-fetch version 2.6.1 the following way:\r\n\r\n```\r\nconst nFetch = require(\"node-fetch\");\r\nnFetch(url, options).then(response => {\r\n    response.body.pipe(fs.createWriteStream(\"test.png\"));\r\n});\r\n```\r\nHowever, I am getting the following error: `response.body.pipe is not a function`. Apparently, the body object is of type [ReadableStream](https://developer.mozilla.org/de/docs/Web/API/ReadableStream) but not a NodeJS readable stream.\r\n**Expected behavior**\r\nI expect the `pipe` function to exist, as specified in the example\r\n\r\n**Screenshots**\r\n\r\n<img width=\"355\" alt=\"ReadableStream\" src=\"https://user-images.githubusercontent.com/18309528/92465123-72cfcf00-f1ce-11ea-8740-d6762be9227f.png\">\r\n\r\n\r\n**Your Environment**\r\n\r\n<!--- Include as many relevant details about the environment you experienced the bug in -->\r\n\r\n| software         | version\r\n| ---------------- | -------\r\n| node-fetch       | 2.6.1\r\n| node             | 14.9.0\r\n| npm              | 6.14.8\r\n| Operating System | macOS 10.15.5\r\n| electron | 10.1.1\r\n\r\n**Additional context**\r\n\r\nI also tried to use node-fetch version 3, but since I am using electron, I am encountering [this bug](https://github.com/node-fetch/node-fetch/issues/917).\r\n\r\n\r\nThanks for your help!",
                              "label": "bug",
                              "createdAt": "2020-09-08T10:28:13Z",
                              "closedAt": "2022-01-22T22:56:59Z",
                              "lastComment": "2020-09-13T14:28:44Z",
                              "commentCount": 1
                         },
                         {
                              "title": "Feature request: support response.buffer('base64')",
                              "description": "**Is your feature request related to a problem? Please describe.**\r\n\r\n<!-- A clear and concise description of what the problem is. Ex. I'm always frustrated when [...] -->\r\n\r\nAWS Lambda serverless can't return raw binary data, so we need to respond with base64-encoded data, this looks like:\r\n```js\r\nconst pdfBuffer = await fetch(lambdaUrl, opts)\r\n  .then(r => r.text())\r\n  .then(text => Buffer.from(text, 'base64'));\r\n\r\n// fs.writeFileSync('test.pdf', pdfBuffer); // for debug\r\n```\r\nThis doesn't work:\r\n```js\r\nconst pdfBuffer = await fetch(lambdaUrl, opts)\r\n  .then(r => r.buffer());\r\n```\r\n\r\n**Describe the solution you'd like**\r\n\r\n<!-- A clear and concise description of what you want to happen. -->\r\nIt'd be great to support a more concise way:\r\n```js\r\nconst pdfBuffer = await fetch(lambdaUrl, opts)\r\n  .then(r => r.buffer('base64'));\r\n```\r\n\r\n**Describe alternatives you've considered**\r\n\r\n<!-- A clear and concise description of any alternative solutions or features you've considered. -->\r\nI considered something ugly like (supported in v3)\r\n```js\r\nconst pdfBuffer = await fetch(lambdaUrl, opts)\r\n  .then(r => fetch(`data:application/pdf;base64,${await r.text()}`))\r\n  .then(r => r.buffer());\r\n```\r\n\r\nWe could also add a feature request on what-wg fetch Response#arrayBuffer\r\n\r\n**Additional context**\r\n\r\n<!-- Add any other context or screenshots about the feature request here. -->\r\n",
                              "label": "unlabeledBug",
                              "createdAt": "2020-09-04T11:43:59Z",
                              "closedAt": "2020-09-04T19:07:02Z",
                              "lastComment": "2020-09-04T18:56:47Z",
                              "commentCount": 2
                         },
                         {
                              "title": "Bug: Zero length deflate responses are never fulfilled",
                              "description": "Some older ISS servers can send zero-length deflate responses. This causes the response to ‘slip through the cracks’, leading to the response promise to never be fulfilled.\r\n\r\nI created a PR #903 to fix this over a month ago, but I am creating an issue due to inactivity.\r\n\r\n**Reproduction**\r\n\r\nMore detail can be be found in the PR. This affects both version 2.x and 3.x. Essentially any response similar to\r\n\r\n```http\r\nHTTP/1.1 200 OK\r\nContent-Encoding: deflate\r\nContent-Length: 0\r\nServer: Microsoft-IIS/7.5\r\n```\r\n\r\n**Expected behaviour**\r\n\r\nThe node-fetch response promise should be fulfilled.",
                              "label": "bug",
                              "createdAt": "2020-09-02T17:25:52Z",
                              "closedAt": "2022-01-16T23:41:38Z",
                              "lastComment": "2022-01-20T20:43:58Z",
                              "commentCount": 1
                         },
                         {
                              "title": "Bug:  'signal' not working",
                              "description": "```js\r\nconst fetch = require('node-fetch');\r\nconst AbortController = require('abort-controller');\r\n\r\n\r\nconst controller = new AbortController();\r\nconst signal = controller.signal;\r\n\r\nsetTimeout(() => {\r\n    controller.abort();\r\n}, 150);\r\n\r\nsignal.addEventListener(\"abort\", () => {\r\n    console.log(\"aborted!\");\r\n});\r\n\r\n(async () => {\r\n    try {\r\n        const response = await fetch('https://yahoo.com', { signal: signal });\r\n        const data = await response.text();\r\n        console.log(data);\r\n    } catch (error) {\r\n        if (error.name === 'AbortError') {\r\n            console.log('request was aborted');\r\n        }\r\n    } finally {\r\n        console.log('done.');\r\n    }\r\n})();\r\n```\r\n\r\nfetch 'signal' option - not working .. try code.",
                              "label": "bug",
                              "createdAt": "2020-08-13T09:35:29Z",
                              "closedAt": "2020-08-14T13:45:02Z",
                              "lastComment": "2020-08-14T13:44:58Z",
                              "commentCount": 5
                         },
                         {
                              "title": "Bug: 3.0.0-beta.7's package.json cannot be required in nodejs ^12.7.0",
                              "description": "<!--- Provide a clear and concise description of what the bug is. -->\r\n\r\n**Reproduction**\r\n\r\nSteps to reproduce the behaviour:\r\n\r\n1. Install nodejs 12.7.0 and node-fetch@latest\r\n2. Create a script containing `require('node-fetch/package.json')`\r\n3. Run the script\r\n4. \r\n\r\n```\r\n$ node nf.js\r\ninternal/modules/cjs/loader.js:491\r\n  throw new ERR_PACKAGE_PATH_NOT_EXPORTED(basePath, mappingKey);\r\n  ^\r\n\r\nError [ERR_PACKAGE_PATH_NOT_EXPORTED]: Package subpath './package.json' is not defined by \"exports\" in /Users/wheresrhys/Projects/fetch-mock/node_modules/node-fetch/package.json\r\n    at applyExports (internal/modules/cjs/loader.js:491:9)\r\n    at resolveExports (internal/modules/cjs/loader.js:507:23)\r\n    at Function.Module._findPath (internal/modules/cjs/loader.js:635:31)\r\n    at Function.Module._resolveFilename (internal/modules/cjs/loader.js:953:27)\r\n    at Function.Module._load (internal/modules/cjs/loader.js:842:27)\r\n    at Module.require (internal/modules/cjs/loader.js:1026:19)\r\n    at require (internal/modules/cjs/helpers.js:72:18)\r\n    at Object.<anonymous> (/Users/wheresrhys/Projects/fetch-mock/nf.js:1:1)\r\n    at Module._compile (internal/modules/cjs/loader.js:1138:30)\r\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:1158:10) {\r\n  code: 'ERR_PACKAGE_PATH_NOT_EXPORTED'\r\n}\r\n\r\n```\r\n\r\n**Expected behaviour**\r\n\r\nNo error (as is the case with node-fetch@2.x or node-fetch@latest with nodejs<12.7.0)\r\n\r\n**Your Environment**\r\n\r\n\r\n\r\n| software         | version\r\n| ---------------- | -------\r\n| node-fetch       | 3.0.0-beta.7\r\n| node             | 12.7.0 (also recreated in 12.8.0 and 12.8.3)\r\n| npm              | 6.14.4\r\n| Operating System | MacOS 10.14.6 (Mojave) + iTerm running bash\r\n\r\n**Additional context**\r\n\r\nTBH this feels like it could be a bug in nodejs (side effect of [removing the experimental-modules flag?](https://github.com/nodejs/node/releases/tag/v12.17.0)), but thought I'd raise here first as you're more likely to know any context relevant to the node-fetch library I may have missed",
                              "label": "bug",
                              "createdAt": "2020-08-02T20:07:51Z",
                              "closedAt": "2020-08-06T22:10:07Z",
                              "lastComment": "2020-08-02T20:13:11Z",
                              "commentCount": 1
                         },
                         {
                              "title": "Bug: Type 'FormData' is not assignable to type 'string | Buffer | Blob | URLSearchParams | ReadableStream | null | undefined'",
                              "description": "<!--- Provide a clear and concise description of what the bug is. -->\r\n\r\n**Reproduction**\r\n\r\n```ts\r\nimport FormData from \"formdata-node\";\r\nimport fetch from \"node-fetch\";\r\n\r\nconst form = new FormData();\r\nform.append(\"file\", fileBuffer, \"_Otvet_Reizler1.pdf\");\r\n\r\nconst response = await fetch(NLP_URL, {\r\n  method: \"POST\",\r\n  body: form\r\n});\r\n```\r\n\r\n/cc @octet-stream ",
                              "label": "bug",
                              "createdAt": "2020-07-15T13:08:15Z",
                              "closedAt": "2022-01-22T22:58:14Z",
                              "lastComment": "2020-10-26T06:48:30Z",
                              "commentCount": 3
                         },
                         {
                              "title": "Bug: \"Known Differences\" page on npm page doesn't exist. ",
                              "description": "<!--- Provide a clear and concise description of what the bug is. -->\r\n\r\n**Reproduction**\r\n\r\nSteps to reproduce the behavior:\r\n\r\n1. Go to the npm page for `node-fetch`\r\n2. Click on the \"Known Differences\" link under \"Difference from client-side fetch\"\r\n\r\n**Expected behavior**\r\n\r\nPage should load.\r\n\r\n<!--- If you're suggesting a change/improvement, tell us how it should work -->\r\n<!--- If fetch is behaving incorrectly, please include a link to the spec or documentation that supports that your expected behavior is correct. -->\r\n\r\n**Screenshots**\r\n\r\n![image](https://user-images.githubusercontent.com/35735666/87159860-fed97f00-c28f-11ea-8a0c-c10accc0883e.png)\r\n\r\n\r\n<!--- If applicable, add screenshots to help explain your problem. -->\r\n\r\n**Your Environment**\r\n\r\n<!--- Include as many relevant details about the environment you experienced the bug in -->\r\n\r\n| software         | version\r\n| ---------------- | -------\r\n| node-fetch       |\r\n| node             |\r\n| npm              |\r\n| Operating System |\r\n\r\n**Additional context**\r\n\r\n<!--- Add any other context about the problem here. -->\r\n",
                              "label": "bug",
                              "createdAt": "2020-07-10T13:30:46Z",
                              "closedAt": "2020-07-27T13:00:12Z",
                              "lastComment": "2020-07-27T13:00:12Z",
                              "commentCount": 1
                         },
                         {
                              "title": "Bug: incorrect node version requirements",
                              "description": "The current node versions allowed are\r\n\r\n```\r\n\t\"engines\": {\r\n\t\t\"node\": \"^10.17 || >=12.3\"\r\n\t},\r\n```\r\n\r\nHowever, the latest version of node 12 is `12.18.2`. This means the only version allowed is `^10.17`, because there are no node releases that match the `12` requirement.",
                              "label": "bug",
                              "createdAt": "2020-07-07T14:53:24Z",
                              "closedAt": "2020-07-07T14:56:44Z",
                              "lastComment": "",
                              "commentCount": 0
                         },
                         {
                              "title": "Bug: missing return after \"reject(error)\"",
                              "description": "Missing return after \"reject(error)\". See https://github.com/node-fetch/node-fetch/blob/0f0e6253ae92c5192b07803e4176df0f4e69f8ff/src/index.js#L124\r\n\r\n**Your Environment**\r\n\r\n<!--- Include as many relevant details about the environment you experienced the bug in -->\r\n\r\n| software         | version\r\n| ---------------- | -------\r\n| node-fetch       | 3.0.0-beta.7\r\n| node             | v14.4.0\r\n| npm              | 6.14.5\r\n| Operating System | Ubuntu 18.04.4\r\n",
                              "label": "bug",
                              "createdAt": "2020-06-27T09:46:54Z",
                              "closedAt": "2021-01-01T05:38:12Z",
                              "lastComment": "2020-06-30T12:45:31Z",
                              "commentCount": 4
                         },
                         {
                              "title": "Bug: Uncaught error: \"TypeError [ERR_INVALID_URL]: Invalid URL: https://\"",
                              "description": "Uncaught error: `TypeError [ERR_INVALID_URL]: Invalid URL: https://`\r\n\r\n**Reproduction**\r\n\r\nSee the [PoC](https://repl.it/repls/UnfoldedShockingLocus#index.js)\r\n\r\n```javascript\r\nconst Koa = require(\"koa\");\r\nconst fetch = require(\"node-fetch\");\r\n\r\nconst app = new Koa();\r\n\r\napp.use(async ctx => {\r\n  ctx.set(\"Location\", \"https://\");\r\n  ctx.status = 301;\r\n});\r\n\r\napp.listen(3000);\r\n\r\n(async () => {\r\n  try {\r\n    await fetch(\"http://localhost:3000\");\r\n  } catch (error) {\r\n    console.log(\"catch\");\r\n  }\r\n  console.log(\"done\");\r\n})();\r\n```\r\n\r\n**Expected behavior**\r\n\r\nThe PoC should print: \r\n\r\n```\r\ncatch\r\ndone\r\n```\r\n\r\n**Actual behavior**\r\n\r\nThe PoC prints:\r\n\r\n```\r\ninternal/url.js:257\r\n  throw new ERR_INVALID_URL(input);\r\n  ^\r\n\r\nTypeError [ERR_INVALID_URL]: Invalid URL: https://\r\n    at onParseError (internal/url.js:257:9)\r\n    at new URL (internal/url.js:333:5)\r\n    at ClientRequest.<anonymous> (/home/runner/UnfoldedShockingLocus/node_modules/node-fetch/dist/index.cjs:1291:52)\r\n    at ClientRequest.emit (events.js:310:20)\r\n    at ClientRequest.EventEmitter.emit (domain.js:482:12)\r\n    at HTTPParser.parserOnIncomingClient [as onIncoming] (_http_client.js:596:27)\r\n    at HTTPParser.parserOnHeadersComplete (_http_common.js:119:17)\r\n    at Socket.socketOnData (_http_client.js:469:22)\r\n    at Socket.emit (events.js:310:20)\r\n    at Socket.EventEmitter.emit (domain.js:482:12) {\r\n  input: 'https://',\r\n  code: 'ERR_INVALID_URL'\r\n}\r\n```\r\n\r\n**Your Environment**\r\n\r\n| software         | version\r\n| ---------------- | -------\r\n| node-fetch       | 3.0.0-beta.7\r\n| node             | 12.16.3\r\n| npm              | 6.14.4\r\n| Operating System | Linux\r\n\r\n",
                              "label": "bug",
                              "createdAt": "2020-06-26T21:43:33Z",
                              "closedAt": "2022-01-22T23:17:39Z",
                              "lastComment": "2022-01-22T23:17:39Z",
                              "commentCount": 10
                         },
                         {
                              "title": "Bug: Timeout not work even explicitly specified",
                              "description": "<!--- Provide a clear and concise description of what the bug is. -->\r\n\r\n**Reproduction**\r\n\r\nSteps to reproduce the behavior:\r\n\r\n1.  using node-fetch to make a common http call to a service\r\n2. with timeout set like 10000ms\r\n3. \r\n4. \r\n\r\n**Expected behavior**\r\nafter 10000ms, request should stop and return timeout error\r\n\r\n**Additional context**\r\nMy case here it just hangs there, and my gracefully exit comes after requests are done, so do we have a reliable way for request timeout? \r\nI do see people suggesting abortController with signal, is this the standard and reliable way?\r\n\r\nThanks\r\n",
                              "label": "bug",
                              "createdAt": "2020-06-15T11:03:40Z",
                              "closedAt": "2020-06-15T12:01:14Z",
                              "lastComment": "2020-06-15T12:04:25Z",
                              "commentCount": 1
                         },
                         {
                              "title": "Bug: beta6 dist file references fetch before it is declared",
                              "description": "<!--- Provide a clear and concise description of what the bug is. -->\r\n\r\n**Reproduction**\r\n\r\nSteps to reproduce the behavior:\r\n\r\n1. `npm install node-fetch@3.0.0-beta.6`\r\n2. Try requiring in a commonjs file, get something like the following error:\r\n```shell\r\n$ make test\r\nmocha --file test/server-setup.js test/{server-specs,specs}/*.test.js test/specs/**/*.test.js\r\n\r\nReferenceError: Cannot access 'fetch' before initialization\r\n    at Object.<anonymous> (/Users/wheresrhys/Projects/fetch-mock/node_modules/node-fetch/dist/index.cjs:3:28)\r\n    at Module._compile (internal/modules/cjs/loader.js:1133:30)\r\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:1153:10)\r\n    at Module.load (internal/modules/cjs/loader.js:977:32)\r\n    at Function.Module._load (internal/modules/cjs/loader.js:877:14)\r\n    at Module.require (internal/modules/cjs/loader.js:1019:19)\r\n    at require (internal/modules/cjs/helpers.js:77:18)\r\n    at Object.<anonymous> (/Users/wheresrhys/Projects/fetch-mock/src/server.js:9:10)\r\n    at Module._compile (internal/modules/cjs/loader.js:1133:30)\r\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:1153:10)\r\n    at Module.load (internal/modules/cjs/loader.js:977:32)\r\n    at Function.Module._load (internal/modules/cjs/loader.js:877:14)\r\n    at Module.require (internal/modules/cjs/loader.js:1019:19)\r\n    at require (internal/modules/cjs/helpers.js:77:18)\r\n    at Object.<anonymous> (/Users/wheresrhys/Projects/fetch-mock/test/server-setup.js:1:19)\r\n    at Module._compile (internal/modules/cjs/loader.js:1133:30)\r\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:1153:10)\r\n    at Module.load (internal/modules/cjs/loader.js:977:32)\r\n    at Function.Module._load (internal/modules/cjs/loader.js:877:14)\r\n    at Module.require (internal/modules/cjs/loader.js:1019:19)\r\n    at require (internal/modules/cjs/helpers.js:77:18)\r\n    at requireOrImport (/Users/wheresrhys/Projects/fetch-mock/node_modules/mocha/lib/esm-utils.js:15:12)\r\n    at Object.exports.loadFilesAsync (/Users/wheresrhys/Projects/fetch-mock/node_modules/mocha/lib/esm-utils.js:28:26)\r\n    at Mocha.loadFilesAsync (/Users/wheresrhys/Projects/fetch-mock/node_modules/mocha/lib/mocha.js:351:19)\r\n    at singleRun (/Users/wheresrhys/Projects/fetch-mock/node_modules/mocha/lib/cli/run-helpers.js:107:15)\r\n    at exports.runMocha (/Users/wheresrhys/Projects/fetch-mock/node_modules/mocha/lib/cli/run-helpers.js:144:11)\r\n    at Object.exports.handler (/Users/wheresrhys/Projects/fetch-mock/node_modules/mocha/lib/cli/run.js:306:11)\r\n    at Object.runCommand (/Users/wheresrhys/Projects/fetch-mock/node_modules/mocha/node_modules/yargs/lib/command.js:242:26)\r\n    at Object.parseArgs [as _parseArgs] (/Users/wheresrhys/Projects/fetch-mock/node_modules/mocha/node_modules/yargs/yargs.js:1096:28)\r\n    at Object.parse (/Users/wheresrhys/Projects/fetch-mock/node_modules/mocha/node_modules/yargs/yargs.js:575:25)\r\n    at Object.exports.main (/Users/wheresrhys/Projects/fetch-mock/node_modules/mocha/lib/cli/cli.js:68:6)\r\n    at Object.<anonymous> (/Users/wheresrhys/Projects/fetch-mock/node_modules/mocha/bin/mocha:133:29)\r\n    at Module._compile (internal/modules/cjs/loader.js:1133:30)\r\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:1153:10)\r\n    at Module.load (internal/modules/cjs/loader.js:977:32)\r\n    at Function.Module._load (internal/modules/cjs/loader.js:877:14)\r\n    at Function.executeUserEntryPoint [as runMain] (internal/modules/run_main.js:74:12)\r\n    at internal/main/run_main_module.js:18:47\r\nmake: *** [test] Error 1\r\n```\r\n3. Looking at `index.cjs`, `fetch` is indeed referenced early on, before it is declared\r\n```\r\n'use strict';\r\n\r\nexports = module.exports = fetch;\r\n```\r\n**Expected behavior**\r\nIn node-fetch@beta.5 this bundling problem does not occur\r\n**Your Environment**\r\n\r\n<!--- Include as many relevant details about the environment you experienced the bug in -->\r\n\r\n| software         | version\r\n| ---------------- | -------\r\n| node-fetch       | 3.0.0-beta.6\r\n| node             | 12.16.3\r\n| npm              | 6.14.4\r\n| Operating System | MacOS mojave\r\n",
                              "label": "bug",
                              "createdAt": "2020-05-31T15:00:02Z",
                              "closedAt": "2020-05-31T15:41:08Z",
                              "lastComment": "2020-05-31T15:21:58Z",
                              "commentCount": 1
                         },
                         {
                              "title": "Bug: We already broke custom Promises",
                              "description": "Now [famous PR](https://github.com/node-fetch/node-fetch/pull/829/files#diff-f0c01727e5628483090afb5bc8c36be6R84) also introduced `async` functions into `body.js` code, practically rendering useless custom Promises.\r\nThat should be finished or rolled back.",
                              "label": "bug",
                              "createdAt": "2020-05-28T03:30:57Z",
                              "closedAt": "2020-05-28T21:57:58Z",
                              "lastComment": "",
                              "commentCount": 0
                         },
                         {
                              "title": "Bug: Build artifact at Beta 6 is different from `npm run build`",
                              "description": "```js\r\n// `npm run build` output dist/index.cjs\r\n\r\n'use strict';\r\n\r\nexports = module.exports = fetch;\r\n\r\nfunction fetch(url, options_) { \r\n// ...\r\n}\r\n```\r\n\r\nvs\r\n\r\n```js\r\n// published 3.0.beta-6 dist/index.cjs\r\n'use strict';\r\n\r\nexports = module.exports = fetch;\r\n\r\nconst fetch = (url, options_) => {\r\n// ..\r\n}\r\n//\r\n```\r\n\r\nNot sure if there is an extra pre-publishing step performed, but as a result `beta.6` is completely broken.",
                              "label": "bug",
                              "createdAt": "2020-05-25T16:52:56Z",
                              "closedAt": "2020-05-25T19:52:40Z",
                              "lastComment": "2020-05-25T19:52:40Z",
                              "commentCount": 9
                         },
                         {
                              "title": "Bug: Differences in package installation locations of devDependencies based on package manager",
                              "description": "<!--- Provide a clear and concise description of what the bug is. -->\r\n\r\n**Reproduction**\r\n\r\nSteps to reproduce the behaviour:\r\n\r\n1. Run `yarn`\r\n2. Run `yarn test`\r\n\r\nSince yarn installs binaries like c8 to a different directory than npm, it can't find the absolutely declared directories in the `test` script.\r\n\r\n**Expected behaviour**\r\n\r\n<!--- If you're suggesting a change/improvement, tell us how it should work -->\r\n<!--- If fetch is behaving incorrectly, please include a link to the spec or documentation that supports that your expected behavior is correct. -->\r\n\r\nThe binary directories shouldn't be absolutely declared but detecting them or using esm would affect coverage. We should either switch back to nyc or use Node.js v13.2.0 for testing which has esm module support enabled by default.\r\n\r\n**Your Environment**\r\n\r\n<!--- Include as many relevant details about the environment you experienced the bug in -->\r\n\r\n| software         | version\r\n| ---------------- | -------\r\n| node-fetch       | [`a6a933fa5a`](https://github.com/node-fetch/node-fetch/tree/a6a933fa5a1fd673bba332e20628a44245fecdce)\r\n| node             | 12.14.1\r\n| npm              | 6.13.4\r\n| yarn             | 1.19.1\r\n| Operating System | Windows 10 v1903",
                              "label": "bug",
                              "createdAt": "2020-05-24T05:25:57Z",
                              "closedAt": "2022-01-23T00:02:20Z",
                              "lastComment": "2020-05-24T19:06:25Z",
                              "commentCount": 4
                         },
                         {
                              "title": "`AbortError` is not exported",
                              "description": "Hi, I noticed that `FetchError` is exported but `AbortError` is not. This means I'm unable to use the error type. Is this intentional?\r\n\r\n(Apologies if this is already fixed in the v3 beta.)",
                              "label": "unlabeledBug",
                              "createdAt": "2020-05-06T11:40:56Z",
                              "closedAt": "2020-05-06T11:47:57Z",
                              "lastComment": "2021-08-25T18:26:56Z",
                              "commentCount": 4
                         },
                         {
                              "title": "Header.forEach incosistent with standard fetch API",
                              "description": "Following fragment will have different results depending if it runs in browser or in node using `node-fetch`.\r\n\r\n```js\r\nconst headers = new Headers() // eslint-disable-line no-undef\r\nheaders.append('Authorization', 'Basic hoop-la')\r\nheaders.append('Authorization', 'Advanced hoop-la')\r\n\r\nheaders.forEach((headerValue, header) => {\r\n  console.dir(headerValue);\r\n}); \r\n```\r\n\r\n### Result in browser\r\n```\r\nLoop1: Basic hoop-la, Advanced hoop-la\r\n```\r\n\r\n### Result with node-fetch in node.js\r\n\r\n```\r\nLoop1: Basic hoop-la\r\nLoop2: Advanced hoop-la'\r\n```\r\n\r\nThe distinction is quite big and building inter-op doesn't seem to be the right thing to do (doing ifing). Could we fix that in v3.x? It's already major release and contains breaking changes. The browser joins the header with multiple values according to [spec](https://fetch.spec.whatwg.org/#concept-headers-append) before it feeds it to `forEach` function. `node-fetch` iterates all the values instead.",
                              "label": "unlabeledBug",
                              "createdAt": "2020-05-01T15:02:21Z",
                              "closedAt": "2020-05-01T18:27:40Z",
                              "lastComment": "2020-05-01T18:27:40Z",
                              "commentCount": 2
                         },
                         {
                              "title": "doesn't correctly handle multiple `content-type` values",
                              "description": "I found a peculiar issue of incompatibility of this library comparing to native browser fetch version. Affected **version 2.6.0**\r\n\r\nSteps to reproduce:\r\n\r\n**1.) Create simple node server and run it**\r\n```js\r\nconst http = require('http');\r\n\r\nconst requestListener = function (req, res) {\r\n  res.setHeader('Cookie', ['one=1', 'two=2']);\r\n  res.setHeader('Content-Type', ['text/plain', 'application/json']);\r\n  res.writeHead(200);\r\n  res.end('Hello, World!');\r\n}\r\n\r\nconst server = http.createServer(requestListener);\r\nserver.listen(8080);\r\n```\r\n\r\n**2.) Fetch the server**\r\n\r\n`In browser`\r\n```js\r\nfetch('http://localhost:8080').then(r => r.headers).then(h => h.get('Content-Type')).then(console.dir);\r\n// text/plain, application/json\r\n```\r\n\r\n`node-fetch`\r\n```js\r\nfetch('http://localhost:8080').then(r => r.headers).then(h => h.get('Content-Type')).then(console.dir);\r\n// text/plain\r\n```\r\nAs you can see, `node-fetch` doesn't correctly handle multiple headers with the same name.",
                              "label": "bug",
                              "createdAt": "2020-04-22T13:33:15Z",
                              "closedAt": "2020-05-25T14:43:10Z",
                              "lastComment": "2020-05-01T14:37:14Z",
                              "commentCount": 4
                         },
                         {
                              "title": "v3 incorrectly strips out question mark from URL when no query params after question mark",
                              "description": "This bug is somehow related to #749 \r\n\r\nWhen I want to get an url like that: \"https://example.com/resource?\" the path sent to the server should include a question mark, even I specified no parameters. v3 node-fetch strips question mark out. Similar issue for python library, where question if this should be included or not has already been discussed is here: https://github.com/psf/requests/issues/2912, especially see this: https://github.com/psf/requests/issues/2912#issuecomment-162345429 - tl;dr spec defines that question mark should be included in this case\r\n\r\nThis works as expected in node-fetch v2 and of course works as expected in browser \"real\" `fetch`\r\n\r\nDemo code for node:\r\n```\r\nconst fetch = require(\"node-fetch\").default;\r\n\r\n(async () => {\r\n    const ny = await fetch(\"https://s.o7o.pl/cUNtAD?\").then(r => r.text());\r\n    console.log(\"is result ok?\", ny.includes(\"s.o7o.pl\"));\r\n})().catch(e => console.error(\"main\", e));\r\n```\r\n\r\nDemo for \"real\" fetch in browser:\r\n- head to https://s.o7o.pl/ (to avoid CORS issues)\r\n- open dev tools console\r\n- paste code from node demo, but strip out `require` line\r\n\r\nExplaination of demo:\r\ns.o7o.pl is a private use url shortener, under URL: `https://s.o7o.pl/cUNtAD` there is redirection to npmjs.com page, but when question mark is added to url then html page with target url is shown instead (similar to bit.ly behavior, but they use \"+\" sign). Some other APIs may rely on that.\r\n\r\nPR incoming.",
                              "label": "bug",
                              "createdAt": "2020-04-13T19:41:12Z",
                              "closedAt": "2020-04-20T19:42:52Z",
                              "lastComment": "",
                              "commentCount": 0
                         },
                         {
                              "title": "tests broken since fixing proper export for fetch",
                              "description": "tests are broken since 7c66f9ce822a3a06fe01eb583a30b4c087c596c2\r\n(after adding `module.exports = fetch;`)\r\n\r\nadding this fixes it\r\n```\r\nfetch.Headers = Headers;\r\nfetch.Request = Request;\r\nfetch.Response = Response;\r\nfetch.FetchError = FetchError;\r\n```\r\n\r\nEDIT: I'm not sure if this is the solution pkg maintainers would like or do tests need to be rewritten?",
                              "label": "unlabeledBug",
                              "createdAt": "2020-03-23T00:44:41Z",
                              "closedAt": "2020-04-08T04:29:18Z",
                              "lastComment": "2020-04-08T04:29:18Z",
                              "commentCount": 1
                         },
                         {
                              "title": "v3 incorrectly strips out GET params [?]",
                              "description": "Example code, use Node 13.2+:\r\n\r\n`index.mjs`\r\n```javascript\r\nimport express from \"express\";\r\nimport f from \"node-fetch\";\r\nconst fetch = f.default; // Native ESM\r\n\r\nconst app = express();\r\napp.get(\"*\", (req, res) => {\r\n    console.log(\"srv\", req.url)\r\n    res.send(\"yo\");\r\n});\r\napp.listen(5001);\r\n\r\n(async () => {\r\n    const res = await fetch(\"http://127.0.0.1:5001/api/getStuff?a=tra\").then(r => r.text())\r\n    console.log(res);\r\n})().catch(e => {\r\n    console.error(e);\r\n});\r\n```\r\n\r\nWith `3.0.0-beta.4` version of `node-fetch` you'll see just `srv /api/getStuff` in the console\r\nWith `2.6.0` you will see `srv /api/getStuff?a=tra` - as expected\r\n\r\nSo it looks like somehow GET query params gets stripped out.",
                              "label": "bug",
                              "createdAt": "2020-03-15T14:47:13Z",
                              "closedAt": "2020-04-13T14:23:47Z",
                              "lastComment": "2020-04-13T14:23:47Z",
                              "commentCount": 4
                         },
                         {
                              "title": "fetch does not encode = on Windows machine ",
                              "description": "Hi! I have the following issue:\r\n\r\nI am using the REST RPC API from a BTC node which uses `rpcauth` for authentication. This uses the following URL for requests `http://user:pass@host:port`. The issue here is that the `pass` ends with a `=`. On my local machine (win10-pro) I have no issues at all, however I noticed my tests failing on TravisCI and found out that fetch encodes the `=` to `%3D`. With this the BTC node does not recognize the pass and thus won't let me do any requests. \r\nAre there any fixes for this behavior or general ideas on how to approach this problem?\r\n\r\n(I am not in control of the pass phrase, it is generated by [this](https://github.com/bitcoin/bitcoin/blob/master/share/rpcauth/rpcauth.py) script and always ends with a `=` for me.)",
                              "label": "unlabeledBug",
                              "createdAt": "2020-03-14T14:30:28Z",
                              "closedAt": "2020-03-14T15:23:50Z",
                              "lastComment": "",
                              "commentCount": 0
                         },
                         {
                              "title": "error TS2305: Module '\"url\"' has no exported member 'URLSearchParams'",
                              "description": "HI,\r\n\r\nWe are getting following errors in our dev environments\r\n```\r\nERROR in node_modules/@types/node-fetch/index.d.ts(20,10): error TS2305: Module '\"url\"' has no exported member 'URLSearchParams'.\r\nnode_modules/@types/node-fetch/index.d.ts(20,27): error TS2724: Module '\"url\"' has no exported member 'URL'. Did you mean 'Url'?\r\n```\r\n\r\nCan someone help to fix this bug",
                              "label": "unlabeledBug",
                              "createdAt": "2020-03-04T14:51:22Z",
                              "closedAt": "2020-03-04T15:17:06Z",
                              "lastComment": "2020-03-04T15:17:06Z",
                              "commentCount": 2
                         },
                         {
                              "title": "TypeScript interface for abort signal not compatible with AbortController",
                              "description": "I have installed node-fetch 2.6.0, using inside Electron 8 with Chromium 80.0 I think:\r\n\r\n```typescript\r\n\tconst controller = new AbortController()\r\n\tconst signal:AbortSignal = controller.signal;\r\n\tconst timeout = setTimeout(() => { \r\n\t\tcontroller.abort(); \r\n\t}, 15000);\r\n\r\n\tconst res = await fetch(`https://api.keygen.sh/v1/accounts/${KEYGEN_ACCOUNT_ID}/licenses/actions/validate-key`, {\r\n\t\tmethod: 'POST',\r\n\t\tsignal: signal,\r\n\t\theaders: {\r\n\t\t\t'Content-Type': 'application/vnd.api+json',\r\n\t\t\t'Accept': 'application/vnd.api+json'\r\n\t\t},\r\n\t\tbody: JSON.stringify({\r\n\t\t\tmeta: {\r\n\t\t\t\tscope: { product: KEYGEN_PRODUCT_ID },\r\n\t\t\t\tkey: license_key\r\n\t\t\t}\r\n\t\t}),\r\n\t})\r\n```\r\n\r\nI get the following error:\r\n\r\n```\r\nelectron/main/main.ts:268:114 - error TS2345: Argument of type '{ method: string; signal: AbortSignal; headers: { 'Content-Type': string; 'Accept': string; }; body: string; }' is not assignable to parameter of type 'RequestInit'.\r\n  Types of property 'signal' are incompatible.\r\n    Type 'AbortSignal' is not assignable to type 'import(\"/Users/sakari/dvl/omg/client-standalone/electron/node_modules/@types/node-fetch/externals\").AbortSignal'.\r\n      Types of property 'onabort' are incompatible.\r\n        Type '((this: AbortSignal, ev: ProgressEvent) => any) | null' is not assignable to type '((this: AbortSignal, event: any) => void) | null | undefined'.\r\n          Type '(this: AbortSignal, ev: ProgressEvent) => any' is not assignable to type '(this: AbortSignal, event: any) => void'.\r\n            The 'this' types of each signature are incompatible.\r\n              Type 'import(\"/Users/sakari/dvl/omg/client-standalone/electron/node_modules/@types/node-fetch/externals\").AbortSignal' is not assignable to type 'AbortSignal'.\r\n                Types of property 'onabort' are incompatible.\r\n                  Type '((this: AbortSignal, event: any) => void) | null | undefined' is not assignable to type '((this: AbortSignal, ev: ProgressEvent) => any) | null'.\r\n                    Type 'undefined' is not assignable to type '((this: AbortSignal, ev: ProgressEvent) => any) | null'.\r\n\r\n268  const res = await fetch(`https://api.keygen.sh/v1/accounts/${KEYGEN_ACCOUNT_ID}/licenses/actions/validate-key`, {\r\n```\r\n\r\nJust installed latest version of abort-controller and tsc Version 3.3.3333.\r\nHow to fix this ? \r\n",
                              "label": "bug",
                              "createdAt": "2020-02-28T11:06:06Z",
                              "closedAt": "2020-04-14T12:22:41Z",
                              "lastComment": "2020-04-09T09:12:30Z",
                              "commentCount": 7
                         },
                         {
                              "title": "Joplin freezes upon invoking Node-Fetch for Syncing to server on Kernel 5.5.x",
                              "description": "Ever since kernel 5.5 dropped on Arch Linux, there's been a surprising number of users that have experienced https://github.com/laurent22/joplin/issues/2518. It's now been reported that it's appearing on Solus, Fedora and Ubuntu. \r\n\r\n### What's been tested so far:\r\n\r\n1. Upgrading to Electron 8, since that seems to be the recommended way to fix this issue in certain circumstances\r\n2. Brief testing to see if the issue is related to Glibc\r\n\r\nLatest Stable Release Without Electron 8: https://github.com/laurent22/joplin/releases/download/v1.0.179/Joplin-1.0.179.AppImage\r\n\r\n### Steps To Reproduce:\r\n\r\n1. `chmod +x Joplin-1.0.179.AppImage`\r\n2. `./Joplin-1.0.179.AppImage --open-dev-tools --log-level debug` (to enable debug mode)\r\n3. Open terminal\r\n4. `tail -f $HOME/.config/jolin-desktop/log.txt`\r\n5. Open Tools=>Options=>Syncronization \r\n6. Set to Filesystem sync\r\n7. Set to local path (must be a full path)\r\n8. Click Apply and Back\r\n9. Create and Delete as many notes / todos as possible\r\n10. Click Synchronize on the bottom corner or hit Ctrl + S\r\n11. Keep repeating until the app freezes during sync\r\n\r\n### Notes\r\n1. Syncing to Filesystem uses the same processes as syncing to Dropbox, OneDrive or any of the other syncing services available in the dropdown menu. This is just the only one that is universally testable and runs into the same issue.\r\n2. Joplin doesn't save notebooks / notes locally\r\n3. All versions of Joplin use node-fetch-1.7.3. Hasn't upgraded to v2 due to possible API breaking changes",
                              "label": "unlabeledBug",
                              "createdAt": "2020-02-24T10:08:04Z",
                              "closedAt": "2020-02-24T11:52:27Z",
                              "lastComment": "2020-02-24T11:52:56Z",
                              "commentCount": 2
                         },
                         {
                              "title": "Coverage status not working",
                              "description": "Hi,\r\n\r\nIt looks like the code coverage status indication of this project is not working.\r\n\r\nThe icon at the top of the readme file looks broken to me, and clicking on it doesn't work either:\r\n\r\nhttps://github.com/node-fetch/node-fetch/blob/master/README.md\r\n\r\nhttps://codecov.io/gh/bitinn/node-fetch\r\n\r\n<img width=\"583\" alt=\"screenshot\" src=\"https://user-images.githubusercontent.com/3594037/74734704-62b2cb00-524f-11ea-9762-62f040212212.png\">\r\n\r\nIs there any way this could be fixed?\r\n\r\nThanks!",
                              "label": "unlabeledBug",
                              "createdAt": "2020-02-18T12:06:08Z",
                              "closedAt": "2020-02-18T12:07:52Z",
                              "lastComment": "2020-02-19T10:55:18Z",
                              "commentCount": 4
                         },
                         {
                              "title": "Fix jsdocs for FetchError",
                              "description": "The type of the systemError parameter is wrongly set to String. As is it accessed as an object in [line 24](https://github.com/bitinn/node-fetch/blob/master/src/fetch-error.js#L24) it should be set to Object.\r\n\r\nRelated PR: https://github.com/bitinn/node-fetch/pull/696",
                              "label": "unlabeledBug",
                              "createdAt": "2019-11-22T10:38:56Z",
                              "closedAt": "2019-11-22T11:02:06Z",
                              "lastComment": "",
                              "commentCount": 0
                         },
                         {
                              "title": "Response.json() never resolves",
                              "description": "I have an interesting issue with request that essentially never finishes.\r\nIt is tricky to reproduce, but everything boils down to proper timing such that there are response headers, but not response body yet.\r\n\r\nIn such circumstances I've uncovered 2 issues:\r\n1) Timeouts are not propagated to cloned responses, so those never time out (fixed by https://github.com/bitinn/node-fetch/pull/664)\r\n2) Sometimes even though complete body was received (`accumBytes` is the same as `Content-Length`), `body.on('end', ...)` is never fired\r\n\r\nI'm not sure how to fix the second one, one reason may be that `response.size` is `0` for some reason, looks like it is not read from headers or something. Hopefully maintainers can figure that out.\r\n\r\nBut at very least with mentioned PR merged it will handle timeouts on cloned response properly.\r\n\r\nReduced example of the code I'm dealing with is like this:\r\n```typescript\r\nimport fetch from \"node-fetch\";\r\n\r\n(async () => {\r\n    const response = await fetch(\r\n        'http://domain.tld/path',\r\n        {\r\n            timeout: 2000,\r\n        },\r\n    );\r\n\r\n    console.log(response.status, response.headers);\r\n    console.log(await response.clone().json());\r\n    console.log('This may not be printed ever, without any errors');\r\n})();\r\n```",
                              "label": "bug",
                              "createdAt": "2019-08-19T11:46:22Z",
                              "closedAt": "2019-10-07T19:44:27Z",
                              "lastComment": "2020-04-21T08:52:09Z",
                              "commentCount": 7
                         },
                         {
                              "title": "[DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated",
                              "description": "My usage is pretty basic:\r\n\r\n    import fetch from 'node-fetch';\r\n    const res = await fetch(url, GenerateRequestOptions(token));\r\n\r\nand the `fetch` call yields a warning:\r\n\r\n    [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated\r\n\r\nAs I'm not accessing `headers` directly, so I guess the fix should be in the package? ",
                              "label": "unlabeledBug",
                              "createdAt": "2019-07-06T15:07:00Z",
                              "closedAt": "2019-09-08T13:22:57Z",
                              "lastComment": "2019-09-08T13:22:57Z",
                              "commentCount": 2
                         },
                         {
                              "title": "Headers set does not allow downloading image from specific URLs",
                              "description": "I have a client who has asked me to create thumbnails of images downloaded. I have a snippet of code which uses `node-fetch` to download the image into a buffer:\r\n\r\n```\r\nconst fetch = require('node-fetch');\r\nconst URL =\r\n  'https://lf.lids.com/hwl?set=sku[20905595],c[2],w[400],h[300]&call=url[file:product]';\r\nasync function main() {\r\n  const t = await fetch(URL);\r\n  const tt = await t.buffer();\r\n  debugger;\r\n}\r\n\r\nmain();\r\n```\r\n\r\nThis works for most images except the one one in the code. I have a feeling lids.com may either be doing some redirect magic or preventing scraping from happening, but I'm not able to debug this.\r\n\r\nI've also tried setting an assortment of headers to mimic the browser (which loads the image), but nothing has worked so far. I'm not sure if this is a library issue or an operational issue.",
                              "label": "unlabeledBug",
                              "createdAt": "2019-06-04T18:50:40Z",
                              "closedAt": "2019-06-04T20:38:36Z",
                              "lastComment": "2019-06-04T20:38:49Z",
                              "commentCount": 1
                         },
                         {
                              "title": "'url' should be defaulted in Response object according to fetch spec",
                              "description": "Based on: https://github.com/DefinitelyTyped/DefinitelyTyped/issues/35303#issuecomment-490975980\r\n\r\nAccording to the fetch specification (https://fetch.spec.whatwg.org/#response-class), the url property should be defaulted in the Response object:\r\n\r\n> The url attribute’s getter, when invoked, must return the empty string if the context object’s response’s URL is null and the context object’s response’s URL, serialized with the exclude-fragment flag set, otherwise. [URL]\r\n\r\nFix should be quite easy in https://github.com/bitinn/node-fetch/blob/master/src/response.js#L40\r\n\r\n```\r\nurl: opts.url ? opts.url : '',\r\n```\r\n\r\nor\r\n\r\n```\r\nurl: typeof opts.url === 'string' ? opts.url : '',\r\n```\r\nor even a REGEX checking opts.url for a url pattern.\r\n\r\nI might provide a PR",
                              "label": "unlabeledBug",
                              "createdAt": "2019-05-10T07:34:36Z",
                              "closedAt": "2019-05-16T06:43:43Z",
                              "lastComment": "2019-05-16T06:43:43Z",
                              "commentCount": 3
                         },
                         {
                              "title": "Webpack build failing: \"Can't import the named export 'Readable'\"",
                              "description": "**Error**\r\nImporting the newest version of node-fetch (v2.4.0) is causing an error when building a project with webpack (4.30.0). This might be breaking many production environments. This is similar to #502.\r\n\r\n```\r\nERROR in ./node_modules/node-fetch/lib/index.mjs 66:23-31\r\nCan't import the named export 'Readable' from non EcmaScript module (only default export is available)\r\n```\r\n\r\n**Cause**\r\nI believe the problem is because webpack doesn't resolve .mjs the same way node does. Importing node-fetch and running node v12.0.0 with experimental modules enabled runs without error. However, importing node-fetch using node v8.16.0 with experimental modules does result in the same error:\r\n\r\n```\r\nSyntaxError: The requested module does not provide an export named 'Readable'\r\n```\r\n\r\n**Fix**\r\n\r\nI believe this can be fixed simply by changing the import in blob.js:\r\n\r\n```\r\nimport { Readable } from 'stream';\r\n```\r\n\r\nto\r\n\r\n```\r\nimport Stream from 'stream'\r\nconst Readable = Stream.Readable;\r\n```\r\n\r\nI've submitted a pull request for this fix: #618 ",
                              "label": "unlabeledBug",
                              "createdAt": "2019-04-27T06:03:15Z",
                              "closedAt": "2019-04-27T07:14:59Z",
                              "lastComment": "2019-04-27T07:14:59Z",
                              "commentCount": 2
                         },
                         {
                              "title": "Pass request timeout on redirect",
                              "description": "It seems we forgot to pass `request.timeout` on redirect:\r\n\r\nhttps://github.com/bitinn/node-fetch/blob/master/src/index.js#L147-L156\r\n\r\nAnd for some reasons, we never got around to merge this PR:\r\n\r\nhttps://github.com/bitinn/node-fetch/pull/452\r\n\r\nEven though we have AbortSignal support, should still fix it for `timeout` users.",
                              "label": "bug",
                              "createdAt": "2019-04-25T06:23:59Z",
                              "closedAt": "2019-04-26T16:46:53Z",
                              "lastComment": "",
                              "commentCount": 0
                         },
                         {
                              "title": "Invariant Violation Issue",
                              "description": "import fetch from 'node-fetch';\r\nimport { createHttpLink } from 'apollo-link-http';\r\n\r\nconst link = createHttpLink({ uri: '/graphql', fetch: fetch });\r\nat new InvariantError (/home/lt-113/Documents/ShridharProject/Shopify-FENode/shopify/node_modules/apollo-link-http-common/node_modules/ts-invariant/lib/invariant.js:16:28)\r\nat Object.exports.checkFetcher (/home/lt-113/Documents/ShridharProject/Shopify-FENode/shopify/node_modules/apollo-link-http-common/lib/index.js:65:15)\r\nat exports.createHttpLink (/home/lt-113/Documents/ShridharProject/Shopify-FENode/shopify/node_modules/apollo-link-http/lib/httpLink.js:9:31)\r\nat Module.1TCz (/home/lt-113/Documents/ShridharProject/Shopify-FENode/shopify/.next/server/static/FCCYkOEpZlp1z4k4uL7i_/pages/app.js:1:3209)\r\nat r (/home/lt-113/Documents/ShridharProject/Shopify-FENode/shopify/.next/server/static/FCCYkOEpZlp1z4k4uL7i/pages/app.js:1:225)\r\nat Object.0 (/home/lt-113/Documents/ShridharProject/Shopify-FENode/shopify/.next/server/static/FCCYkOEpZlp1z4k4uL7i/pages/app.js:1:1804)\r\nat r (/home/lt-113/Documents/ShridharProject/Shopify-FENode/shopify/.next/server/static/FCCYkOEpZlp1z4k4uL7i/pages/app.js:1:225)\r\nat /home/lt-113/Documents/ShridharProject/Shopify-FENode/shopify/.next/server/static/FCCYkOEpZlp1z4k4uL7i/pages/app.js:1:1059\r\nat Object. (/home/lt-113/Documents/ShridharProject/Shopify-FENode/shopify/.next/server/static/FCCYkOEpZlp1z4k4uL7i/pages/_app.js:1:1068)\r\nat Module._compile (module.js:569:30) framesToPop: 1, name: 'Invariant Violation' }\r\n{ Invariant Violation:\r\nfetch is not found globally and no fetcher passed, to fix pass a fetch for\r\nyour environment like https://www.npmjs.com/package/node-fetch.\r\n\r\nWhy this error is occurring on my local machine?",
                              "label": "unlabeledBug",
                              "createdAt": "2019-04-19T14:13:53Z",
                              "closedAt": "2019-04-25T05:12:39Z",
                              "lastComment": "2019-04-25T05:12:39Z",
                              "commentCount": 1
                         },
                         {
                              "title": "new Response(blob).blob() should preserve `type` of the blob",
                              "description": "From what I can tell `Response` ignores `type` field of the blob (assuming it's constructed with blob) causing that information to be lost.\r\n\r\nI would expect implementation to match behavior in browsers which is:\r\n\r\n```js\r\nvar blob = new Blob(['# Hi'], {type:\"text/markdown\"})\r\n\r\nvar response = new Response(blob)\r\n\r\nresponse.headers.get('content-type') // \"text/markdown\"\r\n\r\n(await response.blob()).type // \"text/markdown\"\r\n```\r\n",
                              "label": "bug",
                              "createdAt": "2019-04-15T20:28:26Z",
                              "closedAt": "2019-10-01T00:46:57Z",
                              "lastComment": "2019-10-01T00:47:37Z",
                              "commentCount": 3
                         },
                         {
                              "title": "Error when used with fetch-mock: `Cannot read property \\'on\\' of undefined`",
                              "description": "I have recently been cleaning up dependencies in an application scaffolded with create-react-app. I recently deleted my package-lock.json and regenerated it, but when I do so I start getting an error in some of my tests: `Cannot read property \\'on\\' of undefined`\r\n\r\nI captured a stack-trace:\r\n```\r\nTypeError: Cannot read property \\'on\\' of undefined\r\n   at D:\\\\---SOME-LONG-PATH---\\\\frontend\\\\node_modules\\\\node-fetch\\\\lib\\\\body.js:122:13\r\n   at new Promise (<anonymous>)\r\n   at Response.Object.<anonymous>.Body._decode (D:\\\\---SOME-LONG-PATH---\\\\frontend\\\\node_modules\\\\node-fetch\\\\lib\\\\body.js:96:9)\r\n   at Response.Object.<anonymous>.Body.text (D:\\\\---SOME-LONG-PATH---\\\\frontend\\\\node_modules\\\\node-fetch\\\\lib\\\\body.js:61:14)\r\n   at Object.apply (D:\\\\---SOME-LONG-PATH---\\\\frontend\\\\node_modules\\\\fetch-mock\\\\src\\\\lib\\\\response-builder.js:157:28)\r\n   at callApi (C:\\\\---SOME-LONG-PATH---\\\\shared\\\\api\\\\duck.js:65:41)\r\n   at processTicksAndRejections (internal/process/next_tick.js:81:5)\r\n```\r\n\r\nWhich led me to the [body.js](https://github.com/bitinn/node-fetch/blob/master/src/body.js) file where I could see statements like `body.on`. This suggested to me that something about the way I was creating the 'body' was causing an issue. I tracked down where the body was coming from in the failing tests, and it was being generated by [fetch-mock](http://www.wheresrhys.co.uk/fetch-mock/#api-mockingmock).\r\n\r\n`fetchMock.getOnce('end:/dashboard/api/v1/dashboard', 200);`\r\n\r\nChanging the `200` to a string makes the tests pass again. It looks to me like when using [fetch-mock](http://www.wheresrhys.co.uk/fetch-mock/#api-mockingmock) and specifying a \"response-code-only\" response, node-fetch craps itself with the error `Cannot read property \\'on\\' of undefined`\r\n\r\nIn attempting to log this bug in the node-fetch issues tracker, I came across [this](https://github.com/bitinn/node-fetch/issues/479) bug report, which implies/indicates that fetch-mock should be returning `null` and not `undefined`. \r\n\r\nMy question is should this be fixed in node-fetch (by expanding/allowing for undefined as well as null body), or in fetch-mock (by trying to return null, rather than undefined in the appropriate function)\r\n\r\nI can basically mark this issue as closed immediately because I found that by changing my fetch-mocks where I was responding with just a status code (eg: 200), to instead respond with `{ body: '', status: 200 }` resolved all my errors. However, after writing all this up, and seeing that there's an existing version of the bug tracked, I thought I'd post this to potentially help anyone else who got stuck on this same issue work around it",
                              "label": "unlabeledBug",
                              "createdAt": "2019-04-12T10:52:39Z",
                              "closedAt": "2019-04-25T05:29:51Z",
                              "lastComment": "2019-04-25T05:29:51Z",
                              "commentCount": 1
                         },
                         {
                              "title": "Response body undefined in react-native",
                              "description": "Hiya,\r\n\r\nI'm using node-fetch in react-native, and it's working great. However, I was wanting to cap the response body, and for some reason the `size` option wasn't working.\r\n\r\nI tried using the `.on` event of `res.body`, which worked fine in node. However, in react native, `.body` is undefined, and so does not work.\r\n\r\nUsing `res.json()` works perfectly though.. so I'm not sure what's going on.\r\n\r\nI understand you may not want to fix this, since it's a somewhat niche environment. I've had issues with request, and the http/https module, so possibly something underlying that doesn't work.\r\n\r\nMy code:\r\n\r\n```\r\nconst res = await fetch(url, {\r\n    body: JSON.stringify(body),\r\n    headers: { 'Content-Type': 'application/json' },\r\n    method: 'post',\r\n});\r\n\r\nlet data = '';\r\nlet length = 0;\r\n\r\n// this line fails in RN\r\nres.body.on('data', (chunk) => {\r\n    length += chunk.length;\r\n\r\n    if (length > 1024 * 1024) {\r\n        throw new Error('max-size');\r\n    }\r\n\r\n    data += chunk;\r\n});\r\n\r\nconst result = await new Promise((resolve, reject) => {\r\n    res.body.on('end', () => {\r\n        return resolve(JSON.parse(data));\r\n    });\r\n\r\n    res.body.on('error', (err) => {\r\n        return reject(err);\r\n    });\r\n});\r\n\r\nreturn result;\r\n```\r\n\r\nActual code is a little more complicated, as it has a controller in there for timeout/abort, but probably not relevant.\r\n\r\nThanks for the great library.",
                              "label": "unlabeledBug",
                              "createdAt": "2019-02-23T06:19:14Z",
                              "closedAt": "2019-04-25T05:55:14Z",
                              "lastComment": "2022-02-17T16:01:05Z",
                              "commentCount": 4
                         },
                         {
                              "title": "Response.statusText should not default",
                              "description": "At the moment, `node-fetch` behavior regarding `Response.statusText` differs from the `fetch` specification and native browser implementations.\r\n\r\nIf the server does not respond with status text, `node-fetch` incorrectly sets a default message derived from the HTTP status code. I think that happens here:\r\n\r\nhttps://github.com/bitinn/node-fetch/blob/v2.3.0/src/response.js#L34\r\n\r\nIn fact, for HTTP/2 connections the `statusText` should always be blank because HTTP/2 doesn't support it:\r\n\r\nhttps://fetch.spec.whatwg.org/#concept-response-status-message\r\n\r\nWhy does this matter, other than spec compliance? If your server side rendered app displays a `fetch` error `statusText` that technically should not exist, you end up with the client render (and `fetch`) producing a correct result that's different:\r\n\r\n<img src=\"https://user-images.githubusercontent.com/1754873/52831515-080cfd80-3129-11e9-9d7f-9782b2276d41.gif\" width=\"245\" alt=\"node-fetch response statusText bug\" />\r\n",
                              "label": "bug",
                              "createdAt": "2019-02-15T02:56:00Z",
                              "closedAt": "2019-09-08T02:11:44Z",
                              "lastComment": "2019-09-08T02:11:44Z",
                              "commentCount": 2
                         },
                         {
                              "title": "Cannot send correct POST urlencoded",
                              "description": "It works in POSTMAN but doesn't work in node-fetch even though it used to. I am using:\r\nIdeas to fix it? Creds are sent wrong and I can't login to site even though the same creds work in POSTMAN.\r\n\r\n```js\r\nconst params = new URLSearchParams();\r\nparams.append('email', email);\r\nparams.append('password', password);\r\n\r\nconst request = {\r\n  method: 'POST',\r\n  body :params`,\r\n}\r\n\r\nconst responsePromise = fetch(url, request);\r\n```",
                              "label": "unlabeledBug",
                              "createdAt": "2019-01-30T15:28:52Z",
                              "closedAt": "2019-01-30T15:43:44Z",
                              "lastComment": "2019-01-31T16:24:09Z",
                              "commentCount": 2
                         },
                         {
                              "title": "NodeError: Request path contains unescaped characters",
                              "description": "Forgive me if this has already been brought up, but I couldn't find any previous issue about it.\r\n\r\nTry going to `example.com` and opening up the console and running this:\r\n```javascript\r\nawait fetch(\"http://example.com?foo=网\").then(r => r.text());\r\n```\r\nNo error, all is well.\r\n\r\nNow check out [this runkit example](https://runkit.com/embed/ykx0f77bwrbn).\r\n\r\nHere's the error:\r\n```\r\nNodeError: Request path contains unescaped characters\r\nat new ClientRequest in core _http_client.js — line 114\r\nat http.get in core http.js — line 41\r\n in node-fetch/lib/index.js — line 1327\r\nat new Promise in core  — line 0\r\nat Object.fetch in node-fetch/lib/index.js — line 1319\r\n```\r\n\r\nI guess the browser spec of fetch automatically escapes characters or something? I'm not sure as I haven't looking into it. It would be nice if there were consistency here in any case.\r\n\r\n**EDIT:** This error doesn't occur in Node.js 8.x (only 10.x), so I guess there was a change in the http/https libs or something.",
                              "label": "bug",
                              "createdAt": "2018-10-07T12:04:00Z",
                              "closedAt": "2018-11-05T07:36:45Z",
                              "lastComment": "2018-11-05T07:39:45Z",
                              "commentCount": 8
                         },
                         {
                              "title": "POST in fetch and Postman tool has different reponse",
                              "description": "fetch() api gives different response compared to postman during POST method.\r\nreturn fetch(`${_host}${urlPrefix}${uri}`, options).then(res => res.json())\r\n  .catch(error => console.log('error', error))\r\n  .then(response => console.log('success', response));\r\n\r\nAbove code gives the actual response as in Postman.\r\n\r\nfetch(`${_host}${urlPrefix}${uri}`, options).then(res => res.json())\r\n.then(ProcessStatus)\r\n.then(response =>\r\nresponse.json());\r\nAbove code gives a different response that does not have the actual message inside error node.\r\n",
                              "label": "unlabeledBug",
                              "createdAt": "2018-08-03T02:01:35Z",
                              "closedAt": "2018-10-02T15:51:37Z",
                              "lastComment": "2018-10-02T15:51:37Z",
                              "commentCount": 2
                         },
                         {
                              "title": "Sockets staying open if body not read?",
                              "description": "I'm debugging an issue in AWS lambda, and exploring a hunch that it may be caused by sockets opened by node-fetch staying open.\r\n\r\nMy lambda is a 'healthcheck' endpoint that pings a number of dependencies, returning a 200 if it gets a 200 from all of them. These dependencies are called with GET requests, not HEAD (in order to imitate prod traffic more closely), but only the status is read from the response - the body is not processed at all.\r\n\r\nI am seeing a lot of `Error: getaddrinfo EMFILE ${dependencyUrl}` at Object._errnoException (util.js:1022:11)` errors. Debugging so far strongly suggests that this is because the lambda is hitting its socket limit at the C level.\r\n\r\nThe lambda docs state that the lambda invocation will not release the container for reuse until the event loop is completely cleared. My working theory is that because I do not try to read the body, the socket remains open until all the content arrives in the C-layer, but the node-fetch library does not add anything onto the event loop queue, so the container is released for reuse while the socket is still open. This means that eventually the number of open sockets can build up.\r\n\r\nDoes all that make sense? And if it does, can you suggest any mitigations e.g. is there some way I can manually close a socket (what I'm asking for is something like cancellable fetches, which is still not fully specced, but I wonder if there is a hacky way it could be achieved in node-fetch by interacting with the socket directly)",
                              "label": "unlabeledBug",
                              "createdAt": "2018-08-02T08:38:30Z",
                              "closedAt": "2018-08-02T21:15:22Z",
                              "lastComment": "2018-08-02T22:17:49Z",
                              "commentCount": 3
                         },
                         {
                              "title": "Can not set Accept-Encoding to gzip only",
                              "description": "In my case , I need to set Accept-Encoding to gzip only, without deflate, it seems not work, when I add 'Accept-Encoding: gzip' to headers with method POST.\r\np.s. compress the body manually before fetching",
                              "label": "bug",
                              "createdAt": "2018-05-28T07:24:01Z",
                              "closedAt": "2018-11-05T09:55:05Z",
                              "lastComment": "2018-11-05T09:55:05Z",
                              "commentCount": 5
                         },
                         {
                              "title": "Proper support of HTTPS for Node 8.6.0 ~ 10.0.0",
                              "description": "There was a breaking change back in 8.6.0 which for some reason took a long time to fix and it will land in Node 10, not sooner. Unfortunately, we are stuck with current LTS which is in 8.x line.\r\n\r\nThere is a detailed discussion here: https://github.com/nodejs/node/issues/16196#issuecomment-336647658 and the relevant PR, that is going to land in 10.x\r\n\r\n---\r\n# Quick workaround (otherwise continue reading)\r\n\r\nI made my own fork of `node-fetch` which adds `ecdhCurve:auto` which is enough to have a valid cross-platform solution and it's done same way in NodeJS 10+. \r\n\r\nhttps://www.npmjs.com/package/node-fetch-auto-curve\r\n\r\nIf you are using `node-fetch` directly, just go ahead and use the fork directly. Otherwise, if you have a 3rd party dependency that is using `node-fetch`, you can win the fight with Yarn great feature called [selective dependency resolution](https://yarnpkg.com/en/docs/selective-version-resolutions). All you need to do is add this to your `package.json` and you run `yarn install`.\r\n\r\n```\r\n  \"resolutions\": {\r\n    \"node-fetch\": \"fredyc/node-fetch#auto-curve\"\r\n  },\r\n```\r\n\r\nSadly, I cannot give you any useful advice if NPM is your choice.",
                              "label": "unlabeledBug",
                              "createdAt": "2018-05-26T13:21:37Z",
                              "closedAt": "2018-05-30T14:25:44Z",
                              "lastComment": "2018-05-30T14:25:44Z",
                              "commentCount": 5
                         },
                         {
                              "title": "throws when a header with an undefined value is specified",
                              "description": "If you run the following in node:\r\n\r\n```javascript\r\nconst fetch = require('node-fetch');\r\nconst Headers = require('node-fetch/lib/headers');\r\nlet hed = new Headers();\r\nhed.append('something', undefined);\r\nfetch('https://github.com/', {\r\n    method: 'get',\r\n    headers: hed\r\n}).then(r => r.text())\r\n    .then(console.log);\r\n```\r\n\r\nYou get the following exception:\r\n\r\n `TypeError: Cannot read property 'toString' of undefined\r\n    at /Users/will.munn/code/api/download-api/node_modules/node-fetch/lib/headers.js:41:28\r\n    at Array.forEach (<anonymous>)\r\n    at new Headers (/Users/will.munn/code/api/download-api/node_modules/node-fetch/lib/headers.js:40:18)\r\n    at new Request (/Users/will.munn/code/api/download-api/node_modules/node-fetch/lib/request.js:40:17)\r\n    at /Users/will.munn/code/api/download-api/node_modules/node-fetch/index.js:52:17`\r\n\r\nhowever if you run the same request with chrome's native fetch, it adds the request header `something: undefined`.\r\n\r\nIs this a bug? Could come up with a PR to fix if so, just wanted to check first.",
                              "label": "unlabeledBug",
                              "createdAt": "2018-05-21T14:53:12Z",
                              "closedAt": "2018-05-21T15:27:02Z",
                              "lastComment": "2018-05-21T15:48:49Z",
                              "commentCount": 3
                         },
                         {
                              "title": "Setting Host headers causes: TypeError: hostHeader.startsWith is not a function",
                              "description": "Since version 2.1.0, setting `Host` header causes `fetch` call to fail. This is a minimal example\r\n\r\n    const fetch = require('node-fetch');\r\n    (async () => {\r\n        const resp = await fetch('https://google.com', { headers: { 'Host': 'example.com' } });\r\n        console.log(resp);\r\n    })();\r\n\r\nthat throws following exception:\r\n\r\n    (node:5895) UnhandledPromiseRejectionWarning: TypeError: hostHeader.startsWith is not a function\r\n        at calculateServerName (_http_agent.js:240:20)\r\n        at Agent.addRequest (_http_agent.js:155:26)\r\n        at new ClientRequest (_http_client.js:257:16)\r\n        at request (https.js:245:10)\r\n        at /home/user/tmp/node-fetch-host-header/node_modules/node-fetch/lib/index.js:1355:15\r\n        at new Promise (<anonymous>)\r\n        at fetch (/home/user/tmp/node-fetch-host-header/node_modules/node-fetch/lib/index.js:1342:9)\r\n        at /home/user/tmp/node-fetch-host-header/index.js:4:24\r\n        at Object.<anonymous> (/home/user/tmp/node-fetch-host-header/index.js:6:3)\r\n        at Module._compile (module.js:660:30)\r\n    (node:5895) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 3)\r\n    (node:5895) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.\r\n\r\nIn my production code I've also encountered `TypeError: hostHeader.replace is not a function` in almost identical code to the example above.",
                              "label": "bug",
                              "createdAt": "2018-03-13T19:14:29Z",
                              "closedAt": "2018-03-23T00:04:29Z",
                              "lastComment": "2018-03-23T00:04:28Z",
                              "commentCount": 5
                         },
                         {
                              "title": "weback - Critical dependency: the request of a dependency is an expression",
                              "description": "I'm running into this common webpack issue. \r\n\r\nThe code of one of our libraries is calling \r\n```\r\nconst nodefetch = require('node-fetch-npm');\r\n```\r\nwebpack complains \r\n```\r\nWARNING in ../node_modules/encoding/lib/iconv-loader.js\r\n9:12-34 Critical dependency: the request of a dependency is an expression\r\n @ ../node_modules/encoding/lib/iconv-loader.js\r\n @ ../node_modules/encoding/lib/encoding.js\r\n @ ../node_modules/node-fetch-npm/src/body.js\r\n @ ../node_modules/node-fetch-npm/src/index.js\r\n @ ../js/TransportHTTP.js\r\n @ ./archive.js\r\n```\r\nIs there a known fix for this ? \r\n",
                              "label": "unlabeledBug",
                              "createdAt": "2018-03-10T05:51:42Z",
                              "closedAt": "2018-03-10T06:29:11Z",
                              "lastComment": "2018-03-10T06:44:19Z",
                              "commentCount": 4
                         },
                         {
                              "title": "Requests with a `Host` header cause an exception in Node v6",
                              "description": "Hiya, I haven't had a chance to dig into this much, so let me know if any more details are needed. Essentially using node-fetch to send a request with a `Host` header causes an exception in Node v6.13.1:\r\n\r\n```javascript\r\nconst fetch = require('node-fetch');\r\n\r\nfetch('https://api.github.com/users/github', {\r\n\t\theaders: { 'Host': 'api.github.com' }\r\n\t});\r\n```\r\n\r\ngives:\r\n```\r\n(node:96772) UnhandledPromiseRejectionWarning: Unhandled promise rejection (rejection id: 2): TypeError: hostHeader.startsWith is not a function\r\n```\r\n\r\nIt looks like this was introduced by the changes in 1592ca1 (the above code works fine in the parent commit).",
                              "label": "bug",
                              "createdAt": "2018-03-06T22:51:59Z",
                              "closedAt": "2018-03-23T05:01:45Z",
                              "lastComment": "2018-03-12T00:56:27Z",
                              "commentCount": 3
                         },
                         {
                              "title": "Documentation",
                              "description": "I had a bug: `fetch is not a function`\r\n\r\nI was using this:\r\n```js \r\nconst fetch = require('node-fetch');\r\n```\r\nAnd now that I changed to this:\r\n```js\r\nimport fetch from 'node-fetch';\r\n```\r\nAnd now is working. This is supposed to be for Node, using `const require`, but doesn't work that way",
                              "label": "unlabeledBug",
                              "createdAt": "2018-02-15T21:02:35Z",
                              "closedAt": "2018-02-20T15:19:37Z",
                              "lastComment": "2018-02-20T15:19:37Z",
                              "commentCount": 4
                         },
                         {
                              "title": "node-fetch will get stuck (never rejects or resolves) when doing GET with FormData and server redirects",
                              "description": "Assuming server under this url returns `Location` header this code will get stuck and never get to the console.log:\r\n\r\n```javascript\r\nconst formData = new FormData();\r\nconst x = await fetch(\"http://127.0.0.1/admin/redirect.php\", {\r\n    body: formData,\r\n}).catch(e => null);\r\nconsole.log(\"Done?\");\r\n```\r\n\r\nI know I should probably not send `body` while doing `GET`, but still `node-fetch` should reject or silently ignore the `body`, just like it do when no redirection happens.",
                              "label": "bug",
                              "createdAt": "2018-02-03T12:11:42Z",
                              "closedAt": "2018-02-03T20:30:01Z",
                              "lastComment": "2018-02-03T20:30:01Z",
                              "commentCount": 3
                         },
                         {
                              "title": "Access Request Headers",
                              "description": "For debugging purposes, I would like to access the final set of headers that are sent with a request (we can already access response headers, of course).\r\n\r\nI feel like this could be done by taking the `options` object being passed to `send()` and send it back to the caller (maybe via a callback or some other means).\r\n\r\nIs this a useful feature to have? Can I submit a pull request for this?",
                              "label": "unlabeledBug",
                              "createdAt": "2018-02-02T10:47:12Z",
                              "closedAt": "2018-02-02T11:06:13Z",
                              "lastComment": "2018-08-24T08:30:04Z",
                              "commentCount": 2
                         },
                         {
                              "title": "POST request with uppercase sometimes calls GET",
                              "description": "Documentation says to use uppercase method constants but I'm experience intermittent issues where in some cases uppercase method usage will actually call `GET` instead of `POST` when checking the server logs:\r\n```javascript\r\nvar fetch = require('node-fetch');\r\nvar opts = {\r\n  method: 'POST',\r\n  headers: {\r\n    'Content-Type': 'application/json'\r\n  },\r\n  body: JSON.stringify({\r\n    key: 'value-here'\r\n  })\r\n};\r\nfetch('SOME-URI-HERE', opts)\r\n  .then(function(request) {\r\n    return request.json();\r\n  })\r\n  .then(function(response) {\r\n    json.res(response);\r\n  });\r\n```\r\n\r\n`^^^^^^^^` The same code above with a subtle change to the method constant where `post` is used instead of `POST` causes everything to behave as expected.  This is problematic as it's undocumented, seemingly random, and took some time to track down since we use a micro service architecture and this was a service called by another service downstream.  I should mention also that it was only a problem in production and not locally...but I'm not sure that has any bearing on the issue as even if it were about different versions of Node or something it should just work the same with uppercase as lowercase.\r\n\r\nI'm using version `1.6.0` but I don't see anything in the changelog that mentions a fix in newer versions. \r\n\r\nPlease advise.",
                              "label": "unlabeledBug",
                              "createdAt": "2017-11-21T19:14:02Z",
                              "closedAt": "2017-12-11T09:04:17Z",
                              "lastComment": "2020-04-08T23:00:56Z",
                              "commentCount": 3
                         },
                         {
                              "title": "HEAD/head method different behavior (case sensitive)",
                              "description": "By spec method [should be in uppercase](https://fetch.spec.whatwg.org/#methods): `GET`, `POST`, etc.\r\nBut `node-fetch` works well for me with both lowercase and uppercase.\r\nUntil I run the following:\r\n```js\r\nconst fetch = require('node-fetch');\r\n(async () => {\r\n  await fetch('https://api.github.com/users/vitalets', {method: 'head'});\r\n  await fetch('https://api.github.com/users/vitalets', {method: 'get'});\r\n  console.log('ok');\r\n})();\r\n```\r\nInn output there is an error:\r\n```\r\nevents.js:182\r\n      throw er; // Unhandled 'error' event\r\n      ^\r\n\r\nError: unexpected end of file\r\n    at Gunzip.zlibOnError (zlib.js:152:15)\r\n```\r\nBut if I change `head` -> `HEAD`, everything works:\r\n```js\r\nconst fetch = require('node-fetch');\r\n\r\n(async () => {\r\n  await fetch('https://api.github.com/users/vitalets', {method: 'HEAD'});\r\n  await fetch('https://api.github.com/users/vitalets', {method: 'get'});\r\n  console.log('ok');\r\n})();\r\n```\r\nI think it should be fixed for consistency.",
                              "label": "unlabeledBug",
                              "createdAt": "2017-11-09T14:39:55Z",
                              "closedAt": "2017-12-11T09:08:26Z",
                              "lastComment": "2017-11-10T08:11:00Z",
                              "commentCount": 4
                         },
                         {
                              "title": "Wrong header split set-cookie ",
                              "description": "I get here such headers:\r\n```javascript\r\nHeaders {\r\n  [Symbol(map)]:\r\n   { server: [ 'nginx' ],\r\n     date: [ 'Sun, 01 Oct 2017 08:58:37 GMT' ],\r\n     'content-type': [ 'text/html; charset=windows-1251' ],\r\n     'content-length': [ '2061' ],\r\n     connection: [ 'close' ],\r\n     'x-powered-by': [ 'PHP/3.13768' ],\r\n     'set-cookie':\r\n      [ 'remixlang=0; expires=Thu, 11 Oct 2018 03:28:00 GMT; path=/; domain=.vk.com',\r\n        'remixlhk=1123983c902f7ac9bb; expires=Sun, 07 Oct 2018 21:42:40 GMT; path=/; domain=.vk.com' ],\r\n     pragma: [ 'no-cache' ],\r\n     'cache-control': [ 'no-store' ],\r\n     'x-frame-options': [ 'sameorigin' ],\r\n     'content-encoding': [ 'gzip' ],\r\n     'strict-transport-security': [ 'max-age=15768000' ] } }\r\n```\r\nAfter that I get them through the method:\r\n```javascript\r\ndebug('Headers', response.headers);\r\n\r\nlet cookies = response.headers.get('set-cookie');\r\n\r\ndebug('Set-cookie', cookies);\r\n\r\nif (Boolean(cookies)) {\r\n\tcookies = cookies.split(',');\r\n} else {\r\n\tcookies = [];\r\n}\r\n\r\ndebug('Cookies list', cookies);\r\n```\r\nBut instead of the desired result, I get this:\r\n```javascript\r\n[ 'remixlang=0; expires=Thu',\r\n  ' 11 Oct 2018 03:28:00 GMT; path=/; domain=.vk.com',\r\n  ' remixlhk=1123983c902f7ac9bb; expires=Sun',\r\n  ' 07 Oct 2018 21:42:40 GMT; path=/; domain=.vk.com' ]\r\n```\r\nI need it for use in tough-cookie\r\n\r\nNode.js: 8.6.0\r\nNode-fetch: 2.0.0-alpha.9",
                              "label": "unlabeledBug",
                              "createdAt": "2017-10-01T09:14:00Z",
                              "closedAt": "2017-12-11T09:10:33Z",
                              "lastComment": "2017-10-01T18:13:08Z",
                              "commentCount": 1
                         },
                         {
                              "title": "Fetch response missing some Body properties.",
                              "description": "Responses appear to be missing .arrayBuffer(), .blob() and .formData() properties.\r\n\r\nThis is strange since they *are* implemented in the Body object which is suppose to be mixed in, but they aren't showing up.\r\n\r\n```javascript\r\nfetch('https://www.google.com').then(resp => resp.arrayBuffer()).then(ar => console.log(ar))\r\n```\r\n\r\nTried it in the browser just to verify it's a bug specific to this library.",
                              "label": "unlabeledBug",
                              "createdAt": "2017-08-30T22:58:38Z",
                              "closedAt": "2017-08-30T23:03:07Z",
                              "lastComment": "2017-08-30T23:03:07Z",
                              "commentCount": 1
                         },
                         {
                              "title": "Android: Fetch dont't work with \"deflate\" encoded responses.json() ",
                              "description": "I don't know this wrong trigger either one of the two 'node-fetch' or 'react-native'.\r\n\r\n### Is this a bug report?\r\nAndroid use fetch dont't work with \"deflate\" encoded responses.json().\r\nI copy the same fetch in browser try to it will response the right encoded json.\r\n\r\n### Environment\r\n\r\n<!--\r\n  Please fill in all the relevant fields by running these commands in terminal.\r\n-->\r\n\r\n1. `react-native -v`: 0.47.2\r\n2. `node -v`: 0.8.0\r\n3. `npm -v`: 5.3.0\r\n4. `node-fetch`: 1.7.2\r\n\r\nThen, specify:\r\n\r\n- Target Platform: Android\r\n\r\n- Development Operating System: Windows\r\n\r\n- Build tools: Android SDK\r\n\r\n### Steps to Reproduce\r\n```\r\nfetch(url, {\r\n              method: 'POST',\r\n              headers: {\r\n                'Accept': 'application/json',\r\n                'Content-Type': 'application/json;charset=UTF-8',\r\n              },\r\n              body: JSON.stringify(options),\r\n              compress: true,\r\n            })\r\n              .then((response) => {\r\n                console.log(response);\r\n                return response.json();\r\n              })\r\n              .then((result) => {\r\n                  // result is messy code\r\n              });\r\n```\r\n\r\n\r\n### Expected Behavior\r\n\r\nright to encoded.\r\n\r\n### Actual Behavior\r\n\r\nreturn messy code\r\n\r\n### Reproducible Demo\r\n```\r\nUnhandled Promise Rejection (id: 0):\r\nSyntaxError: Unexpected token { in JSON at position 0\r\nat parse (<anonymous>)\r\n    at tryCallOne (http://localhost:8081/index.android.bundle?platform=android&dev=true&hot=false&minify=false:13773:12)\r\n    at http://localhost:8081/index.android.bundle?platform=android&dev=true&hot=false&minify=false:13859:15\r\n    at http://localhost:8081/index.android.bundle?platform=android&dev=true&hot=false&minify=false:5290:19\r\n    at _callTimer (http://localhost:8081/index.android.bundle?platform=android&dev=true&hot=false&minify=false:5204:7)\r\n    at Object.callImmediatesPass (http://localhost:8081/index.android.bundle?platform=android&dev=true&hot=false&minify=false:5432:9)\r\n    at Object.callImmediates (http://localhost:8081/index.android.bundle?platform=android&dev=true&hot=false&minify=false:5443:21)\r\n    at MessageQueue.__callImmediates (http://localhost:8081/index.android.bundle?platform=android&dev=true&hot=false&minify=false:4803:16)\r\n    at http://localhost:8081/index.android.bundle?platform=android&dev=true&hot=false&minify=false:4689:16\r\n    at MessageQueue.__guard (http://localhost:8081/index.android.bundle?platform=android&dev=true&hot=false&minify=false:4789:9)\r\n```",
                              "label": "unlabeledBug",
                              "createdAt": "2017-08-30T00:59:27Z",
                              "closedAt": "2017-09-06T04:41:16Z",
                              "lastComment": "2017-09-06T04:41:16Z",
                              "commentCount": 3
                         },
                         {
                              "title": "String Object Required for JSON",
                              "description": "I have noticed that when sending JSON data from my server via this package to another Node server, everything works just fine:\r\n`fetch('http://test.com', { method: 'POST', body: JSON.stringify({ a: 'b' }));`\r\n\r\nHowever when sending to a Java backed server, it fails. What is printed out on the other end is:\r\n`'\"{\\\"a\\\":\\\"b\\\"}\"'`\r\nSo somewhere (I think inside this package) single quotes are being appended which makes the Java parse fail. However if I turn the body into a string object:\r\n`fetch('http://test.com', { method: 'POST', body: String(JSON.stringify({ a: 'b' })));`\r\nIt works like a charm. This is not documented and either should be or a fix to allow primitive strings.\r\n\r\nBetter JSON post documentation would be nice too.\r\n\r\n",
                              "label": "unlabeledBug",
                              "createdAt": "2017-06-20T19:53:45Z",
                              "closedAt": "2017-06-21T02:48:17Z",
                              "lastComment": "2017-06-21T02:48:42Z",
                              "commentCount": 2
                         },
                         {
                              "title": "Set Content-Type to 'application/x-www-form-urlencoded' when body is an instance of url.URLSearchParams",
                              "description": "Seting `Content-Type` to 'application/x-www-form-urlencoded' when body is an instance of `url.URLSearchParams` would match spec as per https://fetch.spec.whatwg.org/#concept-bodyinit-extract \r\n\r\nAs far as I can tell, this is not something that `node-fetch` currently does.. and it caught me up on what I consider to be a somewhat obscure bug for 30 minutes.\r\n\r\nInterestingly (although possibly unrelated), `curl` sets this by default when using a simple data cli arg (-d foo=bar) as opposed to using text/plain, but I guess we're more interested in the fetch spec than how curl works.\r\n\r\nIf this is an acceptable proposal, I can get the PR put together in a fairly short time.\r\n\r\nEdit: fixed incorrect whatwg link anchor\r\n",
                              "label": "unlabeledBug",
                              "createdAt": "2017-06-09T18:26:19Z",
                              "closedAt": "2017-06-12T05:29:51Z",
                              "lastComment": "2022-03-02T15:43:06Z",
                              "commentCount": 5
                         },
                         {
                              "title": "Request object should be explicit enumerable",
                              "description": "per comment at https://github.com/bitinn/node-fetch/pull/265#issuecomment-293778093",
                              "label": "bug",
                              "createdAt": "2017-05-12T04:14:34Z",
                              "closedAt": "2018-03-04T20:16:37Z",
                              "lastComment": "2018-03-04T20:16:37Z",
                              "commentCount": 2
                         },
                         {
                              "title": "FetchError: invalid response body (Gunzip)",
                              "description": "the below code will try to request gzip compressed chunked binary data.  \r\nwhen using curl on that url it will succeed.\r\n\r\n```\r\nfetch('http://pxls.space/boarddata').then(res => {\r\n  return res.buffer();\r\n}).then(buffer => {\r\n  // add a debugger statement here or similar\r\n  console.log(buffer.length);\r\n}).catch(e => {\r\n  console.log(e);\r\n});\r\n```\r\ntry to run this on node 6.10.2 aswell as with node-fetch 1.6.3\r\n\r\nthe outcome will be similar to this:\r\n```\r\n{ FetchError: invalid response body at: http://pxls.space/boarddata reason: incorrect data check\r\n    at Gunzip.<anonymous> (/somewhereonmysystem/node_modules/node-fetch/lib/body.js:122:11)\r\n    at emitOne (events.js:101:20)\r\n    at Gunzip.emit (events.js:188:7)\r\n    at Zlib.__dirname.Zlib.mode._handle.onerror (zlib.js:373:10)\r\n  name: 'FetchError',\r\n  message: 'invalid response body at: http://pxls.space/boarddata reason: incorrect data check',\r\n  type: 'system',\r\n  errno: 'Z_DATA_ERROR',\r\n  code: 'Z_DATA_ERROR' }\r\n```\r\n\r\nthis will work:\r\n```\r\nfetch('http://pxls.space/boardinfo').then(res => {\r\n    return res.json();\r\n}).then(data => console.log(data));\r\n```\r\n\r\nany idea what might be causing this? should i switch to a different node version?\r\ni'm on MacOS at the moment. i'm using a correctly installed instance of nvm.",
                              "label": "unlabeledBug",
                              "createdAt": "2017-04-06T20:50:16Z",
                              "closedAt": "2017-05-12T07:40:12Z",
                              "lastComment": "2017-05-12T07:40:12Z",
                              "commentCount": 2
                         },
                         {
                              "title": "Host header includes port when making 80 request",
                              "description": "Some servers will fail if the request Host header includes the port number when making a request on port `:80`. Now `node-fetch` (or rather the underlying Node.js module) includes Host header that includes the port.\r\n\r\nI have fixed this using a wrapper.\r\n\r\nhttps://github.com/gajus/xfetch/commit/3e8a7979df37e8a8b94e080e2145619aa90c6d03",
                              "label": "unlabeledBug",
                              "createdAt": "2017-02-27T17:22:07Z",
                              "closedAt": "2017-02-27T17:36:33Z",
                              "lastComment": "2017-02-27T17:36:33Z",
                              "commentCount": 3
                         },
                         {
                              "title": "Socket hang up",
                              "description": "When I sent 30 requests that a few fall with this error. How to fix?\r\n\r\n```\r\nFetchError: request to https://api.telegram.org/botTOKEN/sendDocument failed, reason: socket hang up\r\nat ClientRequest.<anonymous> (/home/PROJECT/node_modules/node-fetch/index.js:133:11)\r\nat emitOne (events.js:96:13)\r\nat ClientRequest.emit (events.js:188:7)\r\nat TLSSocket.socketOnEnd (_http_client.js:346:9)\r\nat emitNone (events.js:91:20)\r\nat TLSSocket.emit (events.js:185:7)\r\nat endReadableNT (_stream_readable.js:974:12)\r\nat _combinedTickCallback (internal/process/next_tick.js:74:11)\r\nat process._tickDomainCallback (internal/process/next_tick.js:122:9)\r\n```\r\n",
                              "label": "unlabeledBug",
                              "createdAt": "2017-02-08T07:36:02Z",
                              "closedAt": "2017-02-08T09:12:49Z",
                              "lastComment": "2022-11-10T16:26:04Z",
                              "commentCount": 8
                         },
                         {
                              "title": "Request for v2.0 alpha release",
                              "description": "Thanks all for your hard work on this project! \r\n\r\nI just started using this package and quickly noticed that the content length headers for requests with a body of type buffer were not being populated. A little digging into the work that has been on going and it appears to have been fixed. I was hoping to be able to use this fix. Do you have a plan to release v2.0 alpha soon? It would be a great help.\r\n\r\nThanks again!",
                              "label": "unlabeledBug",
                              "createdAt": "2017-01-13T20:42:07Z",
                              "closedAt": "2017-01-15T05:37:31Z",
                              "lastComment": "2017-02-02T01:31:32Z",
                              "commentCount": 6
                         },
                         {
                              "title": "body conversion",
                              "description": "Haven't tested v2 if this works but i would like for this to work:\r\nIt currently doesn't in 1.x\r\n\r\n```js\r\nstream = new Response('hi').body\r\nstr = await new Response(Uint8Array.from([97])).text() // a\r\nstream = new Response(Uint8Array.from([97])).body // returns a Uint8array [97] (should return a stream)\r\n```\r\n\r\nIdeally every acceptable thing you put into Response should work with<br> `arraybuffer() json() text() and .body`",
                              "label": "bug",
                              "createdAt": "2016-12-05T13:24:23Z",
                              "closedAt": "2021-09-14T09:39:34Z",
                              "lastComment": "2020-09-03T01:52:10Z",
                              "commentCount": 11
                         },
                         {
                              "title": "https error - ec_GFp_simple_oct2point:point is not on curve",
                              "description": "Hi;\n\nThis is on arm raspberry pi, when I attempt to connect to a secure https url I get the following error:\n\n```\n\"write EPROTO 1889480704:error:1006706B:elliptic curve routines:ec_GFp_simple_oct2point:point is not on curve:../../third_party/node/deps/openssl/openssl/crypto/ec/ecp_oct.c:417:\n1889480704:error:1408D132:SSL routines:ssl3_get_key_exchange:bad ecpoint:../../third_party/node/deps/openssl/openssl/ssl/s3_clnt.c:1869:\"\n```\n\nConnecting to the exact same host using http and not https is fine, any suggestions on what the cause or fix may be ?\n",
                              "label": "unlabeledBug",
                              "createdAt": "2016-10-19T23:43:46Z",
                              "closedAt": "2016-11-05T05:16:47Z",
                              "lastComment": "2016-11-05T05:16:47Z",
                              "commentCount": 4
                         },
                         {
                              "title": "Switch to a new coverage tracker",
                              "description": "Coveralls is often buggy, causing false positive test results like https://travis-ci.org/bitinn/node-fetch/jobs/167229741#L960. In my experiences I've used [Codecov](https://codecov.io), which is a more solid solution I feel (which is why I started transitioning things for Pug to Codecov).\n",
                              "label": "unlabeledBug",
                              "createdAt": "2016-10-13T01:35:17Z",
                              "closedAt": "2016-10-15T16:14:06Z",
                              "lastComment": "2016-10-16T03:41:34Z",
                              "commentCount": 3
                         },
                         {
                              "title": "Headers compatibility",
                              "description": "Currently, the semantics of Headers class is incompatible with the [Fetch Standard](https://fetch.spec.whatwg.org/). Merely fixing those incompatibilities is trivial, but _whether_ we want to do so needs a discussion, since\n1. We might break existing applications using node-fetch\n2. We might break compatibility with GitHub's [fetch](https://github.com/github/fetch) browser polyfill\n3. We might break compatibility with existing native browser implementations (e.g. Google Chrome and Firefox)\n\nI've compiled a list of potential issues, its behaviors on a specific platform, and my recommendation.\n## Compatibility chart\n\nStatus quo:\n\n| Issue | Spec | GitHub | Browsers |\n| --- | :-: | :-: | :-: |\n| ctor array | :x: | :white_check_mark: | :x: |\n| ctor non-enum prop |  | :x: | :white_check_mark: |\n| ctor proto prop |  | :white_check_mark: | Firefox :white_check_mark: Chrome :x: |\n| ctor array prop | :x: | :x: | :x: |\n| append/set array | :x: | :x: | :x: |\n| `forEach`/`getAll` | :exclamation: | :white_check_mark: | :white_check_mark: |\n| `get` | :x: | :white_check_mark: | :white_check_mark: |\n| iterable | :x: | :x: | :x: |\n| illegal chars | :x: | :white_check_mark: | :x: |\n\nUsing the proposed default behavior:\n\n| Issue | Spec | GitHub | Browsers | Behavior changed? |\n| --- | :-: | :-: | :-: | :-: |\n| ctor array | :white_check_mark: | :x: | :white_check_mark: | Yes |\n| ctor non-enum prop |  | :x: | :white_check_mark: | No |\n| ctor proto prop |  | :white_check_mark: | Firefox :white_check_mark: Chrome :x: | No |\n| ctor array prop | :white_check_mark: | :white_check_mark: | :white_check_mark: | Yes |\n| append/set array | :white_check_mark: | :white_check_mark: | :white_check_mark: | Yes |\n| `forEach`/`getAll` | :exclamation: | :white_check_mark: | :white_check_mark: | No |\n| `get` | :x: | :white_check_mark: | :white_check_mark: | No |\n| iterable | :x: | :white_check_mark: | :white_check_mark: | Yes |\n| illegal chars | :white_check_mark: | :x: | :white_check_mark: | Yes |\n\nUsing the proposed `FOLLOW_SPEC` mode:\n\n| Issue | Spec | GitHub | Browsers | Behavior changed? |\n| --- | :-: | :-: | :-: | :-: |\n| `get` | :white_check_mark: | :x: | :x: | Yes |\n| iterable | :white_check_mark: | :x: | :x: | Yes |\n## Constructor with array\n\n``` js\nvar h = new Headers([['My-Header', 'first'], ['My-Header2', 'second']]);\nconsole.log(h.get('My-Header'));\nconsole.log(h.get('My-Header2'));\n```\n\n**[Spec](https://fetch.spec.whatwg.org/#dom-headers):** For every elements within the array, use the first element as the name and the second as the value (`'first'`; `'second'`)\n\n**Current:** No support at all (`null`; `null`)\n\n**GitHub:** No support at all (`null`; `null`)\n\n**Chrome, Firefox:** Follows spec (`'first'`; `'second'`)\n\n**My opinion:** Follows spec (`'first'`; `'second'`)\n## Constructor with object with non-enumerable properties\n\n``` js\nvar a = {};\nObject.defineProperties(a, {\n  one: {enumerable: true, value: 'one'},\n  two: {enumerable: false, value: 'two'},\n});\nvar h = new Headers(a);\nconsole.log(h.get('one'));\nconsole.log(h.get('two'));\n```\n\n**[Spec](https://fetch.spec.whatwg.org/#concept-headers-fill):** Ambiguous (heycam/webidl#180)\n\n**Current:** Ignores non-enumerable properties (`'one'`; `null`)\n\n**GitHub:** Treats non-enumerable properties the same way as regular properties (`'one'`; `'two'`)\n\n**Chrome & Firefox:** Ignores non-enumerable properties (`'one'`; `null`)\n\n**My opinion:** Maintain current behavior (`'one'`; `null`)\n## Constructor with object properties inherited from the prototype chain\n\n``` js\nconst a = Object.create({\n  three: 'three'\n});\nconst h = new Headers(a);\nconsole.log(h.get('three'));\n```\n\n**[Spec](https://fetch.spec.whatwg.org/#concept-headers-fill):** Ambiguous (heycam/webidl#180)\n\n**Current:** Does not include prototype properties (`null`)\n\n**GitHub:** Does not include prototype properties (`null`)\n\n**Chrome:** Does include prototype properties (`'three'`)\n\n**Firefox:** Ignores non-enumerable properties (`null`)\n\n**My opinion:** Until heycam/webidl#180 is resolved, maintain current behavior (`null`)\n## Constructor with object properties whose values are arrays\n\n``` js\nvar h = new Headers({ 'My-Header': [ 'first', 'second' ] });\nconsole.log(h.getAll('My-Header'));\n```\n\n**[Spec](https://fetch.spec.whatwg.org/#dom-headers-get):** The array needs to first be converted to `ByteString` using the `.toString()` method of the array, which is equivalent to joining with comma (`[ 'first,second' ]`)\n\n**Current:** The individual elements are treated as separate headers (`[ 'first', 'second' ]`)\n\n**GitHub:** Follows spec (`[ 'first,second' ]`)\n\n**Chrome, Firefox:** Follows spec (`[ 'first,second' ]`)\n\n**My opinion:** Follows spec (`[ 'first,second' ]`)\n## `append()` and `set()` with array\n\n``` js\nvar h = new Headers({ 'My-Header': 'zeroeth' });\nh.append('My-Header', ['first', 'second']);\nh.set('My-Header2', ['first', 'second']);\nconsole.log(h.getAll('My-Header'));\nconsole.log(h.getAll('My-Header2'));\n\n// Note: `getAll` is removed in spec, but for the express purpose of\n// showing this problem let's pretend it still exists.\n```\n\n**[Spec](https://fetch.spec.whatwg.org/#dom-headers-get):** The array needs to first be converted to `ByteString` using the `.toString()` method of the array, which is equivalent to joining with comma (`[ 'zeroeth', 'first,second' ]`; `[ 'first,second' ]`)\n\n**Current:** The conversion to string never happens, causing some inconsistent behaviors (`[ 'zeroeth', [ 'first', 'second' ] ]`, `[ [ 'first', 'second' ] ]`)\n\n**GitHub:** Follows spec (`[ 'zeroeth', 'first,second' ]`; `[ 'first,second' ]`)\n\n**Chrome, Firefox:** Follows spec (`[ 'zeroeth', 'first,second' ]`; `[ 'first,second' ]`)\n\n**My opinion:** Follows spec (`[ 'zeroeth', 'first,second' ]`; `[ 'first,second' ]`)\n## `forEach()` and `getAll()`\n\n**[Spec](https://fetch.spec.whatwg.org/):** The two methods are removed.\n\n**Current:** Still exist\n\n**GitHub:** Still exist\n\n**Chrome, Firefox:** Still exist\n\n**My opinion:** Keep them\n## `get()` with multiple values for the same header\n\n``` js\nvar h = new Headers;\nh.append('My-Header', 'first');\nh.append('My-Header', 'second');\nconsole.log(h.get('My-Header'));\n```\n\n**[Spec](https://fetch.spec.whatwg.org/#dom-headers-get):** Return the \"combined value\" of all headers of the specified name, which means all headers of the name are joined using a comma (`'first,second'`)\n\n**Current:** Returns the first header only (`'first'`)\n\n**GitHub:** Returns the first header only (`'first'`)\n\n**Chrome, Firefox:** Returns the first header only (`'first'`)\n\n**My opinion:** Maintain current behavior by default, but offer an option to follow spec (`'first'`)\n## Iterable interface\n\n``` js\nvar h = new Headers;\nh.append('z', 'first');\nh.append('a', 'second');\nh.append('a', 'third');\nh.append('z', 'fourth');\nconsole.log(Array.from(h));\n```\n\n**[Spec](https://fetch.spec.whatwg.org/#dom-headers-set):** The \"return value of running [sort and combine](https://fetch.spec.whatwg.org/#concept-header-list-sort-and-combine) with the header list.\" (`[ [ 'a', 'second,third' ], [ 'z', 'first,fourth' ] ]`)\n\n**Current:** Not yet implemented; #180 implements the GitHub behavior\n\n**GitHub:** Order of addition of header name, then of header (`[ [ 'z', 'first'], [ 'z', 'fourth' ], [ 'a', 'second' ], [ 'a', 'third' ] ]`)\n\n**Chrome, Firefox:** Order of addition of header (`[ [ 'z', 'first'], [ 'a', 'second' ], [ 'a', 'third' ], [ 'z', 'fourth' ] ]`)\n\n**My opinion:** Use GitHub's implementation, but offer an option to follow spec (`[ [ 'z', 'first'], [ 'z', 'fourth' ], [ 'a', 'second' ], [ 'a', 'third' ] ]`)\n## Illegal characters in header name\n\n``` js\nnew Headers({ '\\n': 'hey' });\n```\n\n**[Spec](https://fetch.spec.whatwg.org/#concept-headers-append):** Throws a `TypeError`\n\n**Current:** Allowed\n\n**GitHub:** Allowed\n\n**Chrome & Firefox:** Follows spec; throws a `TypeError`\n\n**My opinion:**  Follow spec; throw a `TypeError`\n## Option to follow spec\n\nFor the following two issues, I propose adding an option either enabling the spec or (by default) disabling the spec behavior.\n- `get()` with multiple values for the same header\n- Iterable interface\n\nThis option could be module-wide, so to change it would be\n\n``` js\nrequire('node-fetch/lib/headers.js').FOLLOW_SPEC = true;\n```\n",
                              "label": "unlabeledBug",
                              "createdAt": "2016-10-08T22:16:19Z",
                              "closedAt": "2016-10-15T15:22:15Z",
                              "lastComment": "2016-10-15T15:22:15Z",
                              "commentCount": 4
                         },
                         {
                              "title": "Return empty object on 204 No Content...",
                              "description": "...instead of throwing a syntax error due to attempting to JSON parse `''`.\n\n```\nlet fetch = require('node-fetch');\nfetch('http://httpbin.org/status/204').then(res => res.json()).then(object => {\n    console.log(object);\n}).catch(error => console.error(error));\n```\n\nDemo: http://runkit.com/dandv/node-fetch-204-no-content\n\nFixing this would attain compatibility with [request](https://github.com/request/request/issues/2177) and [got](https://github.com/sindresorhus/got/pull/78).\n\nMore generally, it would be more tolerant to return an empty object if the response is the empty string (regardless of the status code being 204 or other 2xx).\n",
                              "label": "unlabeledBug",
                              "createdAt": "2016-09-23T06:11:06Z",
                              "closedAt": "2016-11-26T23:10:55Z",
                              "lastComment": "2016-11-26T23:10:55Z",
                              "commentCount": 7
                         },
                         {
                              "title": "Silent failure when given an object as the body",
                              "description": "During a test of POST requests in which HTTP was mocked out, I noticed that I was not getting a request body as expected. I had set the `body` field on the configuration object to a JS object (to the tune of `{ url: '/fixture.json', list: [1, 2, 3] }` - very complex stuff). Given that this is an unsupported format, I would have expected an error of some kind, but none was issued. Alternatively, if the body had been set to `'[object Object]'` or somesuch, it would have been clear what my mistake was. But the body was simply empty. I'm reporting this because a silent failure like that is a potential error source and intractable to debug.\n",
                              "label": "unlabeledBug",
                              "createdAt": "2016-08-18T11:56:33Z",
                              "closedAt": "2016-09-11T15:46:54Z",
                              "lastComment": "2016-09-11T15:46:54Z",
                              "commentCount": 8
                         },
                         {
                              "title": "visionmedia/debug?",
                              "description": "I am a fan of using [debug module](https://github.com/visionmedia/debug). I am also a fan of using node-fetch (thanks! by the way). Can we have both? I can prepare a PR if you wish.\n",
                              "label": "unlabeledBug",
                              "createdAt": "2016-08-17T19:00:03Z",
                              "closedAt": "2016-09-11T14:39:47Z",
                              "lastComment": "2016-08-18T06:37:06Z",
                              "commentCount": 1
                         },
                         {
                              "title": "Posting data malfunction",
                              "description": "I'm simply trying to post json data to an express server. I know the post function in the server works because I've tested it in git bash\n\nHere's the fetch code:\n\n```\n   addBug(bug) {\n    let bugsModified = this.state.bugs.slice()\n    bug.id = this.state.bugs.length + 1\n    bugsModified.push(bug)\n\n    fetch('http://localhost:3000/api/bugs', {method: 'POST', body: 'test'})\n      .then(res => res.status === 200 && this.setState({bugs: bugsModified}))\n  }\n```\n\nThe {body: bugsModified} doesn't seem to send the server anything. Here's the code from the server:\n\n```\napp.use(bodyParser.json())\n\napp.post('/api/bugs', (req, res) => {\n  const bug = req.body\n  console.log(bug) //returns undefined\n  bugs.push(bug)\n  res.json(bug)\n})\n\napp.listen(3000, () => console.log('connected...'))\n```\n",
                              "label": "unlabeledBug",
                              "createdAt": "2016-08-12T13:19:06Z",
                              "closedAt": "2016-08-12T15:55:22Z",
                              "lastComment": "2016-08-12T16:04:11Z",
                              "commentCount": 3
                         },
                         {
                              "title": "Unused clone causes stream back-pressure",
                              "description": "**issue**\nCloning a stream, which you end up not using, causes back-pressure on the original response, preventing it from draining the source.\n\n``` js\nfetch(url).then(function(res) {\n\n    // unused clone causing back-pressure in the stream\n    var clone = res.clone();\n\n    // this will start reading internally, but just 'halts' mid-way and never completes\n    res.json().then(function(result) {\n        console.log(result);\n    });\n})\n```\n\nre 419597fe131cec0552d5d907f145032df485a2d6\n\n**background**\nThe reason why this happens is perfectly explained here:\nhttp://www.bennadel.com/blog/2817-the-affect-of-back-pressure-when-piping-data-into-multiple-writable-streams-in-node-js.htm\n\n**use case**\nIn my project I have some checking in the `then` (status code, etc), and when something 'fails' (or the `res.json()` throws an error because the response is not json for some reason), I want to the error to end up in the chained `catch` handler.\nIn the `catch` handler I wanted to read the response as `.text()`. When the `.json()` was already used I couldn't do that, so I needed a clone.\n\nSo what I ended up doing, was to create a clone before reading the json (scoping it to the 'parent' function, and using that clone to read the `.text()` response in the `catch`.\nThis means that the clone was only used when an error occurred.\n\n**internal logging**\nI ended up adding logs in the `\"data\"` (https://github.com/bitinn/node-fetch/blob/952aa2a13546532ff612bfa98ec8216dda8a3871/lib/body.js#L105) and `\"end\"` handlers of the body stream, and if the size was longer than `32768` (in my test case that was 2 chunks), it stopped there, without calling `\"end\"`.\n\nWhen, after a timeout, you start reading from the clone, both the clone and original continued until all data was drained.\n\nThere seems to be a difference between normal and gzipped requests, normal requests can be larger before the issue occurs.\n\n**workarounds**\nMaybe first ask the question if we want to solve this?\nCloning things without using them seems something you don't want to do, but if you do need it later, you can only clone it before you've read it the first time. And I don't think the code should silently 'fail' if for some reason you won't end up using the clone.\n\nThere are workarounds, what I've done now is to read the response as `.text()`, and parse that to json manually, so I can use the text response later on _if_ I need it.\nBut that would become a bit cumbersome when having to do that for blobs, arrayBuffers and formData as well.\n\n**how to solve?**\nI'm new to streams, so I'm not sure how to correctly solve this.\n\nOne way would be to configure the back-pressure in the PassThrough Stream by setting a higher `highWaterMark` value, but that doesn't really solve anything, as there will always be a response larger than the configured value that will break. Also the app will use more memory.\n\nAnother way could be to read the response into a variable before resolving the fetch, and use that as source for every clone. This would technically solve the issue, but uses more memory and performance because it's not making use of streams anymore.\nThis is how it's done in github/fetch:\nhttps://github.com/github/fetch/blob/03e2ccc33e9024d3c4fabab66951e7dbcbc57754/fetch.js#L198\n\nI have added a normal and gzipped unit test locally to reproduce the issue in this repository as well. Would it help if I opened up a PR with just those tests so someone else could help out fixing it?\n",
                              "label": "unlabeledBug",
                              "createdAt": "2016-08-02T19:44:16Z",
                              "closedAt": "2016-08-03T04:02:34Z",
                              "lastComment": "2016-08-03T15:31:46Z",
                              "commentCount": 5
                         },
                         {
                              "title": "FormData TypeError: first argument must be a string or Buffer",
                              "description": "Using:\n- node-fetch **1.5.3**\n- form-data **1.0.0-rc4** from https://github.com/form-data\n\nFor this:\n\n```\n      var body = new FormData();\n      body.append('key1', 'val1');\n      var options = { url: 'http://my.host/local', body: body };\n      fetch(options.url, options)\n```\n\nI get an error with the following stack track:\n\n```\nTypeError: first argument must be a string or Buffer\n      at ClientRequest.OutgoingMessage.write (_http_outgoing.js:443:11)\n      at FormData.ondata (stream.js:31:26)\n      at FormData.CombinedStream.write (W:\\MyProject\\node_modules\\combined-stream\\lib\\combined_stream.js:118:8)\n      at FormData.CombinedStream._pipeNext (W:\\MyProject\\node_modules\\combined-stream\\lib\\combined_stream.js:106:8)\n      at FormData.CombinedStream._getNext (W:\\MyProject\\node_modules\\combined-stream\\lib\\combined_stream.js:79:10)\n      at FormData.CombinedStream._pipeNext (W:\\MyProject\\node_modules\\combined-stream\\lib\\combined_stream.js:107:8)\n      at FormData.CombinedStream._getNext (W:\\MyProject\\node_modules\\combined-stream\\lib\\combined_stream.js:79:10)\n      at FormData.CombinedStream._pipeNext (W:\\MyProject\\node_modules\\combined-stream\\lib\\combined_stream.js:107:8)\n      at FormData.<anonymous> (W:\\MyProject\\node_modules\\combined-stream\\lib\\combined_stream.js:91:10)\n      at FormData.<anonymous> (W:\\MyProject\\node_modules\\form-data\\lib\\form_data.js:246:5)\n      at FormData.CombinedStream._getNext (W:\\MyProject\\node_modules\\combined-stream\\lib\\combined_stream.js:84:3)\n      at FormData.CombinedStream._pipeNext (W:\\MyProject\\node_modules\\combined-stream\\lib\\combined_stream.js:107:8)\n      at FormData.CombinedStream._getNext (W:\\MyProject\\node_modules\\combined-stream\\lib\\combined_stream.js:79:10)\n      at FormData.CombinedStream._pipeNext (W:\\MyProject\\node_modules\\combined-stream\\lib\\combined_stream.js:107:8)\n      at FormData.CombinedStream._getNext (W:\\MyProject\\node_modules\\combined-stream\\lib\\combined_stream.js:79:10)\n      at FormData.CombinedStream.resume (W:\\MyProject\\node_modules\\combined-stream\\lib\\combined_stream.js:134:10)\n      at FormData.CombinedStream.pipe (W:\\MyProject\\node_modules\\combined-stream\\lib\\combined_stream.js:64:8)\n      at W:\\MyProject\\node_modules\\node-fetch\\index.js:205:17\n      at Promise._execute (W:\\MyProject\\node_modules\\bluebird\\js\\release\\debuggability.js:272:9)\n      at Promise._resolveFromExecutor (W:\\MyProject\\node_modules\\bluebird\\js\\release\\promise.js:475:18)\n      at new Promise (W:\\MyProject\\node_modules\\bluebird\\js\\release\\promise.js:77:14)\n      at new Fetch (W:\\MyProject\\node_modules\\node-fetch\\index.js:49:9)\n      at Fetch (W:\\MyProject\\node_modules\\node-fetch\\index.js:37:10)\n      at Client.doRequest (W:\\MyProject\\lib\\api\\HTTPClient.js:104:12)\n      at Object.Dailymotion.performRequest (W:\\MyProject\\lib\\modules\\StreamingProvider\\support\\clients\\Dailymotion.js:56:26)\n      at Object.Dailymotion.createVideo (W:\\MyProject\\lib\\modules\\StreamingProvider\\support\\clients\\Dailymotion.js:74:19)\n      at W:\\MyProject\\lib\\modules\\StreamingProvider\\support\\VideoManager.js:61:30\n      at tryCatcher (W:\\MyProject\\node_modules\\bluebird\\js\\release\\util.js:16:23)\n      at Promise._settlePromiseFromHandler (W:\\MyProject\\node_modules\\bluebird\\js\\release\\promise.js:504:31)\n      at Promise._settlePromise (W:\\MyProject\\node_modules\\bluebird\\js\\release\\promise.js:561:18)\n      at Promise._settlePromise0 (W:\\MyProject\\node_modules\\bluebird\\js\\release\\promise.js:606:10)\n      at Promise._settlePromises (W:\\MyProject\\node_modules\\bluebird\\js\\release\\promise.js:685:18)\n      at Async._drainQueue (W:\\MyProject\\node_modules\\bluebird\\js\\release\\async.js:138:16)\n      at Async._drainQueues (W:\\MyProject\\node_modules\\bluebird\\js\\release\\async.js:148:10)\n      at Immediate.Async.drainQueues [as _onImmediate] (W:\\MyProject\\node_modules\\bluebird\\js\\release\\async.js:17:14)\n```\n\nChecked all that I could find at form-data repository, but there is nothing helpful that can help identify the origin of the issue. What can be done ?\n",
                              "label": "unlabeledBug",
                              "createdAt": "2016-07-06T12:34:29Z",
                              "closedAt": "2016-07-06T12:42:31Z",
                              "lastComment": "2016-07-06T12:50:44Z",
                              "commentCount": 2
                         },
                         {
                              "title": "keep-alive connections and http / https agents",
                              "description": "Hey!\n\nI have been dealing with some performance stuff using node-fetch, and after a lot of debugging I finally found the issue.\n\nUse case: around 10k requests to the same cdn using keep-alive.\n\n``` js\nconst fetch = require('node-fetch');\nconst agent = new https.Agent({\n    keepAlive: true,\n    keepAliveMsecs: 1500,\n    maxSockets: 70\n});\n\nfor (let i=0; i < 10000; i++) fetch(`https://cdn.test.io/${i}`, {\n    headers,\n    agent,\n    compress: true\n});\n```\n\nIf you check https://github.com/bitinn/node-fetch/blob/master/index.js#L77-L79 we are explicitly saying `Connection: close`, so, each time I made a request to the server, I need to negotiate a new connection before make a request, doesn't matter if I could reuse an already established connection from the pool.\n\nWe should change the default to do nothing, because if I set keepAlive in the agent, `Connection: close` prevents the expected behavior. \n\nWhat do you think?\n",
                              "label": "unlabeledBug",
                              "createdAt": "2016-04-27T02:31:54Z",
                              "closedAt": "2016-05-06T12:16:32Z",
                              "lastComment": "2016-05-06T12:16:32Z",
                              "commentCount": 8
                         },
                         {
                              "title": "special port for https",
                              "description": "I can use node-fetch to visist https:\\192.168.2.11.\nbut I can't visit https:\\192.168.2.11:8080.\nIs the port fixed to 443 for https?\n",
                              "label": "unlabeledBug",
                              "createdAt": "2016-04-21T02:43:49Z",
                              "closedAt": "2016-05-25T19:01:54Z",
                              "lastComment": "2016-05-25T19:01:54Z",
                              "commentCount": 8
                         },
                         {
                              "title": "Unable to resolve  `.text()` on a original response after `.json()` is called on a clone",
                              "description": "Hi.  Thanks for this great library.  I really appreciate the recent addition of the `.clone` method, but believe I have found an issue with it.\n\nBelow is a test case for caching the original response, returning a cloned version, operating on that clone, and then reverting back to the original response.  While a similar test exists, this one works with Chrome's `fetch`, but times out when using `node-fetch`.\n\nI realize that you are looking for contributors to this project and are busy with your startup, so if you have any clues on where to start, I'd be more than happy to lend a hand.\n\nThanks in advance!\n\n```\n    it('should allow cloning a json response and log it as text response', function(done) {\n        url = base + '/json';\n        var originalResponse;\n\n        fetch(url).then(function(res) {\n            // Save a copy of our untouched response to return later\n            originalResponse = res;\n\n            return res.clone();\n        })\n        .then(function(clonedResponse) {\n            // Perform an operation that reads our cloned response's body\n            var json = clonedResponse.json()\n\n            expect(clonedResponse.bodyUsed).to.equal(true);\n\n            return json;\n        })\n        .then(function(json) {\n            // Use this body data\n            expect(json).to.deep.equal({name: 'value'});\n\n            return json;\n        })\n        .then(function(json) {\n            // reset our promise chain's value to the original response, so that appears\n            // as if we were never here\n\n            return originalResponse;\n        })\n        .then(function(res) {\n            expect(res.bodyUsed).to.equal(false);\n\n            // Attempt to read the body a second time\n            return res.text();  // BUG: THIS WILL NEVER RESOLVE\n        })\n        .then(function(text) {\n            expect(text).to.equal('{\"name\":\"value\"}');\n\n            done();\n        });\n    });\n```\n\n(cc: @kirill-konshin @bitinn)\n",
                              "label": "unlabeledBug",
                              "createdAt": "2016-04-13T20:58:35Z",
                              "closedAt": "2016-05-25T18:56:41Z",
                              "lastComment": "2016-05-25T18:56:41Z",
                              "commentCount": 5
                         },
                         {
                              "title": "Content-Length header not sent with DELETE request with a body",
                              "description": "After some troubleshooting with an API integration test I where node-fetch was being used I found that the body of my request in Express was showing up as `Object` without any of the properties that I has specified originally on the JSON body with the request. Looking into a bit it appears that DELETE requests are generally allowed to have a request body although it's debatable whether it is correct to use it as seen by the [behavior in Angular](http://stackoverflow.com/questions/299628/is-an-entity-body-allowed-for-an-http-delete-request). After digging into the problem by looking into any [reported issues for the body-parser package](https://github.com/expressjs/body-parser/issues/69) typically used with Express it was pointed out that `Content-Type` and `Content-Length` should be specified. Looking into my request with the debugger I could see that the Content-Length field was not being filled in for DELETEs so I added it manually to the headers of the request and now body-parser seems happy and everything appears to work as expected.\n\nShould `Content-Length` be set automatically with DELETEs as it seems to be with other request verbs?\n",
                              "label": "unlabeledBug",
                              "createdAt": "2016-04-08T18:57:27Z",
                              "closedAt": "2016-05-25T18:58:31Z",
                              "lastComment": "2016-05-25T18:58:31Z",
                              "commentCount": 4
                         },
                         {
                              "title": "Error: incorrect header check",
                              "description": "I'm using node-fetch to fetch a URL that returns a JSON and I'm getting an error when parsing the response with `response.json()`.\nThe error I'm getting is: `Error: incorrect header check`\ni curled the URL and there are no redirects or anything, this is the response header from curl:\n\n```\nHTTP/1.1 200 OK\nCache-Control: private\nContent-Length: 57338\nContent-Type: application/json; charset=utf-8\nServer: Microsoft-IIS/8.5\nX-AspNetMvc-Version: 5.2\nX-AspNet-Version: 4.0.30319\nSet-Cookie: WebApplication.Context=Culture=he-IL&UICulture=he-IL&AddressId=0&SearchCityId=0&SearchStreetId=0&SearchStreetAddress=&SearchStreetName=&SearchCityName=&SearchHouseNumber=&SearchCountryCode=&SearchFullAddress=&ShoppingCartGuid=00000000-0000-0000-0000-000000000000&WebsiteId=10bis&DomainId=10bis&BrowsingRestaurantId=0&SearchPhrase=&NavigationStartPoint=&HideAllPoups=False&IsKosher=False&DesiredDateAndTime=01/01/0001 00:00:00&CouponCode=&CompanyPreferredSite=&CompanyAdminPermissionLevel=&PreferredResList=List&PreferredResListSitting=Map; expires=Thu, 24-Mar-2016 13:11:08 GMT; path=/\nX-Powered-By: ASP.NET\nDate: Thu, 24 Mar 2016 09:11:08 GMT\n```\n\nusing latest node-fetch version `node-fetch@1.4.1`\n\nany idea how to fix this?\n",
                              "label": "unlabeledBug",
                              "createdAt": "2016-03-24T09:15:10Z",
                              "closedAt": "2016-04-05T19:16:41Z",
                              "lastComment": "2019-11-30T14:45:11Z",
                              "commentCount": 3
                         },
                         {
                              "title": "Memory leak when body is not used",
                              "description": "I wanted to test a URL for validity; verifying that it returns a 200 response.\n\nUsing this code:\n\n``` js\nconst fetch = require('node-fetch');\n\nmodule.exports = (url) => fetch(url)\n    .then(res => res.status === 200 && url);\n```\n\n...I found it caused a memory leak. Node that I\"m not calling `.body()` or `.json()`. Profiling the memory usage over time, I was suspicious that lots of `stream` objects were being keep in memory. I speculatively added `{method: 'HEAD'}` to the options (which is of course the right thing to do in this case anyway), which fixed the memory leak.\n\nIs this a bug in `node-fetch`? Should memory be freed whether or not the body of the response is ever used? If it's not a bug, I wonder if the documentation should make it clear that responses with a body must be cleared in some way to free memory?\n\nThanks for a great library!\n",
                              "label": "unlabeledBug",
                              "createdAt": "2016-03-03T11:39:58Z",
                              "closedAt": "2016-08-03T10:28:03Z",
                              "lastComment": "2016-08-03T10:28:03Z",
                              "commentCount": 13
                         },
                         {
                              "title": "node domains are not being propagated within promises.",
                              "description": "Ok, so in my app I use deprecated node domains (I know, but until valid substitution is proposed I kinda need them) and it seems that node-fetch looses current domain within promise.\n\ngiven I substitute native promise with bluebird:\n\n``` js\nfetch.Promise = require('bluebird');\n```\n\nnode domains become available within promise.\n\nI can produce a proper test + a fix, but the question will you accept this fix given node domains are deprecated?\n",
                              "label": "unlabeledBug",
                              "createdAt": "2016-01-25T08:22:13Z",
                              "closedAt": "2016-02-01T08:28:20Z",
                              "lastComment": "2016-02-01T08:28:20Z",
                              "commentCount": 2
                         },
                         {
                              "title": "Critical dependencies: request of a dependency is an expression in encoding.js",
                              "description": "Hello\n\nI get an error when I try to build universal react app with redux and icomorphic-fetch.\n\n```\nWARNING in (server) ./~/isomorphic-fetch/~/node-fetch/~/encoding/lib/encoding.js\nCritical dependencies:\n9:12-34 the request of a dependency is an expression\n @ ./~/isomorphic-fetch/~/node-fetch/~/encoding/lib/encoding.js 9:12-34\n```\n\nIt's this piece of code in encoding.js that is causing the problems\n\n```\ntry {\n    // this is to fool browserify so it doesn't try (in vain) to install iconv.\n    var iconv_package = 'iconv';\n    Iconv = require(iconv_package).Iconv;\n} catch (E) {\n    // node-iconv not present\n}\n```\n\nAny ideas on how to fix this?\n",
                              "label": "unlabeledBug",
                              "createdAt": "2015-09-04T13:13:02Z",
                              "closedAt": "2015-09-04T19:48:09Z",
                              "lastComment": "2016-12-11T01:38:07Z",
                              "commentCount": 10
                         }
                    ]
               },
               "commits": {
                    "incomplete_results": false,
                    "status_code": "200",
                    "total_bug_commits": 67,
                    "total_commits": 347,
                    "bug_commits": [
                         {
                              "message": "feat: add static Response.json (#1670)\n\n* feat: add static Response.json\r\n\r\n* fix: set content-type if it doesn't exist properly",
                              "created_at": "2022-11-10T21:46:51Z",
                              "sha": "55a4870ae5f805d8ff9a890ea2c652c9977e048e"
                         },
                         {
                              "message": "fix: ReDoS referrer (#1611)\n\n* fix ReDoS referrer\r\n\r\n* Update src/utils/referrer.js\r\n\r\nEliminate regex and use string matcher\r\n\r\nCo-authored-by: Linus Unnebäck <linus@folkdatorn.se>\r\n\r\nCo-authored-by: Khang. Võ Vĩ <khangvv@vng.com.vn>\r\nCo-authored-by: Linus Unnebäck <linus@folkdatorn.se>",
                              "created_at": "2022-07-31T08:01:29Z",
                              "sha": "28802387292baee467e042e168d92597b5bbbe3d"
                         },
                         {
                              "message": "fix(Headers): don't forward secure headers on protocol change (#1599)\n\n* fix(Headers): don't forward secure headers on protocol change\r\n\r\n* fix lint",
                              "created_at": "2022-07-18T15:20:30Z",
                              "sha": "e87b093fd678a9ea39c5b17b2a1bdfc4691eedc7"
                         },
                         {
                              "message": "fix: possibly flaky test (#1523)",
                              "created_at": "2022-07-12T16:31:49Z",
                              "sha": "11b703361134340a8361f591d6e3a0bcf6a261fa"
                         },
                         {
                              "message": "fix: always warn Request.data (#1550)",
                              "created_at": "2022-07-11T22:45:16Z",
                              "sha": "4f43c9ed63da98f4b5167f0a8e447cd0f0133cd3"
                         },
                         {
                              "message": "fix: undefined reference to response.body when aborted (#1578)",
                              "created_at": "2022-06-09T10:55:02Z",
                              "sha": "1c5ed6b981e6c5dd28bd50f5ab5418e5bd262b99"
                         },
                         {
                              "message": "fix: use space in accept-encoding values (#1572)\n\n* fix for issue #1571\r\n\r\n* Update README.md\r\n\r\nCo-authored-by: Jimmy Wärting <jimmy@warting.se>",
                              "created_at": "2022-06-01T19:43:48Z",
                              "sha": "a92b5d5cf4457c2da95d8404b08cfd06a426a2fa"
                         },
                         {
                              "message": "fix: don't uppercase unknown methods (#1542)\n\n* fix: don't uppercase unknown methods",
                              "created_at": "2022-04-28T09:33:26Z",
                              "sha": "004b3ac8324e6cdbfb5d04b8bbdc6664ea48fbcf"
                         },
                         {
                              "message": "fix: handle bom in text and json (#1482)\n\n* fix: handle bom in text and json\r\n\r\n* add test for text and arraybuffer as well",
                              "created_at": "2022-03-11T21:49:14Z",
                              "sha": "6425e2021a7def096e13dbabcac2f10e6da83d11"
                         },
                         {
                              "message": "chore: fix typo in credential error message (#1496)",
                              "created_at": "2022-02-03T07:28:57Z",
                              "sha": "2e1f3a56d1fae91aa3ce01d0ce91b148b00f1b53"
                         },
                         {
                              "message": "Don't change relative location header on manual redirect (#1105)\n\n* Don't change relative location header on manual redirect\r\n\r\n* c8 ignores for node-version-specific code and fix c8 ignore in Headers constructor",
                              "created_at": "2022-01-15T21:08:16Z",
                              "sha": "5304f3f7f7778f1011b622bedcb0e4d3c04dba31"
                         },
                         {
                              "message": "fix(Headers): don't forward secure headers to 3th party (#1449)\n\n* fix(Headers): don't forward secure headers to 3th party\r\n* added more narrow test for isDomainOrSubdomain",
                              "created_at": "2022-01-14T14:55:41Z",
                              "sha": "f5d3cf5e2579cb8f4c76c291871e69696aef8f80"
                         },
                         {
                              "message": "core: Warn when using data (#1421)\n\n* Add a warning when using .data in RequestInit\r\n\r\n* Add a warning when using .data in Response\r\n\r\n* Switch custom solution for utils.deprecate\r\n\r\n* Remove unused line in request tests\r\n\r\n* moved error handler into the body class\r\n\r\n* lint fix\r\n\r\nCo-authored-by: Lubomir <lubomir.yudenko@gmail.com>",
                              "created_at": "2022-01-08T13:19:27Z",
                              "sha": "4ae35388b078bddda238277142bf091898ce6fda"
                         },
                         {
                              "message": "fix: use more node: protocol imports (#1428)\n\n* fix: use node: protocol\r\n\r\n* use node: protocol in readme",
                              "created_at": "2021-12-28T15:39:53Z",
                              "sha": "41f53b9065a00bc73d24215d42aacdcd284b199c"
                         },
                         {
                              "message": "core: Don't use global buffer (#1422)\n\n* remove unused file\r\n\r\n* two test is coveraged by the Uint8Array test\r\n\r\n* use arrayBuffer to test base64 instead\r\n\r\n* avoid testing buffer\r\n\r\n* avoid using Buffer\r\n\r\n* import buffer module\r\n\r\n* use one same textEncoder\r\n\r\n* import stream consumer that can test iterable objects\r\n\r\n* fix a test\r\n\r\n* fix test where type should be empty",
                              "created_at": "2021-12-21T19:34:30Z",
                              "sha": "1493d046bc0944886277b0b82dfdf78a7b9f7799"
                         },
                         {
                              "message": "fix(Redirect): Better handle wrong redirect header in a response (#1387)\n\n* Fixed crash when an invalid Location URL is returned from a redirect. Fixes #1386\r\n\r\n* CHANGELOG entry\r\n\r\n* changed catch(e) -> catch(error) to match rest of code, added comment\r\n\r\nCo-authored-by: Linus Unnebäck <linus@folkdatorn.se>\r\n\r\n* suppress error on invalid redirect URL when options.redirect == manual\r\n\r\nCo-authored-by: Tasos Bitsios <tasos.bitsios@import.io>\r\nCo-authored-by: Linus Unnebäck <linus@folkdatorn.se>",
                              "created_at": "2021-11-26T10:19:25Z",
                              "sha": "6e4c1e4f67b7b6b8de13bbbf88991894dc003245"
                         },
                         {
                              "message": "fix: handle errors from the request body stream (#1392)\n\n* fix: handle errors from the request body stream\r\n\r\n* lint: fix linting\r\n\r\nCo-authored-by: Linus Unnebäck <linus@folkdatorn.se>",
                              "created_at": "2021-11-19T13:40:51Z",
                              "sha": "2d5399ed5605fb1b2e887f6e7953bc02e6194d52"
                         },
                         {
                              "message": "fix(http.request): Cast URL to string before sending it to NodeJS core (#1378)\n\n* Add some jsdoc\r\n\r\n* cast url to string before sending it to NodeJS core",
                              "created_at": "2021-11-12T11:37:51Z",
                              "sha": "0284826de6e733c717447c6dfcddc5f0b538b254"
                         },
                         {
                              "message": "refactor: use node: prefix for imports (#1346)\n\n* refactor: use node: prefix for imports",
                              "created_at": "2021-10-26T09:06:52Z",
                              "sha": "47d9cde0b058bddd540ccaaa29580c7e82c30847"
                         },
                         {
                              "message": "chore: fix lint (#1348)",
                              "created_at": "2021-10-23T10:49:37Z",
                              "sha": "96f9ae27c938e30e4915c72125a53c7c725fec36"
                         },
                         {
                              "message": "fix(Body.body): Normalize `Body.body` into a `node:stream` (#924)\n\n* body conversion and test\r\n\r\n* also handle blobs\r\n\r\n* typeof null is object\r\n\r\n* test for blob also\r\n\r\n* lowercase boundary are easier\r\n\r\n* unreachable code, body should never be a blob or buffer any more.\r\n\r\n* stream singleton\r\n\r\n* use let\r\n\r\n* typo\r\n\r\n* convert blob stream into a whatwg stream\r\n\r\n* lint fix\r\n\r\n* update changelog\r\n\r\nCo-authored-by: Antoni Kepinski <xxczaki@pm.me>",
                              "created_at": "2021-09-14T09:39:33Z",
                              "sha": "8721d79208ad52c44fffb4b5b5cfa13b936022c3"
                         },
                         {
                              "message": "fix: Pass url string to http.request (#1268)\n\n* fix: IPv6 literal parsing\r\n\r\n* docs: Explain why search is overwritten\r\n\r\n* test: Document the reason for square brackets\r\n\r\n* docs: Mention basic auth support as a difference\r\n\r\n* fix: Raise a TypeError when URL includes credentials",
                              "created_at": "2021-09-09T04:02:05Z",
                              "sha": "8b54ab4509b541dadcd2d66aa5cf0995ad54ac15"
                         },
                         {
                              "message": "fix(Body): Discurage form-data and buffer() (#1212)\n\nwarn about using form-data",
                              "created_at": "2021-09-04T23:14:38Z",
                              "sha": "471f08c15c66c52944b883b9ddb539d25fff1fe0"
                         },
                         {
                              "message": "Require Node.js 12.20.0 and move to ESM (#1141)\n\n* Use ESM import in runkit example file\r\n\r\n* Update dependencies, version and transition to ESM\r\n\r\n* Use ESM imports, add ESM-related info\r\n\r\n* Remove rollup\r\n\r\n* Lint TypeScript-related files\r\n\r\n* Update dependency\r\n\r\n* Lint & update dependency\r\n\r\n* Lint\r\n\r\n* Remove commonjs tests\r\n\r\n* chore: update changelog\r\n\r\n* Remove commonjs GitHub action\r\n\r\n* Update funding.yml\r\n\r\n* Update linter rules\r\n\r\n* Lint\r\n\r\n* Fix tsd\r\n\r\n* Remove unnecessary types\r\n\r\n* Simplify\r\n\r\n* Use top-level await\r\n\r\n* Update GitHub Actions\r\n\r\n* Use Mocha with ESM\r\n\r\n* Revamp\r\n\r\n* specify what node version\r\n\r\n* update formdata-node dep\r\n\r\n* remove lint from example using top await\r\n\r\n* updated name and link to formdata-polyfill\r\n\r\n* Stop recommend form-data\r\n\r\n* filter example - it has many duplicate variables\r\n\r\n* Update type definitions to ESM\r\n\r\n* Remove unused lint rule disable comment\r\n\r\n* Remove leftover rollup and dist folder\r\n\r\n* updated depn\r\n\r\n* updated d.ts\r\n\r\n* lint\r\n\r\n* Fix breaking changes with blob v3 stream()\r\n\r\n* revert eslint comment\r\n\r\n* revert back to xo 0.39\r\n\r\nDon't want to deal with all those new rules right now. will fix it later\r\nfixed some of them...\r\n\r\n* none TS fan trying to fix type definition\r\n\r\n* Give me a break\r\n\r\n* Test on all minimum supported Node.js versions (#1170)\r\n\r\n* Test on all minimum supported Node.js versions\r\n\r\n* Tweak Node.js workaround version range\r\n\r\n* Handle Node.js 16 aborted error message\r\n\r\n* fix node version string compare\r\n\r\nCo-authored-by: Jimmy Wärting <jimmy@warting.se>\r\n\r\n* bumped fetch-blob version\r\n\r\n* import from dom lib\r\n\r\n* rm unused comment\r\n\r\n* updated required version in docs\r\n\r\n* fixed named import\r\n\r\n* set lowest support to 12.20.0\r\n\r\n* comment explaining both\r\n\r\n* rm log\r\n\r\nCo-authored-by: Jimmy Wärting <jimmy@warting.se>\r\nCo-authored-by: Linus Unnebäck <linus@folkdatorn.se>",
                              "created_at": "2021-07-18T20:15:19Z",
                              "sha": "b50fbc105755123cad34fb0bc9d5653ecc693b8a"
                         },
                         {
                              "message": "fix: Correct Node versions were not installed on test matrix (#846)\n\n* fix Node install and add engines\r\n\r\n* use minimum-node-version",
                              "created_at": "2020-06-10T00:26:24Z",
                              "sha": "df1a4fafa9023fa04812d59ad60949f0f746ca65"
                         },
                         {
                              "message": "fix: improve TypeScript types (#841)\n\n* fix: improve TypeScript types\r\n\r\n* fix: disable allowSyntheticDefaultImports and esModuleInterop\r\n\r\n* fix: improve HeadersInit types (js/ts)\r\n\r\n* fix: fully match types to build index.cjs\r\n\r\n* fix: allow Iterable<Iterable<string>> in HeadersInit",
                              "created_at": "2020-05-29T00:41:26Z",
                              "sha": "e6bfe4d419aff7eb00887c6f6085dc6b8b43dcc3"
                         },
                         {
                              "message": "Drop custom Promises and refactor to `async` functions (#845)\n\n* refactor to async\r\n\r\n* no custsom promises anymore\r\n\r\n* restore server premature handler\r\n\r\n* simplify\r\n\r\n* fixing break\r\n\r\n* lint\r\n\r\n* remove promise dependency\r\n\r\n* fix docs",
                              "created_at": "2020-05-28T21:57:57Z",
                              "sha": "769f75d054662d2bc25c3f75fbc7701bc1b09ddf"
                         },
                         {
                              "message": "fix: export",
                              "created_at": "2020-05-25T17:20:30Z",
                              "sha": "079b11e2577f0cb0b1f1e6e0e42dc6079f4cd2f9"
                         },
                         {
                              "message": "fix: Settle `consumeBody` promise when the response closes prematurely (#768)\n\nThe stream.finished function is used consolidate the terminal cases.\r\nThe writable option must be set to false, since the body stream is\r\na Duplex stream, but our terminal cases only apply to the Readable side.",
                              "created_at": "2020-05-23T12:28:38Z",
                              "sha": "bea4a7cb732c54965544bc53324a9bb90fd1004e"
                         },
                         {
                              "message": "Move `isRedirect` function to a seperate file (#821)\n\n* fix isRedirect export\r\n\r\nCo-authored-by: Richie Bendall <richiebendall@gmail.com>",
                              "created_at": "2020-05-23T04:00:02Z",
                              "sha": "07c6b7490d32593901a21d697adb159e2165c879"
                         },
                         {
                              "message": "fix: disambiguate timeout behavior for response headers and body (#770)\n\nThere is a single timeout option which applies to both the receiving of\r\nresponse headers and the receiving of the entire response body. Once\r\nthe response is received, the socket timeout must be cleared to allow\r\nthe timeout to apply to the receiving of the entire response body.\r\n\r\nWithout clearing the socket timeout, if the nearing the idle timeout\r\nwhen the Promise for the body is created, then the request's timeout\r\nhandler will abort the request, emitting ERR_STREAM_PREMATURE_CLOSE in\r\nthe body Promise.\r\n\r\nBy clearing the socket timeout once the response headers are received,\r\nthe timeout for the entire body can be started when the body is awaited.\r\nSince the request will no longer be aborted by the socket timeout,\r\ndestroy is called on the body to prevent it continuing to emit data\r\nevents.",
                              "created_at": "2020-05-22T19:19:05Z",
                              "sha": "63d366346695d95d8a91af39ddf9c92c8c226ad0"
                         },
                         {
                              "message": "drop Babel (while keeping ESM) (#805)\n\n* drop Babel\n\n* fix lint\n\n* just to trigger CI\n\n* Update package.json\n\nCo-authored-by: Linus Unnebäck <linus@folkdatorn.se>\n\n* fix all imports\n\n* coverage only from Node 14.x\n\n* remove esm\n\n* restore travis\n\n* fix lint\n\nCo-authored-by: Linus Unnebäck <linus@folkdatorn.se>",
                              "created_at": "2020-05-21T06:50:31Z",
                              "sha": "0f97d62844e1fc3c56ebbec1ff1d2d0f66272190"
                         },
                         {
                              "message": "fix question mark stripped from url when no params are given (#7… (#782)\n\n* fix question mark stripped from url when no params are given (#776)\r\n\r\n* add more tests\r\n\r\n* whitespace\r\n\r\n* modify the server to handle the new tests\r\n\r\nCo-authored-by: dzek69 <git-public@dzek.eu>",
                              "created_at": "2020-04-20T19:42:51Z",
                              "sha": "631a4b24371b79833ce19ec8085df34d55fbb9b4"
                         },
                         {
                              "message": "Compile CJS modules as a seperate set of files (#778)\n\n* Switch to seperate babel compilation\r\n\r\nSigned-off-by: Richie Bendall <richiebendall@gmail.com>\r\n\r\n* resolve merge conflict\r\n\r\n* add missing devDependency\r\n\r\n* fix wrong name\r\n\r\n* Specify ES version under `module` property and specify `sideEffects`\r\n\r\nCo-authored-by: Antoni Kepinski <xxczaki@pm.me>",
                              "created_at": "2020-04-14T11:03:24Z",
                              "sha": "d15476bb5d60eef718592bcfd451cfd616128070"
                         },
                         {
                              "message": "fix: Ensure search parameters are included in URL path (#759)\n\n* fix search params missing from url path\r\n\r\n* fix search params missing from url path\r\n\r\n* Trigger travis ci\r\n\r\nCo-authored-by: Antoni Kepinski <xxczaki@pm.me>",
                              "created_at": "2020-04-13T14:23:26Z",
                              "sha": "33532c29e054f75c1b9267b4226bd5dad2cf1bda"
                         },
                         {
                              "message": "revert fix: Properly export fetch",
                              "created_at": "2020-03-28T18:03:23Z",
                              "sha": "c167190c6ee21234ba41bd8430700d4720bf64ce"
                         },
                         {
                              "message": "fix: Properly export fetch\n\nSigned-off-by: Richie Bendall <richiebendall@gmail.com>",
                              "created_at": "2020-03-14T10:08:36Z",
                              "sha": "7c66f9ce822a3a06fe01eb583a30b4c087c596c2"
                         },
                         {
                              "message": "merge 3.x into master branch (#745)\n\n* feat: Migrate TypeScript types (#669)\r\n\r\n* style: Introduce linting via XO\r\n\r\n* fix: Fix tests\r\n\r\n* chore!: Drop support for nodejs 4 and 6\r\n\r\n* chore: Fix Travis CI yml\r\n\r\n* Use old Babel (needs migration)\r\n\r\n* chore: lint everything\r\n\r\n* chore: Migrate to microbundle\r\n\r\n* Default response.statusText should be blank (#578)\r\n\r\n* fix: Use correct AbortionError message\r\n\r\nSigned-off-by: Richie Bendall <richiebendall@gmail.com>\r\n\r\n* chore: Use modern @babel/register\r\n\r\nSigned-off-by: Richie Bendall <richiebendall@gmail.com>\r\n\r\n* chore: Remove redundant packages\r\n\r\nSigned-off-by: Richie Bendall <richiebendall@gmail.com>\r\n\r\n* chore: Readd form-data\r\n\r\nSigned-off-by: Richie Bendall <richiebendall@gmail.com>\r\n\r\n* fix: Fix tests and force utf8-encoded urls\r\n\r\nSigned-off-by: Richie Bendall <richiebendall@gmail.com>\r\n\r\n* lint index.js\r\n\r\n* Update devDependencies & ignore `test` directory in linter options\r\n\r\n* Remove unnecessary eslint-ignore comment\r\n\r\n* Update the `lint` script to run linter on every file\r\n\r\n* Remove unused const & unnecessary import\r\n\r\n* TypeScript: Fix Body.blob() wrong type (DefinitelyTyped/DefinitelyTyped#33721)\r\n\r\n* chore: Lint as part of the build process\r\n\r\n* fix: Convert Content-Encoding to lowercase (#672)\r\n\r\n* fix: Better object checks (#673)\r\n\r\n* Fix stream piping (#670)\r\n\r\n* chore: Remove useless check\r\n\r\nSigned-off-by: Richie Bendall <richiebendall@gmail.com>\r\n\r\n* style: Fix lint\r\n\r\nSigned-off-by: Richie Bendall <richiebendall@gmail.com>\r\n\r\n* style: Fix lint\r\n\r\nSigned-off-by: Richie Bendall <richiebendall@gmail.com>\r\n\r\n* refactor: Modernise code\r\n\r\nSigned-off-by: Richie Bendall <richiebendall@gmail.com>\r\n\r\n* chore: Ensure all files are properly included\r\n\r\nSigned-off-by: Richie Bendall <richiebendall@gmail.com>\r\n\r\n* chore: Update deps and utf8 should be in dependencies\r\n\r\nSigned-off-by: Richie Bendall <richiebendall@gmail.com>\r\n\r\n* test: Drop Node v4 from tests\r\n\r\nSigned-off-by: Richie Bendall <richiebendall@gmail.com>\r\n\r\n* test: Modernise code\r\n\r\nSigned-off-by: Richie Bendall <richiebendall@gmail.com>\r\n\r\n* chore: Move errors to seperate directory\r\n\r\nSigned-off-by: Richie Bendall <richiebendall@gmail.com>\r\n\r\n* refactor: Add fetch-blob (#678)\r\n\r\n* feat: Migrate data uri integration\r\n\r\nSigned-off-by: Richie Bendall <richiebendall@gmail.com>\r\n\r\n* Allow setting custom highWaterMark via node-fetch options (#386) (#671)\r\n\r\n* Expose highWaterMark option to body clone function\r\n\r\n* Add highWaterMark to responseOptions\r\n\r\n* Add highWaterMark as node-fetch-only option\r\n\r\n* a way to silently pass highWaterMark to clone\r\n\r\n* Chai helper\r\n\r\n* Server helper\r\n\r\n* Tests\r\n\r\n* Remove debug comments\r\n\r\n* Document highWaterMark option\r\n\r\n* Add TypeScript types for the new highWaterMark option\r\n\r\n* feat: Include system error in FetchError if one occurs (#654)\r\n\r\n* style: Add editorconfig\r\n\r\nSigned-off-by: Richie Bendall <richiebendall@gmail.com>\r\n\r\n* chore!: Drop NodeJS v8\r\n\r\nSigned-off-by: Richie Bendall <richiebendall@gmail.com>\r\n\r\n* chore: Remove legacy code for node < 8\r\n\r\nSigned-off-by: Richie Bendall <richiebendall@gmail.com>\r\n\r\n* chore: Use proper checks for ArrayBuffer and AbortError\r\n\r\nSigned-off-by: Richie Bendall <richiebendall@gmail.com>\r\n\r\n* chore: Use explicitly set error name in checks\r\n\r\nSigned-off-by: Richie Bendall <richiebendall@gmail.com>\r\n\r\n* Propagate size and timeout to cloned response (#664)\r\n\r\n* Remove --save option as it isn't required anymore (#581)\r\n\r\n* Propagate size and timeout to cloned response\r\n\r\n\r\nCo-authored-by: Steve Moser <contact@stevemoser.org>\r\nCo-authored-by: Antoni Kepinski <xxczaki@pm.me>\r\n\r\n* Update Response types\r\n\r\n* Update devDependencies\r\n\r\n* feat: Fallback to blob type (Closes: #607)\r\n\r\nSigned-off-by: Richie Bendall <richiebendall@gmail.com>\r\n\r\n* style: Update formatting\r\n\r\nSigned-off-by: Richie Bendall <richiebendall@gmail.com>\r\n\r\n* style: Fix linting issues\r\n\r\nSigned-off-by: Richie Bendall <richiebendall@gmail.com>\r\n\r\n* docs: Add info on patching the global object\r\n\r\n* docs: Added non-globalThis polyfill\r\n\r\n* Replace deprecated `url.resolve` with the new WHATWG URL\r\n\r\n* Update devDependencies\r\n\r\n* Format code in examples to use `xo` style\r\n\r\n* Verify examples with RunKit and edit them if necessary\r\n\r\n* Add information about TypeScript support\r\n\r\n* Document the new `highWaterMark` option\r\n\r\n* Add Discord badge & information about Open Collective\r\n\r\n* Style change\r\n\r\n* Edit acknowledgement & add \"Team\" section\r\n\r\n* fix table\r\n\r\n* Format example code to use xo style\r\n\r\n* chore: v3 release changelog\r\n\r\n* Add the recommended way to fix `highWaterMark` issues\r\n\r\n* docs: Add simple Runkit example\r\n\r\n* fix: Properly set the name of the errors.\r\n\r\nSigned-off-by: Richie Bendall <richiebendall@gmail.com>\r\n\r\n* docs: Add AbortError to documented types\r\n\r\nSigned-off-by: Richie Bendall <richiebendall@gmail.com>\r\n\r\n* docs: AbortError proper typing parameters\r\n\r\nSigned-off-by: Richie Bendall <richiebendall@gmail.com>\r\n\r\n* docs: Add example code for Runkit\r\n\r\nSigned-off-by: Richie Bendall <richiebendall@gmail.com>\r\n\r\n* Replace microbundle with @pika/pack (#689)\r\n\r\n* gitignore the pkg/ directory\r\n\r\n* Move TypeScript types to the root of the project\r\n\r\n* Replace microbundle with @pika/pack\r\n\r\n* chore: Remove @pika/plugin-build-web and revert ./dist output directory\r\n\r\nSigned-off-by: Richie Bendall <richiebendall@gmail.com>\r\n\r\n\r\nCo-authored-by: Richie Bendall <richiebendall@gmail.com>\r\n\r\n* fix incorrect statement in changelog\r\n\r\n* chore: v3.x upgrade guide\r\n\r\n* Change the Open Collective button\r\n\r\n* docs: Encode support button as Markdown instead of HTML\r\n\r\n* chore: Ignore proper directory in xo\r\n\r\n* Add an \"Upgrading\" section to readme\r\n\r\n* Split the upgrade guide into 2 files & add the missing changes about v3.x\r\n\r\n* style: Lint test and example files\r\n\r\nSigned-off-by: Richie Bendall <richiebendall@gmail.com>\r\n\r\n* Move *.md files to the `docs` folder (except README.md)\r\n\r\n* Update references to files\r\n\r\n* Split LIMITS.md into 2 files (as of v2.x and v3.x)\r\n\r\n* chore: Remove logging statement\r\n\r\nSigned-off-by: Richie Bendall <richiebendall@gmail.com>\r\n\r\n* style: Fix lint\r\n\r\n* docs: Correct typings for systemError in FetchError (Fixes #697)\r\n\r\n* refactor: Replace `encoding` with `fetch-charset-detection`. (#694)\r\n\r\n* refactor: Replace `encoding` with `fetch-charset-detection`.\r\n\r\nSigned-off-by: Richie Bendall <richiebendall@gmail.com>\r\n\r\n* refactor: Move writing to stream back to body.js\r\n\r\nSigned-off-by: Richie Bendall <richiebendall@gmail.com>\r\n\r\n* refactor: Only put convertBody in fetch-charset-detection and refactor others.\r\n\r\nSigned-off-by: Richie Bendall <richiebendall@gmail.com>\r\n\r\n* test: Readd tests for getTotalBytes and extractContentType\r\n\r\nSigned-off-by: Richie Bendall <richiebendall@gmail.com>\r\n\r\n* chore: Revert package.json indention\r\n\r\nSigned-off-by: Richie Bendall <richiebendall@gmail.com>\r\n\r\n* chore: Remove optional dependency\r\n\r\n* docs: Replace code for fetch-charset-detection with documentation.\r\n\r\nSigned-off-by: Richie Bendall <richiebendall@gmail.com>\r\n\r\n* chore: Remove iconv-lite\r\n\r\n* fix: Use default export instead of named export for convertBody\r\n\r\nSigned-off-by: Richie Bendall <richiebendall@gmail.com>\r\n\r\n* chore: Remove unneeded installation of fetch-charset-detection in the build\r\n\r\n* docs: Fix typo\r\n\r\n* fix: Throw SyntaxError instead of FetchError in case of invalid… (#700)\r\n\r\n* fix: Throw SyntaxError instead of FetchError in case of invalid JSON\r\n\r\nSigned-off-by: Richie Bendall <richiebendall@gmail.com>\r\n\r\n* docs: Add to upgrade guide\r\n\r\nSigned-off-by: Richie Bendall <richiebendall@gmail.com>\r\n\r\n* Remove deprecated url.parse from test\r\n\r\n* Remove deprecated url.parse from server\r\n\r\n* fix: Proper data uri to buffer conversion (#703)\r\n\r\nSigned-off-by: Richie Bendall <richiebendall@gmail.com>\r\n\r\n* chore: Add funding info\r\n\r\n* fix: Flawed property existence test (#706)\r\n\r\nFix a problem where not all prototype methods are copied from the Body via the mixin method due to a failure to properly detect properties in the target. The current code uses the `in` operator, which may return properties lower down the inheritance chain, thus causing them to fail the copy. The new code properly calls the `.hasOwnProperty()` method to make the determination.\r\n\r\n* fix: Properly handle stream pipeline double-fire\r\n\r\nSigned-off-by: Richie Bendall <richiebendall@gmail.com>\r\n\r\n* docs: Fix spelling\r\n\r\nSigned-off-by: Richie Bendall <richiebendall@gmail.com>\r\n\r\n* chore: Add `funding` field to package.json (#708)\r\n\r\n* Fix: Do not set ContentLength to NaN (#709)\r\n\r\n* do not set ContentLength to NaN\r\n\r\n* lint\r\n\r\n* docs: Add logo\r\n\r\nSigned-off-by: Richie Bendall <richiebendall@gmail.com>\r\n\r\n* chore: Update repository name from bitinn/node-fetch to node-fetch/node-fetch.\r\n\r\nSigned-off-by: Richie Bendall <richiebendall@gmail.com>\r\n\r\n* chore: Fix unit tests\r\n\r\nSigned-off-by: Richie Bendall <richiebendall@gmail.com>\r\n\r\n* chore(deps): Bump @pika/plugin-copy-assets from 0.7.1 to 0.8.1 (#713)\r\n\r\nBumps [@pika/plugin-copy-assets](https://github.com/pikapkg/builders) from 0.7.1 to 0.8.1.\r\n- [Release notes](https://github.com/pikapkg/builders/releases)\r\n- [Commits](https://github.com/pikapkg/builders/compare/v0.7.1...v0.8.1)\r\n\r\nSigned-off-by: dependabot-preview[bot] <support@dependabot.com>\r\n\r\n* chore(deps): Bump @pika/plugin-build-types from 0.7.1 to 0.8.1 (#710)\r\n\r\nBumps [@pika/plugin-build-types](https://github.com/pikapkg/builders) from 0.7.1 to 0.8.1.\r\n- [Release notes](https://github.com/pikapkg/builders/releases)\r\n- [Commits](https://github.com/pikapkg/builders/compare/v0.7.1...v0.8.1)\r\n\r\nSigned-off-by: dependabot-preview[bot] <support@dependabot.com>\r\n\r\n* Bump nyc from 14.1.1 to 15.0.0 (#714)\r\n\r\nBumps [nyc](https://github.com/istanbuljs/nyc) from 14.1.1 to 15.0.0.\r\n- [Release notes](https://github.com/istanbuljs/nyc/releases)\r\n- [Changelog](https://github.com/istanbuljs/nyc/blob/master/CHANGELOG.md)\r\n- [Commits](https://github.com/istanbuljs/nyc/compare/v14.1.1...v15.0.0)\r\n\r\nSigned-off-by: dependabot-preview[bot] <support@dependabot.com>\r\n\r\n* chore: Update travis ci url\r\n\r\nSigned-off-by: Richie Bendall <richiebendall@gmail.com>\r\n\r\n* chore(deps): Bump mocha from 6.2.2 to 7.0.0 (#711)\r\n\r\nBumps [mocha](https://github.com/mochajs/mocha) from 6.2.2 to 7.0.0.\r\n- [Release notes](https://github.com/mochajs/mocha/releases)\r\n- [Changelog](https://github.com/mochajs/mocha/blob/master/CHANGELOG.md)\r\n- [Commits](https://github.com/mochajs/mocha/compare/v6.2.2...v7.0.0)\r\n\r\nSigned-off-by: dependabot-preview[bot] <support@dependabot.com>\r\n\r\n* feat: Allow excluding a user agent in a fetch request by setting… (#715)\r\n\r\nSigned-off-by: Richie Bendall <richiebendall@gmail.com>\r\n\r\n* Bump @pika/plugin-build-node from 0.7.1 to 0.8.1 (#717)\r\n\r\nBumps [@pika/plugin-build-node](https://github.com/pikapkg/builders) from 0.7.1 to 0.8.1.\r\n- [Release notes](https://github.com/pikapkg/builders/releases)\r\n- [Commits](https://github.com/pikapkg/builders/compare/v0.7.1...v0.8.1)\r\n\r\nSigned-off-by: dependabot-preview[bot] <support@dependabot.com>\r\n\r\n* Bump @pika/plugin-standard-pkg from 0.7.1 to 0.8.1 (#716)\r\n\r\nBumps [@pika/plugin-standard-pkg](https://github.com/pikapkg/builders) from 0.7.1 to 0.8.1.\r\n- [Release notes](https://github.com/pikapkg/builders/releases)\r\n- [Commits](https://github.com/pikapkg/builders/compare/v0.7.1...v0.8.1)\r\n\r\nSigned-off-by: dependabot-preview[bot] <support@dependabot.com>\r\n\r\n* Bump form-data from 2.5.1 to 3.0.0 (#712)\r\n\r\nBumps [form-data](https://github.com/form-data/form-data) from 2.5.1 to 3.0.0.\r\n- [Release notes](https://github.com/form-data/form-data/releases)\r\n- [Commits](https://github.com/form-data/form-data/compare/v2.5.1...v3.0.0)\r\n\r\nSigned-off-by: dependabot-preview[bot] <support@dependabot.com>\r\n\r\n* fix: typo\r\n\r\n* update suggestion\r\n\r\n* feat: Added missing redirect function (#718)\r\n\r\n* added missing redirect function\r\n* chore: Add types\r\n\r\nCo-authored-by: Richie Bendall <richiebendall@gmail.com>\r\n\r\n* fix: Use req.setTimeout for timeout (#719)\r\n\r\n* chore: Update typings comment\r\n\r\nSigned-off-by: Richie Bendall <richiebendall@gmail.com>\r\n\r\n* chore: Update deps\r\n\r\nSigned-off-by: Richie Bendall <richiebendall@gmail.com>\r\n\r\n* docs: center badges & Open Collective button\r\n\r\n* docs: add missing comma\r\n\r\n* Remove current stable & LTS node version numbers from the comments\r\n\r\nI don't think we really want to update them\r\n\r\n* Bump xo from 0.25.4 to 0.26.1 (#730)\r\n\r\nBumps [xo](https://github.com/xojs/xo) from 0.25.4 to 0.26.1.\r\n- [Release notes](https://github.com/xojs/xo/releases)\r\n- [Commits](https://github.com/xojs/xo/compare/v0.25.4...v0.26.1)\r\n\r\nSigned-off-by: dependabot-preview[bot] <support@dependabot.com>\r\n\r\n* Bump @pika/plugin-build-types from 0.8.3 to 0.9.2 (#729)\r\n\r\nBumps [@pika/plugin-build-types](https://github.com/pikapkg/builders) from 0.8.3 to 0.9.2.\r\n- [Release notes](https://github.com/pikapkg/builders/releases)\r\n- [Commits](https://github.com/pikapkg/builders/compare/v0.8.3...v0.9.2)\r\n\r\nSigned-off-by: dependabot-preview[bot] <support@dependabot.com>\r\n\r\n* Bump @pika/plugin-standard-pkg from 0.8.3 to 0.9.2 (#726)\r\n\r\nBumps [@pika/plugin-standard-pkg](https://github.com/pikapkg/builders) from 0.8.3 to 0.9.2.\r\n- [Release notes](https://github.com/pikapkg/builders/releases)\r\n- [Commits](https://github.com/pikapkg/builders/compare/v0.8.3...v0.9.2)\r\n\r\nSigned-off-by: dependabot-preview[bot] <support@dependabot.com>\r\n\r\n* docs: Update information about `req.body` type in v3.x release\r\n\r\n* Add information about removed body type to the v3 upgrade guide\r\n\r\n* add awesome badge\r\n\r\n* Show 2 ways of importing node-fetch (CommonJS & ES module)\r\n\r\n* update dependencies\r\n\r\n* lint\r\n\r\n* refactor: Replace `url.parse` with `new URL()` (#701)\r\n\r\n* chore: replace `url.parse` with `new URL()`\r\n\r\n* lint\r\n\r\n* handle relative URLs\r\n\r\n* Change error message\r\n\r\n* detect whether the url is absolute or not\r\n\r\n* update tests\r\n\r\n* drop relative url support\r\n\r\n* lint\r\n\r\n* fix tests\r\n\r\n* typo\r\n\r\n* Add information about dropped arbitrary URL support in v3.x upgrade guide\r\n\r\n* set xo linting rule (node/no-deprecated-api) to on\r\n\r\n* remove the `utf8` dependency\r\n\r\n* fix\r\n\r\n* refactor: split tests into several files, create the `utils` directory\r\n\r\n* Update package.json scripts & remove unnecessary xo linting rules\r\n\r\n* refactor: turn on some xo linting rules to improve code quality\r\n\r\n* fix tests\r\n\r\n* Remove invalid urls\r\n\r\n* fix merge conflict\r\n\r\n* update the upgrade guide\r\n\r\n* test if URLs are encoded as UTF-8\r\n\r\n* update xo to 0.28.0\r\n\r\n* chore: Build before publishing\r\n\r\n* v3.0.0-beta.1\r\n\r\n* fix lint on test/main.js\r\n\r\nCo-authored-by: Richie Bendall <richiebendall@gmail.com>\r\nCo-authored-by: Antoni Kepinski <xxczaki@pm.me>\r\nCo-authored-by: aeb-sia <50743092+aeb-sia@users.noreply.github.com>\r\nCo-authored-by: Nazar Mokrynskyi <nazar@mokrynskyi.com>\r\nCo-authored-by: Steve Moser <contact@stevemoser.org>\r\nCo-authored-by: Erick Calder <e@arix.com>\r\nCo-authored-by: Yaacov Rydzinski <yaacovCR@gmail.com>\r\nCo-authored-by: dependabot-preview[bot] <27856297+dependabot-preview[bot]@users.noreply.github.com>\r\nCo-authored-by: Jimmy Wärting <jimmy@warting.se>",
                              "created_at": "2020-03-13T15:06:25Z",
                              "sha": "0959ca9739850bbd24e0721cc1296e7a0aa5c2bd"
                         },
                         {
                              "message": "fix: Change error message thrown with redirect mode set to error (#653)\n\nThe original error message does not provide enough information about what went wrong. It simply states a configuration setting.",
                              "created_at": "2019-10-10T20:26:58Z",
                              "sha": "1e99050f944ac435fce26a9549eadcc2419a968a"
                         },
                         {
                              "message": "fix: Properly parse meta tag when parameters are reversed (#682)",
                              "created_at": "2019-10-07T06:58:27Z",
                              "sha": "6a5d192034a0f438551dffb6d2d8df2c00921d16"
                         },
                         {
                              "message": "fix: Check for global.fetch before binding it (#674)",
                              "created_at": "2019-09-16T11:52:22Z",
                              "sha": "5535c2ed478d418969ecfd60c16453462de2a53f"
                         },
                         {
                              "message": "Fix import style to workaround node < 10 and webpack issues. (#544)\n\n* fix import rule for stream PassThrough\r\n\r\n* avoid named export for compatibility below node 10\r\n\r\n* compress flag should not overwrite accept encoding header\r\n\r\n* doc update\r\n\r\n* 2.2.1",
                              "created_at": "2018-11-05T09:42:51Z",
                              "sha": "1daae67e9e88f7c0a9bd56e38e5d5efe365fd411"
                         },
                         {
                              "message": "Make sure to finalize the request properly (#432)\n\nUnfortunately, I could not write a test case that allows testing the bug\nin #428. Credits to Roman Zaharenkov <ZaharenkovRoman@gmail.com> for\ndiscovering this long-standing bug and proposing a first version of the\nfix.\n\nCo-authored-by: Roman Zaharenkov <ZaharenkovRoman@gmail.com>\nFixes: #428",
                              "created_at": "2018-03-25T03:50:33Z",
                              "sha": "aed2e69a39bfe2759aa2062e2b3effeb6ce05dbc"
                         },
                         {
                              "message": "Wrap ArrayBuffer with Buffer internally to fix Body methods (#426)",
                              "created_at": "2018-03-20T16:57:03Z",
                              "sha": "4c4f2f29e52f194870bd9b31c6f72f13bfcd9d54"
                         },
                         {
                              "message": "fix a small oversight in request class \n\nlowercase method name does not trigger type error properly (#362)",
                              "created_at": "2017-11-19T04:44:02Z",
                              "sha": "3345b652e4ccf7bd8ff30a0f07315821af7de826"
                         },
                         {
                              "message": "Merge pull request #315 from bitinn/fix-test\n\nFix test cases for #314, #292",
                              "created_at": "2017-07-22T13:26:50Z",
                              "sha": "721a9aa6b6c700253b4c6e3ff1cce7e254c6f12b"
                         },
                         {
                              "message": "remove `encoding` as a dependency, throw detailed Error if not installed (#302)\n\n* remove `encoding` as a dependency, throw descriptive Error if textConverted() is used without it in env\r\n\r\n* remove rollup ext dep resolution since we don't need it\r\n\r\n* switch to programmer error, rm unneeded test conditions, bump timeout for slow CI\r\n\r\n* more kill `encoding` dep PR changes\r\n\r\nkeep blank \"dependencies\" prop in package.json so rollup's external config func doesn't seize\r\nadd ext dep checks back to the rollup config\r\nno implicit var\r\nclarify test comment\r\n\r\n* [squash] alter travis cfg to test with and without `encoding`, various\r\n\r\nfix devDeps\r\nseparate `encoding` tests to their own block\r\n\r\n* [squash] fixing nits\r\n\r\n* [squash] ci: full matrix of form-data versions and encoding existence\r\n\r\nand nits",
                              "created_at": "2017-07-02T16:32:48Z",
                              "sha": "432cd8a31e3c3d1a1d640be5aa914aa415f60a3f"
                         },
                         {
                              "message": "use synchronous try/catch to fix codecov missing lines",
                              "created_at": "2017-06-20T00:31:15Z",
                              "sha": "6b990d0631ec130bb27a531b1cfb3f6f1a1dd7aa"
                         },
                         {
                              "message": "Merge pull request #289 from bitinn/2.x-fix-tests-for-node-8\n\n2.x branch: fix testcases for node 8 and npm 5",
                              "created_at": "2017-06-03T10:18:34Z",
                              "sha": "5060ac10f1ff2eba94bceed105182bf79f2be4f1"
                         },
                         {
                              "message": "fix test server for node 8, which changes keepalive connection handling",
                              "created_at": "2017-06-03T10:01:13Z",
                              "sha": "c24d591794958be298a075c7274198f244ade3e6"
                         },
                         {
                              "message": "Work around istanbul's bug\n\nSee istanbuljs/istanbul-lib-instrument#30.",
                              "created_at": "2016-11-23T19:39:18Z",
                              "sha": "908bcaac4cacf5b027e3a82e883cabe09f22a0ed"
                         },
                         {
                              "message": "minor format fix and comments",
                              "created_at": "2016-09-24T09:12:18Z",
                              "sha": "e926483448c675b7443d2c085c49cee9d4619120"
                         },
                         {
                              "message": "fix test: buffer.alloc is not available for older node.js release",
                              "created_at": "2016-09-11T15:34:50Z",
                              "sha": "ffddec0ad2dbfa8dcc4a9c9f0489fd16220f544d"
                         },
                         {
                              "message": "fix bug related to request wrapping, where counter adopts follow value incorrectly",
                              "created_at": "2016-09-11T14:02:39Z",
                              "sha": "6bac50f1dae59cd159e556bb84791632a812b15f"
                         },
                         {
                              "message": "Merge pull request #141 from bitinn/august-bugfix\n\nAugust bugfix, see commit for details",
                              "created_at": "2016-08-03T10:07:51Z",
                              "sha": "ed9a72d84eab5f091353c1e652a992eab065f7be"
                         },
                         {
                              "message": "Merge pull request #121 from bitinn/bugfix\n\ncloses #115 #105 #102 #101 #43",
                              "created_at": "2016-05-25T18:52:47Z",
                              "sha": "d47549eab12dc9ac2a677c5e597513be029c1869"
                         },
                         {
                              "message": "fix manual redirect mode",
                              "created_at": "2016-04-12T18:58:04Z",
                              "sha": "311a8d595110ef010b14dec5376af9e9cf24a6a5"
                         },
                         {
                              "message": "fix formdata support when you are trying to wrap the request",
                              "created_at": "2016-03-23T07:02:04Z",
                              "sha": "89ce1b70b6a70b4c37ce795a6da66a57b86a51fd"
                         },
                         {
                              "message": "node v0.10 allow header support is weird, attempt to fix test",
                              "created_at": "2016-03-19T10:52:13Z",
                              "sha": "4b589bc1476e60aa4ccbe5a0d597ff00b0b319bf"
                         },
                         {
                              "message": "fix missing require",
                              "created_at": "2016-03-19T10:45:02Z",
                              "sha": "839354b76b80a92ebb9e042ad928853906395fea"
                         },
                         {
                              "message": "fix tests for older node",
                              "created_at": "2016-03-19T10:36:53Z",
                              "sha": "827ce8fa31658b334a04df020f94ed2f90dda34f"
                         },
                         {
                              "message": "fix chunked encoding support for character encoding conversion, thx @dsuket PR #50",
                              "created_at": "2016-03-19T08:17:14Z",
                              "sha": "00fa8679148b7cbc4279022dc47b6e4ea097baa5"
                         },
                         {
                              "message": "fix code formating",
                              "created_at": "2016-03-19T07:41:25Z",
                              "sha": "532adab676dc8fbb9d9616c6756a167bc097c0f1"
                         },
                         {
                              "message": "fix coverage and remove duplicate tests",
                              "created_at": "2016-03-19T07:11:16Z",
                              "sha": "4624f41385c1f0d44b275d40a484ac82d17134df"
                         },
                         {
                              "message": "bump dependencies and fix incompatible tests",
                              "created_at": "2016-03-19T06:41:19Z",
                              "sha": "79d2e2cc3704679e2d9a7864231317252a6c47ac"
                         },
                         {
                              "message": "Merge pull request #48 from bitinn/bugfix\n\nPrepare for v1.3.3 release",
                              "created_at": "2015-09-28T15:07:25Z",
                              "sha": "017ffc96073fc485637c2054f31a4d331475b06d"
                         },
                         {
                              "message": "fix follow=0 scenario",
                              "created_at": "2015-03-19T16:22:23Z",
                              "sha": "a8bb5650ad014b4e601d31e219c9729cac6adde7"
                         }
                    ]
               },
               "async_constructs": {
                    "callback": 6,
                    "promise": 7,
                    "async": 11
               }
          },
          {
               "index": 4,
               "repoFullName": "yujiosaka/headless-chrome-crawler",
               "creationDate": "2017-12-02",
               "languages": {
                    "JavaScript": 114727,
                    "Dockerfile": 1434
               },
               "stars": 5332,
               "issues": {
                    "incomplete_results": false,
                    "status_code": "200",
                    "total_bug_issues": 22,
                    "total_issues": 106,
                    "issues": [
                         {
                              "title": "[bug]hang ..........",
                              "description": "code\r\n```js\r\n/*\r\n\r\nnode spider2.js --unhandled-rejections=strict\r\n*/\r\nconst { inspect } = require('util');\r\nconst HCCrawler = require('headless-chrome-crawler');\r\nconst BaseExporter = require('headless-chrome-crawler/exporter/base');\r\n\r\nconst FILE = './output/result';\r\n\r\n// Create a new exporter by extending BaseExporter interface\r\nclass InspectExporter extends BaseExporter {\r\n  constructor(settings) {\r\n    super(settings);\r\n    if (!this._settings.depth) this._settings.depth = 2;\r\n  }\r\n\r\n  writeLine(result) {\r\n    // const line = inspect(result, { depth: this._settings.depth, breakLength: Infinity });\r\n    // this._stream.write(`${line}\\n`);\r\n    this._stream.write(result);\r\n  }\r\n\r\n  writeHeader() {}\r\n\r\n  writeFooter() {}\r\n}\r\n\r\nconst exporter = new InspectExporter({\r\n  file: FILE,\r\n  depth: 1,\r\n});\r\n\r\n// ,executablePath: '/Applications/Chromium.app/Contents/MacOS/Chromium'\r\n(async () => {\r\n  const crawler = await HCCrawler.launch({ exporter, maxDepth: 3,headless: false,args: [\r\n    '--ignore-certificate-errors',\r\n    '--no-sandbox',\r\n],maxDepth: 8 });\r\n  await crawler.queue({url:'https://www.paypal.com/',screenshot: {\r\n    path: './output/example-com.png',fullPage: true\r\n  }});\r\n  await crawler.onIdle();\r\n  await crawler.close();\r\n})();\r\n\r\n```\r\nnode -v\r\nv14.17.6\r\nmacOS:12.2.1 (21D62)\r\n\r\nerror:\r\nnode spider2.js --unhandled-rejections=strict\r\n(node:46052) UnhandledPromiseRejectionWarning: Error: Protocol error: Connection closed. Most likely the page has been closed.\r\n    at assert (/usr/local/lib/node_modules/headless-chrome-crawler/node_modules/puppeteer/lib/helper.js:251:11)\r\n    at Page.close (/usr/local/lib/node_modules/headless-chrome-crawler/node_modules/puppeteer/lib/Page.js:883:5)\r\n    at Crawler.close (/usr/local/lib/node_modules/headless-chrome-crawler/lib/crawler.js:80:22)\r\n    at Crawler.<anonymous> (/usr/local/lib/node_modules/headless-chrome-crawler/lib/helper.js:177:23)\r\n    at HCCrawler._request (/usr/local/lib/node_modules/headless-chrome-crawler/lib/hccrawler.js:349:21)\r\n    at processTicksAndRejections (internal/process/task_queues.js:95:5)\r\n    at async HCCrawler._startRequest (/usr/local/lib/node_modules/headless-chrome-crawler/lib/hccrawler.js:305:19)\r\n    at async Promise.all (index 0)\r\n    at async PriorityQueue._pull (/usr/local/lib/node_modules/headless-chrome-crawler/lib/priority-queue.js:94:5)\r\n(Use `node --trace-warnings ...` to show where the warning was created)\r\n(node:46052) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 2)\r\n(node:46052) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.\r\n\r\n<img width=\"1297\" alt=\"image\" src=\"https://user-images.githubusercontent.com/18223385/154738161-37bd51f6-651b-446a-9c36-201dfe14909c.png\">\r\n",
                              "label": "unlabeledBug",
                              "createdAt": "2022-02-18T18:05:35Z",
                              "closedAt": "2022-05-07T14:36:29Z",
                              "lastComment": "",
                              "commentCount": 0
                         },
                         {
                              "title": "Protocol error: Connection closed. Most likely the page has been closed.",
                              "description": "Hi, so I'm running the crawler on AWS lambda and am finding an issue on some websites, was hoping you might have any insights. \r\n\r\nSo the issue is that the crawler crashes after crawling anywhere between ~20-120 pages with the following error:\r\n\r\n```\r\n{\r\n  \"errorType\": \"Runtime.UnhandledPromiseRejection\",\r\n  \"errorMessage\": \"Error: Protocol error: Connection closed. Most likely the page has been closed.\",\r\n  \"trace\": [\r\n    \"Runtime.UnhandledPromiseRejection: Error: Protocol error: Connection closed. Most likely the page has been closed.\",\r\n    \"    at process.<anonymous> (/var/runtime/index.js:35:15)\",\r\n    \"    at process.emit (events.js:314:20)\",\r\n    \"    at processPromiseRejections (internal/process/promises.js:209:33)\",\r\n    \"    at processTicksAndRejections (internal/process/task_queues.js:98:32)\"\r\n  ]\r\n}\r\n```\r\n\r\nEach time it's a different number of URLs that it manages to complete (even when rerunning for the same website). The lambda timeout is not reached (each time it's around 20-50s before the crash). There is 3008Mb allocated for the lambda, but the crawler uses under 2000Mb, never reaching the limit. \r\n\r\nIs there perhaps a config or a flag that I'm missing here? \r\n\r\nThe code:\r\n```\r\nconst HCCrawler = require('headless-chrome-crawler');\r\nconst chromium = require('chrome-aws-lambda');\r\nvar URL = require('url').URL;\r\n\r\nconst crawl = async (url) => {\r\n  const visitedURLs = []\r\n  const { host } = new URL(url)\r\n\r\n  const crawler = await HCCrawler.launch({\r\n    executablePath: await chromium.executablePath,\r\n    defaultViewport: chromium.defaultViewport,\r\n    ignoreHTTPSErrors: true,\r\n    headless: chromium.headless,\r\n    args: chromium.args,\r\n    // Function to be evaluated in headless Chromium\r\n    evaluatePage: () => ({\r\n      title: $('title').text(), // eslint-disable-line no-undef\r\n      link: $('a').attr('href'), // eslint-disable-line no-undef\r\n      linkslen: $('a').length, // eslint-disable-line no-undef\r\n    }),\r\n    onSuccess: async (result) => {\r\n      visitedURLs.push(result.options.url)\r\n      console.log(visitedURLs.length, result.options.url)\r\n      for (const link of result.links) {\r\n        await crawler.queue({ url: link, maxDepth: 1 })\r\n      }\r\n    },\r\n    onError: async (error) => {\r\n      console.log('Failed: ' + error.options.url)\r\n    },\r\n    maxDepth: 1,\r\n    allowedDomains: [host],\r\n    //dumpio: true\r\n  })\r\n\r\n  // Queue a request\r\n  await crawler.queue({\r\n    url: url\r\n  })\r\n  await crawler.onIdle() // Resolved when no queue is left\r\n  await crawler.close() // Close the crawler// De-dupe the crawled paths\r\n\r\n  return [...new Set(visitedURLs)]\r\n}\r\n\r\nexports.handler = async () => {\r\n\r\n  const uniqueURLs = await crawl(\r\n    process.env.HTTP_URL\r\n  )\r\n    console.log(uniqeURLs)\r\n}\r\n\r\n```\r\n\r\n**If the current behavior is a bug, please provide the steps to reproduce**\r\nRun the above code against https://www.bbc.co.uk/\r\n\r\n**What is the expected behavior?**\r\nWould expect to crawl all the URLs or timeout when function timeout is reached.\r\nFor example on www.chromium.org it crawls through over 600 URLs before lambda timing out at 5mins as expected.\r\n\r\n**What is the motivation / use case for changing the behavior?**\r\nTo get the crawler working on all websites.\r\n\r\n**Please tell us about your environment:**\r\n\r\n- Versions:\r\n    \"headless-chrome-crawler\": \"^1.8.0\",\r\n    \"chrome-aws-lambda\": \"^5.3.1\",\r\n    \"puppeteer-core\": \"^5.3.0\",\r\n- Platform / OS version: Linux (AWS Lambda)\r\n- Node.js version: nodejs12.x\r\n",
                              "label": "unlabeledBug",
                              "createdAt": "2020-11-30T18:32:58Z",
                              "closedAt": "2020-12-02T18:01:12Z",
                              "lastComment": "2020-12-02T18:01:12Z",
                              "commentCount": 1
                         },
                         {
                              "title": "Disable loading images",
                              "description": "**What is the current behavior?**\r\n```\r\nnode scrape.js \r\n(node:21673) UnhandledPromiseRejectionWarning: Error: Protocol error: Connection closed. Most likely the page has been closed.\r\n    at assert (/home/q/node_modules/headless-chrome-crawler/node_modules/puppeteer/lib/helper.js:251:11)\r\n    at Page.close (/home/q/node_modules/headless-chrome-crawler/node_modules/puppeteer/lib/Page.js:883:5)\r\n    at Crawler.close (/home/q/node_modules/headless-chrome-crawler/lib/crawler.js:80:22)\r\n    at Crawler.<anonymous> (/home/q/node_modules/headless-chrome-crawler/lib/helper.js:177:23)\r\n    at HCCrawler._request (/home/q/node_modules/headless-chrome-crawler/lib/hccrawler.js:349:21)\r\n    at processTicksAndRejections (internal/process/task_queues.js:97:5)\r\n    at async HCCrawler._startRequest (/home/q/node_modules/headless-chrome-crawler/lib/hccrawler.js:305:19)\r\n    at async Promise.all (index 0)\r\n    at async PriorityQueue._pull (/home/q/node_modules/headless-chrome-crawler/lib/priority-queue.js:94:5)\r\n(node:21673) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 2)\r\n(node:21673) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.\r\n\r\n```\r\n\r\n\r\n**If the current behavior is a bug, please provide the steps to reproduce**\r\n\r\n\r\n```\r\nasync function customCrawl(page, crawl) {\r\n    await page.setRequestInterception(true);\r\n    page.on('request', (request) => {\r\n      console.log(request)\r\n      if (request.resourceType() === 'image') request.abort();\r\n      else request.continue();\r\n  });\r\n}\r\n\r\n\r\n(async () => {\r\n  const crawler = await HCCrawler.launch({\r\n    customCrawl,\r\n    headless: false,\r\n    // Function to be evaluated in browsers\r\n    evaluatePage: (() => ({\r\n      title: $('title').text(),\r\n    })),\r\n    // Function to be called with evaluated results from browsers\r\n    onSuccess: (result => {\r\n      console.log(result.result);\r\n    }),\r\n  });\r\n  // Queue multiple requests\r\n  // await crawler.queue(urls);\r\n  // Queue a request with custom options\r\n  await crawler.queue(url);\r\n  await crawler.onIdle(); // Resolved when no queue is left\r\n  await crawler.close(); // Close the crawler\r\n})();\r\n````\r\n\r\n**What is the expected behavior?**\r\n\r\nUsing the code snipper above I expect to be able to crawl a website without loading images.\r\nThis logic comes from pupetteer\r\n\r\n**What is the motivation / use case for changing the behavior?**\r\n\r\nReduce bandwidth usage from crawling \r\n\r\n**Please tell us about your environment:**\r\n\r\n- Version: 1.8.0\r\n- Platform / OS version: Ubuntu 18\r\n- Node.js version: 12.16.3\r\n\r\n",
                              "label": "unlabeledBug",
                              "createdAt": "2020-05-17T01:00:44Z",
                              "closedAt": "2020-10-26T04:38:01Z",
                              "lastComment": "2020-10-26T04:38:01Z",
                              "commentCount": 2
                         },
                         {
                              "title": "UnhandledPromiseRejectionWarning: Error: socket hang up",
                              "description": "**What is the current behavior?**\r\nI'm getting following error during start:\r\n\r\n```\r\n(node:1008440) UnhandledPromiseRejectionWarning: Error: socket hang up\r\n    at createHangUpError (_http_client.js:323:15)\r\n    at Socket.socketOnEnd (_http_client.js:426:23)\r\n    at Socket.emit (events.js:203:15)\r\n    at endReadableNT (_stream_readable.js:1145:12)\r\n    at process._tickCallback (internal/process/next_tick.js:63:19)\r\n(node:1008440) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1)\r\n(node:1008440) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.\r\n```\r\n\r\nand the app is exiting immediately.\r\n\r\n**If the current behavior is a bug, please provide the steps to reproduce**\r\n\r\n1. Use the example from Usage.\r\n2. Start app:\r\n\r\n`$ node index.js`\r\n\r\n\r\n**What is the expected behavior?**\r\nNo error...\r\n\r\n\r\n**What is the motivation / use case for changing the behavior?**\r\n\r\n\r\n\r\n**Please tell us about your environment:**\r\n\r\n- Version: 1.8.0\r\n- Platform / OS version: Arch Linux\r\n- Node.js version: 10.16.1\r\n",
                              "label": "unlabeledBug",
                              "createdAt": "2019-11-21T09:15:30Z",
                              "closedAt": "2020-10-17T06:40:20Z",
                              "lastComment": "2022-04-23T14:01:41Z",
                              "commentCount": 3
                         },
                         {
                              "title": "crawler.response becomes null when connecting to specific chrome instance ",
                              "description": "**What is the current behavior?**\r\nOkay, I dont know if this should be classified as a bug or not. But since I cant seem to find any trace of this in the docs, here it is. \r\n\r\nWhen connecting to a specific chrome instance through the: \r\n `await HCCrawler.connect({\r\n    browserWSEndpoint: wsChromeEndpointurl, \r\n    ...more options goes here})`  method, the call to `await crawl()` results in a null response. \r\n The issue lies within: \r\n\r\n> \\node_modules\\headless-chrome-crawler\\lib\\crawler.js\r\n\r\n    async crawl(){\r\n    await this._prepare();\r\n    const response = await this._request(); //1. Results in Null\r\n\tconsole.log(response); //2. ======> NULL INDEED\r\n    await this._waitFor();\r\n    const [\r\n      result,\r\n      screenshot,\r\n      cookies,\r\n      links,\r\n    ] = await Promise.all([\r\n      this._scrape(),\r\n      this._screenshot(),\r\n      this._getCookies(),\r\n      this._collectLinks(response.url),  //3. ====> Exception gets thrown here \r\n    ]);\r\n    return {\r\n      options: this._options,\r\n      depth: this._depth,\r\n      previousUrl: this._previousUrl,\r\n      response: this._reduceResponse(response),\r\n      redirectChain: this._getRedirectChain(response),\r\n      result,\r\n      screenshot,\r\n      cookies,\r\n      links,\r\n    }; }\r\n`\r\n\r\n\r\n**Steps to reproduce**\r\n\r\n1.  Close all chrome instances. \r\n2. Open CMD and run the following to start Chrome with remote debugging enabled:  \r\n\r\n> start chrome.exe --remote-debugging-port=9222\r\n3. Navigate to http://localhost:9222/json/version and copy the value of \"webSocketDebuggerUrl\"\r\n4. Set the browserWSEndpoint to the value you just copied. \r\n\r\n**What is the expected behavior?**\r\nWhen running through a clean instance with the \r\n```\r\nawait HCCrawler.launch({\r\n    ...options\r\n})\r\n```\r\n\r\ncommand, everything works fineand the result comes back as expected. \r\nWhat am I missing here?  \r\n\r\n**Please tell us about your environment:**\r\n\r\n- Version: 1.8.0\r\n- Platform / OS version: Windows 10  / 1803 \r\n- Node.js version: v10.16.3\r\n\r\n",
                              "label": "bug",
                              "createdAt": "2019-09-19T22:31:38Z",
                              "closedAt": "2020-10-26T05:09:39Z",
                              "lastComment": "2020-10-17T06:51:14Z",
                              "commentCount": 3
                         },
                         {
                              "title": "Security vulnerability for lodash",
                              "description": "**What is the current behavior?**\r\n\r\n - Audit fails for vulnerability in lodash version. It needs to be bumped up.\r\n - Refer: [Actual issue](https://nodesecurity.io/advisories/782)\r\n\r\n**If the current behavior is a bug, please provide the steps to reproduce**\r\n\r\n - Run npm audit.\r\n\r\n**What is the expected behavior?**\r\n\r\n - It should not show any vulnerability.\r\n\r\n**What is the motivation / use case for changing the behavior?**\r\n\r\n \r\n\r\n**Please tell us about your environment:**\r\n\r\n- Version: latest\r\n- Platform / OS version: mac OS X\r\n- Node.js version:  latest\r\n",
                              "label": "unlabeledBug",
                              "createdAt": "2019-02-13T21:26:33Z",
                              "closedAt": "2020-10-16T07:47:31Z",
                              "lastComment": "",
                              "commentCount": 0
                         },
                         {
                              "title": "Requesting to enable Host-Resolver-Rules option or Option to Ignore specific Urls from crawling",
                              "description": "**What is the current behavior?**\r\nFor our website currently I am using headless-chrome-crawler(executing crawler and printing urls crawled), and could see that it is trying to crawl few pages, which we dont want it to crawl. It would be helpful if we could have an option to provide a list/pattern of Urls to the crawler, which we want it to ignore while crawler execution.\r\n\r\n\r\n**If the current behavior is a bug, please provide the steps to reproduce**\r\n\r\n\r\n\r\n**What is the expected behavior?**\r\n\r\n\r\n\r\n**What is the motivation / use case for changing the behavior?**\r\n\r\n\r\n\r\n**Please tell us about your environment:**\r\n\r\n- Version: 1.8.0\r\n- Platform / OS version: Windows 7\r\n- Node.js version: 8.11.1\r\n",
                              "label": "unlabeledBug",
                              "createdAt": "2018-11-28T08:32:55Z",
                              "closedAt": "2020-10-26T04:44:09Z",
                              "lastComment": "2020-10-26T04:44:09Z",
                              "commentCount": 3
                         },
                         {
                              "title": "Headless-Chrome-Crawler, gives different Url results for different runs",
                              "description": "**What is the current behavior?**\r\nWe are executing headless-chrome-crawler in a website, and getting different Urls crawled for different runs. When viewed in chrome browser, some urls are not getting loaded properly, i.e..before Url loads the crawler closes the tab. Hence would like to know if any specific parameter like retry or timeout or waitTime be provided such that it waits somemore time before closing the tab for slow loading pages.\r\n\r\n\r\n**If the current behavior is a bug, please provide the steps to reproduce**\r\n\r\n\r\n\r\n**What is the expected behavior?**\r\nIt would be helpful if an optional & user defined waitTime or Timeout or retry be provided for slow loading pages.\r\n\r\n\r\n**What is the motivation / use case for changing the behavior?**\r\n\r\n\r\n\r\n**Please tell us about your environment:**\r\n\r\n- Version: 1.8.0\r\n- Platform / OS version: Windows 7\r\n- Node.js version: 8.11.1\r\n",
                              "label": "unlabeledBug",
                              "createdAt": "2018-11-28T08:28:04Z",
                              "closedAt": "2020-10-17T07:37:10Z",
                              "lastComment": "2018-11-28T13:29:03Z",
                              "commentCount": 1
                         },
                         {
                              "title": "crawling website with hashes in url",
                              "description": "**What is the current behavior?**\r\n\r\nCrawling a website that uses # (hashes) for url navigation does not crawl the pages that use #\r\n\r\nThe urls using # are not followed.\r\n\r\n**If the current behavior is a bug, please provide the steps to reproduce**\r\n\r\nTry crawling a website like mykita.com/en/\r\n\r\n**What is the motivation / use case for changing the behavior?**\r\n\r\nThough hashes are not ment to change a page, it is sometimes used by webdevelopers. It would be great to provide an option to crawl urls containing hashes so headless chrome crawler could be used for these pages.\r\n\r\nSome research shows it might be an issue with puppeteer:\r\n\r\nhttps://github.com/GoogleChrome/puppeteer/issues/257\r\n\r\nAnd there seems to be a workaround:\r\n\r\nhttps://github.com/GoogleChromeLabs/puppeteer-examples/blob/master/hash_navigation.js\r\n",
                              "label": "unlabeledBug",
                              "createdAt": "2018-11-27T13:36:03Z",
                              "closedAt": "2020-10-26T05:09:39Z",
                              "lastComment": "2020-10-17T07:40:09Z",
                              "commentCount": 2
                         },
                         {
                              "title": "How to broad crawl?",
                              "description": "**What is the current behavior?**\r\nHow to broad crawl? I'm trying to access a page, get all the links and pass them to the queue, but I can not pass the retrieved links from a page to the queue. At the moment I have an array that should be preechindo with links of the pages. This array should serve as the queue. But I can not enter data into the array.\r\n\r\n\r\n\r\n**If the current behavior is a bug, please provide the steps to reproduce**\r\n\r\n**What is the expected behavior?**\r\nI expect to get the entire links from a page and pass them to queue to do a loop and visit these links too\r\n\r\n\r\n\r\n**What is the motivation / use case for changing the behavior?**\r\nCan help more people to do a broad crawl\r\n\r\n\r\n**Please tell us about your environment:**\r\n\r\n- Version:Lasted\r\n- Platform / OS version: Linux Ubuntu 14.04.5 LTS trusty\r\n- Node.js version: 9.10.1\r\n",
                              "label": "unlabeledBug",
                              "createdAt": "2018-10-16T01:56:16Z",
                              "closedAt": "2018-10-21T17:48:57Z",
                              "lastComment": "2018-10-21T17:34:33Z",
                              "commentCount": 11
                         },
                         {
                              "title": "Crawling not working when maxConcurrency is not 1",
                              "description": "I think it's the same bug as : https://github.com/yujiosaka/headless-chrome-crawler/issues/248\r\n\r\n**What is the current behavior?**\r\nMy crawler fetches a page and the evaluation function returns a function which fetches another page.\r\nIf I set the concurrency to zero, the data is properly fetched. I get the data from the fetch and it is returned to me. If the concurrency is bigger than 1, the data is not returned.\r\n\r\n**What is the expected behavior?**\r\nNo matter the concurrency, the evaluated function should return the same content.\r\n\r\n**Please tell us about your environment:**\r\n\r\n- Version: 1.8\r\n- Platform / OS version: Ubuntu 17.10\r\n- Node.js version: 10.11\r\n",
                              "label": "unlabeledBug",
                              "createdAt": "2018-10-10T16:44:24Z",
                              "closedAt": "2020-10-16T07:11:59Z",
                              "lastComment": "2020-10-16T07:11:59Z",
                              "commentCount": 2
                         },
                         {
                              "title": "Some URLs closes the browser",
                              "description": "**What is the current behavior?**\r\n\r\nFor test purposes, I'd like to crawl a website.\r\n\r\nFor an unknown reason, this closes directly the browser - the tab is not even opened like the others urls.\r\n\r\n**If the current behavior is a bug, please provide the steps to reproduce**\r\n\r\nHere are a few tests. For non working cases, no error is triggered (either on the onError or from the queue promises)\r\n\r\n```javascript\r\nconst HCCrawler = require('headless-chrome-crawler');\r\n\r\n(async () => {\r\n  const crawler = await HCCrawler.launch({\r\n    headless: false, \r\n    slowMo: 300,\r\n    // Function to be evaluated in browsers\r\n    evaluatePage: (() => ({\r\n      body: $('body').text(),\r\n    })),\r\n    // Function to be called with evaluated results from browsers\r\n    onSuccess: (result => {\r\n      console.log(result);\r\n    }),\r\n    onError: (error => {\r\n      console.log(error);\r\n    })\r\n  });\r\n  \r\n  try {\r\n    await crawler.queue(encodeURI('https://mypage.com'));\r\n  } catch(err) {\r\n    console.error(err);\r\n  }\r\n\r\n  await crawler.onIdle();\r\n  await crawler.close();\r\n})();\r\n`\r\n\r\n**What is the expected behavior?**\r\n\r\nThe URL should be opened in the browser (new about:blank tab, then the url loading). Chrome should not be closed by this URL.\r\n\r\n**Please tell us about your environment:**\r\n\r\n- Version: 1.8.0\r\n- Platform / OS version: MacOS X 10.13.4\r\n- Node.js version: v8.10.0\r\n",
                              "label": "unlabeledBug",
                              "createdAt": "2018-09-23T00:37:10Z",
                              "closedAt": "2018-09-23T00:58:32Z",
                              "lastComment": "2018-09-23T00:58:32Z",
                              "commentCount": 1
                         },
                         {
                              "title": "allowedDomains and deniedDomains  parameters are not work",
                              "description": "**What is the current behavior?**\r\nI set like this:\r\n```\r\ncrawler.queue({\r\n    url: 'https://a.example.com',\r\n    obeyRobotsTxt: false,\r\n    maxDepth: 2,\r\n    depthPriority: true,\r\n    allowedDomains: [/example\\.com$/],\r\n  });\r\n```\r\nbut the argument options of function ```_checkAllowedDomains``` in the lib/hccrawler.js, the options does not include  the ```allowedDomains``` setting.\r\n\r\n\r\n**If the current behavior is a bug, please provide the steps to reproduce**\r\nIt is a bug, please check.  The package version is 1.8.0\r\n\r\n",
                              "label": "unlabeledBug",
                              "createdAt": "2018-09-21T04:14:46Z",
                              "closedAt": "2020-10-17T05:15:06Z",
                              "lastComment": "2020-10-17T05:15:06Z",
                              "commentCount": 2
                         },
                         {
                              "title": "Ignoring device and userAgent",
                              "description": "**What is the current behavior?**\r\n\r\nWhen calling `crawler.queue()` with defined `url`, `device` and `userAgent` options are ignored.\r\n\r\n**If the current behavior is a bug, please provide the steps to reproduce**\r\n\r\n```\r\nconst HCCrawler = require('headless-chrome-crawler');\r\n\r\n(async () => {\r\n    try {\r\n         const crawler = await HCCrawler.launch({\r\n            headless: true,\r\n            evaluatePage: (() => ({\r\n                userAgent: window.navigator.userAgent,\r\n            })),\r\n            onSuccess: (crawler => {\r\n                console.log(crawler.result)\r\n            }),\r\n          })\r\n\r\n          await crawler.queue('http://www.whatsmyua.info/', {\r\n            device: 'Nexus 7'\r\n          })\r\n\r\n          await crawler.onIdle()\r\n          await crawler.close()\r\n\r\n    } catch (error) {\r\n        console.log(error)\r\n    }\r\n})();\r\n\r\n```\r\n\r\nResolves with the default user-agent, not emulated.\r\n\r\n**What is the expected behavior?**\r\n\r\nThe same behaviour as when defining `url` with `crawler.launch()`, as per [this example](https://github.com/yujiosaka/headless-chrome-crawler/blob/cd541902cfee529231f9f77f6088b399fa3f3a30/examples/emulate-device.js).\r\n\r\n**Please tell us about your environment:**\r\n\r\n- Version: 1.8.0\r\n- Platform / OS version: Mac OS X 10_13_5 \r\n- Node.js version: 8.11.3",
                              "label": "unlabeledBug",
                              "createdAt": "2018-08-28T11:34:36Z",
                              "closedAt": "2018-11-01T05:12:57Z",
                              "lastComment": "2018-10-20T18:05:10Z",
                              "commentCount": 3
                         },
                         {
                              "title": "Error net::ERR_EMPTY_RESPONSE on using proxy",
                              "description": "Getting error `Error: net::ERR_EMPTY_RESPONSE` which using Crawlera proxy based on [this](https://support.scrapinghub.com/support/solutions/articles/22000220800-using-crawlera-with-puppeteer) documentation from them. \r\n\r\n```\r\nlet debugCrawler = async () => {\r\n\r\n  const PATH = './screenshots/';\r\n  const old_proxy = 'proxy.crawlera.com:8010';\r\n\r\n  const crawler = await HCCrawler.launch({\r\n    ignoreHTTPSErrors: true,\r\n    args: [ '--proxy-server=' + old_proxy ],\r\n    browserCache: false,\r\n    retryCount: 1,\r\n    headless: true,\r\n    slowMo: 10,\r\n    extraHeaders: {\r\n      'Proxy-Authorization': 'Basic {{crawlera api key}}:'\r\n    },\r\n    // Function to be evaluated in browsers\r\n    evaluatePage: (() => ({\r\n      title: $('title').text(),\r\n    })),\r\n    preRequest: options => {\r\n      console.log('reached pre request');\r\n      if (!options.saveAs) return false; // Skip the request by returning false\r\n      options.screenshot = { path: `${PATH}${options.saveAs}` };\r\n      console.log(options.screenshot);\r\n      return true;\r\n    },\r\n    // Function to be called with evaluated results from browsers\r\n    onSuccess: ((result) => {\r\n      console.log(result);\r\n      console.log(`Screenshot is saved as ${PATH}${result.options.saveAs} for ${result.options.url}.`);\r\n      // console.log(result.result);\r\n    }),\r\n    onError: ((err) => {\r\n      console.log(err);\r\n    })\r\n  });\r\n  // Queue a requestawait\r\n  await crawler.queue({ url: '{{test site}}', saveAs: 'test.png' });\r\n\r\n};\r\n```\r\n\r\nThe crawler seems to work fine when using without proxy. Site URL has been changed intentionality. \r\n\r\n\r\n**Please tell us about your environment:**\r\n\r\n- Version: 1.8.0\r\n- Platform / OS version: Ubuntu 18.04\r\n- Node.js version: v8.11.3\r\n",
                              "label": "unlabeledBug",
                              "createdAt": "2018-07-27T03:37:17Z",
                              "closedAt": "2020-10-17T07:42:54Z",
                              "lastComment": "2018-12-25T08:03:06Z",
                              "commentCount": 1
                         },
                         {
                              "title": "no-sandbox error",
                              "description": "Hi, I'm trying to use your module.\r\n\r\nI created a test file `crawl.js ` with the usage example : \r\n\r\n```\r\nconst HCCrawler = require('headless-chrome-crawler');\r\n\r\n(async () => {\r\n  const crawler = await HCCrawler.launch({\r\n    maxConcurrency: 1,\r\n    maxRequest: 2,\r\n    onSuccess: result => {\r\n      console.log(`Requested ${result.options.url}.`);\r\n    },\r\n  });\r\n  await crawler.queue('https://example.com/');\r\n  await crawler.queue('https://example.net/');\r\n  await crawler.queue('https://example.org/'); // The queue won't be requested until resumed\r\n  await crawler.onIdle();\r\n  crawler.setMaxRequest(3);\r\n  crawler.resume();\r\n  await crawler.onIdle();\r\n  await crawler.close();\r\n})();\r\n```\r\n\r\n**If the current behavior is a bug, please provide the steps to reproduce**\r\n\r\nWhen I run `node crawl.js`\r\n\r\n**What is the current behavior?**\r\n\r\n I have this error : \r\n\r\n```\r\nUnhandledPromiseRejectionWarning: Unhandled promise rejection (rejection id: 1): Error: Failed to launch chrome!\r\n[0718/170310.566253:ERROR:zygote_host_impl_linux.cc(89)] Running as root without --no-sandbox is not supported. See https://crbug.com/638180.\r\n\r\n\r\nTROUBLESHOOTING: https://github.com/GoogleChrome/puppeteer/blob/master/docs/troubleshooting.md\r\n\r\n(node:123315) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.\r\n\r\n```\r\n\r\n\r\n\r\nwith puppeteer, that can be solved with :` {args: ['--no-sandbox']}`\r\n\r\nHow can I add sandbox argument with your module?\r\n\r\n**Please tell us about your environment:**\r\n\r\n- Version: last version\r\n- Platform / OS version: centos 6\r\n- Node.js version: v8.4.0\r\n",
                              "label": "unlabeledBug",
                              "createdAt": "2018-07-18T15:10:28Z",
                              "closedAt": "2018-07-31T14:09:23Z",
                              "lastComment": "2018-07-31T14:09:15Z",
                              "commentCount": 1
                         },
                         {
                              "title": "deniedDomains",
                              "description": "**What is the current behavior?**\r\nI am not able to deny domains\r\n\r\n\r\n**If the current behavior is a bug, please provide the steps to reproduce**\r\nreturn HCCrawler.launch({\r\n        maxDepth: 2,\r\n        headless: true,\r\n        onSuccess: result => {\r\n            console.log(`Requested ${result.options.url}.`);\r\n        },\r\n        deniedDomains: 'google', \r\n        cache,\r\n        persistCache, // Cache won't be cleared when closing the crawler if set true\r\n    });\r\n\r\n\r\n**What is the expected behavior?**\r\ngoogle links should not show up in crawl.\r\n\r\n\r\n\r\n\r\n**What is the motivation / use case for changing the behavior?**\r\n\r\nHelp make deniedDomain option work\r\n\r\n\r\n\r\n**Please tell us about your environment:**\r\n\r\n- Version: 1.8.0\r\n- Platform / OS version: Windows 10\r\n- Node.js version:10.4.0\r\n",
                              "label": "unlabeledBug",
                              "createdAt": "2018-06-25T04:26:49Z",
                              "closedAt": "2020-10-17T05:13:31Z",
                              "lastComment": "2020-10-17T05:13:31Z",
                              "commentCount": 5
                         },
                         {
                              "title": "Mixed content causes a queued item to remain pending indefinitely",
                              "description": "**What is the current behavior?**\r\n\r\nWhen a HTTPS url is crawled that contains mixed content (e.g. http iframe tag) the crawler never calls onSuccess callback or emits requestfinished or onError callback or emits requestfailed and pendingQueueSize never returns to 0\r\n\r\n**If the current behavior is a bug, please provide the steps to reproduce**\r\n\r\nCrawl a HTTPS page that includes a http image or iframe tag\r\n\r\n**What is the expected behavior?**\r\n\r\nGood question... I would expect that the onError callback and requestfailed event is emitted\r\n\r\n**What is the motivation / use case for changing the behavior?**\r\n\r\nThe crawl never ends and there is no notiifcation as to why\r\n\r\n**Please tell us about your environment:**\r\n\r\n- Version: 1.7.0\r\n- Platform / OS version: linux\r\n- Node.js version: v8.11.2\r\n\r\n",
                              "label": "bug",
                              "createdAt": "2018-06-02T14:02:32Z",
                              "closedAt": "2020-10-26T05:09:39Z",
                              "lastComment": "2020-10-17T07:30:12Z",
                              "commentCount": 3
                         },
                         {
                              "title": "Crawl the initial URL twice",
                              "description": "**What is the current behavior?**\r\nCrawl twice the front page when the enqueued URL doesn't contain an end slash\r\n\r\n\r\n**If the current behavior is a bug, please provide the steps to reproduce**\r\nConfigure a queue with a domain as https://example.com then the page has a link as `<a href=\"/\">Home</a>`\r\n\r\n\r\n**What is the expected behavior?**\r\nIt should only crawl once the front page\r\n\r\n\r\n**What is the motivation / use case for changing the behavior?**\r\nIn case we export data from the initial page, we might have twice the data.\r\n\r\n\r\n\r\n**Please tell us about your environment:**\r\n\r\n- Version: 1.4.0\r\n- Platform / OS version: Ubuntu 16.04 LTS\r\n- Node.js version: 9.7.1\r\n\r\n\r\nThe current workaround is to ensure that we set a URL in the queue with the end slash.\r\n",
                              "label": "bug",
                              "createdAt": "2018-03-03T13:49:13Z",
                              "closedAt": "2018-03-10T20:20:22Z",
                              "lastComment": "2018-03-10T20:19:33Z",
                              "commentCount": 1
                         },
                         {
                              "title": "Crawler hangs on non-html URL requests",
                              "description": "Currently, when attempting to crawl a non-html page such as a PDF, the crawler seems to hang for a while, and eventually fails silently without giving any error. How should we go about handling non-html files? My thought was to use `preRequest` function to modify some options after checking the mime-type, like setting jQuery to false, etc.; but I've not been able to get anything to work for non-html content types. How would you recommend accommodating this functionality? \r\n\r\nHere is a sample to reproduce this, which shows that the URL is queued, but eventually the crawler exits with neither onSuccess nor onError being called. Ideally, it would be nice to have some logic to intercept non-html requests and route them to use Apache tika or something similar.\r\n\r\n```\r\nconst HCCrawler = require('headless-chrome-crawler');\r\n\r\nHCCrawler.launch({\r\n  args: ['--disable-web-security'],\r\n  jQuery: false,\r\n  onSuccess: (result => {\r\n    console.log(`crawled: ${result.response.url}`);\r\n  }),\r\n  onError: (error => {\r\n    console.error(error);\r\n  })\r\n})\r\n.then(crawler => {\r\n  crawler.queue(['https://pdfs.semanticscholar.org/8f86/834ae39f46447fd588b5817d6d9171f518e6.pdf']);\r\n  crawler.queueSize()\r\n    .then(size => {\r\n      console.log('%s items in cache', size);\r\n    });\r\n  crawler.onIdle()\r\n    .then(() => crawler.close());\r\n});\r\n```",
                              "label": "bug",
                              "createdAt": "2018-02-26T20:55:13Z",
                              "closedAt": "2018-06-10T00:28:56Z",
                              "lastComment": "2018-06-10T00:28:56Z",
                              "commentCount": 3
                         },
                         {
                              "title": "TypeError: Cannot read property 'priority' of undefined",
                              "description": "**What is the current behavior?**\r\n\r\nIn rare possibility (in my case less than 3%), the crawler fails enqueueing next request and never stops.\r\nThe error goes like this:\r\n```\r\nTypeError: Cannot read property 'priority' of undefined\r\n    at lowerBound (/Users/yujiosaka/work/headless-chrome-crawler/cache/session.js:71:63)\r\n    at lowerBound (/Users/yujiosaka/work/headless-chrome-crawler/lib/helper.js:117:11)\r\n    at SessionCache.enqueue (/Users/yujiosaka/work/headless-chrome-crawler/cache/session.js:71:15)\r\n    at PriorityQueue.push (/Users/yujiosaka/work/headless-chrome-crawler/lib/priority-queue.js:34:17)\r\n    at PriorityQueue.<anonymous> (/Users/yujiosaka/work/headless-chrome-crawler/lib/helper.js:178:23)\r\n    at HCCrawler._push (/Users/yujiosaka/work/headless-chrome-crawler/lib/hccrawler.js:271:17)\r\n    at _skipRequest.then.skip (/Users/yujiosaka/work/headless-chrome-crawler/lib/hccrawler.js:545:16)\r\n    at process._tickCallback (internal/process/next_tick.js:103:7)\r\n```\r\n\r\n**If the current behavior is a bug, please provide the steps to reproduce**\r\n\r\nThe following scripts causes errors sometimes.\r\n```\r\nconst HCCrawler = require('headless-chrome-crawler');\r\n\r\nHCCrawler.launch({\r\n  maxDepth: 3,\r\n  maxConcurrency: 10,\r\n  allowedDomains: ['www.emin.co.jp'],\r\n  evaluatePage: (() => window.document.title),\r\n  onSuccess: (result => { // 成功時に評価される関数\r\n    console.log(`${result.options.url}\\t${result.result}`);\r\n  }),\r\n})\r\n  .then(crawler => {\r\n    crawler.queue('https://www.emin.co.jp/');\r\n    crawler.onIdle()\r\n      .then(() => crawler.close());\r\n  });\r\n```\r\n\r\n**What is the expected behavior?**\r\n\r\n- Do not cause an error\r\n- Execute all queued requests\r\n- Successfully close the crawler\r\n\r\n**What is the motivation / use case for changing the behavior?**\r\n\r\n\r\n\r\n**Please tell us about your environment:**\r\n\r\n- Version: 1.3.4\r\n- Platform / OS version: MacOS\r\n- Node.js version: v6.4.0\r\n",
                              "label": "bug",
                              "createdAt": "2018-02-24T11:31:39Z",
                              "closedAt": "2018-02-24T11:32:20Z",
                              "lastComment": "",
                              "commentCount": 0
                         },
                         {
                              "title": "Fail to insert jQuery silently due to content security policy",
                              "description": "It happens when you crawl GitHub pages.\r\nSee https://github.com/GoogleChrome/puppeteer/issues/1229",
                              "label": "bug",
                              "createdAt": "2018-01-04T01:13:45Z",
                              "closedAt": "2018-04-20T18:28:28Z",
                              "lastComment": "2018-03-11T18:38:07Z",
                              "commentCount": 2
                         }
                    ]
               },
               "commits": {
                    "incomplete_results": false,
                    "status_code": "200",
                    "total_bug_commits": 26,
                    "total_commits": 214,
                    "bug_commits": [
                         {
                              "message": "Merge pull request #274 from yujiosaka/mark-skipped-request\n\nfix(hccrawler): allow-low-level-access",
                              "created_at": "2018-06-10T09:40:10Z",
                              "sha": "4f5bac531c04b38bb43e9b211e428b33445a37e3"
                         },
                         {
                              "message": "fix(hccrawler): allow-low-level-access",
                              "created_at": "2018-06-10T09:37:02Z",
                              "sha": "a0b042ea2357b332ed03fddf3455122688867b37"
                         },
                         {
                              "message": "Merge pull request #221 from yujiosaka/fix-csp-bug\n\nfix(hccrawler): fix a bug of CSP breaks the crawler",
                              "created_at": "2018-04-20T18:28:27Z",
                              "sha": "a3498f7b070db56b2a376c8571e38e4dfc0e805f"
                         },
                         {
                              "message": "fix(hccrawler): fix a bug of CSP breaks the crawler",
                              "created_at": "2018-04-20T18:26:10Z",
                              "sha": "465d9dc35fe6f5502880ef3a55651c1b231469f0"
                         },
                         {
                              "message": "chore(test): fix priority queue test after queue returns Promise",
                              "created_at": "2018-04-07T16:00:49Z",
                              "sha": "d6e3dc40247067ae112f792140a7b3b4d3e3179e"
                         },
                         {
                              "message": "feat(example): fix examples after crawler.queue returns Promise",
                              "created_at": "2018-04-07T15:48:10Z",
                              "sha": "085639ab4158f2d0b9957de9c02bbccd2f006d76"
                         },
                         {
                              "message": "feat(test): fix tests after crawler.queue returns Promise",
                              "created_at": "2018-04-07T15:47:33Z",
                              "sha": "4375f99677922edffb0c5c80178f10cb7573a2c2"
                         },
                         {
                              "message": "chore(package): fix test after updating puppetter to version 1.2.0",
                              "created_at": "2018-03-21T21:07:57Z",
                              "sha": "fdcc3a588fa9df48a00d1a2d08e5d9a9da2e1a9a"
                         },
                         {
                              "message": "chore(example): fix wrong comment on priority queue",
                              "created_at": "2018-03-13T10:26:28Z",
                              "sha": "9f61abacd54f5dac3213d5ec3d9856ee515d3712"
                         },
                         {
                              "message": "fix(hccrawler): fix a bug of trailing slash treatment on root folder",
                              "created_at": "2018-03-10T20:17:42Z",
                              "sha": "155286da5475b2cfcf393deb355d3593f66a1abd"
                         },
                         {
                              "message": "fix(hccrawler): fix not being allowed to set timeout option per request",
                              "created_at": "2018-03-10T18:01:59Z",
                              "sha": "40876f2bf7bee712d467ffef62994edb8cb08be5"
                         },
                         {
                              "message": "fix(helper): fix a bug of causing error for session cache",
                              "created_at": "2018-02-24T11:27:25Z",
                              "sha": "2a9ecd2900ce705504d504b266a33adfd13b278e"
                         },
                         {
                              "message": "fix(priorityqueue): commit session cache everytime on queue and dequeue",
                              "created_at": "2018-02-24T08:22:59Z",
                              "sha": "203f77aa6dcd0dadbd3dcc1d0e6cb38d2af73aa9"
                         },
                         {
                              "message": "fix(hccrawler): dont push already crawled url",
                              "created_at": "2018-02-24T05:48:35Z",
                              "sha": "1095f394a8218a3db2d1cf279c0b07b78fc416c8"
                         },
                         {
                              "message": "fix(hccrawler): follow links before delay",
                              "created_at": "2018-02-24T04:17:45Z",
                              "sha": "c4b64f93cd1bef17fa20787aaafc934cc15facda"
                         },
                         {
                              "message": "Merge pull request #74 from yujiosaka/fix_response\n\nfix response",
                              "created_at": "2018-01-13T19:32:11Z",
                              "sha": "7fc10227bf2d5d2873914c27e38048cb89458210"
                         },
                         {
                              "message": "fix response",
                              "created_at": "2018-01-13T19:29:36Z",
                              "sha": "f18513ecde7be43bf17d113bbca51851f4cb1f62"
                         },
                         {
                              "message": "Merge pull request #73 from yujiosaka/fix_a_bug_of_robots_txt\n\nFix a bug of not following robots.txt",
                              "created_at": "2018-01-13T17:00:19Z",
                              "sha": "a6279ebfed2ab385f4b8a6f0c0f7e74fdd3adb8b"
                         },
                         {
                              "message": "Fix a bug of not following robots.txt",
                              "created_at": "2018-01-13T16:59:15Z",
                              "sha": "d3a0a4c5f605525ece19e5127b1f9405706101a5"
                         },
                         {
                              "message": "Merge pull request #66 from yujiosaka/fix_annotation\n\nFix annotation",
                              "created_at": "2018-01-12T11:48:12Z",
                              "sha": "bc4713c01be1b7222c2f59e7f7dcbd5b8fffa84b"
                         },
                         {
                              "message": "Merge pull request #50 from yujiosaka/useful_events\n\nBetter debug logs",
                              "created_at": "2017-12-25T09:51:20Z",
                              "sha": "e61db84f693b3d8c245f47aa63c7b02ec020a8ba"
                         },
                         {
                              "message": "Better debug logs",
                              "created_at": "2017-12-25T09:49:39Z",
                              "sha": "66448f86608e548e958cf66e01ba8b0317e5b405"
                         },
                         {
                              "message": "Merge pull request #45 from yujiosaka/fix_too_many_tabs\n\nFix a bug of opening too many tabs when error occured",
                              "created_at": "2017-12-17T04:55:05Z",
                              "sha": "d37dd207454d8571f7839bbb9ce2a1868163a9dc"
                         },
                         {
                              "message": "Fix a bug of opening too many tabs when error occured",
                              "created_at": "2017-12-17T04:53:49Z",
                              "sha": "ba098f35ef0c67df3e86a94cdeecf8ddf9f3a34f"
                         },
                         {
                              "message": "Merge pull request #43 from yujiosaka/fix_require_cache\n\nFix require cache",
                              "created_at": "2017-12-16T16:10:49Z",
                              "sha": "40ab577b0c825298b2e8b03c05f0784c300bfc81"
                         },
                         {
                              "message": "Add debug log",
                              "created_at": "2017-12-05T09:41:11Z",
                              "sha": "37c633f6785ae914f7f0aff42dca15c946a3d5b4"
                         }
                    ]
               },
               "async_constructs": {
                    "callback": 4,
                    "promise": 15,
                    "async": 26
               }
          },
          {
               "index": 5,
               "repoFullName": "adobe/fetch",
               "creationDate": "2019-11-25",
               "languages": {
                    "JavaScript": 240577,
                    "Shell": 58
               },
               "stars": 30,
               "issues": {
                    "incomplete_results": false,
                    "status_code": "200",
                    "total_bug_issues": 24,
                    "total_issues": 49,
                    "issues": [
                         {
                              "title": "[TypeScript] TypeError: Cannot read properties of undefined (reading 'ALPN_HTTP1_1')",
                              "description": "**Description**\r\n\r\n```js\r\nimport { ALPNProtocol, context } from '@adobe/fetch';\r\n\r\nconst ctx = context({\r\n    alpnProtocols: [ALPNProtocol.ALPN_HTTP1_1],\r\n});\r\n```\r\n\r\nWhen transpiled into JS, this generates an error:\r\n\r\n```\r\nTypeError: Cannot read properties of undefined (reading 'ALPN_HTTP1_1')\r\n```\r\n\r\nThis happens because the `alpnProtocols` line gets transpiled like this:\r\n\r\n```js\r\nalpnProtocols: [fetch_1.ALPNProtocol.ALPN_HTTP1_1],\r\n```\r\n\r\nwhich is obviously incorrect.\r\n\r\n**To Reproduce**\r\n\r\nPlease see above.\r\n\r\n**Expected behavior**\r\n\r\n* No error message\r\n* `ALPNProtocol.ALPN_HTTP1_1` gets transpiled as `\"http/1.1\"`\r\n\r\n**Version:** 3.2.1\r\n\r\n**Additional context**\r\n\r\n* https://www.typescriptlang.org/docs/handbook/enums.html#enums-at-runtime\r\n* https://www.typescriptlang.org/docs/handbook/enums.html#const-enums\r\n",
                              "label": "bug",
                              "createdAt": "2022-12-25T01:46:27Z",
                              "closedAt": "2023-01-27T19:32:41Z",
                              "lastComment": "",
                              "commentCount": 0
                         },
                         {
                              "title": "regression: headers.append('vary', 'accept-encoding') now creates an array",
                              "description": "**Description**\r\nwith the fix of https://github.com/adobe/fetch/pull/310 appending a value to the `vary` header creates an array, which is not expected, as the vary header is never a multi header.\r\n\r\n\r\n### reproduce\r\n\r\n\r\n```js\r\n    const resp = new Response('Hello, world.', {\r\n      headers: {\r\n        vary: 'x-test-header',\r\n      },\r\n    });\r\n\r\n    resp.headers.append('vary', 'content-encoding');\r\n```",
                              "label": "bug",
                              "createdAt": "2022-10-14T06:49:21Z",
                              "closedAt": "2022-10-14T16:16:16Z",
                              "lastComment": "2022-10-14T16:16:16Z",
                              "commentCount": 1
                         },
                         {
                              "title": "Cancelling a POST with a string body generates an asynchronous uncaught error",
                              "description": "**Description**\r\nWhen doing a POST request with a string passed in as the `body`, helix-fetch internally converts it to a Readable stream. When an ongoing request is aborted, the body stream is destroyed, sending along an error. The code that normalizes the `body` to a Readable stream adds a handler for the 'error' event, but currently does so *only when the original `body` was a Readable stream*. So if the original `body` is e.g. a string, then the Readable stream version of it will not have an error handler, and aborting the request will cause it to emit an 'error' event which is never caught, causing e.g. tests of the functionality to fail.\r\n\r\n**To Reproduce**\r\nSteps to reproduce the behavior:\r\n1. run a test where you perform a POST fetch with string data\r\n2. abort the request\r\n3. get an error about an uncaught error, which happens after the test has already finished (this is because destroying the Readable stream schedules the error event on the next tick)\r\n\r\n**Expected behavior**\r\nThe error should be caught (or not emitted at all).\r\n",
                              "label": "bug",
                              "createdAt": "2022-02-02T23:52:09Z",
                              "closedAt": "2022-02-03T18:32:26Z",
                              "lastComment": "2022-02-03T18:15:19Z",
                              "commentCount": 1
                         },
                         {
                              "title": "AbortController, AbortError not fully usable from TypeScript",
                              "description": "**Description**\r\nThe .d.ts file specifies some exported symbols as types instead of as values, but users need to use those symbols as values. Specifically, at least:\r\n\r\n * Example code in the README includes `if (err instanceof AbortError)` but this doesn't compile in TypeScript since currently the .d.ts exports AbortError as an `interface` instead of as a `declare class`\r\n * To use the aborting (early cancellation) functionality, a user needs to create an AbortController but this is not possible in TypeScript since the current .d.ts exports the AbortController as a `type` instead of as a `declare class`",
                              "label": "bug",
                              "createdAt": "2022-02-02T23:40:21Z",
                              "closedAt": "2022-02-03T17:19:51Z",
                              "lastComment": "2022-02-03T17:19:51Z",
                              "commentCount": 3
                         },
                         {
                              "title": "TS7016: Could not find a declaration file for module './fetch/errors'",
                              "description": "**Description**\r\n\r\nTypeScript build generates \"Could not find a declaration file for module './fetch/errors'\" error when trying to build a project that uses `@adobe/helix-fetch`.\r\n\r\n**To Reproduce**\r\n```bash\r\nnpm init -y\r\nnpm i -D typescript @types/node\r\nnpm i @adobe/helix-fetch\r\n```\r\n\r\ntsconfig.js:\r\n```json\r\n{\r\n  \"compilerOptions\": {\r\n    \"target\": \"es2016\",\r\n    \"module\": \"commonjs\",\r\n    \"esModuleInterop\": true,\r\n    \"strict\": true\r\n  }\r\n}\r\n```\r\n\r\ntest.ts:\r\n```typescript\r\nimport { fetch } from '@adobe/helix-fetch';\r\n```\r\n\r\nRun tsc:\r\n```bash\r\nnpx tsc\r\n```\r\n\r\n**Expected behavior**\r\nNo errors reported\r\n\r\n**Actual behavior**\r\n```\r\nnode_modules/@adobe/helix-fetch/src/api.d.ts:13:29 - error TS7016: Could not find a declaration file for module './fetch/errors'. '/test/node_modules/@adobe/helix-fetch/src/fetch/errors.js' implicitly has an 'any' type.\r\n\r\n13 import { SystemError } from \"./fetch/errors\";\r\n                               ~~~~~~~~~~~~~~~~\r\n\r\n\r\nFound 1 error.\r\n```\r\n\r\n**Version:**\r\nrun: `$ hlx --version`: `Command 'hlx' not found`\r\n\r\n`npm ls @adobe/helix-fetch`: `@adobe/helix-fetch@3.0.0`\r\n\r\n**Additional information**\r\n\r\nWhen `tsc` sees `import { SystemError } from \"./fetch/errors\"`, it expects to find at `./fetch/errors.ts` or `./fetch/errors.d.ts`, but neither exists. Moreover, `SystemError` does not exist in `./fetch/errors.js`:\r\n\r\n```\r\n/test/node_modules/@adobe/helix-fetch/src$ grep class fetch/errors.js\r\n/* eslint-disable max-classes-per-file */\r\nclass FetchBaseError extends Error {\r\nclass FetchError extends FetchBaseError {\r\nclass AbortError extends FetchBaseError {\r\n```\r\n",
                              "label": "bug",
                              "createdAt": "2021-12-20T11:53:35Z",
                              "closedAt": "2021-12-20T14:27:14Z",
                              "lastComment": "2022-02-03T17:14:15Z",
                              "commentCount": 1
                         },
                         {
                              "title": "timeoutSignal may keep node process alive",
                              "description": "**Description**\r\nIn my test suite, I'm using `@adobe/helix-fetch` and its `timeoutSignal` to abort requests that exceed 20 seconds. If I run one of my tests isolated (with `npx mocha -g '...'`, I notice that the test succeeds, but the node process keeps running for about 20 seconds. If I avoid the call to `timeoutSignal`, the node process terminates immediately after executing the test.\r\n\r\n**To Reproduce**\r\nSteps to reproduce the behavior:\r\n1. Create a test that fetches some page with `@adobe/helix-fetch`\r\n2. Optionally, `nock` that request, so it executes even faster\r\n3. Add a `timeoutSignal` with a timeout of at least 20 seconds\r\n4. Run the test isolated with `npx mocha -g '...'`, the process will appear to hang after the test has executed.\r\n\r\nInterestingly, this behaviour cannot be reproduced when running the test with `it.only`.\r\n\r\n**Expected behavior**\r\nNode process should exit when the test has been executed.\r\n\r\n**Version:**\r\n2.2.1\r\n\r\n**Additional context**\r\n",
                              "label": "bug",
                              "createdAt": "2021-06-10T14:34:25Z",
                              "closedAt": "2021-06-11T17:51:04Z",
                              "lastComment": "2021-06-11T17:54:15Z",
                              "commentCount": 5
                         },
                         {
                              "title": "FetchError: The socket is already bound to an Http2Session",
                              "description": "**Description**\r\nConcurrent http2 fetch requests to the same origin and using different contexts may lead to `FetchError: The socket is already bound to an Http2Session`.\r\n\r\n**To Reproduce**\r\n\r\n```javascript\r\nconst doFetch = async (url) => {\r\n  const ctx = context();\r\n  try {\r\n    return ctx.fetch(url);\r\n  } finally {\r\n    await ctx.reset();\r\n  }\r\n};\r\n\r\nconst N = 10; // # of parallel requests\r\nconst TEST_URL = 'https://httpbin.org/bytes/'; // HTTP2\r\n// generete array of 'randomized' urls\r\nconst urls = Array.from({ length: N }, () => Math.floor(Math.random() * N)).map((num) => `${TEST_URL}${num}`);\r\n// send requests\r\nconst responses = await Promise.all(urls.map((url) => doFetch(url)));\r\n```\r\n",
                              "label": "bug",
                              "createdAt": "2021-03-04T14:59:11Z",
                              "closedAt": "2021-03-04T16:55:31Z",
                              "lastComment": "2021-03-04T16:55:31Z",
                              "commentCount": 1
                         },
                         {
                              "title": "Unable to make POST requests with a POST body to Azure Functions API",
                              "description": "Test case to follow",
                              "label": "bug",
                              "createdAt": "2021-02-23T12:26:16Z",
                              "closedAt": "2021-02-26T03:21:23Z",
                              "lastComment": "2021-02-26T03:21:23Z",
                              "commentCount": 3
                         },
                         {
                              "title": "Response: don't set content-type if there's no body",
                              "description": "**Description**\r\nA clear and concise description of what the bug is.\r\n\r\n**To Reproduce**\r\nSteps to reproduce the behavior:\r\n1. Go to '...'\r\n2. Click on '....'\r\n3. Scroll down to '....'\r\n4. See error\r\n\r\n**Expected behavior**\r\nA clear and concise description of what you expected to happen.\r\n\r\n**Screenshots**\r\nIf applicable, add screenshots to help explain your problem.\r\n\r\n**Version:**\r\nrun: `$ hlx --version`\r\n\r\n**Additional context**\r\nAdd any other context about the problem here.\r\n",
                              "label": "bug",
                              "createdAt": "2021-02-12T13:54:06Z",
                              "closedAt": "2021-02-16T09:36:03Z",
                              "lastComment": "2021-02-16T09:36:03Z",
                              "commentCount": 1
                         },
                         {
                              "title": "FetchError: The socket is already bound to an Http2Session",
                              "description": "**Description**\r\nAfter a cached `Http2Session` gets discarded (due to an error, e.g. `ECONNRESET`, or `idleSessionTimeout`) in rare occasions subsequent Http/2 requests to the same host may encounter errors like `ERR_HTTP2_SOCKET_BOUND`, `ERR_STREAM_DESTROYED` or similar.\r\n\r\n**To Reproduce**\r\nDifficult to reproduce reliably\r\n",
                              "label": "bug",
                              "createdAt": "2021-02-09T17:03:43Z",
                              "closedAt": "2021-02-09T17:10:35Z",
                              "lastComment": "2021-02-09T17:12:39Z",
                              "commentCount": 1
                         },
                         {
                              "title": "Regression: location header is made absolute with redirect=manual",
                              "description": "**Description**\r\nfetching a redirect response manually should not alter the location header. but since v2, it is made absolute.\r\n\r\neg:\r\n\r\n```\r\n$ curl -sD - 'https://httpbingo.org/redirect-to?url=/foo.html'\r\nHTTP/2 302\r\naccess-control-allow-credentials: true\r\naccess-control-allow-origin: *\r\nlocation: /foo.html\r\ndate: Thu, 04 Feb 2021 03:10:22 GMT\r\ncontent-length: 0\r\nserver: Fly/7226d36 (2021-01-25)\r\nvia: 2 fly.io\r\n\r\n```\r\n\r\nbut with fetch:\r\n\r\n```js\r\n    it('supports redirect: manual with path location', async () => {\r\n      const resp = await fetch(`${protocol}://httpbingo.org/redirect-to?url=/foo.html&status_code=307`, { redirect: 'manual', cache: 'no-store' });\r\n      assert.strictEqual(resp.status, 307);\r\n      assert.strictEqual(resp.headers.get('location'), '/foo.html');\r\n      assert.strictEqual(resp.redirected, false);\r\n    });\r\n```\r\n\r\n```\r\nAssertionError [ERR_ASSERTION]: Expected values to be strictly equal:\r\n+ actual - expected\r\n\r\n+ 'http://httpbingo.org/foo.html'\r\n- '/foo.html'\r\nExpected :/foo.html\r\nActual   :http://httpbingo.org/foo.html\r\n```\r\n\r\n**To Reproduce**\r\nsee failing test in: https://github.com/adobe/helix-fetch/pull/130\r\n",
                              "label": "bug",
                              "createdAt": "2021-02-04T03:17:09Z",
                              "closedAt": "2021-02-04T14:51:36Z",
                              "lastComment": "2021-02-04T14:51:36Z",
                              "commentCount": 3
                         },
                         {
                              "title": "v2: setting non string response headers should coerce value to string",
                              "description": "**Description**\r\nI didn't verify this, but based on the code, the following is possible:\r\n\r\n```\r\nnew Response('foo', {\r\n  headers: {\r\n    bar: [ 1, 2, 3],\r\n  }\r\n});\r\n```\r\n\r\naccording to https://fetch.spec.whatwg.org/#dom-headers-set, this should throw an error.\r\n",
                              "label": "bug",
                              "createdAt": "2021-01-28T14:11:03Z",
                              "closedAt": "2021-01-28T15:48:35Z",
                              "lastComment": "2021-01-28T17:37:56Z",
                              "commentCount": 3
                         },
                         {
                              "title": "v2: PATCH doesn't work with (json) objects",
                              "description": "**Description**\r\n```\r\n  const { fetch } = require('@adobe/helix-fetch');\r\n\r\n  const method = 'PATCH';\r\n  const body = { foo: 'bar' };\r\n  const resp = await fetch('https://httpbin.org/patch', { method, body });\r\n```\r\n\r\ndoesn't work\r\n",
                              "label": "bug",
                              "createdAt": "2021-01-26T03:36:26Z",
                              "closedAt": "2021-01-29T02:56:34Z",
                              "lastComment": "2021-01-29T02:56:34Z",
                              "commentCount": 2
                         },
                         {
                              "title": "Persistent ERR_HTTP2_INVALID_SESSION errors when network infrastructure changes",
                              "description": "**Description**\r\nIt seems that requesting a http/2 server starts to fail, if the DNS of the host changes to a server that doesn't support http/2.\r\nLooking at the code in fetch-h2, it seems that the http/2 sessions are cached by hostname and not by ip.\r\n\r\n**To Reproduce**\r\n\r\nnot so trivial...\r\n\r\n**Expected behavior**\r\nIdeally, the client wouldn't notice the switch and the request is internally restarted.\r\n\r\n",
                              "label": "bug",
                              "createdAt": "2020-10-30T00:51:07Z",
                              "closedAt": "2020-12-09T20:23:02Z",
                              "lastComment": "2020-12-09T20:26:26Z",
                              "commentCount": 2
                         },
                         {
                              "title": "Redirected POST is not supported",
                              "description": "**Description**\r\n`POST` requests which are redirected by the server fail with an error.\r\n\r\n**To Reproduce**\r\n```javascript\r\nconst method = 'POST';\r\nconst json = { foo: 'bar' };\r\nconst resp = await fetch('https://httpstat.us/307', { method, json });\r\n// => Error: URL got redirected to https://httpstat.us/, which 'fetch-h2' doesn't support for POST\r\n```\r\n\r\n**Expected behavior**\r\n`POST` requests should be redirected.\r\n\r\n**Workaround**\r\n```javascript\r\nconst method = 'POST';\r\nconst json = { foo: 'bar' };\r\nlet resp = await fetch('https://httpstat.us/307', { method, json, redirect: 'manual' });\r\nif (resp.status === 307) {\r\n  resp = await fetch(resp.headers.get('location'), { method, json, redirect: 'manual' });\r\n}\r\n```\r\n\r\n**Additional context**\r\nKnown limitation of underlying [fetch-h2](https://github.com/grantila/fetch-h2) implementation.\r\n",
                              "label": "bug",
                              "createdAt": "2020-07-22T17:34:17Z",
                              "closedAt": "2021-01-25T12:41:30Z",
                              "lastComment": "2021-01-25T12:41:30Z",
                              "commentCount": 1
                         },
                         {
                              "title": "Redirects should be followed by default",
                              "description": "**Description**\r\n`helix-fetch` doesn't follow redirects by default. You have to explicitly set the `redirect: 'follow'` option. According to the Fetch spec `redirect: 'follow'`should be the implicit default.\r\n\r\n**To Reproduce**\r\n```javascript\r\nconst resp = await fetch('https://httpstat.us/307');\r\nassert.equal(resp.status, 200); // -> fails\r\nassert.equal(resp.redirected, true); // -> fails\r\n```\r\n\r\n**Expected behavior**\r\nRedirects should be followed by default, i.e. the above example should not fail\r\n",
                              "label": "bug",
                              "createdAt": "2020-07-22T17:03:22Z",
                              "closedAt": "2020-07-22T17:12:02Z",
                              "lastComment": "2020-07-22T17:51:26Z",
                              "commentCount": 1
                         },
                         {
                              "title": "Action Required: Fix Renovate Configuration",
                              "description": "There is an error with this repository's Renovate configuration that needs to be fixed. As a precaution, Renovate will stop PRs until it is resolved.\n\nLocation: `config`\nError type: Invalid `allowedVersions`\nMessage: `The following allowedVersions does not parse as a valid version or range: \"<15>\"`\n",
                              "label": "unlabeledBug",
                              "createdAt": "2020-07-05T10:27:19Z",
                              "closedAt": "2022-01-31T15:54:34Z",
                              "lastComment": "",
                              "commentCount": 0
                         },
                         {
                              "title": "process not terminated when fetch request failed due to timeout.",
                              "description": "**Description**\r\nWhen I run a test to verify that the `timeout` option works, the process hangs if the timeout occurs.\r\n\r\n**To Reproduce**\r\nrun:\r\n\r\n```js\r\nconst assert = require('assert');\r\nconst nock = require('nock');\r\nconst fetchAPI = require('@adobe/helix-fetch');\r\n\r\nasync function run() {\r\n  nock('https://www.example.com')\r\n    .get('/test.html')\r\n    .delay(2000)\r\n    .reply(200, 'foo');\r\n\r\n  // create own context and disable http2\r\n  const context = fetchAPI.context({\r\n    httpProtocol: 'http1',\r\n    httpsProtocols: ['http1'],\r\n  });\r\n  try {\r\n    const resp = await context.fetch('https://www.example.com/test.html', {\r\n      cache: 'no-store',\r\n      redirect: 'follow',\r\n      timeout: 1000,\r\n    });\r\n    const text = await resp.text();\r\n    console.log(resp.ok, resp.status, resp.headers, text);\r\n    assert.fail('should timeout');\r\n  } catch (e) {\r\n    console.error(e);\r\n    assert.equal(e.message, 'GET https://www.example.com/test.html timed out after 1000 ms');\r\n  } finally {\r\n    // await context.disconnectAll();\r\n  }\r\n}\r\n\r\nrun().catch(console.error);\r\n```\r\n\r\n\r\n**Expected behavior**\r\ndon't know if this is expected. but the process hangs for a while.\r\ncalling `context.disconnectAll()` solves the problem.",
                              "label": "bug",
                              "createdAt": "2020-06-25T10:06:10Z",
                              "closedAt": "2020-06-30T16:05:52Z",
                              "lastComment": "2020-06-30T16:05:52Z",
                              "commentCount": 1
                         },
                         {
                              "title": "concurrent http2 requests return the same response for all requests",
                              "description": "**Description**\r\nwhen issuing several requests at once, they all return the same response, if the hostname resolves to the same IP.\r\n\r\n- switching to http1 solves the problem\r\n- adding an explicit `host` header solves the problem.\r\n\r\n**To Reproduce**\r\nrun the following:\r\n\r\n```js\r\nconst { fetch } = require('@adobe/helix-fetch').context({\r\n  // httpProtocol: 'http1',\r\n  // httpsProtocols: ['http1'],\r\n});\r\nconst crypto = require('crypto');\r\n\r\nasync function request(url) {\r\n  console.log('requesting', url)\r\n  const res = await fetch(url, {\r\n    // headers: {\r\n    //   host: new URL(url).hostname,\r\n    // },\r\n    cache: 'no-store',\r\n  });\r\n  const data = await res.text();\r\n  const md5 = crypto.createHash('md5').update(data).digest().toString('hex');\r\n  console.log('result', url, 'md5=', md5, res.headers.raw());\r\n}\r\n\r\nasync function run() {\r\n  await Promise.all([\r\n    request('https://lr-landing-davidnuescheler.project-helix.page/'),\r\n    request('https://n2-davidnuescheler.hlx.page/index.html'),\r\n    request('https://theblog--adobe.hlx.page/index.html'),\r\n  ]);\r\n}\r\n\r\nrun().catch(console.error);\r\n```\r\n\r\nresult:\r\n\r\n```\r\n$ node index.js\r\nrequesting https://lr-landing-davidnuescheler.project-helix.page/\r\nrequesting https://n2-davidnuescheler.hlx.page/index.html\r\nrequesting https://theblog--adobe.hlx.page/index.html\r\nresult https://theblog--adobe.hlx.page/index.html md5= 22971378ba99ace7ba88e6474e7e0c04 { 'cache-control': 'max-age=604800, must-revalidate, private',\r\n  'content-type': 'text/html; charset=UTF-8',\r\n  link:\r\n   '<https://lr-landing-davidnuescheler.project-helix.page/index.html>; rel=\"canonical\"',\r\n  date: 'Thu, 11 Jun 2020 05:18:39 GMT',\r\n  age: '0',\r\n  vary: 'X-Debug,X-Strain,X-Request-Type',\r\n  'strict-transport-security': 'max-age=31536000',\r\n  'x-version': '332; src=332; cli=5.8.2; rev=online' }\r\nresult https://n2-davidnuescheler.hlx.page/index.html md5= 22971378ba99ace7ba88e6474e7e0c04 { 'cache-control': 'max-age=604800, must-revalidate, private',\r\n  'content-type': 'text/html; charset=UTF-8',\r\n  link:\r\n   '<https://lr-landing-davidnuescheler.project-helix.page/index.html>; rel=\"canonical\"',\r\n  date: 'Thu, 11 Jun 2020 05:18:39 GMT',\r\n  age: '0',\r\n  vary: 'X-Debug,X-Strain,X-Request-Type',\r\n  'strict-transport-security': 'max-age=31536000',\r\n  'x-version': '332; src=332; cli=5.8.2; rev=online' }\r\nresult https://lr-landing-davidnuescheler.project-helix.page/ md5= 22971378ba99ace7ba88e6474e7e0c04 { 'cache-control': 'max-age=604800, must-revalidate, private',\r\n  'content-type': 'text/html; charset=UTF-8',\r\n  link:\r\n   '<https://lr-landing-davidnuescheler.project-helix.page/index.html>; rel=\"canonical\"',\r\n  date: 'Thu, 11 Jun 2020 05:18:39 GMT',\r\n  age: '0',\r\n  vary: 'X-Debug,X-Strain,X-Request-Type',\r\n  'strict-transport-security': 'max-age=31536000',\r\n  'x-version': '332; src=332; cli=5.8.2; rev=online' }\r\n```\r\n\r\n\r\n\r\n",
                              "label": "bug",
                              "createdAt": "2020-06-11T05:20:06Z",
                              "closedAt": "2020-06-15T16:20:09Z",
                              "lastComment": "2020-06-15T16:20:50Z",
                              "commentCount": 2
                         },
                         {
                              "title": "process exits with http2 and redirects",
                              "description": "**Description**\r\nwhen fetching content from a http2 server that sends redirects, the process just quits. no error, no trace, nothing.\r\n\r\nwhen forcing `http1`, it works.\r\n\r\n**To Reproduce**\r\n\r\n```js\r\nasync function testFetch() {\r\n  const context = fetchAPI.context({\r\n    // httpProtocol: 'http1',\r\n    // httpsProtocols: ['http1'],\r\n  });\r\n  try {\r\n    console.log('fetching....');\r\n    const resp = await context.fetch('https://embed.spotify.com/?uri=spotify:artist:4gzpq5DPGxSnKTe4SA8HAU', {\r\n      redirect: 'follow',\r\n    });\r\n    console.log(resp.ok, resp.status, resp.headers);\r\n\r\n    console.log(await resp.text());\r\n  } catch (e) {\r\n    console.error(e);\r\n    throw e;\r\n  } finally {\r\n    await context.disconnectAll();\r\n  }\r\n}\r\n```\r\n\r\nthe url above sends the 2 redirects:\r\n\r\n```\r\n$ curl -I \"https://embed.spotify.com/?uri=spotify:artist:4gzpq5DPGxSnKTe4SA8HAU\"\r\nHTTP/2 302\r\nserver: envoy\r\ndate: Thu, 28 May 2020 02:00:38 GMT\r\ncontent-type: text/html\r\ncontent-length: 154\r\nlocation: https://open.spotify.com/embed/?uri=spotify:artist:4gzpq5DPGxSnKTe4SA8HAU\r\nstrict-transport-security: max-age=31536000\r\nx-content-type-options: nosniff\r\nvia: HTTP/2 edgeproxy, 1.1 google\r\nalt-svc: clear\r\n\r\n$ curl -I \"https://open.spotify.com/embed/?uri=spotify:artist:4gzpq5DPGxSnKTe4SA8HAU\"\r\nHTTP/2 301\r\nserver: envoy\r\ndate: Thu, 28 May 2020 02:00:52 GMT\r\ncontent-type: text/html\r\ncontent-length: 178\r\nlocation: https://open.spotify.com/embed?uri=spotify:artist:4gzpq5DPGxSnKTe4SA8HAU\r\nstrict-transport-security: max-age=31536000\r\nx-content-type-options: nosniff\r\nvia: HTTP/2 edgeproxy, 1.1 google\r\nalt-svc: clear\r\n\r\n$ curl -I \"https://open.spotify.com/embed?uri=spotify:artist:4gzpq5DPGxSnKTe4SA8HAU\"\r\nHTTP/2 200\r\nserver: envoy\r\ncontent-type: text/html; charset=UTF-8\r\nvary: Accept-Encoding\r\n...\r\n```\r\n",
                              "label": "bug",
                              "createdAt": "2020-05-28T02:21:20Z",
                              "closedAt": "2020-08-21T13:14:50Z",
                              "lastComment": "2020-12-09T20:26:29Z",
                              "commentCount": 4
                         },
                         {
                              "title": "resp.headers are not wrapped for cached responses",
                              "description": "**Description**\r\nsometimes I get:\r\n\r\n```\r\n TypeError: res.headers.raw is not a function\r\n```\r\n\r\nbut when I set: `cache: 'no-store'` it doesn't happen.\r\n\r\n(even for PUT requests)",
                              "label": "bug",
                              "createdAt": "2020-05-14T05:02:02Z",
                              "closedAt": "2020-05-14T16:38:28Z",
                              "lastComment": "2020-05-14T17:22:44Z",
                              "commentCount": 2
                         },
                         {
                              "title": "Sockets not closed when body is not consumed",
                              "description": "**Description**\r\nit looks like the sockets are not closed when the body is not consumed; despite a call to disconnect all.\r\n\r\n**To Reproduce**\r\n\r\n```js\r\nconst fetchAPI = require('@adobe/helix-fetch');\r\n\r\nasync function request(context, error) {\r\n  const resp = await context.fetch('https://adobeioruntime.net/api/v1/web/helix/helix-services/word2md@v1?path=%2Fdefault.md&shareLink=https%3A%2F%2Fadobe.sharepoint.com%2Fsites%2FTheBlog%2FShared%2520Documents%2Ftheblog&rid=VqNCOOblZXzBlnpLTvgG39uWoAIrGDWF&src=adobe%2Ftheblog%2Fdd25127aa92f65fda6a0927ed3fb00bf5dcea069', {\r\n    headers: {\r\n      accept: 'application/json',\r\n    }\r\n  });\r\n  if (error) {\r\n    throw error;\r\n  }\r\n  const text = await resp.text();\r\n  console.log(resp.status, text);\r\n}\r\n\r\nasync function run() {\r\n  const context = fetchAPI.context({});\r\n  try {\r\n    await request(context);\r\n    await request(context, new Error('user error'));\r\n  } finally {\r\n    await context.disconnectAll();\r\n  }\r\n}\r\nrun().catch(console.error);\r\n```\r\n\r\n```console\r\n$ node src/simple.js\r\n404 Error while converting document\r\nError: user error\r\n    at run (src/simple.js:36:28)\r\n    at processTicksAndRejections (internal/process/task_queues.js:97:5)\r\n...(process hangs)...\r\n```\r\n\r\n**Note**\r\n\r\nadding `keepAlive: false` seems to solve the problem:\r\n\r\n```js\r\n  const context = fetchAPI.context({\r\n    http1: {\r\n      keepAlive: false,\r\n    },\r\n  });\r\n```",
                              "label": "bug",
                              "createdAt": "2020-04-10T12:42:03Z",
                              "closedAt": "2021-01-25T12:41:50Z",
                              "lastComment": "2021-01-25T12:41:50Z",
                              "commentCount": 3
                         },
                         {
                              "title": "Potential problems with timeout",
                              "description": "**Description**\r\nLooking at https://github.com/grantila/fetch-h2/blob/master/lib/context.ts#L413, I don't see that there is a connect-timeout passed to the socket connection... AFAICS, the timeout is implemented as promise race. which leads to hanging sockets, if the connection is slow. so my tests fail (> 2000ms) sometimes, although I specify a timeout of 20ms.\r\n\r\nThis should be clarified.\r\n\r\n",
                              "label": "bug",
                              "createdAt": "2020-03-26T10:17:32Z",
                              "closedAt": "2021-01-25T12:42:10Z",
                              "lastComment": "2021-01-25T12:42:10Z",
                              "commentCount": 5
                         },
                         {
                              "title": "error fetching content via `post` (lowercase)",
                              "description": "**Description**\r\n```\r\nasync function testFetch() {\r\n  const context = fetchAPI.context({\r\n    // httpProtocol: 'http1',\r\n    // httpsProtocols: ['http1'],\r\n  });\r\n  try {\r\n    const resp = await context.fetch('https://httpbin.org/post', {\r\n      method: 'post',\r\n      headers: {\r\n        accept: 'application/json',\r\n      }\r\n    });\r\n    console.log(resp.status);\r\n    const text = await resp.text();\r\n    return {\r\n      statusCode: 200,\r\n      body: text,\r\n    };\r\n  } finally {\r\n    await context.disconnectAll();\r\n  }\r\n}\r\n```\r\n\r\nproduces:\r\n\r\n```\r\nError [ERR_HTTP2_STREAM_ERROR]: Stream closed with error code NGHTTP2_PROTOCOL_ERROR\r\n    at ClientHttp2Stream._destroy (internal/http2/core.js:2095:13)\r\n    at ClientHttp2Stream.destroy (internal/streams/destroy.js:37:8)\r\n    at ClientHttp2Stream.[kMaybeDestroy] (internal/http2/core.js:2111:12)\r\n    at Http2Stream.onStreamClose [as onstreamclose] (internal/http2/core.js:479:26)\r\n```\r\n\r\n**Additional context**\r\nafter forcing http1, it works.\r\n",
                              "label": "bug",
                              "createdAt": "2020-03-23T10:17:46Z",
                              "closedAt": "2020-03-24T07:51:48Z",
                              "lastComment": "2020-03-24T07:53:17Z",
                              "commentCount": 2
                         }
                    ]
               },
               "commits": {
                    "incomplete_results": false,
                    "status_code": "200",
                    "total_bug_commits": 63,
                    "total_commits": 116,
                    "bug_commits": [
                         {
                              "message": "fix: load package.json via import (#347)",
                              "created_at": "2023-01-30T16:13:06Z",
                              "sha": "5fe17c9d5be84515fee0e38c59c637d4523ba47b"
                         },
                         {
                              "message": "chore: fix semantic-release",
                              "created_at": "2023-01-27T17:30:08Z",
                              "sha": "2221896db7727c46992c027f1eadeed3b071b4d6"
                         },
                         {
                              "message": "chore(deps): update external fixes (#320)\n\n* chore(deps): update external fixes\r\n\r\n* test: debug flaky tests\r\n\r\n* test: debug flaky tests\r\n\r\n* test: debug flaky tests\r\n\r\n* test: debug flaky tests\r\n\r\n* test: debug flaky tests\r\n\r\n* chore(deps): update external fixes\r\n\r\n* test: fix tests\r\n\r\nCo-authored-by: renovate[bot] <29139614+renovate[bot]@users.noreply.github.com>\r\nCo-authored-by: Stefan Guggisberg <sguggisb@adobe.com>",
                              "created_at": "2022-11-13T18:18:16Z",
                              "sha": "ae50815dbd0e82ad59d886bfee29f84e8774e55c"
                         },
                         {
                              "message": "test: bump cimg/node to 14.21 (#318)\n\n* test: bump cimg/node to 14.21\r\n\r\n* test: fix ECONNREFUSED for test server\r\n\r\n* test: debug failing tests\r\n\r\n* test: debug failing tests\r\n\r\n* test: use static keys\r\n\r\n* test: use static keys",
                              "created_at": "2022-11-08T14:08:14Z",
                              "sha": "6fe15054178ab0fa5aa89b6754ca82be9808e223"
                         },
                         {
                              "message": "chore(deps): update external fixes (#317)\n\n* chore(deps): update external fixes\r\n\r\n* test: debug flaky tests\r\n\r\n* test: debug flaky tests\r\n\r\n* test: debug flaky tests\r\n\r\n* test: debug flaky tests\r\n\r\n* test: debug flaky tests\r\n\r\nCo-authored-by: renovate[bot] <29139614+renovate[bot]@users.noreply.github.com>\r\nCo-authored-by: Stefan Guggisberg <sguggisb@adobe.com>",
                              "created_at": "2022-11-07T14:48:35Z",
                              "sha": "9040d249452d550db131451de060e54278bd82fa"
                         },
                         {
                              "message": "fix: regression regarding Headers.plain(); introduced Headers.raw() (#312)",
                              "created_at": "2022-10-14T15:36:14Z",
                              "sha": "2a05a774e37cdf1d126e4c4a3a2bf856aa1b39b9"
                         },
                         {
                              "message": "fix: user-agent",
                              "created_at": "2022-09-20T14:46:59Z",
                              "sha": "4e3bacf579ad34ff538cb9a08b17d5773a5ff543"
                         },
                         {
                              "message": "Rename to adobe/fetch (#304)\n\n* feat: rename to adobe/fetch\r\n\r\n* feat: rename to adobe/fetch\r\n\r\n* chore: clean up\r\n\r\n* chore: clean up\r\n\r\n* chore: doc cleanup\r\n\r\n* Update src/core/index.js\r\n\r\nCo-authored-by: Lars Trieloff <lars@trieloff.net>\r\n\r\n* Update .github/ISSUE_TEMPLATE/bug_report.md\r\n\r\nCo-authored-by: Lars Trieloff <lars@trieloff.net>\r\n\r\n* Update CONTRIBUTING.md\r\n\r\nCo-authored-by: Lars Trieloff <lars@trieloff.net>\r\n\r\n* Update README.md\r\n\r\nCo-authored-by: Lars Trieloff <lars@trieloff.net>\r\n\r\n* Update README.md\r\n\r\nCo-authored-by: Lars Trieloff <lars@trieloff.net>\r\n\r\n* Update README.md\r\n\r\nCo-authored-by: Lars Trieloff <lars@trieloff.net>\r\n\r\n* Update README.md\r\n\r\nCo-authored-by: Lars Trieloff <lars@trieloff.net>\r\n\r\n* Update README.md\r\n\r\nCo-authored-by: Lars Trieloff <lars@trieloff.net>\r\n\r\nCo-authored-by: Lars Trieloff <lars@trieloff.net>",
                              "created_at": "2022-09-20T13:17:56Z",
                              "sha": "2d3ff8bec03d44ccb0f28a001aa21e883a2773c7"
                         },
                         {
                              "message": "fix: arrayBuffer request body (#290)\n\n* fix: arrayBuffer request body\r\n\r\n* chore: cleanup\r\n\r\n* chore: make lint shut up",
                              "created_at": "2022-06-29T16:22:56Z",
                              "sha": "84c465c912f9ccc8d4a2302dc13340c798ae0e27"
                         },
                         {
                              "message": "fix: report name of header with illegal value (#287)",
                              "created_at": "2022-06-16T14:28:53Z",
                              "sha": "3ed4ae08bbe82b1e7dddc697834bc9453ff4a910"
                         },
                         {
                              "message": "fix(cache): don't allocate memory if cache is disabled (#259)",
                              "created_at": "2022-02-14T18:12:20Z",
                              "sha": "9653b4c08b407a5a425679054ef74fe00601dac1"
                         },
                         {
                              "message": "fix(deps): update dependency lru-cache to v7 (#257)\n\n* fix(deps): update dependency lru-cache to v7\r\n\r\n* port to lru-cache v7\r\n\r\n* test: fix flaky test\r\n\r\n* test: fix flaky test\r\n\r\nCo-authored-by: Renovate Bot <bot@renovateapp.com>\r\nCo-authored-by: Stefan Guggisberg <sguggisb@adobe.com>",
                              "created_at": "2022-02-14T17:22:02Z",
                              "sha": "ce8a3f1ba3b019282edf87594c96eb13dbfe7678"
                         },
                         {
                              "message": "fix: request body cleanup on abort (#253)",
                              "created_at": "2022-02-03T18:31:04Z",
                              "sha": "229a05c0fbcdd130a855c912fc781b2225660db3"
                         },
                         {
                              "message": "feat: reduce dependencies (#211)\n\n* feat: reduce dependencies\r\n\r\n* feat: reduced package size by reducing dependencies\r\n\r\nBREAKING CHANGE: FormData is no longer exported by helix-fetch. You can use a spec-compliant\r\nFormData implementation instead (e.g. `formdata-node`)\r\n\r\n* feat: setting maxCacheSize = 0 disables cache\r\n\r\n* feat: new convenience functions: noCache(), h1(), keepAlive(), h1NoCache(), keepAliveNoCche()\r\n\r\n* chore: fix ts declarations\r\n\r\n* chore: update deps",
                              "created_at": "2021-10-15T15:03:35Z",
                              "sha": "5562f5ff170914c2b9ea1a9d7c445b052ae4aaf0"
                         },
                         {
                              "message": "chore(deps): update external fixes (#205)\n\n* chore(deps): update external fixes\r\n\r\n* test: improve test stability\r\n\r\nCo-authored-by: Renovate Bot <bot@renovateapp.com>\r\nCo-authored-by: Stefan Guggisberg <sguggisb@adobe.com>",
                              "created_at": "2021-08-23T09:15:15Z",
                              "sha": "ebafea3c78eeca2fd619b4501f30907f7c435914"
                         },
                         {
                              "message": "fix: handle server protocol h2->h1 downgrade (#203)",
                              "created_at": "2021-08-18T16:18:59Z",
                              "sha": "1526126e7f0346f041a8224bd651f87edbb4b14e"
                         },
                         {
                              "message": "chore(deps): remove is-stream dev dependency (#202)\n\n* chore(deps): remove is-stream dev dependency\r\n\r\n* fix: propagate rejectUnauthorized option to Agent option",
                              "created_at": "2021-08-16T16:36:23Z",
                              "sha": "1818e664af3e4a6ca94fa68819cf39594f03fa51"
                         },
                         {
                              "message": "test: refactored test server and added resiliance tests (#174)\n\n* test: refactored test server and added resiliance tests\r\n\r\n* test: fixed typos\r\n\r\n* chore: fix lint issues\r\n\r\n* fix: propagate global rejectUnauthorized context option",
                              "created_at": "2021-05-17T19:56:19Z",
                              "sha": "19068d056ff38c7bfdb88fc7a180e12deb02b1cb"
                         },
                         {
                              "message": "fix: properly propagate global rejectUnauthorized context option (#173)\n\n* fix: properly propagate global rejectUnauthorized context option\r\n\r\n* chore: fix lint issues",
                              "created_at": "2021-05-17T12:46:54Z",
                              "sha": "e61c326266e99e2af44d26a875539595af336d1a"
                         },
                         {
                              "message": "feat(core): use buffer.length for content-length if possible (#155)\n\n* feat(core): use buffer.length for content-length if possible\r\n\r\n* fix: header values are strings\r\n\r\nCo-authored-by: Stefan Guggisberg <sguggisb@adobe.com>",
                              "created_at": "2021-03-26T08:37:47Z",
                              "sha": "e614297cfd4f7351d2cc0119485de9dcc1838d8b"
                         },
                         {
                              "message": "fix: use byte length in content-length (#154)",
                              "created_at": "2021-03-25T16:42:49Z",
                              "sha": "cc46f6582da4377fd5148d3f72e4a77376f4e825"
                         },
                         {
                              "message": "fix: guard against race condition on reset",
                              "created_at": "2021-03-22T14:33:48Z",
                              "sha": "72fb3a47210f0e40246acdc41425f9cd9011ceed"
                         },
                         {
                              "message": "fix: concurrent h2 requests to same origin using separate contexts (#148)",
                              "created_at": "2021-03-04T16:54:35Z",
                              "sha": "ac851632fc5723dfa4bec59d7e11bec827fe02e5"
                         },
                         {
                              "message": "fix: preserve original req body and calculate content-length for non-stream body (#144)",
                              "created_at": "2021-02-25T17:52:31Z",
                              "sha": "d4f04e52cc53e9ddf5e0bf1df40ec3937c934cae"
                         },
                         {
                              "message": "fix(response): don't set content-type for null body (#137)",
                              "created_at": "2021-02-12T14:20:30Z",
                              "sha": "492e74d1fd7f5b79f7f1253c3ea504d3389e3734"
                         },
                         {
                              "message": "fix(h2): fixing ERR_HTTP2_SOCKET_BOUND errors\n\nfix #135",
                              "created_at": "2021-02-09T17:10:27Z",
                              "sha": "55213b3b62dd2e433671135a6eadd1b832795d90"
                         },
                         {
                              "message": "fix: don't manipulate location header (#133)",
                              "created_at": "2021-02-04T14:50:19Z",
                              "sha": "ae78c756ea3ff009fbcc6d1f8827781cb0608917"
                         },
                         {
                              "message": "fix(body): TypeError on errored stream (#132)",
                              "created_at": "2021-02-04T13:00:02Z",
                              "sha": "a801d7948f2f070d94f8c9f1ba64e6bdd9239dd5"
                         },
                         {
                              "message": "test: fix flaky coverage test",
                              "created_at": "2021-01-30T14:20:47Z",
                              "sha": "0fba783c1168cfadc18639032a64197971d27476"
                         },
                         {
                              "message": "feat(response): guess Response content-type (#128)\n\nfix #122",
                              "created_at": "2021-01-28T17:35:49Z",
                              "sha": "0cff2434cc90bc007bff078f2685a6cfc4bcae43"
                         },
                         {
                              "message": "coerce non-string header values to string (#127)\n\n* test: fix flaky test\r\n\r\n* fix(headers): non-string header values should be coerced to strings\r\n\r\nfix #125",
                              "created_at": "2021-01-28T15:48:33Z",
                              "sha": "8545155125e604534ffa38ea1c779ffeeb94046f"
                         },
                         {
                              "message": "fix(types): add missing exported types (#121)\n\n* fix(types): add missing exported types\r\n\r\n* test: fix flaky test\r\n\r\nCo-authored-by: Stefan Guggisberg <sguggisb@adobe.com>",
                              "created_at": "2021-01-26T14:55:31Z",
                              "sha": "0e72a4d751fc91528af592b16b0e337bdd19e8f1"
                         },
                         {
                              "message": "test: fix flaky test",
                              "created_at": "2021-01-26T14:10:28Z",
                              "sha": "3356c658f59f34689ee428404c352e92404b8010"
                         },
                         {
                              "message": "test: fix instable tests",
                              "created_at": "2021-01-26T13:39:05Z",
                              "sha": "5206466a7fefae61f1102407c71aed6c80a40494"
                         },
                         {
                              "message": "test: fix lint complaint",
                              "created_at": "2021-01-26T11:57:46Z",
                              "sha": "1ce59842126d3d368817aae37894fc1c0ff14fe2"
                         },
                         {
                              "message": "test: fix instable tests",
                              "created_at": "2021-01-26T11:54:49Z",
                              "sha": "013c8023b6faac0e5844ae92bdb061ee8999dc61"
                         },
                         {
                              "message": "test: fix coverage (node 12.20.1)",
                              "created_at": "2021-01-25T10:26:15Z",
                              "sha": "e24898da8018de8872062a90a8ee38ae585580e3"
                         },
                         {
                              "message": "feat: rewrite from scratch [BREAKING CHANGES] (#116)\n\n* feat: rewrite from scratch\r\n\r\nThe underlying Fetch implementation is rewritten from scratch, due to serious issues and lack of\r\nsupport of the previously used implementation (fetch-h2).\r\n\r\n**BREAKING CHANGE:** The exposed API, options etc have been aligned with node-fetch. Due to the major\r\nchanges there are numerous breaking changes both in the API and the options. See the [1.x to 2.x Upgrade Guide](v2-UPGRADE-GUIDE.md) for details.\r\n\r\nfixes #20, #27, #32, #81",
                              "created_at": "2021-01-25T09:01:48Z",
                              "sha": "75cbcbe7b43af5a16531db2691994a8f25a740a3"
                         },
                         {
                              "message": "Merge pull request #113 from adobe/issue-103\n\nfix(index): workaround for persistent ERR_HTTP2_INVALID_SESSION errors",
                              "created_at": "2020-12-09T20:23:01Z",
                              "sha": "984498c77a242a3f28e3f75b505c5a50a064f370"
                         },
                         {
                              "message": "fix(index): workaround for persistent ERR_HTTP2_INVALID_SESSION errors\n\nfix #103",
                              "created_at": "2020-12-09T20:08:28Z",
                              "sha": "1cc78b3372f1ed00561b7e88a3554878b72530a7"
                         },
                         {
                              "message": "Merge pull request #80 from adobe/issue-79\n\nfix: follow redirects by default",
                              "created_at": "2020-07-22T17:12:02Z",
                              "sha": "5ab1e3453a936fcaf6a2c32bb4c34719357cb6dd"
                         },
                         {
                              "message": "fix: follow redirects by default\n\nfix #79",
                              "created_at": "2020-07-22T17:10:12Z",
                              "sha": "d5901fec23e57ed5d4f6ae91c7dea8b8cdd9ee26"
                         },
                         {
                              "message": "build: fix semantic-release config",
                              "created_at": "2020-07-20T20:28:40Z",
                              "sha": "63e7972472041095df61c35f14ee3f3ac39d8252"
                         },
                         {
                              "message": "test(index.test): fixed test",
                              "created_at": "2020-06-30T15:17:41Z",
                              "sha": "c7f9133007e9b8790c8e62792704856491e69b94"
                         },
                         {
                              "message": "Merge pull request #56 from adobe/issue-52\n\nfix: explicitly set Host header",
                              "created_at": "2020-06-15T16:18:46Z",
                              "sha": "899160a824001b5dd6fc7996ef1ad1fd5cc611f8"
                         },
                         {
                              "message": "fix: explicitly set Host header\n\n#52",
                              "created_at": "2020-06-15T16:14:44Z",
                              "sha": "331fcc98a43c779b4b385ba3b32d8b612aa057a8"
                         },
                         {
                              "message": "Merge pull request #42 from adobe/issue-41\n\nfix: make sure returned Response is wrapped",
                              "created_at": "2020-05-14T16:38:27Z",
                              "sha": "890d430229616643a6cf01ad91424ff1fbbc225c"
                         },
                         {
                              "message": "fix: make sure returned Response is wrapped\n\nfix #41",
                              "created_at": "2020-05-14T15:35:30Z",
                              "sha": "5b7c0d7afb13ac3df55c153c5e053451926aaaf5"
                         },
                         {
                              "message": "feat(index): support array-type query param values\n\nfix #14",
                              "created_at": "2020-04-01T13:24:58Z",
                              "sha": "fc07e7c25c4b3f3e5329fde153598cb0e4ea41d8"
                         },
                         {
                              "message": "style(lint): make lint happy\n\nfix lint styling messups\n\nfix #12",
                              "created_at": "2020-03-25T17:11:47Z",
                              "sha": "7b782ec60c9b5d28146164957f9a23bbfd56ec1d"
                         },
                         {
                              "message": "feat(index): query strings allowed\n\nsupports query strings via helper method\n\nfix #12",
                              "created_at": "2020-03-25T00:35:37Z",
                              "sha": "a776286caa0734336bbbe683dd9e411aa9d7c7a8"
                         },
                         {
                              "message": "Merge pull request #25 from adobe/issue-24\n\nfix(index): sanitize method name",
                              "created_at": "2020-03-24T07:51:47Z",
                              "sha": "1ea01818d85af96346ecb02f7cd4b9389c587aee"
                         },
                         {
                              "message": "test(index.test): fix coverage",
                              "created_at": "2020-03-23T11:00:28Z",
                              "sha": "58dd10778c8aa626fff27a3feca63cad65e3c52f"
                         },
                         {
                              "message": "fix(index): sanitize method name\n\nfix #24",
                              "created_at": "2020-03-23T10:51:29Z",
                              "sha": "fc539e1cf740a148e0371b76dbbf69811bdf1d5f"
                         },
                         {
                              "message": "test: fix branch coverage",
                              "created_at": "2020-02-28T10:14:09Z",
                              "sha": "29b9fbbd36997a40bffa31a66c72f42c3f350c73"
                         },
                         {
                              "message": "test(index.test.js): long timeout forced by hitting delayed endpoint\n\nfix test issues\n\nfix #11",
                              "created_at": "2020-02-26T22:30:09Z",
                              "sha": "92ff9c2df78ecd3342fcd0787b6e713f5582e176"
                         },
                         {
                              "message": "refactor(index): use href property instead of toString\n\nhref instead of toString\n\nfix #11",
                              "created_at": "2020-02-25T07:21:38Z",
                              "sha": "be253286bdf0005ac8ee460c5aa1fdc8af2e2809"
                         },
                         {
                              "message": "test(index.test.js): remove .only\n\nfix build issue\n\nfix #11",
                              "created_at": "2020-02-25T00:36:41Z",
                              "sha": "67a845a36c7eee39d0128895c727bd308dfb3f07"
                         },
                         {
                              "message": "refactor(index): use Object.entries and remove unecessary try-catch\n\nresolve review issues\n\nfix #11",
                              "created_at": "2020-02-25T00:34:43Z",
                              "sha": "ef30cd4c6a9551ddbe4d485dda34ece3afea46f4"
                         },
                         {
                              "message": "build(index): satisfy eslint\n\nmake eslint a happy camper\n\nfix #11",
                              "created_at": "2020-02-24T23:21:07Z",
                              "sha": "b73958848693c1ba83d891e715af59b34c0dfe33"
                         },
                         {
                              "message": "feat(index): querystring support\n\nbuilt-in query parameter support\n\nfix #11",
                              "created_at": "2020-02-24T23:14:05Z",
                              "sha": "45da7990a29a1f6f185760e4758fbd0319cc59c0"
                         },
                         {
                              "message": "fixed test",
                              "created_at": "2020-01-29T17:47:09Z",
                              "sha": "2d265736e4101f9765da21d8dbe5793cd40dc41d"
                         },
                         {
                              "message": "fixed headers update, test & coverage",
                              "created_at": "2020-01-24T17:24:47Z",
                              "sha": "e8ac7891ad361bbf3c59b197f91f0db89d390d10"
                         }
                    ]
               },
               "async_constructs": {
                    "callback": 5,
                    "promise": 15,
                    "async": 23
               }
          }
     ]
}